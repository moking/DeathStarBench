python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 0 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 14-14-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-0.log -b True -m m -M 0
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 14-14-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-home-timeline,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-0.log', 'mode': 'm', 'memnode': '0'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-0
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-0



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-0

Result: sha256:6cc121815a0231c5c81193730ba7b647a9bcc8170832a1d789489059a2db56d4


Install numactl tools on docker image: media-frontend-numa-membind-0
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-0



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-0

Result: sha256:845f2e937ff80fda5b3d3305969f8bc3beb9d8dc18ff8064972f74e19d1440a5


Install numactl tools on docker image: openresty-thrift-numa-membind-0
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-0



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-0

Result: sha256:d1f263b0f1fc734d448bde69c41ec525008bf419e87635419d7a44e36f7d1573


Install numactl tools on docker image: redis-numa-membind-0
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_3 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_3 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_3 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_home-timeline-redis_3:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_home-timeline-redis_3:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_3 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 10 21:15 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_3 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-0



CMD: docker commit socialnetwork_home-timeline-redis_3 redis-numa-membind-0

Result: sha256:50d25416391bceb22a869ea5bf6f949a961aaee9d99b0ae57ee74db8458ec445


Install numactl tools on docker image: mongo-numa-membind-0
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 10 21:15 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=0'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-0



CMD: docker commit socialnetwork_user-mongodb_1 mongo-numa-membind-0

Result: sha256:bc8f9e856a000e66cca5065f884e98e47bde66b4ced3af03d7fe6583cb447e22


Install numactl tools on docker image: memcached-numa-membind-0
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 10 21:15 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-0



CMD: docker commit socialnetwork_user-memcached_1 memcached-numa-membind-0

Result: sha256:b93463a9d23639d68a188f41c02dc865994150d6f29c28ad988d817e60ac7677


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
dce0298857283a8fb2e3a534b2a2eac680a3727fe931e744a309a7b7feafc0a9
af3823558c9a6a895b95a8cae931e74f39dd21ce8a60c2a23023d2c678141e80
27c01a2bbd0c1ffc7d65b7648c1e97a82e809a5647c91ca03011ed68d0623d01
41a12b7549fca0d4c4d5dd08f8e0962390e4ec27c23e895ca9da749ddfa9654b
ac85584ba67c5a7844d70ee8f422b8b09cc66abd6f1f90bdb972df710dab4d28
ab9e320a7a6805890a707a07204e69f19072d926b536b61477531b57f1356371
0c13978849c87f3f61f7da3fe6f0d57ab9a74c5e0b044c18a38ba12ee919eca7
9bf87b48c9bcb4f044c5ce4fa6f1313a50fe2d4b25a36dcb68f2b34a7b3679b9
ce91f723864afd13df011d05bee8ed3bca701676deae9eb5568ffcbc0d66060a
37bcc53ee7183a1a6141d74aea04205fde919fbbc30d578b5bbd1df30dd1fd3f
9f2444eb61fe25eb7f19f5b084e6e67ba09041195e410e7257bd2a2afff1a5a2
2776f3e9419fe41401620c6fa82d81902944db3549918538b56d9f6c98154cea
3a2a7f49d4f8eca574ff9ddaa63e1f6f52d4310032082ddfbf8729c47d9944d7
ec66fd9bcbef639d501a298acee887fb42a1b451d6b8014b048c8b43b52372a5
9cdcc0581bcf1ad8e7bcad3652933256fd36904e362e1a37bcf32baac6a1fa99
949960deaf1e9cd207d43a489807a83d2a5a9a757136758d994fdddd0e038d8d
09b1b2d225e03cfb713db9094c8c4a635f129fbbffd342fbf48077da02c75284
4fa792e64ae7a3289d5ec2d461f0347a1c6d0c978371f08f829577cd6a758878
9952592dfbb4e59b3524de5c4d704141157ffa4d69ab9e0d03a8c5c14b05e9db
a9a7cfb3135f15c7ba48116c519b10eb3aa0d5e165d704a111203f670bd23d8c
ba155ecc2f44f8d204dc0ac6ff578279aabce73232067871623d43ebe5eabe77
68d2cf8c2276b031571d28a03c99315cb2e3afc48996714d415f0bb8086e9d35
2367a0a9d79dee538c1fb67644a3a8fc30b6cba10b6c624c75688efb137edab3
2c98ee5d88c6764df5587d30c3e45b60d30f245a5e6a7e62aaf99279daa230e2
36fa798860e42624cfe71e9dbbe445bcf243c488383f6ad6ce07a65e3d783eac
3edf3306f52b55627a584474c600ec99b09bbf1101142da0a2672e987d01e268
93901b5465a92207717c75351b762c4d24049910e69a2ae9c3d1b3b5a91420d8
204a27603ad9761bc2361fe6f6a9ffba347e762bdd751fb1e13ce97f3592c844
d1f58fff23166f609478bc7d550632d0184be34f10ad26dcae3b4c4e08ea8a3d
9ed10525873d0592fc5337cf9ddd6d3577e077a9db0a70d7cb2d73629fd9ff7a
c9c69ab1fa64f2b63d24181984c77d9c5f6943ec1ad896a50e9b1ab54a0183f3

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-0.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54823 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57343 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54823 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57343 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Failed: 116 Error: Follow Failed: CLUSTERDOWN The cluster is down
Succeeded: 37508


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:99
cluster_stats_messages_pong_sent:89
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:189
cluster_stats_messages_ping_received:89
cluster_stats_messages_pong_received:100
cluster_stats_messages_received:189
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:92
cluster_stats_messages_pong_sent:90
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:183
cluster_stats_messages_ping_received:90
cluster_stats_messages_pong_received:93
cluster_stats_messages_received:183
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:99
cluster_stats_messages_pong_sent:95
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:195
cluster_stats_messages_ping_received:95
cluster_stats_messages_pong_received:100
cluster_stats_messages_received:195
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.212ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.313ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.434ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.100ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.285ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.884ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.269ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.293ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.432ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.472ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.233ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.162ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.431ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.321ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.484ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.335ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.502ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.590ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 4.327ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.668ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.419ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.391ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.430ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.676ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 3.891ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.847ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.745ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.583ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.442ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.940ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.937ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.707ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.160ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.634ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.126ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.512ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.575ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.295ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.768ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.729ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.785ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.157ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.216ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.285ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.474ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.101ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.413ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.286ms, rate sampling interval: 12ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.78ms    1.09ms   4.45ms   97.23%
    Req/Sec    20.79     41.82   166.00     77.99%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.72ms
 75.000%    2.96ms
 90.000%    3.25ms
 99.000%    4.45ms
 99.900%   13.27ms
 99.990%   53.92ms
 99.999%   62.01ms
100.000%   62.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.358     0.000000            1         1.00
       2.197     0.100000        10602         1.11
       2.413     0.200000        21284         1.25
       2.537     0.300000        31808         1.43
       2.633     0.400000        42442         1.67
       2.719     0.500000        53025         2.00
       2.761     0.550000        58251         2.22
       2.805     0.600000        63515         2.50
       2.853     0.650000        68953         2.86
       2.903     0.700000        74184         3.33
       2.961     0.750000        79513         4.00
       2.993     0.775000        82145         4.44
       3.029     0.800000        84792         5.00
       3.069     0.825000        87385         5.71
       3.115     0.850000        89973         6.67
       3.175     0.875000        92674         8.00
       3.211     0.887500        93933         8.89
       3.253     0.900000        95279        10.00
       3.305     0.912500        96621        11.43
       3.361     0.925000        97918        13.33
       3.435     0.937500        99226        16.00
       3.483     0.943750        99899        17.78
       3.539     0.950000       100554        20.00
       3.601     0.956250       101212        22.86
       3.671     0.962500       101879        26.67
       3.749     0.968750       102539        32.00
       3.795     0.971875       102861        35.56
       3.853     0.975000       103191        40.00
       3.919     0.978125       103521        45.71
       4.001     0.981250       103855        53.33
       4.111     0.984375       104183        64.00
       4.175     0.985938       104347        71.11
       4.267     0.987500       104511        80.00
       4.363     0.989062       104680        91.43
       4.515     0.990625       104841       106.67
       4.671     0.992188       105009       128.00
       4.763     0.992969       105089       142.22
       4.867     0.993750       105173       160.00
       4.999     0.994531       105258       182.86
       5.131     0.995313       105337       213.33
       5.367     0.996094       105420       256.00
       5.539     0.996484       105461       284.44
       5.711     0.996875       105503       320.00
       6.011     0.997266       105544       365.71
       6.403     0.997656       105586       426.67
       7.227     0.998047       105627       512.00
       7.667     0.998242       105647       568.89
       8.407     0.998437       105668       640.00
       9.759     0.998633       105689       731.43
      11.375     0.998828       105709       853.33
      13.735     0.999023       105730      1024.00
      15.303     0.999121       105740      1137.78
      17.151     0.999219       105751      1280.00
      18.015     0.999316       105761      1462.86
      18.831     0.999414       105771      1706.67
      23.951     0.999512       105782      2048.00
      25.919     0.999561       105787      2275.56
      27.871     0.999609       105792      2560.00
      30.463     0.999658       105797      2925.71
      31.887     0.999707       105802      3413.33
      38.527     0.999756       105808      4096.00
      42.975     0.999780       105810      4551.11
      48.479     0.999805       105813      5120.00
      52.191     0.999829       105815      5851.43
      52.671     0.999854       105818      6826.67
      53.727     0.999878       105821      8192.00
      53.919     0.999890       105822      9102.22
      54.015     0.999902       105823     10240.00
      54.943     0.999915       105824     11702.86
      55.519     0.999927       105826     13653.33
      56.831     0.999939       105827     16384.00
      57.567     0.999945       105828     18204.44
      57.567     0.999951       105828     20480.00
      57.727     0.999957       105829     23405.71
      59.263     0.999963       105830     27306.67
      59.263     0.999969       105830     32768.00
      59.295     0.999973       105831     36408.89
      59.295     0.999976       105831     40960.00
      59.295     0.999979       105831     46811.43
      62.015     0.999982       105832     54613.33
      62.015     0.999985       105832     65536.00
      62.015     0.999986       105832     72817.78
      62.015     0.999988       105832     81920.00
      62.015     0.999989       105832     93622.86
      62.623     0.999991       105833    109226.67
      62.623     1.000000       105833          inf
#[Mean    =        2.776, StdDeviation   =        1.086]
#[Max     =       62.592, Total count    =       105833]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115332 requests in 2.00m, 23.65MB read
Requests/sec:    961.02  
Transfer/sec:    201.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53002 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56670 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53002 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56670 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2056.415ms, rate sampling interval: 7884ms
  Thread calibration: mean lat.: 2200.536ms, rate sampling interval: 7974ms
  Thread calibration: mean lat.: 2231.916ms, rate sampling interval: 8114ms
  Thread calibration: mean lat.: 2170.632ms, rate sampling interval: 8261ms
  Thread calibration: mean lat.: 2097.950ms, rate sampling interval: 8019ms
  Thread calibration: mean lat.: 2009.979ms, rate sampling interval: 7196ms
  Thread calibration: mean lat.: 2208.201ms, rate sampling interval: 7946ms
  Thread calibration: mean lat.: 2057.648ms, rate sampling interval: 7602ms
  Thread calibration: mean lat.: 2245.016ms, rate sampling interval: 8212ms
  Thread calibration: mean lat.: 2301.907ms, rate sampling interval: 8212ms
  Thread calibration: mean lat.: 2088.333ms, rate sampling interval: 7897ms
  Thread calibration: mean lat.: 1960.562ms, rate sampling interval: 7172ms
  Thread calibration: mean lat.: 1923.068ms, rate sampling interval: 7389ms
  Thread calibration: mean lat.: 2097.836ms, rate sampling interval: 8065ms
  Thread calibration: mean lat.: 2046.174ms, rate sampling interval: 7520ms
  Thread calibration: mean lat.: 2404.288ms, rate sampling interval: 8306ms
  Thread calibration: mean lat.: 2068.087ms, rate sampling interval: 7335ms
  Thread calibration: mean lat.: 2145.428ms, rate sampling interval: 7827ms
  Thread calibration: mean lat.: 2167.771ms, rate sampling interval: 7839ms
  Thread calibration: mean lat.: 2147.176ms, rate sampling interval: 8253ms
  Thread calibration: mean lat.: 2097.433ms, rate sampling interval: 7798ms
  Thread calibration: mean lat.: 2406.269ms, rate sampling interval: 8335ms
  Thread calibration: mean lat.: 2204.500ms, rate sampling interval: 7733ms
  Thread calibration: mean lat.: 2211.970ms, rate sampling interval: 8220ms
  Thread calibration: mean lat.: 2435.156ms, rate sampling interval: 8335ms
  Thread calibration: mean lat.: 2421.845ms, rate sampling interval: 8191ms
  Thread calibration: mean lat.: 2320.011ms, rate sampling interval: 8269ms
  Thread calibration: mean lat.: 2446.621ms, rate sampling interval: 8261ms
  Thread calibration: mean lat.: 2260.315ms, rate sampling interval: 7790ms
  Thread calibration: mean lat.: 2227.889ms, rate sampling interval: 8200ms
  Thread calibration: mean lat.: 2084.575ms, rate sampling interval: 7553ms
  Thread calibration: mean lat.: 2271.518ms, rate sampling interval: 7729ms
  Thread calibration: mean lat.: 2305.853ms, rate sampling interval: 8093ms
  Thread calibration: mean lat.: 2275.202ms, rate sampling interval: 7634ms
  Thread calibration: mean lat.: 2790.134ms, rate sampling interval: 9428ms
  Thread calibration: mean lat.: 2316.779ms, rate sampling interval: 8011ms
  Thread calibration: mean lat.: 2251.626ms, rate sampling interval: 7630ms
  Thread calibration: mean lat.: 2322.527ms, rate sampling interval: 8261ms
  Thread calibration: mean lat.: 2513.160ms, rate sampling interval: 8470ms
  Thread calibration: mean lat.: 2044.238ms, rate sampling interval: 7471ms
  Thread calibration: mean lat.: 2262.113ms, rate sampling interval: 7708ms
  Thread calibration: mean lat.: 2684.632ms, rate sampling interval: 8970ms
  Thread calibration: mean lat.: 2440.297ms, rate sampling interval: 8699ms
  Thread calibration: mean lat.: 2340.472ms, rate sampling interval: 7995ms
  Thread calibration: mean lat.: 2232.086ms, rate sampling interval: 7921ms
  Thread calibration: mean lat.: 2426.902ms, rate sampling interval: 8560ms
  Thread calibration: mean lat.: 2447.767ms, rate sampling interval: 8503ms
  Thread calibration: mean lat.: 2581.474ms, rate sampling interval: 8552ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    30.15s    14.75s    0.93m    58.48%
    Req/Sec    55.24      1.38    58.00     93.07%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   30.39s 
 75.000%   42.66s 
 90.000%   50.50s 
 99.000%    0.93m 
 99.900%    0.96m 
 99.990%    0.98m 
 99.999%    0.99m 
100.000%    0.99m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3049.471     0.000000            1         1.00
    9519.103     0.100000        29433         1.11
   14884.863     0.200000        58892         1.25
   20168.703     0.300000        88357         1.43
   25182.207     0.400000       117694         1.67
   30392.319     0.500000       147142         2.00
   32948.223     0.550000       161921         2.22
   35389.439     0.600000       176548         2.50
   37814.271     0.650000       191252         2.86
   40206.335     0.700000       206077         3.33
   42663.935     0.750000       220728         4.00
   43909.119     0.775000       228046         4.44
   45219.839     0.800000       235492         5.00
   46465.023     0.825000       242917         5.71
   47710.207     0.850000       250150         6.67
   49086.463     0.875000       257469         8.00
   49807.359     0.887500       261164         8.89
   50495.487     0.900000       264827        10.00
   51183.615     0.912500       268592        11.43
   51838.975     0.925000       272304        13.33
   52461.567     0.937500       275880        16.00
   52789.247     0.943750       277747        17.78
   53084.159     0.950000       279545        20.00
   53444.607     0.956250       281501        22.86
   53772.287     0.962500       283285        26.67
   54132.735     0.968750       285125        32.00
   54329.343     0.971875       286081        35.56
   54525.951     0.975000       286972        40.00
   54722.559     0.978125       287834        45.71
   54984.703     0.981250       288819        53.33
   55246.847     0.984375       289721        64.00
   55377.919     0.985938       290147        71.11
   55508.991     0.987500       290570        80.00
   55672.831     0.989062       291056        91.43
   55836.671     0.990625       291503       106.67
   56033.279     0.992188       291939       128.00
   56164.351     0.992969       292238       142.22
   56262.655     0.993750       292438       160.00
   56360.959     0.994531       292661       182.86
   56492.031     0.995313       292892       213.33
   56623.103     0.996094       293103       256.00
   56721.407     0.996484       293223       284.44
   56819.711     0.996875       293328       320.00
   56950.783     0.997266       293471       365.71
   57049.087     0.997656       293569       426.67
   57147.391     0.998047       293668       512.00
   57212.927     0.998242       293717       568.89
   57311.231     0.998437       293790       640.00
   57409.535     0.998633       293844       731.43
   57507.839     0.998828       293893       853.33
   57638.911     0.999023       293948      1024.00
   57737.215     0.999121       293989      1137.78
   57802.751     0.999219       294007      1280.00
   57901.055     0.999316       294034      1462.86
   57999.359     0.999414       294062      1706.67
   58130.431     0.999512       294090      2048.00
   58195.967     0.999561       294104      2275.56
   58228.735     0.999609       294120      2560.00
   58294.271     0.999658       294133      2925.71
   58425.343     0.999707       294149      3413.33
   58589.183     0.999756       294168      4096.00
   58621.951     0.999780       294172      4551.11
   58687.487     0.999805       294178      5120.00
   58720.255     0.999829       294184      5851.43
   58785.791     0.999854       294191      6826.67
   58884.095     0.999878       294200      8192.00
   58916.863     0.999890       294203      9102.22
   58949.631     0.999902       294208     10240.00
   58949.631     0.999915       294208     11702.86
   59015.167     0.999927       294214     13653.33
   59047.935     0.999939       294218     16384.00
   59047.935     0.999945       294218     18204.44
   59080.703     0.999951       294219     20480.00
   59146.239     0.999957       294222     23405.71
   59179.007     0.999963       294223     27306.67
   59244.543     0.999969       294226     32768.00
   59244.543     0.999973       294226     36408.89
   59244.543     0.999976       294226     40960.00
   59310.079     0.999979       294227     46811.43
   59342.847     0.999982       294228     54613.33
   59408.383     0.999985       294231     65536.00
   59408.383     0.999986       294231     72817.78
   59408.383     0.999988       294231     81920.00
   59408.383     0.999989       294231     93622.86
   59408.383     0.999991       294231    109226.67
   59408.383     0.999992       294231    131072.00
   59408.383     0.999993       294231    145635.56
   59473.919     0.999994       294232    163840.00
   59473.919     0.999995       294232    187245.71
   59473.919     0.999995       294232    218453.33
   59473.919     0.999996       294232    262144.00
   59473.919     0.999997       294232    291271.11
   59506.687     0.999997       294233    327680.00
   59506.687     1.000000       294233          inf
#[Mean    =    30152.329, StdDeviation   =    14745.536]
#[Max     =    59473.920, Total count    =       294233]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  321809 requests in 2.00m, 65.98MB read
Requests/sec:   2683.46  
Transfer/sec:    563.42KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 49005 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54383 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 49005 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54383 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4341.833ms, rate sampling interval: 15671ms
  Thread calibration: mean lat.: 4204.008ms, rate sampling interval: 15253ms
  Thread calibration: mean lat.: 4340.762ms, rate sampling interval: 16056ms
  Thread calibration: mean lat.: 4365.859ms, rate sampling interval: 15556ms
  Thread calibration: mean lat.: 4342.956ms, rate sampling interval: 15605ms
  Thread calibration: mean lat.: 4305.127ms, rate sampling interval: 15499ms
  Thread calibration: mean lat.: 4316.285ms, rate sampling interval: 15425ms
  Thread calibration: mean lat.: 4370.847ms, rate sampling interval: 15605ms
  Thread calibration: mean lat.: 4346.473ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4263.028ms, rate sampling interval: 15392ms
  Thread calibration: mean lat.: 4322.574ms, rate sampling interval: 15597ms
  Thread calibration: mean lat.: 4355.890ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4283.447ms, rate sampling interval: 15228ms
  Thread calibration: mean lat.: 4363.479ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4329.382ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4311.769ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4346.175ms, rate sampling interval: 15622ms
  Thread calibration: mean lat.: 4308.028ms, rate sampling interval: 15728ms
  Thread calibration: mean lat.: 4301.477ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 3803.784ms, rate sampling interval: 13737ms
  Thread calibration: mean lat.: 4354.873ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4271.849ms, rate sampling interval: 15359ms
  Thread calibration: mean lat.: 4322.064ms, rate sampling interval: 15564ms
  Thread calibration: mean lat.: 4173.712ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4318.741ms, rate sampling interval: 15785ms
  Thread calibration: mean lat.: 4254.344ms, rate sampling interval: 15343ms
  Thread calibration: mean lat.: 4417.464ms, rate sampling interval: 15687ms
  Thread calibration: mean lat.: 4307.766ms, rate sampling interval: 15499ms
  Thread calibration: mean lat.: 4257.344ms, rate sampling interval: 15376ms
  Thread calibration: mean lat.: 4342.077ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4349.101ms, rate sampling interval: 15745ms
  Thread calibration: mean lat.: 4253.574ms, rate sampling interval: 15515ms
  Thread calibration: mean lat.: 4423.019ms, rate sampling interval: 15908ms
  Thread calibration: mean lat.: 4371.505ms, rate sampling interval: 15491ms
  Thread calibration: mean lat.: 4345.622ms, rate sampling interval: 15474ms
  Thread calibration: mean lat.: 4402.683ms, rate sampling interval: 15122ms
  Thread calibration: mean lat.: 4458.119ms, rate sampling interval: 15671ms
  Thread calibration: mean lat.: 4341.331ms, rate sampling interval: 15335ms
  Thread calibration: mean lat.: 4376.646ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4424.111ms, rate sampling interval: 15990ms
  Thread calibration: mean lat.: 4451.357ms, rate sampling interval: 15835ms
  Thread calibration: mean lat.: 4363.762ms, rate sampling interval: 15532ms
  Thread calibration: mean lat.: 4641.715ms, rate sampling interval: 15859ms
  Thread calibration: mean lat.: 4471.249ms, rate sampling interval: 15425ms
  Thread calibration: mean lat.: 4406.210ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4482.325ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4651.474ms, rate sampling interval: 15925ms
  Thread calibration: mean lat.: 4600.392ms, rate sampling interval: 15843ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.93m    27.65s    1.72m    57.77%
    Req/Sec    26.94      0.64    28.00     99.08%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.93m 
 75.000%    1.33m 
 90.000%    1.58m 
 99.000%    1.72m 
 99.900%    1.74m 
 99.990%    1.75m 
 99.999%    1.76m 
100.000%    1.76m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7569.407     0.000000            1         1.00
   17973.247     0.100000        14499         1.11
   27295.743     0.200000        29008         1.25
   36896.767     0.300000        43521         1.43
   46137.343     0.400000        57996         1.67
   55640.063     0.500000        72519         2.00
   60719.103     0.550000        79771         2.22
   65503.231     0.600000        87029         2.50
   70320.127     0.650000        94241         2.86
   75104.255     0.700000       101536         3.33
   80019.455     0.750000       108824         4.00
   82509.823     0.775000       112451         4.44
   84869.119     0.800000       116043         5.00
   87359.487     0.825000       119652         5.71
   89718.783     0.850000       123317         6.67
   92209.151     0.875000       126924         8.00
   93388.799     0.887500       128670         8.89
   94633.983     0.900000       130519        10.00
   95813.631     0.912500       132319        11.43
   96993.279     0.925000       134105        13.33
   98238.463     0.937500       136008        16.00
   98828.287     0.943750       136861        17.78
   99483.647     0.950000       137815        20.00
  100073.471     0.956250       138726        22.86
  100663.295     0.962500       139637        26.67
  101253.119     0.968750       140543        32.00
  101515.263     0.971875       140939        35.56
  101842.943     0.975000       141455        40.00
  102105.087     0.978125       141867        45.71
  102367.231     0.981250       142268        53.33
  102694.911     0.984375       142795        64.00
  102825.983     0.985938       143003        71.11
  102957.055     0.987500       143209        80.00
  103088.127     0.989062       143397        91.43
  103284.735     0.990625       143673       106.67
  103415.807     0.992188       143860       128.00
  103546.879     0.992969       144037       142.22
  103612.415     0.993750       144110       160.00
  103677.951     0.994531       144192       182.86
  103809.023     0.995313       144336       213.33
  103940.095     0.996094       144478       256.00
  103940.095     0.996484       144478       284.44
  104005.631     0.996875       144538       320.00
  104071.167     0.997266       144603       365.71
  104136.703     0.997656       144650       426.67
  104267.775     0.998047       144726       512.00
  104267.775     0.998242       144726       568.89
  104333.311     0.998437       144769       640.00
  104398.847     0.998633       144797       731.43
  104464.383     0.998828       144830       853.33
  104529.919     0.999023       144859      1024.00
  104529.919     0.999121       144859      1137.78
  104595.455     0.999219       144876      1280.00
  104660.991     0.999316       144897      1462.86
  104660.991     0.999414       144897      1706.67
  104726.527     0.999512       144913      2048.00
  104792.063     0.999561       144929      2275.56
  104792.063     0.999609       144929      2560.00
  104792.063     0.999658       144929      2925.71
  104857.599     0.999707       144940      3413.33
  104923.135     0.999756       144951      4096.00
  104923.135     0.999780       144951      4551.11
  104923.135     0.999805       144951      5120.00
  104988.671     0.999829       144955      5851.43
  105054.207     0.999854       144960      6826.67
  105119.743     0.999878       144963      8192.00
  105119.743     0.999890       144963      9102.22
  105185.279     0.999902       144966     10240.00
  105185.279     0.999915       144966     11702.86
  105250.815     0.999927       144968     13653.33
  105316.351     0.999939       144972     16384.00
  105316.351     0.999945       144972     18204.44
  105316.351     0.999951       144972     20480.00
  105316.351     0.999957       144972     23405.71
  105381.887     0.999963       144973     27306.67
  105447.423     0.999969       144975     32768.00
  105447.423     0.999973       144975     36408.89
  105447.423     0.999976       144975     40960.00
  105447.423     0.999979       144975     46811.43
  105512.959     0.999982       144976     54613.33
  105512.959     0.999985       144976     65536.00
  105644.031     0.999986       144977     72817.78
  105644.031     0.999988       144977     81920.00
  105644.031     0.999989       144977     93622.86
  105644.031     0.999991       144977    109226.67
  105644.031     0.999992       144977    131072.00
  105775.103     0.999993       144978    145635.56
  105775.103     1.000000       144978          inf
#[Mean    =    56045.538, StdDeviation   =    27645.117]
#[Max     =   105709.568, Total count    =       144978]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  158253 requests in 2.00m, 32.45MB read
Requests/sec:   1319.52  
Transfer/sec:    277.05KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44004 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51632 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44004 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51632 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.551ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.221ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.233ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.620ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.360ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.784ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.219ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.051ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.348ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.690ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.632ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.338ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.064ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.668ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.567ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.946ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.489ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.893ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.162ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.936ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 10.468ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 11.043ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.286ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.505ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.671ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.012ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.018ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.278ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.711ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.543ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.700ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.160ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.151ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.069ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.719ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.281ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.049ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.482ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.209ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.480ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.908ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.828ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.944ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.792ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.558ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.370ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.809ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.501ms, rate sampling interval: 30ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.96ms    2.96ms  21.93ms   83.42%
    Req/Sec    20.21     26.49   107.00     88.68%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.39ms
 75.000%   11.75ms
 90.000%   14.10ms
 99.000%   21.93ms
 99.900%   30.13ms
 99.990%   41.85ms
 99.999%   58.81ms
100.000%   63.17ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.103     0.000000            1         1.00
       8.535     0.100000        10620         1.11
       9.199     0.200000        21263         1.25
       9.631     0.300000        31756         1.43
      10.015     0.400000        42420         1.67
      10.391     0.500000        53076         2.00
      10.591     0.550000        58338         2.22
      10.815     0.600000        63632         2.50
      11.071     0.650000        68944         2.86
      11.367     0.700000        74105         3.33
      11.751     0.750000        79452         4.00
      11.983     0.775000        82040         4.44
      12.239     0.800000        84657         5.00
      12.551     0.825000        87338         5.71
      12.919     0.850000        89954         6.67
      13.399     0.875000        92599         8.00
      13.711     0.887500        93934         8.89
      14.095     0.900000        95253        10.00
      14.591     0.912500        96577        11.43
      15.199     0.925000        97888        13.33
      15.943     0.937500        99210        16.00
      16.335     0.943750        99883        17.78
      16.767     0.950000       100547        20.00
      17.215     0.956250       101207        22.86
      17.727     0.962500       101852        26.67
      18.319     0.968750       102523        32.00
      18.687     0.971875       102853        35.56
      19.039     0.975000       103180        40.00
      19.439     0.978125       103511        45.71
      19.919     0.981250       103844        53.33
      20.447     0.984375       104167        64.00
      20.783     0.985938       104338        71.11
      21.215     0.987500       104503        80.00
      21.583     0.989062       104664        91.43
      22.143     0.990625       104835       106.67
      22.783     0.992188       104995       128.00
      23.087     0.992969       105079       142.22
      23.487     0.993750       105159       160.00
      24.015     0.994531       105246       182.86
      24.575     0.995313       105328       213.33
      25.119     0.996094       105407       256.00
      25.535     0.996484       105448       284.44
      26.239     0.996875       105490       320.00
      26.703     0.997266       105531       365.71
      27.279     0.997656       105573       426.67
      27.807     0.998047       105614       512.00
      28.095     0.998242       105636       568.89
      28.367     0.998437       105656       640.00
      28.959     0.998633       105677       731.43
      29.519     0.998828       105696       853.33
      30.191     0.999023       105717      1024.00
      30.623     0.999121       105727      1137.78
      31.135     0.999219       105738      1280.00
      31.871     0.999316       105748      1462.86
      32.575     0.999414       105758      1706.67
      33.023     0.999512       105769      2048.00
      33.279     0.999561       105774      2275.56
      33.951     0.999609       105779      2560.00
      34.495     0.999658       105784      2925.71
      35.167     0.999707       105789      3413.33
      36.703     0.999756       105795      4096.00
      37.119     0.999780       105797      4551.11
      37.631     0.999805       105800      5120.00
      38.591     0.999829       105802      5851.43
      39.935     0.999854       105805      6826.67
      41.823     0.999878       105808      8192.00
      41.855     0.999890       105809      9102.22
      43.519     0.999902       105810     10240.00
      45.183     0.999915       105811     11702.86
      46.047     0.999927       105813     13653.33
      46.143     0.999939       105814     16384.00
      46.399     0.999945       105815     18204.44
      46.399     0.999951       105815     20480.00
      46.655     0.999957       105816     23405.71
      51.263     0.999963       105817     27306.67
      51.263     0.999969       105817     32768.00
      51.359     0.999973       105818     36408.89
      51.359     0.999976       105818     40960.00
      51.359     0.999979       105818     46811.43
      58.815     0.999982       105819     54613.33
      58.815     0.999985       105819     65536.00
      58.815     0.999986       105819     72817.78
      58.815     0.999988       105819     81920.00
      58.815     0.999989       105819     93622.86
      63.167     0.999991       105820    109226.67
      63.167     1.000000       105820          inf
#[Mean    =       10.959, StdDeviation   =        2.962]
#[Max     =       63.136, Total count    =       105820]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115326 requests in 2.00m, 1.57GB read
Requests/sec:    960.99  
Transfer/sec:     13.35MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40490 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48281 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40490 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48281 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.006ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.256ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.461ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.309ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.171ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.406ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.039ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.297ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.023ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.306ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.236ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.299ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.190ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.017ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.646ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 5.290ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.358ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.313ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 5.085ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.140ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.118ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.317ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.107ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.025ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.354ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.645ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.014ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.097ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.311ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.078ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.146ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.600ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.430ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.221ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.374ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.237ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.549ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.066ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.258ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.224ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.202ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 4.864ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.438ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.247ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.383ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.942ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.903ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.302ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.51ms   56.52ms 251.39ms   98.05%
    Req/Sec   107.49     86.21   357.00     61.10%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.44ms
 75.000%    5.49ms
 90.000%    7.57ms
 99.000%  251.39ms
 99.900%  821.25ms
 99.990%    1.10s 
 99.999%    1.19s 
100.000%    1.21s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.107     0.000000            1         1.00
       3.399     0.100000        55261         1.11
       3.687     0.200000       110176         1.25
       3.927     0.300000       164934         1.43
       4.171     0.400000       220340         1.67
       4.439     0.500000       275365         2.00
       4.591     0.550000       302732         2.22
       4.759     0.600000       329986         2.50
       4.951     0.650000       357291         2.86
       5.187     0.700000       385163         3.33
       5.487     0.750000       412236         4.00
       5.683     0.775000       426101         4.44
       5.919     0.800000       439752         5.00
       6.211     0.825000       453562         5.71
       6.571     0.850000       467295         6.67
       7.011     0.875000       480910         8.00
       7.271     0.887500       487784         8.89
       7.571     0.900000       494649        10.00
       7.927     0.912500       501519        11.43
       8.375     0.925000       508414        13.33
       8.975     0.937500       515280        16.00
       9.367     0.943750       518741        17.78
       9.879     0.950000       522135        20.00
      10.591     0.956250       525595        22.86
      11.671     0.962500       528999        26.67
      13.911     0.968750       532432        32.00
      16.591     0.971875       534147        35.56
      24.367     0.975000       535870        40.00
      43.583     0.978125       537583        45.71
      76.223     0.981250       539299        53.33
     118.655     0.984375       541017        64.00
     145.023     0.985938       541877        71.11
     179.327     0.987500       542734        80.00
     222.335     0.989062       543593        91.43
     269.311     0.990625       544452       106.67
     325.119     0.992188       545313       128.00
     361.215     0.992969       545745       142.22
     397.823     0.993750       546170       160.00
     440.063     0.994531       546601       182.86
     485.119     0.995313       547028       213.33
     539.647     0.996094       547458       256.00
     564.735     0.996484       547673       284.44
     591.359     0.996875       547888       320.00
     619.519     0.997266       548102       365.71
     655.871     0.997656       548316       426.67
     692.223     0.998047       548532       512.00
     713.215     0.998242       548641       568.89
     736.255     0.998437       548746       640.00
     763.391     0.998633       548855       731.43
     793.087     0.998828       548962       853.33
     826.879     0.999023       549069      1024.00
     838.655     0.999121       549122      1137.78
     858.623     0.999219       549175      1280.00
     881.663     0.999316       549230      1462.86
     899.071     0.999414       549282      1706.67
     930.815     0.999512       549336      2048.00
     949.247     0.999561       549363      2275.56
     975.359     0.999609       549390      2560.00
     995.839     0.999658       549417      2925.71
    1012.735     0.999707       549443      3413.33
    1034.239     0.999756       549470      4096.00
    1041.919     0.999780       549484      4551.11
    1051.647     0.999805       549497      5120.00
    1060.863     0.999829       549514      5851.43
    1068.031     0.999854       549525      6826.67
    1080.319     0.999878       549537      8192.00
    1089.535     0.999890       549544      9102.22
    1097.727     0.999902       549552     10240.00
    1105.919     0.999915       549559     11702.86
    1114.111     0.999927       549564     13653.33
    1124.351     0.999939       549571     16384.00
    1128.447     0.999945       549574     18204.44
    1135.615     0.999951       549578     20480.00
    1142.783     0.999957       549582     23405.71
    1143.807     0.999963       549584     27306.67
    1155.071     0.999969       549588     32768.00
    1158.143     0.999973       549589     36408.89
    1160.191     0.999976       549592     40960.00
    1167.359     0.999979       549593     46811.43
    1175.551     0.999982       549594     54613.33
    1182.719     0.999985       549596     65536.00
    1188.863     0.999986       549597     72817.78
    1190.911     0.999988       549599     81920.00
    1190.911     0.999989       549599     93622.86
    1190.911     0.999991       549599    109226.67
    1201.151     0.999992       549600    131072.00
    1206.271     0.999993       549601    145635.56
    1206.271     0.999994       549601    163840.00
    1209.343     0.999995       549602    187245.71
    1209.343     0.999995       549602    218453.33
    1209.343     0.999996       549602    262144.00
    1210.367     0.999997       549603    291271.11
    1210.367     0.999997       549603    327680.00
    1210.367     0.999997       549603    374491.43
    1210.367     0.999998       549603    436906.67
    1210.367     0.999998       549603    524288.00
    1211.391     0.999998       549604    582542.22
    1211.391     1.000000       549604          inf
#[Mean    =       11.508, StdDeviation   =       56.518]
#[Max     =     1210.368, Total count    =       549604]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599112 requests in 2.00m, 8.13GB read
Requests/sec:   4992.29  
Transfer/sec:     69.40MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36383 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40927 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36383 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40927 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2476.698ms, rate sampling interval: 9510ms
  Thread calibration: mean lat.: 1414.323ms, rate sampling interval: 6373ms
  Thread calibration: mean lat.: 2168.010ms, rate sampling interval: 9084ms
  Thread calibration: mean lat.: 2087.055ms, rate sampling interval: 9199ms
  Thread calibration: mean lat.: 509.543ms, rate sampling interval: 3416ms
  Thread calibration: mean lat.: 1004.614ms, rate sampling interval: 5902ms
  Thread calibration: mean lat.: 1188.730ms, rate sampling interval: 6049ms
  Thread calibration: mean lat.: 2415.912ms, rate sampling interval: 8896ms
  Thread calibration: mean lat.: 497.431ms, rate sampling interval: 1618ms
  Thread calibration: mean lat.: 1601.929ms, rate sampling interval: 7237ms
  Thread calibration: mean lat.: 880.830ms, rate sampling interval: 5218ms
  Thread calibration: mean lat.: 1766.676ms, rate sampling interval: 7938ms
  Thread calibration: mean lat.: 954.168ms, rate sampling interval: 3829ms
  Thread calibration: mean lat.: 2742.676ms, rate sampling interval: 9003ms
  Thread calibration: mean lat.: 1736.886ms, rate sampling interval: 9093ms
  Thread calibration: mean lat.: 2054.797ms, rate sampling interval: 8880ms
  Thread calibration: mean lat.: 1003.417ms, rate sampling interval: 5890ms
  Thread calibration: mean lat.: 1195.450ms, rate sampling interval: 7524ms
  Thread calibration: mean lat.: 1035.668ms, rate sampling interval: 4567ms
  Thread calibration: mean lat.: 1693.300ms, rate sampling interval: 10330ms
  Thread calibration: mean lat.: 1901.388ms, rate sampling interval: 8978ms
  Thread calibration: mean lat.: 1973.711ms, rate sampling interval: 8060ms
  Thread calibration: mean lat.: 1372.546ms, rate sampling interval: 6844ms
  Thread calibration: mean lat.: 1719.571ms, rate sampling interval: 9461ms
  Thread calibration: mean lat.: 1283.423ms, rate sampling interval: 8437ms
  Thread calibration: mean lat.: 995.813ms, rate sampling interval: 5103ms
  Thread calibration: mean lat.: 1196.591ms, rate sampling interval: 6578ms
  Thread calibration: mean lat.: 1277.923ms, rate sampling interval: 5111ms
  Thread calibration: mean lat.: 1846.205ms, rate sampling interval: 8019ms
  Thread calibration: mean lat.: 1165.373ms, rate sampling interval: 5730ms
  Thread calibration: mean lat.: 2031.302ms, rate sampling interval: 7090ms
  Thread calibration: mean lat.: 1663.949ms, rate sampling interval: 8024ms
  Thread calibration: mean lat.: 1879.568ms, rate sampling interval: 9093ms
  Thread calibration: mean lat.: 2278.018ms, rate sampling interval: 9707ms
  Thread calibration: mean lat.: 2037.117ms, rate sampling interval: 11870ms
  Thread calibration: mean lat.: 1285.463ms, rate sampling interval: 6934ms
  Thread calibration: mean lat.: 1415.185ms, rate sampling interval: 6856ms
  Thread calibration: mean lat.: 560.412ms, rate sampling interval: 2910ms
  Thread calibration: mean lat.: 1569.695ms, rate sampling interval: 7704ms
  Thread calibration: mean lat.: 1412.328ms, rate sampling interval: 8486ms
  Thread calibration: mean lat.: 759.299ms, rate sampling interval: 3766ms
  Thread calibration: mean lat.: 1210.831ms, rate sampling interval: 5869ms
  Thread calibration: mean lat.: 2824.323ms, rate sampling interval: 10018ms
  Thread calibration: mean lat.: 1271.043ms, rate sampling interval: 5267ms
  Thread calibration: mean lat.: 1157.857ms, rate sampling interval: 4612ms
  Thread calibration: mean lat.: 1404.493ms, rate sampling interval: 8527ms
  Thread calibration: mean lat.: 1955.940ms, rate sampling interval: 9224ms
  Thread calibration: mean lat.: 1458.077ms, rate sampling interval: 5808ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.09s    13.25s    0.98m    88.35%
    Req/Sec   183.14     23.76   228.00     70.86%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.51s 
 75.000%   14.52s 
 90.000%   24.79s 
 99.000%    0.98m 
 99.900%    1.30m 
 99.990%    1.35m 
 99.999%    1.37m 
100.000%    1.37m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.865     0.000000            1         1.00
      12.063     0.100000        96276         1.11
      18.303     0.200000       192386         1.25
      29.631     0.300000       288509         1.43
      76.095     0.400000       384571         1.67
    2510.847     0.500000       480726         2.00
    4534.271     0.550000       528799         2.22
    7225.343     0.600000       576885         2.50
    9691.135     0.650000       624927         2.86
   11673.599     0.700000       673086         3.33
   14524.415     0.750000       721128         4.00
   15892.479     0.775000       745167         4.44
   17055.743     0.800000       769205         5.00
   18710.527     0.825000       793234         5.71
   19890.175     0.850000       817566         6.67
   21348.351     0.875000       841386         8.00
   22904.831     0.887500       853314         8.89
   24788.991     0.900000       865322        10.00
   27934.719     0.912500       877306        11.43
   32096.255     0.925000       889305        13.33
   35127.295     0.937500       901406        16.00
   36405.247     0.943750       907372        17.78
   37781.503     0.950000       913355        20.00
   39747.583     0.956250       919358        22.86
   42106.879     0.962500       925368        26.67
   44597.247     0.968750       931384        32.00
   45940.735     0.971875       934373        35.56
   47906.815     0.975000       937369        40.00
   50462.719     0.978125       940388        45.71
   52658.175     0.981250       943398        53.33
   54689.791     0.984375       946371        64.00
   55738.367     0.985938       947870        71.11
   56786.943     0.987500       949381        80.00
   57901.055     0.989062       950878        91.43
   59342.847     0.990625       952390       106.67
   61734.911     0.992188       953887       128.00
   62914.559     0.992969       954636       142.22
   64159.743     0.993750       955389       160.00
   65404.927     0.994531       956139       182.86
   66682.879     0.995313       956893       213.33
   68157.439     0.996094       957641       256.00
   69271.551     0.996484       958012       284.44
   70647.807     0.996875       958401       320.00
   71958.527     0.997266       958777       365.71
   73334.783     0.997656       959143       426.67
   74711.039     0.998047       959512       512.00
   75431.935     0.998242       959710       568.89
   76087.295     0.998437       959898       640.00
   76742.655     0.998633       960090       731.43
   77398.015     0.998828       960276       853.33
   78053.375     0.999023       960469      1024.00
   78381.055     0.999121       960565      1137.78
   78708.735     0.999219       960651      1280.00
   79036.415     0.999316       960739      1462.86
   79429.631     0.999414       960839      1706.67
   79757.311     0.999512       960923      2048.00
   79953.919     0.999561       960985      2275.56
   80084.991     0.999609       961014      2560.00
   80281.599     0.999658       961069      2925.71
   80478.207     0.999707       961117      3413.33
   80609.279     0.999756       961160      4096.00
   80674.815     0.999780       961178      4551.11
   80805.887     0.999805       961205      5120.00
   80936.959     0.999829       961241      5851.43
   81002.495     0.999854       961255      6826.67
   81133.567     0.999878       961278      8192.00
   81199.103     0.999890       961295      9102.22
   81264.639     0.999902       961309     10240.00
   81264.639     0.999915       961309     11702.86
   81330.175     0.999927       961324     13653.33
   81395.711     0.999939       961336     16384.00
   81461.247     0.999945       961341     18204.44
   81526.783     0.999951       961347     20480.00
   81592.319     0.999957       961354     23405.71
   81592.319     0.999963       961354     27306.67
   81723.391     0.999969       961364     32768.00
   81723.391     0.999973       961364     36408.89
   81788.927     0.999976       961367     40960.00
   81854.463     0.999979       961369     46811.43
   81985.535     0.999982       961373     54613.33
   82116.607     0.999985       961375     65536.00
   82182.143     0.999986       961378     72817.78
   82182.143     0.999988       961378     81920.00
   82247.679     0.999989       961380     93622.86
   82313.215     0.999991       961384    109226.67
   82313.215     0.999992       961384    131072.00
   82313.215     0.999993       961384    145635.56
   82313.215     0.999994       961384    163840.00
   82313.215     0.999995       961384    187245.71
   82378.751     0.999995       961387    218453.33
   82378.751     0.999996       961387    262144.00
   82378.751     0.999997       961387    291271.11
   82378.751     0.999997       961387    327680.00
   82378.751     0.999997       961387    374491.43
   82378.751     0.999998       961387    436906.67
   82444.287     0.999998       961389    524288.00
   82444.287     1.000000       961389          inf
#[Mean    =     9091.815, StdDeviation   =    13254.465]
#[Max     =    82378.752, Total count    =       961389]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1027215 requests in 2.00m, 13.94GB read
Requests/sec:   8565.01  
Transfer/sec:    119.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 32529 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36405 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 32529 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36405 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 10.734ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.302ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.964ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.325ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.876ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.976ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.931ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.829ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.308ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.239ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.369ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.688ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.930ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.373ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.440ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.561ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.558ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.579ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.371ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.740ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.302ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.800ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.445ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.048ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.444ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.839ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.626ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.420ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.064ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.832ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.960ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.145ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.805ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.616ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.674ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.801ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.072ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.488ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.343ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.656ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 9.700ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.348ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.257ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.511ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.571ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.600ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 10.480ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.994ms, rate sampling interval: 27ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.09ms    3.90ms  23.69ms   73.42%
    Req/Sec    20.26     27.00   111.00     89.17%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.14ms
 75.000%   12.99ms
 90.000%   15.32ms
 99.000%   23.69ms
 99.900%   31.47ms
 99.990%   38.65ms
 99.999%   51.26ms
100.000%   58.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.405     0.000000            1         1.00
       6.411     0.100000        10603         1.11
       7.739     0.200000        21181         1.25
       9.063     0.300000        31785         1.43
      10.191     0.400000        42389         1.67
      11.135     0.500000        52986         2.00
      11.535     0.550000        58274         2.22
      11.903     0.600000        63591         2.50
      12.247     0.650000        68861         2.86
      12.599     0.700000        74115         3.33
      12.991     0.750000        79406         4.00
      13.223     0.775000        82085         4.44
      13.479     0.800000        84665         5.00
      13.775     0.825000        87326         5.71
      14.151     0.850000        90004         6.67
      14.639     0.875000        92628         8.00
      14.951     0.887500        93949         8.89
      15.319     0.900000        95252        10.00
      15.775     0.912500        96573        11.43
      16.295     0.925000        97897        13.33
      16.975     0.937500        99242        16.00
      17.375     0.943750        99888        17.78
      17.823     0.950000       100540        20.00
      18.319     0.956250       101201        22.86
      18.943     0.962500       101885        26.67
      19.647     0.968750       102534        32.00
      20.015     0.971875       102859        35.56
      20.463     0.975000       103186        40.00
      20.991     0.978125       103530        45.71
      21.535     0.981250       103860        53.33
      22.207     0.984375       104178        64.00
      22.543     0.985938       104344        71.11
      22.927     0.987500       104512        80.00
      23.375     0.989062       104676        91.43
      23.935     0.990625       104839       106.67
      24.591     0.992188       105006       128.00
      24.895     0.992969       105087       142.22
      25.231     0.993750       105170       160.00
      25.631     0.994531       105253       182.86
      26.175     0.995313       105335       213.33
      26.799     0.996094       105421       256.00
      27.119     0.996484       105461       284.44
      27.551     0.996875       105502       320.00
      28.095     0.997266       105543       365.71
      28.735     0.997656       105583       426.67
      29.311     0.998047       105625       512.00
      29.727     0.998242       105645       568.89
      30.031     0.998437       105667       640.00
      30.655     0.998633       105687       731.43
      31.119     0.998828       105708       853.33
      31.647     0.999023       105728      1024.00
      32.031     0.999121       105738      1137.78
      32.447     0.999219       105749      1280.00
      32.799     0.999316       105759      1462.86
      33.183     0.999414       105769      1706.67
      33.695     0.999512       105780      2048.00
      34.207     0.999561       105785      2275.56
      34.783     0.999609       105790      2560.00
      35.167     0.999658       105795      2925.71
      35.487     0.999707       105800      3413.33
      36.095     0.999756       105806      4096.00
      36.415     0.999780       105808      4551.11
      36.831     0.999805       105811      5120.00
      36.991     0.999829       105813      5851.43
      37.983     0.999854       105816      6826.67
      38.495     0.999878       105819      8192.00
      38.655     0.999890       105820      9102.22
      38.783     0.999902       105821     10240.00
      38.943     0.999915       105822     11702.86
      40.671     0.999927       105824     13653.33
      42.527     0.999939       105825     16384.00
      45.567     0.999945       105826     18204.44
      45.567     0.999951       105826     20480.00
      46.975     0.999957       105827     23405.71
      47.807     0.999963       105828     27306.67
      47.807     0.999969       105828     32768.00
      48.255     0.999973       105829     36408.89
      48.255     0.999976       105829     40960.00
      48.255     0.999979       105829     46811.43
      51.263     0.999982       105830     54613.33
      51.263     0.999985       105830     65536.00
      51.263     0.999986       105830     72817.78
      51.263     0.999988       105830     81920.00
      51.263     0.999989       105830     93622.86
      58.623     0.999991       105831    109226.67
      58.623     1.000000       105831          inf
#[Mean    =       11.091, StdDeviation   =        3.896]
#[Max     =       58.592, Total count    =       105831]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115378 requests in 2.00m, 1.56GB read
Requests/sec:    961.57  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36675 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44022 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36675 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44022 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 457.711ms, rate sampling interval: 2631ms
  Thread calibration: mean lat.: 472.719ms, rate sampling interval: 2174ms
  Thread calibration: mean lat.: 600.342ms, rate sampling interval: 3110ms
  Thread calibration: mean lat.: 845.334ms, rate sampling interval: 4198ms
  Thread calibration: mean lat.: 352.443ms, rate sampling interval: 2069ms
  Thread calibration: mean lat.: 499.556ms, rate sampling interval: 2947ms
  Thread calibration: mean lat.: 288.696ms, rate sampling interval: 1336ms
  Thread calibration: mean lat.: 482.064ms, rate sampling interval: 2179ms
  Thread calibration: mean lat.: 266.007ms, rate sampling interval: 1639ms
  Thread calibration: mean lat.: 454.818ms, rate sampling interval: 1830ms
  Thread calibration: mean lat.: 793.375ms, rate sampling interval: 4706ms
  Thread calibration: mean lat.: 376.256ms, rate sampling interval: 1650ms
  Thread calibration: mean lat.: 393.742ms, rate sampling interval: 2369ms
  Thread calibration: mean lat.: 591.420ms, rate sampling interval: 3510ms
  Thread calibration: mean lat.: 314.334ms, rate sampling interval: 1324ms
  Thread calibration: mean lat.: 396.593ms, rate sampling interval: 2469ms
  Thread calibration: mean lat.: 760.523ms, rate sampling interval: 3418ms
  Thread calibration: mean lat.: 314.692ms, rate sampling interval: 1758ms
  Thread calibration: mean lat.: 692.669ms, rate sampling interval: 2891ms
  Thread calibration: mean lat.: 828.935ms, rate sampling interval: 3565ms
  Thread calibration: mean lat.: 416.231ms, rate sampling interval: 2103ms
  Thread calibration: mean lat.: 335.301ms, rate sampling interval: 1453ms
  Thread calibration: mean lat.: 465.119ms, rate sampling interval: 2742ms
  Thread calibration: mean lat.: 664.294ms, rate sampling interval: 3506ms
  Thread calibration: mean lat.: 358.292ms, rate sampling interval: 1985ms
  Thread calibration: mean lat.: 535.308ms, rate sampling interval: 3923ms
  Thread calibration: mean lat.: 454.103ms, rate sampling interval: 2063ms
  Thread calibration: mean lat.: 302.651ms, rate sampling interval: 2041ms
  Thread calibration: mean lat.: 465.058ms, rate sampling interval: 1982ms
  Thread calibration: mean lat.: 602.782ms, rate sampling interval: 3495ms
  Thread calibration: mean lat.: 732.597ms, rate sampling interval: 3983ms
  Thread calibration: mean lat.: 850.843ms, rate sampling interval: 4089ms
  Thread calibration: mean lat.: 783.115ms, rate sampling interval: 4411ms
  Thread calibration: mean lat.: 840.107ms, rate sampling interval: 4767ms
  Thread calibration: mean lat.: 677.824ms, rate sampling interval: 3643ms
  Thread calibration: mean lat.: 371.792ms, rate sampling interval: 2496ms
  Thread calibration: mean lat.: 324.489ms, rate sampling interval: 2189ms
  Thread calibration: mean lat.: 825.143ms, rate sampling interval: 3762ms
  Thread calibration: mean lat.: 321.018ms, rate sampling interval: 1506ms
  Thread calibration: mean lat.: 316.134ms, rate sampling interval: 1473ms
  Thread calibration: mean lat.: 826.358ms, rate sampling interval: 4263ms
  Thread calibration: mean lat.: 356.594ms, rate sampling interval: 1775ms
  Thread calibration: mean lat.: 614.053ms, rate sampling interval: 2471ms
  Thread calibration: mean lat.: 639.925ms, rate sampling interval: 3985ms
  Thread calibration: mean lat.: 683.289ms, rate sampling interval: 2576ms
  Thread calibration: mean lat.: 311.252ms, rate sampling interval: 1678ms
  Thread calibration: mean lat.: 1105.037ms, rate sampling interval: 4775ms
  Thread calibration: mean lat.: 668.938ms, rate sampling interval: 3364ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.71s     8.65s   34.41s    84.11%
    Req/Sec    91.60      7.88   111.00     74.62%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.88s 
 75.000%   11.67s 
 90.000%   20.53s 
 99.000%   34.41s 
 99.900%   39.45s 
 99.990%   41.25s 
 99.999%   41.91s 
100.000%   41.98s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.957     0.000000            1         1.00
      84.031     0.100000        47770         1.11
     227.455     0.200000        95492         1.25
    1137.663     0.300000       143229         1.43
    2725.887     0.400000       190996         1.67
    4878.335     0.500000       238729         2.00
    5918.719     0.550000       262592         2.22
    7081.983     0.600000       286497         2.50
    8470.527     0.650000       310468         2.86
    9871.359     0.700000       334204         3.33
   11673.599     0.750000       358138         4.00
   12640.255     0.775000       370034         4.44
   13819.903     0.800000       381980         5.00
   15196.159     0.825000       393869         5.71
   16990.207     0.850000       405845         6.67
   18710.527     0.875000       417759         8.00
   19595.263     0.887500       423786         8.89
   20529.151     0.900000       429689        10.00
   21905.407     0.912500       435714        11.43
   23429.119     0.925000       441664        13.33
   25067.519     0.937500       447608        16.00
   25985.023     0.943750       450577        17.78
   26935.295     0.950000       453579        20.00
   27983.871     0.956250       456528        22.86
   28983.295     0.962500       459510        26.67
   29966.335     0.968750       462525        32.00
   30490.623     0.971875       464000        35.56
   31129.599     0.975000       465511        40.00
   31834.111     0.978125       466989        45.71
   32473.087     0.981250       468463        53.33
   33193.983     0.984375       469971        64.00
   33554.431     0.985938       470708        71.11
   33849.343     0.987500       471464        80.00
   34177.023     0.989062       472210        91.43
   34570.239     0.990625       472950       106.67
   35160.063     0.992188       473713       128.00
   35520.511     0.992969       474063       142.22
   35913.727     0.993750       474459       160.00
   36274.175     0.994531       474822       182.86
   36700.159     0.995313       475179       213.33
   37126.143     0.996094       475553       256.00
   37421.055     0.996484       475733       284.44
   37683.199     0.996875       475921       320.00
   38010.879     0.997266       476125       365.71
   38338.559     0.997656       476296       426.67
   38633.471     0.998047       476480       512.00
   38764.543     0.998242       476592       568.89
   38895.615     0.998437       476685       640.00
   39026.687     0.998633       476770       731.43
   39223.295     0.998828       476870       853.33
   39485.439     0.999023       476947      1024.00
   39649.279     0.999121       476998      1137.78
   39780.351     0.999219       477041      1280.00
   39911.423     0.999316       477092      1462.86
   40009.727     0.999414       477135      1706.67
   40173.567     0.999512       477181      2048.00
   40304.639     0.999561       477209      2275.56
   40370.175     0.999609       477226      2560.00
   40534.015     0.999658       477254      2925.71
   40632.319     0.999707       477276      3413.33
   40763.391     0.999756       477295      4096.00
   40894.463     0.999780       477310      4551.11
   40927.231     0.999805       477321      5120.00
   40992.767     0.999829       477330      5851.43
   41058.303     0.999854       477343      6826.67
   41123.839     0.999878       477355      8192.00
   41189.375     0.999890       477361      9102.22
   41287.679     0.999902       477367     10240.00
   41353.215     0.999915       477372     11702.86
   41451.519     0.999927       477378     13653.33
   41549.823     0.999939       477382     16384.00
   41615.359     0.999945       477385     18204.44
   41648.127     0.999951       477388     20480.00
   41680.895     0.999957       477391     23405.71
   41746.431     0.999963       477396     27306.67
   41779.199     0.999969       477399     32768.00
   41779.199     0.999973       477399     36408.89
   41811.967     0.999976       477403     40960.00
   41811.967     0.999979       477403     46811.43
   41811.967     0.999982       477403     54613.33
   41844.735     0.999985       477404     65536.00
   41877.503     0.999986       477405     72817.78
   41910.271     0.999988       477407     81920.00
   41910.271     0.999989       477407     93622.86
   41910.271     0.999991       477407    109226.67
   41943.039     0.999992       477410    131072.00
   41943.039     0.999993       477410    145635.56
   41943.039     0.999994       477410    163840.00
   41943.039     0.999995       477410    187245.71
   41943.039     0.999995       477410    218453.33
   41943.039     0.999996       477410    262144.00
   41943.039     0.999997       477410    291271.11
   41943.039     0.999997       477410    327680.00
   41943.039     0.999997       477410    374491.43
   41943.039     0.999998       477410    436906.67
   41975.807     0.999998       477411    524288.00
   41975.807     1.000000       477411          inf
#[Mean    =     7708.358, StdDeviation   =     8648.944]
#[Max     =    41943.040, Total count    =       477411]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  521031 requests in 2.00m, 7.03GB read
Requests/sec:   4346.46  
Transfer/sec:     60.04MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36187 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43934 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36187 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43934 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2524.872ms, rate sampling interval: 10067ms
  Thread calibration: mean lat.: 2599.794ms, rate sampling interval: 9854ms
  Thread calibration: mean lat.: 2597.829ms, rate sampling interval: 10141ms
  Thread calibration: mean lat.: 2861.060ms, rate sampling interval: 10731ms
  Thread calibration: mean lat.: 2739.838ms, rate sampling interval: 10436ms
  Thread calibration: mean lat.: 2673.328ms, rate sampling interval: 10625ms
  Thread calibration: mean lat.: 2985.090ms, rate sampling interval: 10878ms
  Thread calibration: mean lat.: 2642.295ms, rate sampling interval: 9854ms
  Thread calibration: mean lat.: 2689.978ms, rate sampling interval: 10239ms
  Thread calibration: mean lat.: 2602.547ms, rate sampling interval: 9822ms
  Thread calibration: mean lat.: 2765.815ms, rate sampling interval: 10559ms
  Thread calibration: mean lat.: 2371.633ms, rate sampling interval: 8568ms
  Thread calibration: mean lat.: 2669.512ms, rate sampling interval: 9805ms
  Thread calibration: mean lat.: 2967.378ms, rate sampling interval: 10788ms
  Thread calibration: mean lat.: 2511.319ms, rate sampling interval: 9134ms
  Thread calibration: mean lat.: 2745.906ms, rate sampling interval: 10256ms
  Thread calibration: mean lat.: 2517.849ms, rate sampling interval: 9109ms
  Thread calibration: mean lat.: 2859.783ms, rate sampling interval: 10584ms
  Thread calibration: mean lat.: 2767.577ms, rate sampling interval: 10248ms
  Thread calibration: mean lat.: 2810.627ms, rate sampling interval: 10567ms
  Thread calibration: mean lat.: 2803.889ms, rate sampling interval: 10280ms
  Thread calibration: mean lat.: 2812.633ms, rate sampling interval: 10747ms
  Thread calibration: mean lat.: 2341.274ms, rate sampling interval: 8208ms
  Thread calibration: mean lat.: 2640.864ms, rate sampling interval: 9789ms
  Thread calibration: mean lat.: 2727.184ms, rate sampling interval: 10338ms
  Thread calibration: mean lat.: 2893.006ms, rate sampling interval: 10633ms
  Thread calibration: mean lat.: 2701.388ms, rate sampling interval: 10059ms
  Thread calibration: mean lat.: 2762.298ms, rate sampling interval: 9625ms
  Thread calibration: mean lat.: 2793.823ms, rate sampling interval: 9601ms
  Thread calibration: mean lat.: 2931.109ms, rate sampling interval: 10543ms
  Thread calibration: mean lat.: 2741.252ms, rate sampling interval: 10067ms
  Thread calibration: mean lat.: 2855.334ms, rate sampling interval: 10838ms
  Thread calibration: mean lat.: 2812.022ms, rate sampling interval: 10289ms
  Thread calibration: mean lat.: 2611.153ms, rate sampling interval: 9543ms
  Thread calibration: mean lat.: 2671.186ms, rate sampling interval: 9519ms
  Thread calibration: mean lat.: 2760.482ms, rate sampling interval: 10280ms
  Thread calibration: mean lat.: 2665.324ms, rate sampling interval: 10256ms
  Thread calibration: mean lat.: 2797.558ms, rate sampling interval: 10330ms
  Thread calibration: mean lat.: 2890.171ms, rate sampling interval: 10715ms
  Thread calibration: mean lat.: 3177.135ms, rate sampling interval: 11534ms
  Thread calibration: mean lat.: 2655.277ms, rate sampling interval: 9641ms
  Thread calibration: mean lat.: 2903.954ms, rate sampling interval: 11100ms
  Thread calibration: mean lat.: 2818.591ms, rate sampling interval: 10125ms
  Thread calibration: mean lat.: 3019.959ms, rate sampling interval: 10895ms
  Thread calibration: mean lat.: 3059.772ms, rate sampling interval: 10805ms
  Thread calibration: mean lat.: 2873.962ms, rate sampling interval: 10747ms
  Thread calibration: mean lat.: 2659.095ms, rate sampling interval: 9748ms
  Thread calibration: mean lat.: 3095.027ms, rate sampling interval: 11567ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    36.90s    18.01s    1.19m    59.39%
    Req/Sec    92.24      6.21   107.00     72.84%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   36.93s 
 75.000%    0.86m 
 90.000%    1.02m 
 99.000%    1.19m 
 99.900%    1.25m 
 99.990%    1.27m 
 99.999%    1.28m 
100.000%    1.28m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4321.279     0.000000            1         1.00
   12042.239     0.100000        48957         1.11
   18219.007     0.200000        97995         1.25
   24805.375     0.300000       146893         1.43
   30949.375     0.400000       195804         1.67
   36929.535     0.500000       244859         2.00
   39944.191     0.550000       269301         2.22
   42926.079     0.600000       293714         2.50
   45907.967     0.650000       318243         2.86
   48857.087     0.700000       342624         3.33
   51740.671     0.750000       367050         4.00
   53182.463     0.775000       379404         4.44
   54657.023     0.800000       391641         5.00
   56164.351     0.825000       403863         5.71
   57769.983     0.850000       416035         6.67
   59539.455     0.875000       428376         8.00
   60456.959     0.887500       434390         8.89
   61439.999     0.900000       440508        10.00
   62455.807     0.912500       446683        11.43
   63537.151     0.925000       452840        13.33
   64618.495     0.937500       458854        16.00
   65175.551     0.943750       461880        17.78
   65765.375     0.950000       464939        20.00
   66387.967     0.956250       468009        22.86
   67076.095     0.962500       471181        26.67
   67829.759     0.968750       474295        32.00
   68222.975     0.971875       475734        35.56
   68681.727     0.975000       477370        40.00
   69140.479     0.978125       478834        45.71
   69664.767     0.981250       480350        53.33
   70189.055     0.984375       481818        64.00
   70516.735     0.985938       482615        71.11
   70844.415     0.987500       483378        80.00
   71172.095     0.989062       484129        91.43
   71565.311     0.990625       484904       106.67
   71958.527     0.992188       485611       128.00
   72155.135     0.992969       485963       142.22
   72417.279     0.993750       486380       160.00
   72679.423     0.994531       486798       182.86
   72941.567     0.995313       487137       213.33
   73269.247     0.996094       487551       256.00
   73400.319     0.996484       487699       284.44
   73596.927     0.996875       487949       320.00
   73727.999     0.997266       488069       365.71
   73924.607     0.997656       488280       426.67
   74121.215     0.998047       488477       512.00
   74186.751     0.998242       488538       568.89
   74317.823     0.998437       488644       640.00
   74448.895     0.998633       488740       731.43
   74579.967     0.998828       488818       853.33
   74776.575     0.999023       488949      1024.00
   74842.111     0.999121       488972      1137.78
   74973.183     0.999219       489007      1280.00
   75169.791     0.999316       489068      1462.86
   75300.863     0.999414       489104      1706.67
   75431.935     0.999512       489153      2048.00
   75563.007     0.999561       489183      2275.56
   75628.543     0.999609       489201      2560.00
   75759.615     0.999658       489230      2925.71
   75825.151     0.999707       489258      3413.33
   75956.223     0.999756       489270      4096.00
   76087.295     0.999780       489291      4551.11
   76152.831     0.999805       489308      5120.00
   76152.831     0.999829       489308      5851.43
   76218.367     0.999854       489318      6826.67
   76414.975     0.999878       489338      8192.00
   76414.975     0.999890       489338      9102.22
   76480.511     0.999902       489345     10240.00
   76546.047     0.999915       489356     11702.86
   76546.047     0.999927       489356     13653.33
   76611.583     0.999939       489368     16384.00
   76611.583     0.999945       489368     18204.44
   76611.583     0.999951       489368     20480.00
   76677.119     0.999957       489376     23405.71
   76677.119     0.999963       489376     27306.67
   76677.119     0.999969       489376     32768.00
   76677.119     0.999973       489376     36408.89
   76742.655     0.999976       489386     40960.00
   76742.655     0.999979       489386     46811.43
   76742.655     0.999982       489386     54613.33
   76742.655     0.999985       489386     65536.00
   76742.655     0.999986       489386     72817.78
   76742.655     0.999988       489386     81920.00
   76742.655     0.999989       489386     93622.86
   76742.655     0.999991       489386    109226.67
   76742.655     0.999992       489386    131072.00
   76742.655     0.999993       489386    145635.56
   76808.191     0.999994       489389    163840.00
   76808.191     1.000000       489389          inf
#[Mean    =    36902.402, StdDeviation   =    18008.075]
#[Max     =    76742.656, Total count    =       489389]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  530678 requests in 2.00m, 7.16GB read
Requests/sec:   4426.13  
Transfer/sec:     61.14MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36314 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43641 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36314 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43641 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 8.686ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.791ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.085ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.537ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.114ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.221ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.486ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.837ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.163ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.547ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.634ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.365ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.234ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.709ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.212ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.595ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 9.418ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.488ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.674ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.615ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.596ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.183ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.636ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.608ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.516ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.575ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 9.902ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.402ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.110ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.586ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.474ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.232ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.407ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 8.311ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.039ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.815ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.358ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 7.383ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.900ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.673ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.039ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.311ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.680ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.709ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.843ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.835ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.620ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.071ms, rate sampling interval: 27ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.82ms    3.48ms  22.03ms   73.65%
    Req/Sec    20.30     27.66   111.00     89.76%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.61ms
 75.000%   12.49ms
 90.000%   14.75ms
 99.000%   22.03ms
 99.900%   29.63ms
 99.990%   37.28ms
 99.999%   47.52ms
100.000%   47.58ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.699     0.000000            1         1.00
       6.411     0.100000        10597         1.11
       8.279     0.200000        21179         1.25
       9.327     0.300000        31795         1.43
      10.015     0.400000        42389         1.67
      10.607     0.500000        53018         2.00
      10.911     0.550000        58213         2.22
      11.247     0.600000        63513         2.50
      11.615     0.650000        68814         2.86
      12.015     0.700000        74099         3.33
      12.487     0.750000        79376         4.00
      12.751     0.775000        82083         4.44
      13.039     0.800000        84695         5.00
      13.359     0.825000        87345         5.71
      13.735     0.850000        90003         6.67
      14.167     0.875000        92632         8.00
      14.431     0.887500        93934         8.89
      14.751     0.900000        95262        10.00
      15.119     0.912500        96589        11.43
      15.559     0.925000        97909        13.33
      16.127     0.937500        99231        16.00
      16.463     0.943750        99890        17.78
      16.831     0.950000       100549        20.00
      17.247     0.956250       101210        22.86
      17.759     0.962500       101872        26.67
      18.383     0.968750       102538        32.00
      18.751     0.971875       102869        35.56
      19.151     0.975000       103193        40.00
      19.583     0.978125       103519        45.71
      20.063     0.981250       103846        53.33
      20.687     0.984375       104177        64.00
      21.007     0.985938       104347        71.11
      21.391     0.987500       104509        80.00
      21.775     0.989062       104673        91.43
      22.271     0.990625       104841       106.67
      22.879     0.992188       105004       128.00
      23.135     0.992969       105086       142.22
      23.535     0.993750       105169       160.00
      24.031     0.994531       105253       182.86
      24.527     0.995313       105334       213.33
      25.055     0.996094       105419       256.00
      25.359     0.996484       105463       284.44
      25.743     0.996875       105500       320.00
      26.255     0.997266       105542       365.71
      26.767     0.997656       105582       426.67
      27.391     0.998047       105624       512.00
      27.695     0.998242       105645       568.89
      28.111     0.998437       105665       640.00
      28.591     0.998633       105687       731.43
      28.927     0.998828       105707       853.33
      29.695     0.999023       105727      1024.00
      30.063     0.999121       105737      1137.78
      30.543     0.999219       105748      1280.00
      30.975     0.999316       105758      1462.86
      31.215     0.999414       105768      1706.67
      32.063     0.999512       105779      2048.00
      32.255     0.999561       105784      2275.56
      32.591     0.999609       105789      2560.00
      32.927     0.999658       105794      2925.71
      33.471     0.999707       105799      3413.33
      34.687     0.999756       105805      4096.00
      34.879     0.999780       105807      4551.11
      35.263     0.999805       105810      5120.00
      35.519     0.999829       105812      5851.43
      35.999     0.999854       105815      6826.67
      36.831     0.999878       105818      8192.00
      37.279     0.999890       105819      9102.22
      37.311     0.999902       105820     10240.00
      37.759     0.999915       105821     11702.86
      40.639     0.999927       105823     13653.33
      42.687     0.999939       105824     16384.00
      43.263     0.999945       105825     18204.44
      43.263     0.999951       105825     20480.00
      43.455     0.999957       105826     23405.71
      45.151     0.999963       105827     27306.67
      45.151     0.999969       105827     32768.00
      45.759     0.999973       105828     36408.89
      45.759     0.999976       105828     40960.00
      45.759     0.999979       105828     46811.43
      47.519     0.999982       105829     54613.33
      47.519     0.999985       105829     65536.00
      47.519     0.999986       105829     72817.78
      47.519     0.999988       105829     81920.00
      47.519     0.999989       105829     93622.86
      47.583     0.999991       105830    109226.67
      47.583     1.000000       105830          inf
#[Mean    =       10.824, StdDeviation   =        3.480]
#[Max     =       47.552, Total count    =       105830]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115352 requests in 2.00m, 1.41GB read
Requests/sec:    961.20  
Transfer/sec:     12.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36508 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43695 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36508 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43695 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.149ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.614ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.322ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.000ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.436ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.108ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.808ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.285ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.199ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.890ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.500ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.013ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.309ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.389ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.899ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.338ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.609ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.780ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.767ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.897ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.947ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.916ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.195ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.764ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.158ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.210ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.013ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.532ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.738ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.794ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.619ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.899ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.063ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.296ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.250ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.576ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.513ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.933ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 5.939ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.045ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.608ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.670ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.690ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.188ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.654ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.704ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.979ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.651ms, rate sampling interval: 21ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.40ms    3.51ms  20.01ms   85.39%
    Req/Sec   106.37     71.10   300.00     73.35%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.48ms
 75.000%    7.49ms
 90.000%   10.41ms
 99.000%   20.01ms
 99.900%   31.10ms
 99.990%   41.53ms
 99.999%   54.11ms
100.000%   61.06ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.911     0.000000            1         1.00
       3.323     0.100000        55116         1.11
       3.869     0.200000       109976         1.25
       4.407     0.300000       165139         1.43
       4.927     0.400000       220034         1.67
       5.479     0.500000       274900         2.00
       5.783     0.550000       302365         2.22
       6.119     0.600000       329712         2.50
       6.507     0.650000       357383         2.86
       6.951     0.700000       384652         3.33
       7.491     0.750000       412233         4.00
       7.803     0.775000       426006         4.44
       8.155     0.800000       439742         5.00
       8.567     0.825000       453505         5.71
       9.047     0.850000       467250         6.67
       9.631     0.875000       480827         8.00
       9.991     0.887500       487735         8.89
      10.407     0.900000       494601        10.00
      10.903     0.912500       501489        11.43
      11.487     0.925000       508348        13.33
      12.191     0.937500       515202        16.00
      12.583     0.943750       518591        17.78
      13.047     0.950000       522048        20.00
      13.599     0.956250       525470        22.86
      14.231     0.962500       528912        26.67
      14.991     0.968750       532353        32.00
      15.431     0.971875       534056        35.56
      15.927     0.975000       535778        40.00
      16.511     0.978125       537489        45.71
      17.199     0.981250       539238        53.33
      17.983     0.984375       540928        64.00
      18.463     0.985938       541781        71.11
      19.039     0.987500       542653        80.00
      19.615     0.989062       543499        91.43
      20.319     0.990625       544369       106.67
      21.135     0.992188       545208       128.00
      21.631     0.992969       545646       142.22
      22.175     0.993750       546080       160.00
      22.751     0.994531       546496       182.86
      23.551     0.995313       546929       213.33
      24.383     0.996094       547359       256.00
      24.911     0.996484       547569       284.44
      25.455     0.996875       547786       320.00
      26.063     0.997266       548002       365.71
      26.751     0.997656       548214       426.67
      27.647     0.998047       548426       512.00
      28.191     0.998242       548535       568.89
      28.767     0.998437       548643       640.00
      29.487     0.998633       548751       731.43
      30.335     0.998828       548856       853.33
      31.263     0.999023       548964      1024.00
      31.935     0.999121       549017      1137.78
      32.367     0.999219       549070      1280.00
      32.991     0.999316       549124      1462.86
      33.759     0.999414       549178      1706.67
      34.559     0.999512       549233      2048.00
      35.007     0.999561       549258      2275.56
      35.647     0.999609       549285      2560.00
      36.255     0.999658       549315      2925.71
      37.151     0.999707       549339      3413.33
      37.791     0.999756       549365      4096.00
      38.047     0.999780       549379      4551.11
      38.399     0.999805       549392      5120.00
      38.911     0.999829       549406      5851.43
      39.647     0.999854       549419      6826.67
      40.511     0.999878       549432      8192.00
      40.927     0.999890       549439      9102.22
      41.727     0.999902       549446     10240.00
      42.271     0.999915       549454     11702.86
      42.783     0.999927       549459     13653.33
      43.839     0.999939       549466     16384.00
      44.031     0.999945       549470     18204.44
      44.575     0.999951       549473     20480.00
      44.927     0.999957       549476     23405.71
      45.663     0.999963       549479     27306.67
      46.655     0.999969       549483     32768.00
      46.783     0.999973       549484     36408.89
      48.415     0.999976       549486     40960.00
      49.631     0.999979       549488     46811.43
      49.759     0.999982       549489     54613.33
      50.527     0.999985       549491     65536.00
      50.655     0.999986       549492     72817.78
      53.599     0.999988       549493     81920.00
      54.111     0.999989       549494     93622.86
      54.111     0.999991       549494    109226.67
      54.207     0.999992       549495    131072.00
      54.847     0.999993       549496    145635.56
      54.847     0.999994       549496    163840.00
      56.831     0.999995       549497    187245.71
      56.831     0.999995       549497    218453.33
      56.831     0.999996       549497    262144.00
      57.119     0.999997       549498    291271.11
      57.119     0.999997       549498    327680.00
      57.119     0.999997       549498    374491.43
      57.119     0.999998       549498    436906.67
      57.119     0.999998       549498    524288.00
      61.055     0.999998       549499    582542.22
      61.055     1.000000       549499          inf
#[Mean    =        6.399, StdDeviation   =        3.510]
#[Max     =       61.024, Total count    =       549499]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599014 requests in 2.00m, 7.30GB read
Requests/sec:   4995.72  
Transfer/sec:     62.37MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 35372 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42059 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 35372 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42059 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 429.732ms, rate sampling interval: 2617ms
  Thread calibration: mean lat.: 29.509ms, rate sampling interval: 112ms
  Thread calibration: mean lat.: 924.792ms, rate sampling interval: 4722ms
  Thread calibration: mean lat.: 844.317ms, rate sampling interval: 3928ms
  Thread calibration: mean lat.: 339.274ms, rate sampling interval: 2195ms
  Thread calibration: mean lat.: 2198.888ms, rate sampling interval: 8519ms
  Thread calibration: mean lat.: 1024.341ms, rate sampling interval: 6332ms
  Thread calibration: mean lat.: 1054.279ms, rate sampling interval: 6500ms
  Thread calibration: mean lat.: 553.454ms, rate sampling interval: 2443ms
  Thread calibration: mean lat.: 217.075ms, rate sampling interval: 1389ms
  Thread calibration: mean lat.: 161.056ms, rate sampling interval: 963ms
  Thread calibration: mean lat.: 463.970ms, rate sampling interval: 2953ms
  Thread calibration: mean lat.: 712.733ms, rate sampling interval: 5132ms
  Thread calibration: mean lat.: 956.277ms, rate sampling interval: 4603ms
  Thread calibration: mean lat.: 656.404ms, rate sampling interval: 3639ms
  Thread calibration: mean lat.: 692.732ms, rate sampling interval: 3602ms
  Thread calibration: mean lat.: 70.501ms, rate sampling interval: 350ms
  Thread calibration: mean lat.: 754.792ms, rate sampling interval: 3131ms
  Thread calibration: mean lat.: 869.397ms, rate sampling interval: 6688ms
  Thread calibration: mean lat.: 332.890ms, rate sampling interval: 2484ms
  Thread calibration: mean lat.: 1124.275ms, rate sampling interval: 6352ms
  Thread calibration: mean lat.: 1455.580ms, rate sampling interval: 7847ms
  Thread calibration: mean lat.: 306.057ms, rate sampling interval: 2562ms
  Thread calibration: mean lat.: 680.821ms, rate sampling interval: 4087ms
  Thread calibration: mean lat.: 591.264ms, rate sampling interval: 2938ms
  Thread calibration: mean lat.: 352.231ms, rate sampling interval: 2676ms
  Thread calibration: mean lat.: 945.295ms, rate sampling interval: 4927ms
  Thread calibration: mean lat.: 746.807ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 1624.478ms, rate sampling interval: 7340ms
  Thread calibration: mean lat.: 439.588ms, rate sampling interval: 3715ms
  Thread calibration: mean lat.: 781.567ms, rate sampling interval: 6139ms
  Thread calibration: mean lat.: 638.439ms, rate sampling interval: 4681ms
  Thread calibration: mean lat.: 848.897ms, rate sampling interval: 3895ms
  Thread calibration: mean lat.: 1275.098ms, rate sampling interval: 6742ms
  Thread calibration: mean lat.: 1339.536ms, rate sampling interval: 6021ms
  Thread calibration: mean lat.: 830.393ms, rate sampling interval: 7217ms
  Thread calibration: mean lat.: 377.218ms, rate sampling interval: 1998ms
  Thread calibration: mean lat.: 59.180ms, rate sampling interval: 283ms
  Thread calibration: mean lat.: 377.782ms, rate sampling interval: 2279ms
  Thread calibration: mean lat.: 1286.662ms, rate sampling interval: 6750ms
  Thread calibration: mean lat.: 1984.648ms, rate sampling interval: 7745ms
  Thread calibration: mean lat.: 885.185ms, rate sampling interval: 7065ms
  Thread calibration: mean lat.: 618.258ms, rate sampling interval: 2623ms
  Thread calibration: mean lat.: 622.173ms, rate sampling interval: 4276ms
  Thread calibration: mean lat.: 334.266ms, rate sampling interval: 3008ms
  Thread calibration: mean lat.: 1690.491ms, rate sampling interval: 7241ms
  Thread calibration: mean lat.: 1083.501ms, rate sampling interval: 7290ms
  Thread calibration: mean lat.: 831.177ms, rate sampling interval: 4167ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.75s    14.90s    1.01m    84.67%
    Req/Sec   182.18     37.56   285.00     70.16%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.84s 
 75.000%   18.58s 
 90.000%   31.78s 
 99.000%    1.01m 
 99.900%    1.22m 
 99.990%    1.29m 
 99.999%    1.30m 
100.000%    1.30m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.349     0.000000            1         1.00
      28.591     0.100000        83071         1.11
      73.279     0.200000       166154         1.25
     233.855     0.300000       249156         1.43
    2057.215     0.400000       332215         1.67
    5844.991     0.500000       415332         2.00
    7970.815     0.550000       456840         2.22
   10076.159     0.600000       498359         2.50
   12214.271     0.650000       539983         2.86
   15015.935     0.700000       581438         3.33
   18579.455     0.750000       623048         4.00
   20709.375     0.775000       643719         4.44
   23052.287     0.800000       664543         5.00
   25133.055     0.825000       685245         5.71
   26902.527     0.850000       706067         6.67
   28753.919     0.875000       726826         8.00
   29982.719     0.887500       737120         8.89
   31784.959     0.900000       747472        10.00
   34340.863     0.912500       757948        11.43
   37453.823     0.925000       768299        13.33
   41156.607     0.937500       778648        16.00
   43122.687     0.943750       783798        17.78
   45449.215     0.950000       789047        20.00
   47775.743     0.956250       794183        22.86
   50266.111     0.962500       799384        26.67
   52428.799     0.968750       804598        32.00
   53510.143     0.971875       807186        35.56
   54427.647     0.975000       809812        40.00
   55345.151     0.978125       812352        45.71
   56459.263     0.981250       814987        53.33
   57737.215     0.984375       817585        64.00
   58458.111     0.985938       818866        71.11
   59179.007     0.987500       820187        80.00
   59899.903     0.989062       821434        91.43
   60719.103     0.990625       822747       106.67
   61636.607     0.992188       824054       128.00
   62095.359     0.992969       824694       142.22
   62685.183     0.993750       825329       160.00
   63438.847     0.994531       825977       182.86
   64487.423     0.995313       826631       213.33
   65732.607     0.996094       827274       256.00
   66387.967     0.996484       827601       284.44
   67239.935     0.996875       827933       320.00
   68288.511     0.997266       828244       365.71
   69140.479     0.997656       828593       426.67
   70057.983     0.998047       828923       512.00
   70385.663     0.998242       829077       568.89
   70778.879     0.998437       829225       640.00
   71237.631     0.998633       829382       731.43
   71958.527     0.998828       829547       853.33
   73138.175     0.999023       829706      1024.00
   73727.999     0.999121       829806      1137.78
   74121.215     0.999219       829879      1280.00
   74579.967     0.999316       829966      1462.86
   74973.183     0.999414       830040      1706.67
   75300.863     0.999512       830110      2048.00
   75563.007     0.999561       830159      2275.56
   75694.079     0.999609       830193      2560.00
   75890.687     0.999658       830232      2925.71
   76218.367     0.999707       830273      3413.33
   76546.047     0.999756       830319      4096.00
   76611.583     0.999780       830332      4551.11
   76742.655     0.999805       830354      5120.00
   76873.727     0.999829       830380      5851.43
   77004.799     0.999854       830395      6826.67
   77266.943     0.999878       830419      8192.00
   77332.479     0.999890       830426      9102.22
   77463.551     0.999902       830438     10240.00
   77529.087     0.999915       830452     11702.86
   77594.623     0.999927       830463     13653.33
   77660.159     0.999939       830470     16384.00
   77660.159     0.999945       830470     18204.44
   77725.695     0.999951       830480     20480.00
   77725.695     0.999957       830480     23405.71
   77791.231     0.999963       830485     27306.67
   77856.767     0.999969       830499     32768.00
   77856.767     0.999973       830499     36408.89
   77856.767     0.999976       830499     40960.00
   77856.767     0.999979       830499     46811.43
   77856.767     0.999982       830499     54613.33
   77922.303     0.999985       830507     65536.00
   77922.303     0.999986       830507     72817.78
   77922.303     0.999988       830507     81920.00
   77922.303     0.999989       830507     93622.86
   77922.303     0.999991       830507    109226.67
   77987.839     0.999992       830509    131072.00
   77987.839     0.999993       830509    145635.56
   77987.839     0.999994       830509    163840.00
   78053.375     0.999995       830511    187245.71
   78053.375     0.999995       830511    218453.33
   78053.375     0.999996       830511    262144.00
   78118.911     0.999997       830513    291271.11
   78118.911     0.999997       830513    327680.00
   78118.911     0.999997       830513    374491.43
   78118.911     0.999998       830513    436906.67
   78118.911     0.999998       830513    524288.00
   78118.911     0.999998       830513    582542.22
   78118.911     0.999998       830513    655360.00
   78118.911     0.999999       830513    748982.86
   78184.447     0.999999       830514    873813.33
   78184.447     1.000000       830514          inf
#[Mean    =    11749.225, StdDeviation   =    14897.581]
#[Max     =    78118.912, Total count    =       830514]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  908822 requests in 2.00m, 11.11GB read
Requests/sec:   7580.37  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33589 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38845 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33589 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38845 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
a98ea03a8a3af01e86f043d838dc40622d69a30579b36ec63c223625cbffd375
2b3b0077e83ee211e68cb1d4a91eebbeba7d562df03735124189ac25125fd1a2
5171a6eaad41d4505da4dd8434add2199424b6dc16e7b9bc455f3f61d87d16b6
2b4937423f6118c0d82beb7c94ea64cacc101d8be83e760e905d1c8c00e253a0
9bedd8bcd6df0c0cf41fdb01c48c40ab65e1e1058679775ae652dd777c81541a
6b39124dae524d3fccc5f1132e3945ca721df94005e3a29d326ff87069794176
24fb7ed0e95a9e04dabae577946dc681c950684b8db3392094268e05224a3771
d4f87294927943a15b45bdeecb10463a95612eb841c037c161d3bbd0251cef0f
ff9f684a9b274c196ff8947889f0ebbabf4e52f1d823bf1ab2fd4824c8b6b683
a1b54c4d837764b9051165424fadeaeb53ee23c7f2ab9bd9bddb81cef2032ab5
9175b4c56c98c823a39478abbc6c2ee9520bd1cf7313f1ab2c50217b988a6b4d
523894130f9514c0eec38ec8c03e98dab53c5810a8b13b837eef4078d18b461c
cda353340019a3c9a4bb45b08bb0815aa6bb2566fa074f760b02c225c88cf372
168222a7c991913757218389431449bbe4f6633b70bb8017d48b08e3ce6f269a
bca27e6b207b4b3e38d940ab3f63ecab018f22ccdd86216ff54a08417478b170
5e19721e7005e249d9f41d83f6d7f2cfaad678565232c201aecb18e43c1f7ce4
c6496eed20a57385fab4f7ab574cebeccbd8b326dc1b13e9619332af8fd76534
46adef132a5e9d7c43ceb9801aa786b8e76509498c4888a1beb1967e5417adac
026f6d529f0af1351db0a4d16f39d2c40a3729ba182c7c8d660c3a57b0af269e
2c347814169082874147c72212c1d96e8382a4e0a46af44e2758807b6ccd7af3
ec4f2d8295bc57836e913d5583082179bae9afc338e193ddb228be6c3ae7704c
b76bb18a2726a0e07a91ed88a09f8e2f682b2f9377f6b4a4b82560b3fd13a0c9
940b5a551a65f76147041faf50baeb1a3adf15f7ad7d9d2e2fd00414a9307380
b658fa1025157ae8e95bedecc9699b1916495334593057bef7074e8ea3b90e4a
f3e8777268e3c888c6de2c580e5314028a5310703b844eea8e5b15ba306a7a5a
ba47ec2e66e669b8b8fbacb3b5b95aeea3789a5fbd3004c2dcdebf7dd3a86b7a
2fec101b141b71ea67b9522e5ff53be0efc6c81e2b2700d62cb6312f78109d1e
a1818de9f39fb0e626d71bf509323d014d87730aa23c6a15b620117b466cc027
05f529f1746aa3953e2dee327d55682953c6f0e01eee3ecf6ca0caf5048944bf
c8efb15baf21f5eb1c626dccefd282184d938ccd2cdafaa1f24d61080da3f0c0
b8a9f74a944280c3d7c6a565aa294279ee062d5b26768558ee0168e22f98e402

Total reclaimed space: 4.424GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 14-43-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-1.log -b True -m m -M 1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 14-43-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-home-timeline,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-1.log', 'mode': 'm', 'memnode': '1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-1
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-1



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-1

Result: sha256:3a037992a43c8cbcf2aacec6a6ab7b796a19d4569351f45b6adc2b710b67a470


Install numactl tools on docker image: openresty-thrift-numa-membind-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-1

Result: sha256:07703521859d391b85af04d7ac81ed6512fb13b3daa5cf4145e22a9af85e5b30


Install numactl tools on docker image: media-frontend-numa-membind-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-1

Result: sha256:c932ab5282ea094a8e96725f89e9f0f581a46242b05dc4c8e044ea1c01211051


Install numactl tools on docker image: redis-numa-membind-1
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 10 21:43 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-1



CMD: docker commit socialnetwork_user-timeline-redis_2 redis-numa-membind-1

Result: sha256:21bba7e0db25e62aba3d9d00c9dbd4a75c2005f46514462e62bada6f273bfd43


Install numactl tools on docker image: mongo-numa-membind-1
CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 10 21:43 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-1



CMD: docker commit socialnetwork_social-graph-mongodb_1 mongo-numa-membind-1

Result: sha256:3f3e312d6d00ed393bfea887f684d81b7ecc9b060434c18ccd1bda2c798eaeec


Install numactl tools on docker image: memcached-numa-membind-1
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 10 21:43 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-1



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-membind-1

Result: sha256:4a9325738c42c006f47aebdc660541375856871572b616a0fef514077d574e99


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
da8b2e20e456c7443e19a2a17137d598da8c6c7b9a20e0c90117fd4fab50f16f
2d67f579e6fa5f514c000d9d71f2709e773cc70320557b8cffdebd1a488c15bd
1eee58ade2ff6119ade1df8ff9355043c8ebe1142257438a8a9a059a324624ac
044ac585ef8b1e355ee87c9eaa83346b474c21ddf87d7449b62f9309158311d3
b293f7b78dc4f913ba4fefa3d16f22e704d91e6324175504025490e8a796d616
d951c11fc2f5588226f93fbdfd93f4234c052aa69524a57f746b00d8690fdbeb
8f4b9430908fa54fa97a4fcde80214ffac43eee9d1f97b82e120ba1f22c2a182
d367ccf46dd967ff44c520851c2250f1e444f87e2392db9109c18ec5f3961149
bd26db9d43ac35b7e1d34486122a35dbf7803b8a76d559e35b048faf08e03166
5e56ed18d863e155cf8b04c30a91dd97e4f218da0f01dc16d80a28258c4081eb
c4be6701e73971e782737832c7d361b6c7ad4a6fd3caad9c9a6686e51299eb04
915804ff6dddb19314cf5d6a06f8c4121bbd58b17e4638f27cb4b84a7b76efaf
db05b0af4357debb1c9c8ef8464d9355ba5a04c56e406c3d78f02f59770621f3
d519c8f34cffd9e266b503c279c7873373728dd94c0f84eb1975d67c659e8c49
79dd53c9bcbe0c4e6afecc3aa78ca282ed7724e1d78e1b023ead7a6fcf4ceb3b
202a8686d6aca788486f4c9765a3d49c2699d1e302841997f2dead9355ca9b0d
0959b785528b515469672cb2df28518d42ac9b64570e3d7fcf07889aa81fb7a4
28bfcdc205b89ce14f69a82798008955ef8892dfd2dc8ca45076733a55da0280
f9e989c9c7ec38b4a638785762d6d47f737786ebdf41c3ebad0e370846b4c357
fa8e47d6934fd5155ad99ebedf37bf4382fa08e13719ac390fb4395a5e019e58
f33362b4cecc218a929e49810762849f87a099d80d3253c0d9298037b1f4ada9
4accd019c2edb42b43f0c95f77e3256e2a43bd79a4a2a348a92a2945a18e3449
b6ae7a568c5b3007fbfb5dc99ebf3a18cffd3e594479f4ec725504db73dc19ba
b8e346f04f45be4efdb76561c3af8bd9561c3ec2c970f9653ad077c88b30166b
7f8e70d9df714532d3ceda8ca19cadbb5a19817eabf77db4ccbc8cbbb2450ff4
a95531c3948183fec98a7355e4c061cbc0876e30d50e42ecb2f2d1b171cb606c
acdc8e89025fc99c7492b0bb96362c0f2899824c53883820205750f789d5bd3e
80c8bf40715c5239f0fb7730f23387395cb983678918ef9196fd354244e828bb
5340c38b5487051d9b5f6ce3c7e71ccef57033d3c9ded0b1faffd058e95d2125
2245da2a7ccb3b115dfa85496f9e622fae2c41d1d4d1395c5ee01c944d01c774
a9c40e260e67dbe462fc5d25d12c8838089305677528594f488496a4153e7969

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55413 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56524 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130582 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55413 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56524 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130582 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Failed: 2267 Error: Follow Failed: CLUSTERDOWN The cluster is down
Succeeded: 35357


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:107
cluster_stats_messages_pong_sent:116
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:224
cluster_stats_messages_ping_received:116
cluster_stats_messages_pong_received:108
cluster_stats_messages_received:224
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:108
cluster_stats_messages_pong_sent:100
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:209
cluster_stats_messages_ping_received:100
cluster_stats_messages_pong_received:109
cluster_stats_messages_received:209
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:113
cluster_stats_messages_pong_sent:120
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:234
cluster_stats_messages_ping_received:120
cluster_stats_messages_pong_received:114
cluster_stats_messages_received:234
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.202ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.531ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.979ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 5.234ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.776ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.239ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.922ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.287ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 9.040ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.573ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.475ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 5.140ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.149ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.120ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 9.547ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.152ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.568ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 10.100ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.311ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.742ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 5.695ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 9.288ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 5.174ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 8.679ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.552ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 8.189ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.252ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.436ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.659ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 9.714ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 7.412ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.989ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.103ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.546ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.049ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.724ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.125ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.091ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 9.691ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.365ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.608ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.894ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.109ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.219ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 5.882ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.712ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.294ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.538ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.79ms    1.07ms   4.90ms   96.36%
    Req/Sec    20.60     37.72   153.00     79.91%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.70ms
 75.000%    2.95ms
 90.000%    3.28ms
 99.000%    4.90ms
 99.900%   16.48ms
 99.990%   45.41ms
 99.999%   51.42ms
100.000%   51.49ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.336     0.000000            1         1.00
       2.199     0.100000        10612         1.11
       2.409     0.200000        21252         1.25
       2.527     0.300000        31902         1.43
       2.619     0.400000        42419         1.67
       2.703     0.500000        53057         2.00
       2.747     0.550000        58449         2.22
       2.789     0.600000        63526         2.50
       2.835     0.650000        68844         2.86
       2.887     0.700000        74150         3.33
       2.947     0.750000        79418         4.00
       2.983     0.775000        82124         4.44
       3.023     0.800000        84800         5.00
       3.067     0.825000        87366         5.71
       3.119     0.850000        90027         6.67
       3.187     0.875000        92671         8.00
       3.231     0.887500        93967         8.89
       3.279     0.900000        95262        10.00
       3.337     0.912500        96582        11.43
       3.409     0.925000        97903        13.33
       3.501     0.937500        99246        16.00
       3.555     0.943750        99891        17.78
       3.617     0.950000       100549        20.00
       3.689     0.956250       101214        22.86
       3.779     0.962500       101881        26.67
       3.879     0.968750       102539        32.00
       3.945     0.971875       102871        35.56
       4.025     0.975000       103196        40.00
       4.123     0.978125       103536        45.71
       4.251     0.981250       103859        53.33
       4.423     0.984375       104191        64.00
       4.527     0.985938       104361        71.11
       4.659     0.987500       104519        80.00
       4.799     0.989062       104684        91.43
       4.987     0.990625       104848       106.67
       5.275     0.992188       105014       128.00
       5.431     0.992969       105096       142.22
       5.703     0.993750       105180       160.00
       6.051     0.994531       105262       182.86
       6.419     0.995313       105344       213.33
       7.147     0.996094       105427       256.00
       7.603     0.996484       105468       284.44
       8.131     0.996875       105510       320.00
       8.727     0.997266       105552       365.71
       9.543     0.997656       105592       426.67
      10.679     0.998047       105634       512.00
      11.423     0.998242       105655       568.89
      12.727     0.998437       105675       640.00
      13.375     0.998633       105696       731.43
      14.855     0.998828       105716       853.33
      16.815     0.999023       105737      1024.00
      18.767     0.999121       105748      1137.78
      20.159     0.999219       105758      1280.00
      22.095     0.999316       105768      1462.86
      23.871     0.999414       105778      1706.67
      25.391     0.999512       105789      2048.00
      25.903     0.999561       105794      2275.56
      26.335     0.999609       105799      2560.00
      27.695     0.999658       105804      2925.71
      28.623     0.999707       105809      3413.33
      32.271     0.999756       105815      4096.00
      34.399     0.999780       105817      4551.11
      35.647     0.999805       105820      5120.00
      39.359     0.999829       105822      5851.43
      40.511     0.999854       105825      6826.67
      44.735     0.999878       105828      8192.00
      45.407     0.999890       105829      9102.22
      45.471     0.999902       105830     10240.00
      46.591     0.999915       105831     11702.86
      47.135     0.999927       105833     13653.33
      47.679     0.999939       105834     16384.00
      48.607     0.999945       105835     18204.44
      48.607     0.999951       105835     20480.00
      48.863     0.999957       105836     23405.71
      49.247     0.999963       105837     27306.67
      49.247     0.999969       105837     32768.00
      50.399     0.999973       105838     36408.89
      50.399     0.999976       105838     40960.00
      50.399     0.999979       105838     46811.43
      51.423     0.999982       105839     54613.33
      51.423     0.999985       105839     65536.00
      51.423     0.999986       105839     72817.78
      51.423     0.999988       105839     81920.00
      51.423     0.999989       105839     93622.86
      51.487     0.999991       105840    109226.67
      51.487     1.000000       105840          inf
#[Mean    =        2.791, StdDeviation   =        1.073]
#[Max     =       51.456, Total count    =       105840]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115385 requests in 2.00m, 23.66MB read
Requests/sec:    961.49  
Transfer/sec:    201.87KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55309 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53944 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55309 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53944 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2966.003ms, rate sampling interval: 10764ms
  Thread calibration: mean lat.: 2896.758ms, rate sampling interval: 9986ms
  Thread calibration: mean lat.: 2942.682ms, rate sampling interval: 10616ms
  Thread calibration: mean lat.: 2986.758ms, rate sampling interval: 11018ms
  Thread calibration: mean lat.: 3254.884ms, rate sampling interval: 10977ms
  Thread calibration: mean lat.: 3062.910ms, rate sampling interval: 10928ms
  Thread calibration: mean lat.: 2935.045ms, rate sampling interval: 11018ms
  Thread calibration: mean lat.: 3131.054ms, rate sampling interval: 11059ms
  Thread calibration: mean lat.: 3174.937ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 2814.463ms, rate sampling interval: 10313ms
  Thread calibration: mean lat.: 3108.838ms, rate sampling interval: 11108ms
  Thread calibration: mean lat.: 2985.672ms, rate sampling interval: 10723ms
  Thread calibration: mean lat.: 3109.326ms, rate sampling interval: 11214ms
  Thread calibration: mean lat.: 2936.127ms, rate sampling interval: 10330ms
  Thread calibration: mean lat.: 2839.415ms, rate sampling interval: 10485ms
  Thread calibration: mean lat.: 2958.605ms, rate sampling interval: 10870ms
  Thread calibration: mean lat.: 2875.975ms, rate sampling interval: 10616ms
  Thread calibration: mean lat.: 3285.293ms, rate sampling interval: 11190ms
  Thread calibration: mean lat.: 2987.361ms, rate sampling interval: 10780ms
  Thread calibration: mean lat.: 3259.879ms, rate sampling interval: 11255ms
  Thread calibration: mean lat.: 3110.879ms, rate sampling interval: 11026ms
  Thread calibration: mean lat.: 3198.010ms, rate sampling interval: 11059ms
  Thread calibration: mean lat.: 3108.210ms, rate sampling interval: 10600ms
  Thread calibration: mean lat.: 3268.370ms, rate sampling interval: 11042ms
  Thread calibration: mean lat.: 3326.885ms, rate sampling interval: 11362ms
  Thread calibration: mean lat.: 3473.902ms, rate sampling interval: 10788ms
  Thread calibration: mean lat.: 3574.687ms, rate sampling interval: 11722ms
  Thread calibration: mean lat.: 3283.078ms, rate sampling interval: 11280ms
  Thread calibration: mean lat.: 3467.392ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 3492.914ms, rate sampling interval: 11362ms
  Thread calibration: mean lat.: 3784.619ms, rate sampling interval: 12173ms
  Thread calibration: mean lat.: 3569.054ms, rate sampling interval: 11771ms
  Thread calibration: mean lat.: 3545.042ms, rate sampling interval: 11452ms
  Thread calibration: mean lat.: 3498.885ms, rate sampling interval: 11345ms
  Thread calibration: mean lat.: 3656.208ms, rate sampling interval: 11878ms
  Thread calibration: mean lat.: 3546.159ms, rate sampling interval: 11313ms
  Thread calibration: mean lat.: 3758.800ms, rate sampling interval: 11911ms
  Thread calibration: mean lat.: 3594.960ms, rate sampling interval: 11329ms
  Thread calibration: mean lat.: 3449.119ms, rate sampling interval: 11132ms
  Thread calibration: mean lat.: 3703.651ms, rate sampling interval: 12009ms
  Thread calibration: mean lat.: 3304.635ms, rate sampling interval: 11173ms
  Thread calibration: mean lat.: 3397.178ms, rate sampling interval: 11460ms
  Thread calibration: mean lat.: 2721.021ms, rate sampling interval: 9355ms
  Thread calibration: mean lat.: 3471.738ms, rate sampling interval: 11157ms
  Thread calibration: mean lat.: 3640.398ms, rate sampling interval: 11739ms
  Thread calibration: mean lat.: 3463.368ms, rate sampling interval: 10878ms
  Thread calibration: mean lat.: 3709.007ms, rate sampling interval: 11788ms
  Thread calibration: mean lat.: 3789.454ms, rate sampling interval: 12197ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    39.71s    19.49s    1.22m    57.81%
    Req/Sec    39.79      0.80    42.00     98.22%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.62s 
 75.000%    0.94m 
 90.000%    1.11m 
 99.000%    1.22m 
 99.900%    1.26m 
 99.990%    1.27m 
 99.999%    1.28m 
100.000%    1.28m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4870.143     0.000000            1         1.00
   12869.631     0.100000        21286         1.11
   19480.575     0.200000        42553         1.25
   26198.015     0.300000        63806         1.43
   32833.535     0.400000        85073         1.67
   39616.511     0.500000       106362         2.00
   43057.151     0.550000       117015         2.22
   46399.487     0.600000       127617         2.50
   49676.287     0.650000       138273         2.86
   52985.855     0.700000       148857         3.33
   56459.263     0.750000       159527         4.00
   58195.967     0.775000       164837         4.44
   59998.207     0.800000       170175         5.00
   61734.911     0.825000       175454         5.71
   63438.847     0.850000       180772         6.67
   65110.015     0.875000       186096         8.00
   65994.751     0.887500       188821         8.89
   66846.719     0.900000       191498        10.00
   67698.687     0.912500       194206        11.43
   68550.655     0.925000       196894        13.33
   69337.087     0.937500       199393        16.00
   69795.839     0.943750       200866        17.78
   70189.055     0.950000       202177        20.00
   70582.271     0.956250       203386        22.86
   71041.023     0.962500       204848        26.67
   71499.775     0.968750       206157        32.00
   71696.383     0.971875       206695        35.56
   71958.527     0.975000       207418        40.00
   72220.671     0.978125       208097        45.71
   72482.815     0.981250       208743        53.33
   72810.495     0.984375       209445        64.00
   72941.567     0.985938       209758        71.11
   73072.639     0.987500       210046        80.00
   73269.247     0.989062       210446        91.43
   73400.319     0.990625       210690       106.67
   73596.927     0.992188       211023       128.00
   73727.999     0.992969       211237       142.22
   73793.535     0.993750       211337       160.00
   73924.607     0.994531       211493       182.86
   74121.215     0.995313       211702       213.33
   74317.823     0.996094       211869       256.00
   74383.359     0.996484       211930       284.44
   74514.431     0.996875       212022       320.00
   74579.967     0.997266       212069       365.71
   74776.575     0.997656       212188       426.67
   74907.647     0.998047       212265       512.00
   74973.183     0.998242       212298       568.89
   75038.719     0.998437       212322       640.00
   75169.791     0.998633       212369       731.43
   75300.863     0.998828       212410       853.33
   75431.935     0.999023       212459      1024.00
   75497.471     0.999121       212483      1137.78
   75563.007     0.999219       212501      1280.00
   75628.543     0.999316       212519      1462.86
   75694.079     0.999414       212540      1706.67
   75759.615     0.999512       212554      2048.00
   75825.151     0.999561       212574      2275.56
   75825.151     0.999609       212574      2560.00
   75890.687     0.999658       212585      2925.71
   75956.223     0.999707       212594      3413.33
   76021.759     0.999756       212601      4096.00
   76087.295     0.999780       212610      4551.11
   76087.295     0.999805       212610      5120.00
   76152.831     0.999829       212617      5851.43
   76218.367     0.999854       212624      6826.67
   76283.903     0.999878       212629      8192.00
   76283.903     0.999890       212629      9102.22
   76349.439     0.999902       212633     10240.00
   76349.439     0.999915       212633     11702.86
   76414.975     0.999927       212636     13653.33
   76480.511     0.999939       212640     16384.00
   76480.511     0.999945       212640     18204.44
   76480.511     0.999951       212640     20480.00
   76546.047     0.999957       212645     23405.71
   76546.047     0.999963       212645     27306.67
   76546.047     0.999969       212645     32768.00
   76546.047     0.999973       212645     36408.89
   76546.047     0.999976       212645     40960.00
   76611.583     0.999979       212648     46811.43
   76611.583     0.999982       212648     54613.33
   76611.583     0.999985       212648     65536.00
   76611.583     0.999986       212648     72817.78
   76611.583     0.999988       212648     81920.00
   76611.583     0.999989       212648     93622.86
   76677.119     0.999991       212650    109226.67
   76677.119     1.000000       212650          inf
#[Mean    =    39706.311, StdDeviation   =    19489.690]
#[Max     =    76611.584, Total count    =       212650]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  231432 requests in 2.00m, 47.45MB read
Requests/sec:   1929.40  
Transfer/sec:    405.10KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55420 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49099 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55420 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49099 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4466.415ms, rate sampling interval: 16269ms
  Thread calibration: mean lat.: 4388.615ms, rate sampling interval: 16154ms
  Thread calibration: mean lat.: 4454.712ms, rate sampling interval: 15966ms
  Thread calibration: mean lat.: 4423.782ms, rate sampling interval: 16302ms
  Thread calibration: mean lat.: 4436.488ms, rate sampling interval: 16211ms
  Thread calibration: mean lat.: 4357.501ms, rate sampling interval: 16220ms
  Thread calibration: mean lat.: 4447.598ms, rate sampling interval: 16302ms
  Thread calibration: mean lat.: 4588.163ms, rate sampling interval: 16261ms
  Thread calibration: mean lat.: 4632.330ms, rate sampling interval: 16629ms
  Thread calibration: mean lat.: 4570.864ms, rate sampling interval: 16302ms
  Thread calibration: mean lat.: 4450.069ms, rate sampling interval: 16130ms
  Thread calibration: mean lat.: 4477.252ms, rate sampling interval: 16310ms
  Thread calibration: mean lat.: 4462.073ms, rate sampling interval: 16220ms
  Thread calibration: mean lat.: 4511.974ms, rate sampling interval: 16179ms
  Thread calibration: mean lat.: 4471.784ms, rate sampling interval: 16359ms
  Thread calibration: mean lat.: 4619.014ms, rate sampling interval: 16449ms
  Thread calibration: mean lat.: 4489.495ms, rate sampling interval: 15966ms
  Thread calibration: mean lat.: 4511.837ms, rate sampling interval: 16220ms
  Thread calibration: mean lat.: 4454.298ms, rate sampling interval: 15982ms
  Thread calibration: mean lat.: 4448.140ms, rate sampling interval: 16228ms
  Thread calibration: mean lat.: 4415.500ms, rate sampling interval: 16007ms
  Thread calibration: mean lat.: 4059.933ms, rate sampling interval: 14917ms
  Thread calibration: mean lat.: 4507.484ms, rate sampling interval: 16097ms
  Thread calibration: mean lat.: 4511.075ms, rate sampling interval: 16400ms
  Thread calibration: mean lat.: 4527.365ms, rate sampling interval: 16211ms
  Thread calibration: mean lat.: 4595.056ms, rate sampling interval: 16408ms
  Thread calibration: mean lat.: 4475.679ms, rate sampling interval: 16203ms
  Thread calibration: mean lat.: 4464.411ms, rate sampling interval: 16261ms
  Thread calibration: mean lat.: 4332.311ms, rate sampling interval: 15794ms
  Thread calibration: mean lat.: 4675.292ms, rate sampling interval: 16637ms
  Thread calibration: mean lat.: 4550.054ms, rate sampling interval: 16424ms
  Thread calibration: mean lat.: 4615.542ms, rate sampling interval: 16498ms
  Thread calibration: mean lat.: 4380.669ms, rate sampling interval: 16302ms
  Thread calibration: mean lat.: 4400.413ms, rate sampling interval: 15900ms
  Thread calibration: mean lat.: 4489.927ms, rate sampling interval: 16416ms
  Thread calibration: mean lat.: 4535.565ms, rate sampling interval: 16310ms
  Thread calibration: mean lat.: 4562.518ms, rate sampling interval: 16383ms
  Thread calibration: mean lat.: 4567.865ms, rate sampling interval: 16408ms
  Thread calibration: mean lat.: 4521.545ms, rate sampling interval: 16236ms
  Thread calibration: mean lat.: 4423.908ms, rate sampling interval: 16187ms
  Thread calibration: mean lat.: 4514.809ms, rate sampling interval: 16080ms
  Thread calibration: mean lat.: 4530.148ms, rate sampling interval: 16367ms
  Thread calibration: mean lat.: 4404.164ms, rate sampling interval: 16121ms
  Thread calibration: mean lat.: 4434.900ms, rate sampling interval: 16162ms
  Thread calibration: mean lat.: 4405.156ms, rate sampling interval: 16064ms
  Thread calibration: mean lat.: 4510.137ms, rate sampling interval: 16343ms
  Thread calibration: mean lat.: 4506.973ms, rate sampling interval: 16375ms
  Thread calibration: mean lat.: 4493.328ms, rate sampling interval: 16113ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.97m    28.68s    1.79m    57.68%
    Req/Sec    19.59      0.53    20.00     99.31%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.97m 
 75.000%    1.39m 
 90.000%    1.64m 
 99.000%    1.79m 
 99.900%    1.81m 
 99.990%    1.82m 
 99.999%    1.82m 
100.000%    1.82m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    8146.943     0.000000            1         1.00
   18825.215     0.100000        10566         1.11
   28688.383     0.200000        21139         1.25
   38502.399     0.300000        31701         1.43
   48365.567     0.400000        42286         1.67
   58097.663     0.500000        52829         2.00
   63176.703     0.550000        58137         2.22
   68157.439     0.600000        63420         2.50
   73334.783     0.650000        68704         2.86
   78315.519     0.700000        73979         3.33
   83427.327     0.750000        79293         4.00
   85917.695     0.775000        81913         4.44
   88342.527     0.800000        84575         5.00
   90832.895     0.825000        87228         5.71
   93257.727     0.850000        89806         6.67
   95813.631     0.875000        92501         8.00
   96993.279     0.887500        93783         8.89
   98238.463     0.900000        95141        10.00
   99483.647     0.912500        96448        11.43
  100728.831     0.925000        97746        13.33
  102039.551     0.937500        99084        16.00
  102629.375     0.943750        99706        17.78
  103219.199     0.950000       100375        20.00
  103874.559     0.956250       101086        22.86
  104464.383     0.962500       101713        26.67
  105119.743     0.968750       102390        32.00
  105447.423     0.971875       102714        35.56
  105775.103     0.975000       103040        40.00
  106102.783     0.978125       103375        45.71
  106430.463     0.981250       103698        53.33
  106758.143     0.984375       104014        64.00
  106954.751     0.985938       104215        71.11
  107085.823     0.987500       104344        80.00
  107282.431     0.989062       104556        91.43
  107413.503     0.990625       104663       106.67
  107610.111     0.992188       104861       128.00
  107675.647     0.992969       104928       142.22
  107741.183     0.993750       104991       160.00
  107872.255     0.994531       105110       182.86
  107937.791     0.995313       105160       213.33
  108068.863     0.996094       105265       256.00
  108134.399     0.996484       105315       284.44
  108199.935     0.996875       105358       320.00
  108199.935     0.997266       105358       365.71
  108331.007     0.997656       105433       426.67
  108396.543     0.998047       105469       512.00
  108396.543     0.998242       105469       568.89
  108462.079     0.998437       105513       640.00
  108462.079     0.998633       105513       731.43
  108527.615     0.998828       105535       853.33
  108593.151     0.999023       105554      1024.00
  108593.151     0.999121       105554      1137.78
  108658.687     0.999219       105573      1280.00
  108724.223     0.999316       105592      1462.86
  108724.223     0.999414       105592      1706.67
  108789.759     0.999512       105606      2048.00
  108789.759     0.999561       105606      2275.56
  108789.759     0.999609       105606      2560.00
  108855.295     0.999658       105615      2925.71
  108920.831     0.999707       105623      3413.33
  108920.831     0.999756       105623      4096.00
  108920.831     0.999780       105623      4551.11
  108986.367     0.999805       105629      5120.00
  108986.367     0.999829       105629      5851.43
  109051.903     0.999854       105636      6826.67
  109051.903     0.999878       105636      8192.00
  109051.903     0.999890       105636      9102.22
  109051.903     0.999902       105636     10240.00
  109117.439     0.999915       105641     11702.86
  109117.439     0.999927       105641     13653.33
  109117.439     0.999939       105641     16384.00
  109117.439     0.999945       105641     18204.44
  109117.439     0.999951       105641     20480.00
  109182.975     0.999957       105643     23405.71
  109182.975     0.999963       105643     27306.67
  109182.975     0.999969       105643     32768.00
  109248.511     0.999973       105645     36408.89
  109248.511     0.999976       105645     40960.00
  109248.511     0.999979       105645     46811.43
  109248.511     0.999982       105645     54613.33
  109248.511     0.999985       105645     65536.00
  109248.511     0.999986       105645     72817.78
  109248.511     0.999988       105645     81920.00
  109248.511     0.999989       105645     93622.86
  109379.583     0.999991       105646    109226.67
  109379.583     1.000000       105646          inf
#[Mean    =    58404.788, StdDeviation   =    28683.147]
#[Max     =   109314.048, Total count    =       105646]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115293 requests in 2.00m, 23.64MB read
Requests/sec:    961.01  
Transfer/sec:    201.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55196 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43956 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55196 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43956 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.368ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.773ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.440ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.341ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.991ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.910ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.433ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.982ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.355ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.905ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.219ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.346ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.871ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.005ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.148ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.333ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.500ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.520ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.230ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.497ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.364ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.215ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 12.433ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.193ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.034ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.365ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.021ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.584ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.348ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.232ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.524ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.142ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.682ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.570ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.726ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.171ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.419ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.890ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.115ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.766ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.229ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.998ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.436ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.152ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.432ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.801ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.967ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.951ms, rate sampling interval: 33ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.39ms    3.06ms  22.83ms   83.51%
    Req/Sec    20.19     26.04   103.00     87.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.72ms
 75.000%   12.26ms
 90.000%   14.79ms
 99.000%   22.83ms
 99.900%   31.49ms
 99.990%   45.57ms
 99.999%   63.17ms
100.000%   67.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.023     0.000000            1         1.00
       8.823     0.100000        10643         1.11
       9.431     0.200000        21175         1.25
       9.879     0.300000        31832         1.43
      10.287     0.400000        42389         1.67
      10.719     0.500000        53050         2.00
      10.951     0.550000        58288         2.22
      11.207     0.600000        63574         2.50
      11.495     0.650000        68812         2.86
      11.839     0.700000        74099         3.33
      12.263     0.750000        79455         4.00
      12.511     0.775000        82058         4.44
      12.791     0.800000        84713         5.00
      13.111     0.825000        87309         5.71
      13.511     0.850000        89960         6.67
      14.039     0.875000        92620         8.00
      14.383     0.887500        93929         8.89
      14.791     0.900000        95242        10.00
      15.287     0.912500        96577        11.43
      15.879     0.925000        97893        13.33
      16.591     0.937500        99237        16.00
      16.959     0.943750        99879        17.78
      17.359     0.950000       100540        20.00
      17.855     0.956250       101207        22.86
      18.367     0.962500       101857        26.67
      18.991     0.968750       102521        32.00
      19.359     0.971875       102854        35.56
      19.743     0.975000       103180        40.00
      20.191     0.978125       103509        45.71
      20.719     0.981250       103842        53.33
      21.327     0.984375       104173        64.00
      21.663     0.985938       104339        71.11
      22.063     0.987500       104502        80.00
      22.527     0.989062       104667        91.43
      23.055     0.990625       104832       106.67
      23.631     0.992188       105001       128.00
      23.983     0.992969       105080       142.22
      24.399     0.993750       105162       160.00
      24.847     0.994531       105245       182.86
      25.391     0.995313       105327       213.33
      26.063     0.996094       105411       256.00
      26.511     0.996484       105451       284.44
      26.927     0.996875       105493       320.00
      27.487     0.997266       105534       365.71
      28.127     0.997656       105575       426.67
      28.735     0.998047       105617       512.00
      29.263     0.998242       105637       568.89
      29.679     0.998437       105658       640.00
      30.239     0.998633       105679       731.43
      30.911     0.998828       105699       853.33
      31.583     0.999023       105720      1024.00
      31.855     0.999121       105730      1137.78
      32.447     0.999219       105741      1280.00
      33.023     0.999316       105751      1462.86
      33.695     0.999414       105761      1706.67
      34.335     0.999512       105772      2048.00
      34.623     0.999561       105777      2275.56
      35.167     0.999609       105782      2560.00
      35.871     0.999658       105787      2925.71
      36.383     0.999707       105792      3413.33
      37.503     0.999756       105798      4096.00
      37.919     0.999780       105801      4551.11
      38.751     0.999805       105803      5120.00
      39.231     0.999829       105805      5851.43
      40.031     0.999854       105808      6826.67
      44.607     0.999878       105811      8192.00
      45.567     0.999890       105812      9102.22
      45.663     0.999902       105813     10240.00
      45.919     0.999915       105814     11702.86
      48.159     0.999927       105816     13653.33
      48.223     0.999939       105817     16384.00
      49.599     0.999945       105818     18204.44
      49.599     0.999951       105818     20480.00
      50.239     0.999957       105819     23405.71
      52.127     0.999963       105820     27306.67
      52.127     0.999969       105820     32768.00
      62.879     0.999973       105821     36408.89
      62.879     0.999976       105821     40960.00
      62.879     0.999979       105821     46811.43
      63.167     0.999982       105822     54613.33
      63.167     0.999985       105822     65536.00
      63.167     0.999986       105822     72817.78
      63.167     0.999988       105822     81920.00
      63.167     0.999989       105822     93622.86
      67.647     0.999991       105823    109226.67
      67.647     1.000000       105823          inf
#[Mean    =       11.389, StdDeviation   =        3.059]
#[Max     =       67.584, Total count    =       105823]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115327 requests in 2.00m, 1.56GB read
Requests/sec:    961.24  
Transfer/sec:     13.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55157 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 37550 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55157 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 37550 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 10.383ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 13.335ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 11.552ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.254ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 9.722ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.664ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.903ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 10.666ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.469ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.462ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 13.862ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.417ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 8.537ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.385ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.682ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.057ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 15.477ms, rate sampling interval: 52ms
  Thread calibration: mean lat.: 11.066ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.904ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 9.221ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 14.416ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 11.906ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 13.866ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.982ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.823ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 12.555ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.189ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.349ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.668ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.443ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 10.703ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 13.674ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 13.223ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 9.081ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.774ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 9.403ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.005ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 10.465ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 10.282ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 8.251ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.583ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 13.210ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.824ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 12.025ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.732ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 14.163ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.665ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.125ms, rate sampling interval: 35ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.58ms   39.74ms 160.26ms   98.28%
    Req/Sec   105.31     56.97   259.00     70.92%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.99ms
 75.000%    8.62ms
 90.000%   13.29ms
 99.000%  160.26ms
 99.900%  590.85ms
 99.990%  791.55ms
 99.999%  857.60ms
100.000%  916.99ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.042     0.000000            1         1.00
       3.709     0.100000        55046         1.11
       4.259     0.200000       110302         1.25
       4.783     0.300000       165037         1.43
       5.343     0.400000       220056         1.67
       5.991     0.500000       274955         2.00
       6.371     0.550000       302479         2.22
       6.795     0.600000       329788         2.50
       7.291     0.650000       357256         2.86
       7.883     0.700000       384858         3.33
       8.623     0.750000       412289         4.00
       9.071     0.775000       425968         4.44
       9.599     0.800000       439782         5.00
      10.231     0.825000       453500         5.71
      10.983     0.850000       467168         6.67
      11.959     0.875000       480941         8.00
      12.559     0.887500       487784         8.89
      13.287     0.900000       494670        10.00
      14.183     0.912500       501562        11.43
      15.295     0.925000       508389        13.33
      16.815     0.937500       515268        16.00
      17.775     0.943750       518696        17.78
      19.007     0.950000       522148        20.00
      20.495     0.956250       525562        22.86
      22.543     0.962500       529004        26.67
      25.663     0.968750       532443        32.00
      27.967     0.971875       534158        35.56
      31.055     0.975000       535865        40.00
      35.487     0.978125       537586        45.71
      43.935     0.981250       539303        53.33
      62.655     0.984375       541017        64.00
      80.895     0.985938       541877        71.11
     106.047     0.987500       542734        80.00
     137.471     0.989062       543596        91.43
     176.895     0.990625       544453       106.67
     225.791     0.992188       545311       128.00
     254.591     0.992969       545739       142.22
     281.343     0.993750       546170       160.00
     313.599     0.994531       546599       182.86
     345.087     0.995313       547031       213.33
     386.047     0.996094       547461       256.00
     405.759     0.996484       547672       284.44
     427.519     0.996875       547888       320.00
     450.815     0.997266       548101       365.71
     474.111     0.997656       548316       426.67
     502.271     0.998047       548531       512.00
     516.351     0.998242       548638       568.89
     536.063     0.998437       548745       640.00
     554.495     0.998633       548852       731.43
     572.415     0.998828       548961       853.33
     594.943     0.999023       549067      1024.00
     605.183     0.999121       549122      1137.78
     617.471     0.999219       549174      1280.00
     633.343     0.999316       549229      1462.86
     644.095     0.999414       549282      1706.67
     658.431     0.999512       549335      2048.00
     664.575     0.999561       549363      2275.56
     674.303     0.999609       549389      2560.00
     688.127     0.999658       549416      2925.71
     698.879     0.999707       549444      3413.33
     718.847     0.999756       549470      4096.00
     733.183     0.999780       549483      4551.11
     743.935     0.999805       549497      5120.00
     757.759     0.999829       549510      5851.43
     773.119     0.999854       549523      6826.67
     785.919     0.999878       549536      8192.00
     790.015     0.999890       549543      9102.22
     793.087     0.999902       549552     10240.00
     797.183     0.999915       549557     11702.86
     800.255     0.999927       549563     13653.33
     809.983     0.999939       549570     16384.00
     815.103     0.999945       549573     18204.44
     821.759     0.999951       549577     20480.00
     823.295     0.999957       549580     23405.71
     826.879     0.999963       549583     27306.67
     833.535     0.999969       549587     32768.00
     836.607     0.999973       549588     36408.89
     838.143     0.999976       549590     40960.00
     840.191     0.999979       549592     46811.43
     840.703     0.999982       549593     54613.33
     844.799     0.999985       549595     65536.00
     846.847     0.999986       549596     72817.78
     849.919     0.999988       549597     81920.00
     857.599     0.999989       549598     93622.86
     857.599     0.999991       549598    109226.67
     861.695     0.999992       549599    131072.00
     863.231     0.999993       549600    145635.56
     863.231     0.999994       549600    163840.00
     864.767     0.999995       549601    187245.71
     864.767     0.999995       549601    218453.33
     864.767     0.999996       549601    262144.00
     867.327     0.999997       549602    291271.11
     867.327     0.999997       549602    327680.00
     867.327     0.999997       549602    374491.43
     867.327     0.999998       549602    436906.67
     867.327     0.999998       549602    524288.00
     916.991     0.999998       549603    582542.22
     916.991     1.000000       549603          inf
#[Mean    =       11.577, StdDeviation   =       39.743]
#[Max     =      916.480, Total count    =       549603]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  598889 requests in 2.00m, 8.13GB read
Requests/sec:   4994.06  
Transfer/sec:     69.43MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54698 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33290 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54698 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33290 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2019.307ms, rate sampling interval: 9879ms
  Thread calibration: mean lat.: 1966.937ms, rate sampling interval: 6946ms
  Thread calibration: mean lat.: 1496.535ms, rate sampling interval: 7954ms
  Thread calibration: mean lat.: 1158.177ms, rate sampling interval: 7159ms
  Thread calibration: mean lat.: 2485.623ms, rate sampling interval: 9437ms
  Thread calibration: mean lat.: 2252.333ms, rate sampling interval: 7626ms
  Thread calibration: mean lat.: 932.056ms, rate sampling interval: 4607ms
  Thread calibration: mean lat.: 1539.607ms, rate sampling interval: 7307ms
  Thread calibration: mean lat.: 2931.481ms, rate sampling interval: 9928ms
  Thread calibration: mean lat.: 1167.070ms, rate sampling interval: 8921ms
  Thread calibration: mean lat.: 1247.445ms, rate sampling interval: 4763ms
  Thread calibration: mean lat.: 1343.674ms, rate sampling interval: 7684ms
  Thread calibration: mean lat.: 278.395ms, rate sampling interval: 1852ms
  Thread calibration: mean lat.: 1369.271ms, rate sampling interval: 5705ms
  Thread calibration: mean lat.: 1641.861ms, rate sampling interval: 8138ms
  Thread calibration: mean lat.: 1100.299ms, rate sampling interval: 4167ms
  Thread calibration: mean lat.: 371.756ms, rate sampling interval: 1885ms
  Thread calibration: mean lat.: 2017.069ms, rate sampling interval: 8052ms
  Thread calibration: mean lat.: 1547.727ms, rate sampling interval: 8781ms
  Thread calibration: mean lat.: 750.985ms, rate sampling interval: 3786ms
  Thread calibration: mean lat.: 1748.991ms, rate sampling interval: 7307ms
  Thread calibration: mean lat.: 1340.697ms, rate sampling interval: 5111ms
  Thread calibration: mean lat.: 1847.550ms, rate sampling interval: 9748ms
  Thread calibration: mean lat.: 1012.328ms, rate sampling interval: 4825ms
  Thread calibration: mean lat.: 2220.233ms, rate sampling interval: 9011ms
  Thread calibration: mean lat.: 1031.181ms, rate sampling interval: 5853ms
  Thread calibration: mean lat.: 3107.264ms, rate sampling interval: 10567ms
  Thread calibration: mean lat.: 1129.641ms, rate sampling interval: 6959ms
  Thread calibration: mean lat.: 855.403ms, rate sampling interval: 4726ms
  Thread calibration: mean lat.: 1909.926ms, rate sampling interval: 10280ms
  Thread calibration: mean lat.: 3284.087ms, rate sampling interval: 11821ms
  Thread calibration: mean lat.: 782.227ms, rate sampling interval: 4194ms
  Thread calibration: mean lat.: 476.346ms, rate sampling interval: 2646ms
  Thread calibration: mean lat.: 1801.344ms, rate sampling interval: 7987ms
  Thread calibration: mean lat.: 803.822ms, rate sampling interval: 2924ms
  Thread calibration: mean lat.: 1665.855ms, rate sampling interval: 7434ms
  Thread calibration: mean lat.: 809.351ms, rate sampling interval: 3049ms
  Thread calibration: mean lat.: 1652.785ms, rate sampling interval: 8863ms
  Thread calibration: mean lat.: 2240.921ms, rate sampling interval: 8355ms
  Thread calibration: mean lat.: 1566.167ms, rate sampling interval: 7413ms
  Thread calibration: mean lat.: 1015.454ms, rate sampling interval: 4481ms
  Thread calibration: mean lat.: 1869.233ms, rate sampling interval: 10256ms
  Thread calibration: mean lat.: 3426.841ms, rate sampling interval: 11329ms
  Thread calibration: mean lat.: 643.866ms, rate sampling interval: 5111ms
  Thread calibration: mean lat.: 778.774ms, rate sampling interval: 3872ms
  Thread calibration: mean lat.: 2252.709ms, rate sampling interval: 8335ms
  Thread calibration: mean lat.: 1266.317ms, rate sampling interval: 7041ms
  Thread calibration: mean lat.: 983.131ms, rate sampling interval: 4370ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.74s    15.25s    1.07m    84.91%
    Req/Sec   184.63     25.98   234.00     71.18%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.20ms
 75.000%    5.96s 
 90.000%   29.51s 
 99.000%    1.07m 
 99.900%    1.24m 
 99.990%    1.27m 
 99.999%    1.29m 
100.000%    1.30m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.777     0.000000            1         1.00
       8.043     0.100000        93032         1.11
      11.311     0.200000       186094         1.25
      15.711     0.300000       278907         1.43
      22.991     0.400000       371959         1.67
      39.199     0.500000       464912         2.00
      58.911     0.550000       511316         2.22
     116.671     0.600000       557768         2.50
     718.847     0.650000       604265         2.86
    1785.855     0.700000       650741         3.33
    5959.679     0.750000       697213         4.00
   11313.151     0.775000       720460         4.44
   15319.039     0.800000       743722         5.00
   19726.335     0.825000       766945         5.71
   23101.439     0.850000       790199         6.67
   25690.111     0.875000       813552         8.00
   27164.671     0.887500       825121         8.89
   29507.583     0.900000       836702        10.00
   32407.551     0.912500       848303        11.43
   36732.927     0.925000       859933        13.33
   41189.375     0.937500       871585        16.00
   43286.527     0.943750       877400        17.78
   45613.055     0.950000       883185        20.00
   47939.583     0.956250       888958        22.86
   50167.807     0.962500       894811        26.67
   52396.031     0.968750       900571        32.00
   53772.287     0.971875       903486        35.56
   55214.079     0.975000       906399        40.00
   56688.639     0.978125       909302        45.71
   58327.039     0.981250       912204        53.33
   60227.583     0.984375       915100        64.00
   61210.623     0.985938       916537        71.11
   62259.199     0.987500       918010        80.00
   63307.775     0.989062       919484        91.43
   64356.351     0.990625       920896       106.67
   65535.999     0.992188       922380       128.00
   66125.823     0.992969       923112       142.22
   66715.647     0.993750       923808       160.00
   67502.079     0.994531       924554       182.86
   68419.583     0.995313       925286       213.33
   69402.623     0.996094       925995       256.00
   70057.983     0.996484       926348       284.44
   70778.879     0.996875       926726       320.00
   71368.703     0.997266       927086       365.71
   72089.599     0.997656       927437       426.67
   72744.959     0.998047       927826       512.00
   73007.103     0.998242       928003       568.89
   73334.783     0.998437       928166       640.00
   73662.463     0.998633       928351       731.43
   73990.143     0.998828       928525       853.33
   74317.823     0.999023       928700      1024.00
   74514.431     0.999121       928810      1137.78
   74711.039     0.999219       928890      1280.00
   74907.647     0.999316       929001      1462.86
   75038.719     0.999414       929073      1706.67
   75235.327     0.999512       929167      2048.00
   75300.863     0.999561       929200      2275.56
   75431.935     0.999609       929258      2560.00
   75563.007     0.999658       929296      2925.71
   75694.079     0.999707       929348      3413.33
   75825.151     0.999756       929397      4096.00
   75890.687     0.999780       929418      4551.11
   75956.223     0.999805       929433      5120.00
   76021.759     0.999829       929452      5851.43
   76152.831     0.999854       929478      6826.67
   76283.903     0.999878       929504      8192.00
   76349.439     0.999890       929514      9102.22
   76414.975     0.999902       929523     10240.00
   76480.511     0.999915       929528     11702.86
   76677.119     0.999927       929544     13653.33
   76808.191     0.999939       929553     16384.00
   76873.727     0.999945       929565     18204.44
   76873.727     0.999951       929565     20480.00
   76939.263     0.999957       929575     23405.71
   76939.263     0.999963       929575     27306.67
   77004.799     0.999969       929581     32768.00
   77070.335     0.999973       929585     36408.89
   77070.335     0.999976       929585     40960.00
   77135.871     0.999979       929588     46811.43
   77266.943     0.999982       929590     54613.33
   77398.015     0.999985       929593     65536.00
   77463.551     0.999986       929596     72817.78
   77463.551     0.999988       929596     81920.00
   77594.623     0.999989       929598     93622.86
   77660.159     0.999991       929600    109226.67
   77660.159     0.999992       929600    131072.00
   77725.695     0.999993       929602    145635.56
   77725.695     0.999994       929602    163840.00
   77791.231     0.999995       929604    187245.71
   77791.231     0.999995       929604    218453.33
   77791.231     0.999996       929604    262144.00
   77791.231     0.999997       929604    291271.11
   77856.767     0.999997       929607    327680.00
   77856.767     1.000000       929607          inf
#[Mean    =     7741.788, StdDeviation   =    15251.324]
#[Max     =    77791.232, Total count    =       929607]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1000003 requests in 2.00m, 13.59GB read
Requests/sec:   8338.91  
Transfer/sec:    116.06MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53684 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 30950 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53684 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 30950 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 12.020ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.505ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.701ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.601ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.203ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.801ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.996ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.719ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.715ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.135ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.757ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.977ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.928ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.091ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.218ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.497ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.585ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.384ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.783ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.507ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.687ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.800ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.309ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.372ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.630ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.115ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.485ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.600ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.386ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.378ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.164ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.005ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.588ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.090ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.825ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.406ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.271ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.467ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.999ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.576ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.093ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.969ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.773ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.940ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.816ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.955ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.684ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.753ms, rate sampling interval: 29ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    13.41ms   19.71ms  28.35ms   99.21%
    Req/Sec    20.20     25.95   103.00     87.62%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.33ms
 75.000%   12.90ms
 90.000%   15.79ms
 99.000%   28.35ms
 99.900%  339.45ms
 99.990%  520.70ms
 99.999%  625.66ms
100.000%  652.29ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.693     0.000000            1         1.00
       9.367     0.100000        10631         1.11
      10.007     0.200000        21246         1.25
      10.471     0.300000        31872         1.43
      10.887     0.400000        42339         1.67
      11.327     0.500000        53012         2.00
      11.567     0.550000        58284         2.22
      11.831     0.600000        63550         2.50
      12.119     0.650000        68876         2.86
      12.463     0.700000        74153         3.33
      12.903     0.750000        79469         4.00
      13.151     0.775000        82043         4.44
      13.463     0.800000        84699         5.00
      13.847     0.825000        87370         5.71
      14.295     0.850000        89968         6.67
      14.911     0.875000        92649         8.00
      15.319     0.887500        93947         8.89
      15.791     0.900000        95268        10.00
      16.359     0.912500        96597        11.43
      17.007     0.925000        97917        13.33
      17.791     0.937500        99228        16.00
      18.255     0.943750        99892        17.78
      18.799     0.950000       100556        20.00
      19.391     0.956250       101234        22.86
      19.999     0.962500       101874        26.67
      20.799     0.968750       102547        32.00
      21.279     0.971875       102879        35.56
      21.807     0.975000       103201        40.00
      22.415     0.978125       103533        45.71
      23.279     0.981250       103863        53.33
      24.463     0.984375       104190        64.00
      25.151     0.985938       104355        71.11
      26.047     0.987500       104521        80.00
      27.391     0.989062       104688        91.43
      29.343     0.990625       104851       106.67
      33.791     0.992188       105018       128.00
      41.087     0.992969       105099       142.22
      64.511     0.993750       105182       160.00
     105.983     0.994531       105265       182.86
     156.159     0.995313       105347       213.33
     189.695     0.996094       105431       256.00
     202.111     0.996484       105471       284.44
     215.167     0.996875       105513       320.00
     226.047     0.997266       105554       365.71
     242.431     0.997656       105595       426.67
     264.447     0.998047       105637       512.00
     274.687     0.998242       105657       568.89
     288.255     0.998437       105678       640.00
     312.063     0.998633       105699       731.43
     329.471     0.998828       105719       853.33
     349.951     0.999023       105740      1024.00
     361.215     0.999121       105750      1137.78
     378.111     0.999219       105761      1280.00
     388.863     0.999316       105772      1462.86
     397.823     0.999414       105781      1706.67
     411.647     0.999512       105793      2048.00
     423.679     0.999561       105797      2275.56
     431.615     0.999609       105802      2560.00
     442.111     0.999658       105807      2925.71
     454.911     0.999707       105812      3413.33
     463.615     0.999756       105818      4096.00
     465.151     0.999780       105820      4551.11
     471.807     0.999805       105823      5120.00
     472.831     0.999829       105825      5851.43
     493.311     0.999854       105828      6826.67
     519.167     0.999878       105831      8192.00
     520.703     0.999890       105832      9102.22
     521.215     0.999902       105833     10240.00
     524.031     0.999915       105834     11702.86
     535.039     0.999927       105836     13653.33
     542.719     0.999939       105837     16384.00
     570.879     0.999945       105838     18204.44
     570.879     0.999951       105838     20480.00
     581.631     0.999957       105839     23405.71
     586.239     0.999963       105840     27306.67
     586.239     0.999969       105840     32768.00
     597.503     0.999973       105841     36408.89
     597.503     0.999976       105841     40960.00
     597.503     0.999979       105841     46811.43
     625.663     0.999982       105842     54613.33
     625.663     0.999985       105842     65536.00
     625.663     0.999986       105842     72817.78
     625.663     0.999988       105842     81920.00
     625.663     0.999989       105842     93622.86
     652.287     0.999991       105843    109226.67
     652.287     1.000000       105843          inf
#[Mean    =       13.407, StdDeviation   =       19.706]
#[Max     =      651.776, Total count    =       105843]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115375 requests in 2.00m, 1.56GB read
Requests/sec:    961.43  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53873 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 24833 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53873 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 24833 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2964.971ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 3117.107ms, rate sampling interval: 11403ms
  Thread calibration: mean lat.: 2808.523ms, rate sampling interval: 10379ms
  Thread calibration: mean lat.: 2922.637ms, rate sampling interval: 11124ms
  Thread calibration: mean lat.: 2877.561ms, rate sampling interval: 11223ms
  Thread calibration: mean lat.: 2993.185ms, rate sampling interval: 11550ms
  Thread calibration: mean lat.: 2902.387ms, rate sampling interval: 11591ms
  Thread calibration: mean lat.: 2801.788ms, rate sampling interval: 10543ms
  Thread calibration: mean lat.: 2507.581ms, rate sampling interval: 9707ms
  Thread calibration: mean lat.: 2987.049ms, rate sampling interval: 11018ms
  Thread calibration: mean lat.: 2940.744ms, rate sampling interval: 11051ms
  Thread calibration: mean lat.: 3081.473ms, rate sampling interval: 11804ms
  Thread calibration: mean lat.: 3087.747ms, rate sampling interval: 12091ms
  Thread calibration: mean lat.: 2999.879ms, rate sampling interval: 11517ms
  Thread calibration: mean lat.: 2827.700ms, rate sampling interval: 10977ms
  Thread calibration: mean lat.: 2702.857ms, rate sampling interval: 10592ms
  Thread calibration: mean lat.: 3014.733ms, rate sampling interval: 10895ms
  Thread calibration: mean lat.: 2932.649ms, rate sampling interval: 10715ms
  Thread calibration: mean lat.: 2828.111ms, rate sampling interval: 10911ms
  Thread calibration: mean lat.: 3182.285ms, rate sampling interval: 11919ms
  Thread calibration: mean lat.: 3187.046ms, rate sampling interval: 11624ms
  Thread calibration: mean lat.: 3027.138ms, rate sampling interval: 10297ms
  Thread calibration: mean lat.: 3060.584ms, rate sampling interval: 11534ms
  Thread calibration: mean lat.: 3026.454ms, rate sampling interval: 11509ms
  Thread calibration: mean lat.: 3005.219ms, rate sampling interval: 11583ms
  Thread calibration: mean lat.: 2959.779ms, rate sampling interval: 10518ms
  Thread calibration: mean lat.: 2946.211ms, rate sampling interval: 11337ms
  Thread calibration: mean lat.: 2891.990ms, rate sampling interval: 10739ms
  Thread calibration: mean lat.: 2971.098ms, rate sampling interval: 10887ms
  Thread calibration: mean lat.: 2917.182ms, rate sampling interval: 10756ms
  Thread calibration: mean lat.: 2855.751ms, rate sampling interval: 10534ms
  Thread calibration: mean lat.: 3051.451ms, rate sampling interval: 11517ms
  Thread calibration: mean lat.: 3086.404ms, rate sampling interval: 11501ms
  Thread calibration: mean lat.: 3096.502ms, rate sampling interval: 11403ms
  Thread calibration: mean lat.: 3096.037ms, rate sampling interval: 11616ms
  Thread calibration: mean lat.: 3143.386ms, rate sampling interval: 11952ms
  Thread calibration: mean lat.: 2687.680ms, rate sampling interval: 10141ms
  Thread calibration: mean lat.: 2938.357ms, rate sampling interval: 11132ms
  Thread calibration: mean lat.: 2741.535ms, rate sampling interval: 10862ms
  Thread calibration: mean lat.: 2987.390ms, rate sampling interval: 11141ms
  Thread calibration: mean lat.: 3057.589ms, rate sampling interval: 11698ms
  Thread calibration: mean lat.: 3039.854ms, rate sampling interval: 11640ms
  Thread calibration: mean lat.: 3165.370ms, rate sampling interval: 11984ms
  Thread calibration: mean lat.: 3032.396ms, rate sampling interval: 11296ms
  Thread calibration: mean lat.: 2754.601ms, rate sampling interval: 10870ms
  Thread calibration: mean lat.: 2762.341ms, rate sampling interval: 10739ms
  Thread calibration: mean lat.: 3150.553ms, rate sampling interval: 12115ms
  Thread calibration: mean lat.: 2739.334ms, rate sampling interval: 10592ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    42.10s    20.31s    1.28m    58.16%
    Req/Sec    37.98      2.77    45.00     82.52%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   42.80s 
 75.000%    1.00m 
 90.000%    1.15m 
 99.000%    1.28m 
 99.900%    1.33m 
 99.990%    1.36m 
 99.999%    1.37m 
100.000%    1.38m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4448.255     0.000000            1         1.00
   13565.951     0.100000        20377         1.11
   20938.751     0.200000        40759         1.25
   27852.799     0.300000        61094         1.43
   35356.671     0.400000        81501         1.67
   42795.007     0.500000       101897         2.00
   46333.951     0.550000       112015         2.22
   49971.199     0.600000       122240         2.50
   53477.375     0.650000       132376         2.86
   56819.711     0.700000       142614         3.33
   59867.135     0.750000       152789         4.00
   61374.463     0.775000       157815         4.44
   62914.559     0.800000       163010         5.00
   64454.655     0.825000       167998         5.71
   66060.287     0.850000       173174         6.67
   67698.687     0.875000       178379         8.00
   68485.119     0.887500       180903         8.89
   69271.551     0.900000       183285        10.00
   70123.519     0.912500       185919        11.43
   70909.951     0.925000       188358        13.33
   71827.455     0.937500       191023        16.00
   72286.207     0.943750       192325        17.78
   72744.959     0.950000       193549        20.00
   73203.711     0.956250       194761        22.86
   73727.999     0.962500       196050        26.67
   74252.287     0.968750       197298        32.00
   74579.967     0.971875       198009        35.56
   74842.111     0.975000       198537        40.00
   75235.327     0.978125       199279        45.71
   75563.007     0.981250       199865        53.33
   75956.223     0.984375       200537        64.00
   76152.831     0.985938       200822        71.11
   76414.975     0.987500       201164        80.00
   76611.583     0.989062       201399        91.43
   76939.263     0.990625       201754       106.67
   77266.943     0.992188       202060       128.00
   77463.551     0.992969       202233       142.22
   77660.159     0.993750       202385       160.00
   77856.767     0.994531       202521       182.86
   78118.911     0.995313       202679       213.33
   78446.591     0.996094       202863       256.00
   78577.663     0.996484       202918       284.44
   78708.735     0.996875       202996       320.00
   78905.343     0.997266       203098       365.71
   79036.415     0.997656       203160       426.67
   79233.023     0.998047       203237       512.00
   79364.095     0.998242       203279       568.89
   79495.167     0.998437       203317       640.00
   79626.239     0.998633       203353       731.43
   79822.847     0.998828       203397       853.33
   80084.991     0.999023       203438      1024.00
   80216.063     0.999121       203458      1137.78
   80347.135     0.999219       203475      1280.00
   80478.207     0.999316       203491      1462.86
   80674.815     0.999414       203511      1706.67
   80805.887     0.999512       203531      2048.00
   80871.423     0.999561       203541      2275.56
   80936.959     0.999609       203550      2560.00
   81068.031     0.999658       203563      2925.71
   81133.567     0.999707       203568      3413.33
   81199.103     0.999756       203577      4096.00
   81264.639     0.999780       203583      4551.11
   81330.175     0.999805       203588      5120.00
   81395.711     0.999829       203597      5851.43
   81395.711     0.999854       203597      6826.67
   81461.247     0.999878       203601      8192.00
   81526.783     0.999890       203603      9102.22
   81592.319     0.999902       203606     10240.00
   81657.855     0.999915       203608     11702.86
   81723.391     0.999927       203611     13653.33
   81919.999     0.999939       203616     16384.00
   81919.999     0.999945       203616     18204.44
   81919.999     0.999951       203616     20480.00
   81985.535     0.999957       203618     23405.71
   81985.535     0.999963       203618     27306.67
   82116.607     0.999969       203620     32768.00
   82116.607     0.999973       203620     36408.89
   82182.143     0.999976       203621     40960.00
   82182.143     0.999979       203621     46811.43
   82247.679     0.999982       203622     54613.33
   82247.679     0.999985       203622     65536.00
   82378.751     0.999986       203623     72817.78
   82378.751     0.999988       203623     81920.00
   82378.751     0.999989       203623     93622.86
   82509.823     0.999991       203624    109226.67
   82509.823     0.999992       203624    131072.00
   82509.823     0.999993       203624    145635.56
   82509.823     0.999994       203624    163840.00
   82509.823     0.999995       203624    187245.71
   82575.359     0.999995       203625    218453.33
   82575.359     1.000000       203625          inf
#[Mean    =    42101.615, StdDeviation   =    20310.596]
#[Max     =    82509.824, Total count    =       203625]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  222018 requests in 2.00m, 3.00GB read
Requests/sec:   1850.82  
Transfer/sec:     25.59MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53626 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 21901 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53626 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 21901 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3878.690ms, rate sampling interval: 14540ms
  Thread calibration: mean lat.: 3747.525ms, rate sampling interval: 14114ms
  Thread calibration: mean lat.: 3916.340ms, rate sampling interval: 14327ms
  Thread calibration: mean lat.: 3661.817ms, rate sampling interval: 13893ms
  Thread calibration: mean lat.: 3965.327ms, rate sampling interval: 14467ms
  Thread calibration: mean lat.: 3871.708ms, rate sampling interval: 14123ms
  Thread calibration: mean lat.: 4000.771ms, rate sampling interval: 14540ms
  Thread calibration: mean lat.: 3896.534ms, rate sampling interval: 14311ms
  Thread calibration: mean lat.: 4046.167ms, rate sampling interval: 14417ms
  Thread calibration: mean lat.: 4001.064ms, rate sampling interval: 14622ms
  Thread calibration: mean lat.: 3734.077ms, rate sampling interval: 13221ms
  Thread calibration: mean lat.: 3888.657ms, rate sampling interval: 14196ms
  Thread calibration: mean lat.: 3900.551ms, rate sampling interval: 14090ms
  Thread calibration: mean lat.: 3941.611ms, rate sampling interval: 14229ms
  Thread calibration: mean lat.: 3964.658ms, rate sampling interval: 14147ms
  Thread calibration: mean lat.: 4146.244ms, rate sampling interval: 14565ms
  Thread calibration: mean lat.: 4004.806ms, rate sampling interval: 14458ms
  Thread calibration: mean lat.: 4058.488ms, rate sampling interval: 14843ms
  Thread calibration: mean lat.: 4123.992ms, rate sampling interval: 14630ms
  Thread calibration: mean lat.: 3941.543ms, rate sampling interval: 14114ms
  Thread calibration: mean lat.: 4123.040ms, rate sampling interval: 14516ms
  Thread calibration: mean lat.: 4015.232ms, rate sampling interval: 14630ms
  Thread calibration: mean lat.: 3853.554ms, rate sampling interval: 14295ms
  Thread calibration: mean lat.: 4203.768ms, rate sampling interval: 14778ms
  Thread calibration: mean lat.: 4061.617ms, rate sampling interval: 14532ms
  Thread calibration: mean lat.: 4199.562ms, rate sampling interval: 14729ms
  Thread calibration: mean lat.: 4032.765ms, rate sampling interval: 14376ms
  Thread calibration: mean lat.: 4081.762ms, rate sampling interval: 14671ms
  Thread calibration: mean lat.: 4182.671ms, rate sampling interval: 14335ms
  Thread calibration: mean lat.: 4145.026ms, rate sampling interval: 14508ms
  Thread calibration: mean lat.: 3925.845ms, rate sampling interval: 14024ms
  Thread calibration: mean lat.: 4205.692ms, rate sampling interval: 14884ms
  Thread calibration: mean lat.: 4057.867ms, rate sampling interval: 14401ms
  Thread calibration: mean lat.: 4125.439ms, rate sampling interval: 14278ms
  Thread calibration: mean lat.: 4122.526ms, rate sampling interval: 14491ms
  Thread calibration: mean lat.: 4078.832ms, rate sampling interval: 14270ms
  Thread calibration: mean lat.: 4194.625ms, rate sampling interval: 14680ms
  Thread calibration: mean lat.: 4096.388ms, rate sampling interval: 14385ms
  Thread calibration: mean lat.: 4046.359ms, rate sampling interval: 14082ms
  Thread calibration: mean lat.: 4083.521ms, rate sampling interval: 14286ms
  Thread calibration: mean lat.: 4047.102ms, rate sampling interval: 14483ms
  Thread calibration: mean lat.: 4037.901ms, rate sampling interval: 14483ms
  Thread calibration: mean lat.: 4088.805ms, rate sampling interval: 14147ms
  Thread calibration: mean lat.: 4120.533ms, rate sampling interval: 14614ms
  Thread calibration: mean lat.: 4004.279ms, rate sampling interval: 14262ms
  Thread calibration: mean lat.: 4010.351ms, rate sampling interval: 14303ms
  Thread calibration: mean lat.: 4135.533ms, rate sampling interval: 14450ms
  Thread calibration: mean lat.: 4109.927ms, rate sampling interval: 14188ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.88m    24.75s    1.59m    58.93%
    Req/Sec    43.20      2.97    51.00     81.90%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.89m 
 75.000%    1.23m 
 90.000%    1.44m 
 99.000%    1.59m 
 99.900%    1.62m 
 99.990%    1.64m 
 99.999%    1.64m 
100.000%    1.64m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7258.111     0.000000            1         1.00
   17924.095     0.100000        23158         1.11
   27246.591     0.200000        46315         1.25
   35815.423     0.300000        69519         1.43
   44531.711     0.400000        92632         1.67
   53116.927     0.500000       115791         2.00
   57343.999     0.550000       127348         2.22
   61702.143     0.600000       138988         2.50
   65961.983     0.650000       150485         2.86
   70057.983     0.700000       162180         3.33
   73859.071     0.750000       173805         4.00
   75759.615     0.775000       179533         4.44
   77725.695     0.800000       185273         5.00
   79757.311     0.825000       191083         5.71
   81985.535     0.850000       196824         6.67
   84279.295     0.875000       202765         8.00
   85327.871     0.887500       205575         8.89
   86376.447     0.900000       208391        10.00
   87490.559     0.912500       211335        11.43
   88604.671     0.925000       214236        13.33
   89718.783     0.937500       217207        16.00
   90243.071     0.943750       218570        17.78
   90832.895     0.950000       220036        20.00
   91422.719     0.956250       221419        22.86
   92078.079     0.962500       222951        26.67
   92733.439     0.968750       224381        32.00
   93061.119     0.971875       225090        35.56
   93388.799     0.975000       225761        40.00
   93782.015     0.978125       226593        45.71
   94109.695     0.981250       227289        53.33
   94437.375     0.984375       227963        64.00
   94633.983     0.985938       228342        71.11
   94830.591     0.987500       228693        80.00
   95027.199     0.989062       229037        91.43
   95223.807     0.990625       229379       106.67
   95485.951     0.992188       229786       128.00
   95551.487     0.992969       229888       142.22
   95748.095     0.993750       230147       160.00
   95879.167     0.994531       230301       182.86
   96010.239     0.995313       230460       213.33
   96141.311     0.996094       230620       256.00
   96272.383     0.996484       230745       284.44
   96337.919     0.996875       230805       320.00
   96468.991     0.997266       230912       365.71
   96600.063     0.997656       231014       426.67
   96731.135     0.998047       231095       512.00
   96796.671     0.998242       231144       568.89
   96862.207     0.998437       231178       640.00
   96927.743     0.998633       231213       731.43
   97058.815     0.998828       231260       853.33
   97189.887     0.999023       231310      1024.00
   97189.887     0.999121       231310      1137.78
   97320.959     0.999219       231344      1280.00
   97452.031     0.999316       231370      1462.86
   97517.567     0.999414       231389      1706.67
   97648.639     0.999512       231411      2048.00
   97714.175     0.999561       231420      2275.56
   97779.711     0.999609       231432      2560.00
   97845.247     0.999658       231447      2925.71
   97845.247     0.999707       231447      3413.33
   97910.783     0.999756       231461      4096.00
   97976.319     0.999780       231472      4551.11
   97976.319     0.999805       231472      5120.00
   98041.855     0.999829       231479      5851.43
   98107.391     0.999854       231492      6826.67
   98107.391     0.999878       231492      8192.00
   98107.391     0.999890       231492      9102.22
   98107.391     0.999902       231492     10240.00
   98172.927     0.999915       231503     11702.86
   98172.927     0.999927       231503     13653.33
   98172.927     0.999939       231503     16384.00
   98172.927     0.999945       231503     18204.44
   98172.927     0.999951       231503     20480.00
   98238.463     0.999957       231506     23405.71
   98238.463     0.999963       231506     27306.67
   98238.463     0.999969       231506     32768.00
   98303.999     0.999973       231509     36408.89
   98303.999     0.999976       231509     40960.00
   98303.999     0.999979       231509     46811.43
   98303.999     0.999982       231509     54613.33
   98369.535     0.999985       231511     65536.00
   98369.535     0.999986       231511     72817.78
   98369.535     0.999988       231511     81920.00
   98369.535     0.999989       231511     93622.86
   98369.535     0.999991       231511    109226.67
   98435.071     0.999992       231513    131072.00
   98435.071     1.000000       231513          inf
#[Mean    =    52635.437, StdDeviation   =    24749.607]
#[Max     =    98369.536, Total count    =       231513]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  249289 requests in 2.00m, 3.36GB read
Requests/sec:   2078.47  
Transfer/sec:     28.73MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53111 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 19115 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53111 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 19115 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 26.254ms, rate sampling interval: 172ms
  Thread calibration: mean lat.: 19.000ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 25.207ms, rate sampling interval: 166ms
  Thread calibration: mean lat.: 26.058ms, rate sampling interval: 174ms
  Thread calibration: mean lat.: 30.992ms, rate sampling interval: 215ms
  Thread calibration: mean lat.: 23.996ms, rate sampling interval: 137ms
  Thread calibration: mean lat.: 28.422ms, rate sampling interval: 218ms
  Thread calibration: mean lat.: 24.586ms, rate sampling interval: 134ms
  Thread calibration: mean lat.: 24.697ms, rate sampling interval: 118ms
  Thread calibration: mean lat.: 23.104ms, rate sampling interval: 115ms
  Thread calibration: mean lat.: 26.983ms, rate sampling interval: 189ms
  Thread calibration: mean lat.: 17.155ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 20.493ms, rate sampling interval: 51ms
  Thread calibration: mean lat.: 24.935ms, rate sampling interval: 132ms
  Thread calibration: mean lat.: 27.139ms, rate sampling interval: 144ms
  Thread calibration: mean lat.: 26.812ms, rate sampling interval: 167ms
  Thread calibration: mean lat.: 28.625ms, rate sampling interval: 185ms
  Thread calibration: mean lat.: 20.537ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 34.237ms, rate sampling interval: 253ms
  Thread calibration: mean lat.: 25.951ms, rate sampling interval: 169ms
  Thread calibration: mean lat.: 29.739ms, rate sampling interval: 173ms
  Thread calibration: mean lat.: 24.658ms, rate sampling interval: 163ms
  Thread calibration: mean lat.: 23.887ms, rate sampling interval: 138ms
  Thread calibration: mean lat.: 34.472ms, rate sampling interval: 202ms
  Thread calibration: mean lat.: 23.386ms, rate sampling interval: 95ms
  Thread calibration: mean lat.: 31.964ms, rate sampling interval: 219ms
  Thread calibration: mean lat.: 23.308ms, rate sampling interval: 90ms
  Thread calibration: mean lat.: 22.439ms, rate sampling interval: 79ms
  Thread calibration: mean lat.: 26.557ms, rate sampling interval: 181ms
  Thread calibration: mean lat.: 24.916ms, rate sampling interval: 143ms
  Thread calibration: mean lat.: 21.213ms, rate sampling interval: 105ms
  Thread calibration: mean lat.: 30.930ms, rate sampling interval: 197ms
  Thread calibration: mean lat.: 22.116ms, rate sampling interval: 115ms
  Thread calibration: mean lat.: 28.639ms, rate sampling interval: 190ms
  Thread calibration: mean lat.: 24.000ms, rate sampling interval: 114ms
  Thread calibration: mean lat.: 25.929ms, rate sampling interval: 188ms
  Thread calibration: mean lat.: 21.500ms, rate sampling interval: 73ms
  Thread calibration: mean lat.: 23.178ms, rate sampling interval: 72ms
  Thread calibration: mean lat.: 23.311ms, rate sampling interval: 122ms
  Thread calibration: mean lat.: 27.531ms, rate sampling interval: 187ms
  Thread calibration: mean lat.: 32.231ms, rate sampling interval: 202ms
  Thread calibration: mean lat.: 34.944ms, rate sampling interval: 234ms
  Thread calibration: mean lat.: 27.883ms, rate sampling interval: 180ms
  Thread calibration: mean lat.: 30.780ms, rate sampling interval: 207ms
  Thread calibration: mean lat.: 32.535ms, rate sampling interval: 204ms
  Thread calibration: mean lat.: 22.270ms, rate sampling interval: 49ms
  Thread calibration: mean lat.: 24.778ms, rate sampling interval: 143ms
  Thread calibration: mean lat.: 28.785ms, rate sampling interval: 195ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    14.62ms   22.79ms 139.77ms   95.50%
    Req/Sec    19.69     15.82    70.00     68.78%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.13ms
 75.000%   12.01ms
 90.000%   15.72ms
 99.000%  139.77ms
 99.900%  217.21ms
 99.990%  331.01ms
 99.999%  426.24ms
100.000%  440.06ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.579     0.000000            1         1.00
       5.891     0.100000        10596         1.11
       8.263     0.200000        21237         1.25
       8.999     0.300000        31829         1.43
       9.575     0.400000        42386         1.67
      10.127     0.500000        53023         2.00
      10.415     0.550000        58224         2.22
      10.743     0.600000        63553         2.50
      11.095     0.650000        68831         2.86
      11.511     0.700000        74140         3.33
      12.007     0.750000        79395         4.00
      12.311     0.775000        82110         4.44
      12.671     0.800000        84723         5.00
      13.119     0.825000        87358         5.71
      13.703     0.850000        90018         6.67
      14.503     0.875000        92639         8.00
      15.047     0.887500        93951         8.89
      15.719     0.900000        95286        10.00
      16.623     0.912500        96603        11.43
      17.887     0.925000        97928        13.33
      19.807     0.937500        99246        16.00
      21.375     0.943750        99905        17.78
      25.023     0.950000       100567        20.00
      41.919     0.956250       101230        22.86
      61.791     0.962500       101889        26.67
      78.911     0.968750       102550        32.00
      87.167     0.971875       102884        35.56
      94.079     0.975000       103213        40.00
     101.439     0.978125       103545        45.71
     109.887     0.981250       103874        53.33
     119.423     0.984375       104205        64.00
     124.479     0.985938       104372        71.11
     129.791     0.987500       104536        80.00
     135.295     0.989062       104701        91.43
     142.591     0.990625       104866       106.67
     150.143     0.992188       105033       128.00
     153.855     0.992969       105114       142.22
     158.975     0.993750       105198       160.00
     164.223     0.994531       105280       182.86
     169.471     0.995313       105363       213.33
     174.591     0.996094       105446       256.00
     178.047     0.996484       105487       284.44
     182.271     0.996875       105528       320.00
     187.007     0.997266       105570       365.71
     192.127     0.997656       105611       426.67
     198.015     0.998047       105653       512.00
     200.575     0.998242       105672       568.89
     204.031     0.998437       105694       640.00
     208.255     0.998633       105714       731.43
     211.199     0.998828       105734       853.33
     217.471     0.999023       105755      1024.00
     220.927     0.999121       105766      1137.78
     225.023     0.999219       105776      1280.00
     231.039     0.999316       105786      1462.86
     235.391     0.999414       105796      1706.67
     243.199     0.999512       105807      2048.00
     245.887     0.999561       105812      2275.56
     249.855     0.999609       105817      2560.00
     255.231     0.999658       105822      2925.71
     257.535     0.999707       105827      3413.33
     267.519     0.999756       105833      4096.00
     270.591     0.999780       105835      4551.11
     278.271     0.999805       105838      5120.00
     280.575     0.999829       105840      5851.43
     293.887     0.999854       105843      6826.67
     310.015     0.999878       105846      8192.00
     331.007     0.999890       105847      9102.22
     338.431     0.999902       105848     10240.00
     340.735     0.999915       105849     11702.86
     352.255     0.999927       105851     13653.33
     358.655     0.999939       105852     16384.00
     364.287     0.999945       105853     18204.44
     364.287     0.999951       105853     20480.00
     368.127     0.999957       105855     23405.71
     368.127     0.999963       105855     27306.67
     368.127     0.999969       105855     32768.00
     380.671     0.999973       105856     36408.89
     380.671     0.999976       105856     40960.00
     380.671     0.999979       105856     46811.43
     426.239     0.999982       105857     54613.33
     426.239     0.999985       105857     65536.00
     426.239     0.999986       105857     72817.78
     426.239     0.999988       105857     81920.00
     426.239     0.999989       105857     93622.86
     440.063     0.999991       105858    109226.67
     440.063     1.000000       105858          inf
#[Mean    =       14.623, StdDeviation   =       22.790]
#[Max     =      439.808, Total count    =       105858]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115358 requests in 2.00m, 1.41GB read
Requests/sec:    961.24  
Transfer/sec:     12.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54644 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26193 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54644 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26193 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.793ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.084ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.926ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.838ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.425ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.965ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.535ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.563ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.862ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.036ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.081ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.608ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.945ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.235ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.054ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.306ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.706ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.208ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 5.895ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.038ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.523ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.212ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.723ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.859ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.853ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.548ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.963ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.126ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.707ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.584ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.945ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 5.890ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.902ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.745ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.543ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.284ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.014ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.729ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.866ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.690ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.766ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.236ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.984ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.405ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.969ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.364ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.931ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.180ms, rate sampling interval: 24ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.52ms    3.59ms  20.35ms   85.73%
    Req/Sec   106.29     70.35   300.00     73.29%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.55ms
 75.000%    7.61ms
 90.000%   10.59ms
 99.000%   20.35ms
 99.900%   32.10ms
 99.990%   48.74ms
 99.999%   62.53ms
100.000%   69.82ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.910     0.000000            1         1.00
       3.451     0.100000        54969         1.11
       3.983     0.200000       109914         1.25
       4.491     0.300000       164867         1.43
       4.999     0.400000       219998         1.67
       5.555     0.500000       274866         2.00
       5.867     0.550000       302428         2.22
       6.211     0.600000       330023         2.50
       6.607     0.650000       357356         2.86
       7.063     0.700000       384764         3.33
       7.615     0.750000       412322         4.00
       7.939     0.775000       426030         4.44
       8.303     0.800000       439820         5.00
       8.719     0.825000       453485         5.71
       9.207     0.850000       467219         6.67
       9.807     0.875000       480899         8.00
      10.159     0.887500       487718         8.89
      10.591     0.900000       494688        10.00
      11.071     0.912500       501516        11.43
      11.647     0.925000       508359        13.33
      12.367     0.937500       515251        16.00
      12.791     0.943750       518657        17.78
      13.287     0.950000       522115        20.00
      13.831     0.956250       525505        22.86
      14.479     0.962500       528940        26.67
      15.271     0.968750       532382        32.00
      15.719     0.971875       534111        35.56
      16.223     0.975000       535819        40.00
      16.815     0.978125       537545        45.71
      17.503     0.981250       539240        53.33
      18.303     0.984375       540973        64.00
      18.783     0.985938       541828        71.11
      19.311     0.987500       542675        80.00
      19.919     0.989062       543534        91.43
      20.655     0.990625       544394       106.67
      21.567     0.992188       545259       128.00
      22.111     0.992969       545688       142.22
      22.735     0.993750       546122       160.00
      23.311     0.994531       546535       182.86
      24.111     0.995313       546968       213.33
      24.959     0.996094       547397       256.00
      25.455     0.996484       547612       284.44
      25.999     0.996875       547826       320.00
      26.735     0.997266       548041       365.71
      27.535     0.997656       548254       426.67
      28.479     0.998047       548468       512.00
      29.055     0.998242       548575       568.89
      29.743     0.998437       548683       640.00
      30.399     0.998633       548790       731.43
      31.295     0.998828       548898       853.33
      32.223     0.999023       549004      1024.00
      32.863     0.999121       549058      1137.78
      33.599     0.999219       549111      1280.00
      34.495     0.999316       549166      1462.86
      35.455     0.999414       549220      1706.67
      36.799     0.999512       549273      2048.00
      37.631     0.999561       549299      2275.56
      38.303     0.999609       549326      2560.00
      39.007     0.999658       549353      2925.71
      39.775     0.999707       549380      3413.33
      41.087     0.999756       549406      4096.00
      41.887     0.999780       549420      4551.11
      42.591     0.999805       549433      5120.00
      43.583     0.999829       549448      5851.43
      44.511     0.999854       549460      6826.67
      47.199     0.999878       549473      8192.00
      48.255     0.999890       549480      9102.22
      49.535     0.999902       549488     10240.00
      50.655     0.999915       549494     11702.86
      51.551     0.999927       549500     13653.33
      52.639     0.999939       549507     16384.00
      53.311     0.999945       549510     18204.44
      54.623     0.999951       549514     20480.00
      55.935     0.999957       549517     23405.71
      57.055     0.999963       549520     27306.67
      58.207     0.999969       549524     32768.00
      58.431     0.999973       549525     36408.89
      59.263     0.999976       549527     40960.00
      60.159     0.999979       549529     46811.43
      60.351     0.999982       549530     54613.33
      61.183     0.999985       549532     65536.00
      61.535     0.999986       549533     72817.78
      62.463     0.999988       549534     81920.00
      62.527     0.999989       549535     93622.86
      62.527     0.999991       549535    109226.67
      62.911     0.999992       549536    131072.00
      64.895     0.999993       549537    145635.56
      64.895     0.999994       549537    163840.00
      67.583     0.999995       549538    187245.71
      67.583     0.999995       549538    218453.33
      67.583     0.999996       549538    262144.00
      68.479     0.999997       549539    291271.11
      68.479     0.999997       549539    327680.00
      68.479     0.999997       549539    374491.43
      68.479     0.999998       549539    436906.67
      68.479     0.999998       549539    524288.00
      69.823     0.999998       549540    582542.22
      69.823     1.000000       549540          inf
#[Mean    =        6.520, StdDeviation   =        3.594]
#[Max     =       69.760, Total count    =       549540]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599159 requests in 2.00m, 7.34GB read
Requests/sec:   4995.87  
Transfer/sec:     62.63MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54593 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 23866 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54593 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 23866 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 2192.465ms, rate sampling interval: 7397ms
  Thread calibration: mean lat.: 2380.685ms, rate sampling interval: 7856ms
  Thread calibration: mean lat.: 2698.962ms, rate sampling interval: 9240ms
  Thread calibration: mean lat.: 2330.267ms, rate sampling interval: 8626ms
  Thread calibration: mean lat.: 1862.798ms, rate sampling interval: 7426ms
  Thread calibration: mean lat.: 2393.832ms, rate sampling interval: 8912ms
  Thread calibration: mean lat.: 2593.018ms, rate sampling interval: 9297ms
  Thread calibration: mean lat.: 2307.666ms, rate sampling interval: 8871ms
  Thread calibration: mean lat.: 2367.069ms, rate sampling interval: 8544ms
  Thread calibration: mean lat.: 2613.423ms, rate sampling interval: 9814ms
  Thread calibration: mean lat.: 2561.817ms, rate sampling interval: 8904ms
  Thread calibration: mean lat.: 2198.497ms, rate sampling interval: 7700ms
  Thread calibration: mean lat.: 2097.668ms, rate sampling interval: 7503ms
  Thread calibration: mean lat.: 2511.002ms, rate sampling interval: 9199ms
  Thread calibration: mean lat.: 2391.265ms, rate sampling interval: 8658ms
  Thread calibration: mean lat.: 2222.321ms, rate sampling interval: 7970ms
  Thread calibration: mean lat.: 2807.507ms, rate sampling interval: 9895ms
  Thread calibration: mean lat.: 2372.045ms, rate sampling interval: 8462ms
  Thread calibration: mean lat.: 2246.028ms, rate sampling interval: 7532ms
  Thread calibration: mean lat.: 2321.697ms, rate sampling interval: 8187ms
  Thread calibration: mean lat.: 2371.489ms, rate sampling interval: 8536ms
  Thread calibration: mean lat.: 2354.695ms, rate sampling interval: 8839ms
  Thread calibration: mean lat.: 2477.402ms, rate sampling interval: 9166ms
  Thread calibration: mean lat.: 2679.655ms, rate sampling interval: 8544ms
  Thread calibration: mean lat.: 2440.877ms, rate sampling interval: 9003ms
  Thread calibration: mean lat.: 2374.224ms, rate sampling interval: 8478ms
  Thread calibration: mean lat.: 2867.186ms, rate sampling interval: 10166ms
  Thread calibration: mean lat.: 2493.825ms, rate sampling interval: 8888ms
  Thread calibration: mean lat.: 2521.603ms, rate sampling interval: 9388ms
  Thread calibration: mean lat.: 2528.574ms, rate sampling interval: 9199ms
  Thread calibration: mean lat.: 2702.444ms, rate sampling interval: 9723ms
  Thread calibration: mean lat.: 2770.015ms, rate sampling interval: 9691ms
  Thread calibration: mean lat.: 2602.493ms, rate sampling interval: 9019ms
  Thread calibration: mean lat.: 2363.744ms, rate sampling interval: 8462ms
  Thread calibration: mean lat.: 2428.731ms, rate sampling interval: 8376ms
  Thread calibration: mean lat.: 2560.653ms, rate sampling interval: 8994ms
  Thread calibration: mean lat.: 2644.720ms, rate sampling interval: 9363ms
  Thread calibration: mean lat.: 2513.031ms, rate sampling interval: 9166ms
  Thread calibration: mean lat.: 2627.599ms, rate sampling interval: 9715ms
  Thread calibration: mean lat.: 2133.645ms, rate sampling interval: 8486ms
  Thread calibration: mean lat.: 2370.653ms, rate sampling interval: 8404ms
  Thread calibration: mean lat.: 2681.226ms, rate sampling interval: 9265ms
  Thread calibration: mean lat.: 2631.512ms, rate sampling interval: 9175ms
  Thread calibration: mean lat.: 2294.633ms, rate sampling interval: 8228ms
  Thread calibration: mean lat.: 2483.515ms, rate sampling interval: 9584ms
  Thread calibration: mean lat.: 2077.351ms, rate sampling interval: 7917ms
  Thread calibration: mean lat.: 2475.850ms, rate sampling interval: 8163ms
  Thread calibration: mean lat.: 2503.470ms, rate sampling interval: 9134ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    31.48s    15.17s    1.01m    59.75%
    Req/Sec   107.86      7.52   127.00     74.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   31.41s 
 75.000%   43.91s 
 90.000%    0.87m 
 99.000%    1.01m 
 99.900%    1.07m 
 99.990%    1.10m 
 99.999%    1.11m 
100.000%    1.11m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3301.375     0.000000            1         1.00
   10592.255     0.100000        57129         1.11
   15998.975     0.200000       114240         1.25
   21151.743     0.300000       171349         1.43
   26279.935     0.400000       228468         1.67
   31408.127     0.500000       285509         2.00
   33947.647     0.550000       314136         2.22
   36503.551     0.600000       342650         2.50
   38961.151     0.650000       371144         2.86
   41418.751     0.700000       399941         3.33
   43909.119     0.750000       428218         4.00
   45187.071     0.775000       442461         4.44
   46497.791     0.800000       457052         5.00
   47808.511     0.825000       471216         5.71
   49250.303     0.850000       485356         6.67
   50626.559     0.875000       499612         8.00
   51380.223     0.887500       506745         8.89
   52133.887     0.900000       513845        10.00
   52953.087     0.912500       520985        11.43
   53870.591     0.925000       528215        13.33
   54919.167     0.937500       535392        16.00
   55476.223     0.943750       538913        17.78
   56000.511     0.950000       542496        20.00
   56557.567     0.956250       546133        22.86
   57147.391     0.962500       549647        26.67
   57835.519     0.968750       553241        32.00
   58163.199     0.971875       554943        35.56
   58556.415     0.975000       556757        40.00
   58949.631     0.978125       558537        45.71
   59342.847     0.981250       560262        53.33
   59834.367     0.984375       562063        64.00
   60030.975     0.985938       562979        71.11
   60227.583     0.987500       563893        80.00
   60489.727     0.989062       564757        91.43
   60751.871     0.990625       565614       106.67
   61112.319     0.992188       566532       128.00
   61276.159     0.992969       566923       142.22
   61472.767     0.993750       567430       160.00
   61636.607     0.994531       567784       182.86
   61898.751     0.995313       568254       213.33
   62259.199     0.996094       568678       256.00
   62423.039     0.996484       568901       284.44
   62619.647     0.996875       569121       320.00
   62914.559     0.997266       569356       365.71
   63111.167     0.997656       569588       426.67
   63340.543     0.998047       569799       512.00
   63438.847     0.998242       569915       568.89
   63569.919     0.998437       570019       640.00
   63733.759     0.998633       570139       731.43
   63832.063     0.998828       570242       853.33
   64028.671     0.999023       570347      1024.00
   64126.975     0.999121       570407      1137.78
   64225.279     0.999219       570460      1280.00
   64323.583     0.999316       570515      1462.86
   64454.655     0.999414       570571      1706.67
   64618.495     0.999512       570627      2048.00
   64684.031     0.999561       570653      2275.56
   64782.335     0.999609       570680      2560.00
   64880.639     0.999658       570708      2925.71
   64978.943     0.999707       570742      3413.33
   65077.247     0.999756       570769      4096.00
   65142.783     0.999780       570777      4551.11
   65306.623     0.999805       570796      5120.00
   65503.231     0.999829       570809      5851.43
   65667.071     0.999854       570819      6826.67
   65863.679     0.999878       570834      8192.00
   65929.215     0.999890       570842      9102.22
   65961.983     0.999902       570850     10240.00
   65994.751     0.999915       570856     11702.86
   66093.055     0.999927       570862     13653.33
   66125.823     0.999939       570868     16384.00
   66158.591     0.999945       570872     18204.44
   66191.359     0.999951       570876     20480.00
   66224.127     0.999957       570879     23405.71
   66289.663     0.999963       570882     27306.67
   66355.199     0.999969       570889     32768.00
   66355.199     0.999973       570889     36408.89
   66355.199     0.999976       570889     40960.00
   66387.967     0.999979       570892     46811.43
   66387.967     0.999982       570892     54613.33
   66420.735     0.999985       570894     65536.00
   66453.503     0.999986       570895     72817.78
   66584.575     0.999988       570896     81920.00
   66584.575     0.999989       570896     93622.86
   66650.111     0.999991       570897    109226.67
   66682.879     0.999992       570899    131072.00
   66682.879     0.999993       570899    145635.56
   66682.879     0.999994       570899    163840.00
   66682.879     0.999995       570899    187245.71
   66715.647     0.999995       570900    218453.33
   66715.647     0.999996       570900    262144.00
   66748.415     0.999997       570901    291271.11
   66748.415     0.999997       570901    327680.00
   66748.415     0.999997       570901    374491.43
   66748.415     0.999998       570901    436906.67
   66748.415     0.999998       570901    524288.00
   66781.183     0.999998       570902    582542.22
   66781.183     1.000000       570902          inf
#[Mean    =    31478.433, StdDeviation   =    15170.357]
#[Max     =    66748.416, Total count    =       570902]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  619246 requests in 2.00m, 7.58GB read
Requests/sec:   5164.10  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54481 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 22032 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54481 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 22032 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
f0e7194b1c526239d3a3fcc499a2c99bca90381193a911ac7609fce0348809b8
dece6e0cf2bc77e4da15b5fd6595cff663cb14dcf200b04c9fcb98b63d3a3ccf
49facf9b2f5829217288c7baf181e96441ac5c0f41609026a6bb343603edd72b
9a9ca267f9f5dee6f51fe27c1310f10a5032f846a73152b812235ca29ed641bc
bb38798ec4049c42ab8ef42b9ade1bcc691e740d604b3f13276951fb4ea30216
b962b7d7d1f1a94155788e5fb063f7cb923fc53fca250c2b37a9f7e25bd309e0
7b7d475bfee9a29241254a2f8fbafb0c4cc4683804edd9f62f15d0ecf0bf35cc
91613d66a9fcbfb527137b2227dbb72b89cf10c57f001c7f17d94cf271e6a724
777fc8fd24d31102c553b0e436a77904ba26e5f63a7537bf72a88d5af87b0fe0
ebbadb44d3f63ccaddfe78baefe280674896f2f79cdb21e792579cfd1df11e0d
9634475dd58a28d143ceace1f02be29c38f34a6e568f4e4e773fceb58699ffaa
7e7396ccc9140cdc364775716767e3ab49feeed79d7654328fc4804aefe4001f
bc6a7fbe11ad59c46bb6e5cdaee6aefd6a901bc0c92c9cc366e783fc5c7b1f65
2f823bf70954932e267643f7f632f52d52d649e47139db8dec72932288d16209
168616b429585808f31edef00e75c919d8a6b024ee01ca1f432d79700e9927f3
c443e691bf6e7536a0fd90f5382289f48a6847fb31004dfb38720b7e144d05e5
bec7d2bc6a07e86eb3462648deb95dd7b2a812948d423ab393c5fce5904dc813
ccf69afb14f3aef1e6a23f385760eee8538ee525d7abdf9b431c0658054992e9
aa170782879bf8938d77a24864a431a6826c91186a9f533aa7f8db8fe9781210
84b2aa50f973c6c8c6b01abf1d303d0bb924331afed4805787c844d71200fee0
0b147463340c29a35b8e9b9ad1ad1f357291eadc55ca4d99ab2396925774d0f2
edee25294b90f31da97fba907e10e8b52e4be5f173f0319585183c2b0a76fc2b
4aeba74407def14e64a581af8488f10eeb2f33942cdd0d9e834c0f88fef1813a
c8b9c0f02dfd9b4d04eaeed4463db0aa39325a7d03037cdcc4c4c7107a01479b
07d3b6ee94213d3dabdd7a51c5b8cbbdf30f353b4980fc25c387c80fc33db5ca
a73e758829457685e9612a14a10e725b380909815c318c81d2a49c396315846d
565867b047de08f40ff96b13fc11be5927f8de11e7e4f11d81f8bdb853fb9930
8806e751208f7d3342914da5be643b0eea29b07c4bdddf05ae672717dcaef98e
43371ebd622ac6eb0a0557613c93a46014c945efd04b75b0e3f51ac967a7e9e8
a256000e066bd65996354fc9ad0408f1a4a0a2f36b4ed88e126fcd98c30b140e
21c3a3bacd0ebfe81a9700d531c8baa91cff552039655ce7c267a35431a88986

Total reclaimed space: 4.337GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 15-11-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-2.log -b True -m m -M 2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 15-11-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-home-timeline,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-2.log', 'mode': 'm', 'memnode': '2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-2
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-2



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-2

Result: sha256:d43ed45fa3e3eea3a7efbf92fb6d338277c59a9d820352489d0691a550688ca2


Install numactl tools on docker image: media-frontend-numa-membind-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-2

Result: sha256:baccde653ab4402760d852ddf6c937bc8890c64821d2cdef92becbb89524a11e


Install numactl tools on docker image: openresty-thrift-numa-membind-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-2

Result: sha256:519c948a60f5147bf65ef692bb58e3fb22e1a3a710c5c99970c393bb1f42c078


Install numactl tools on docker image: redis-numa-membind-2
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 10 22:12 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-2



CMD: docker commit socialnetwork_user-timeline-redis_2 redis-numa-membind-2

Result: sha256:6f96c9a138540e89b84ec8721467bcab4399fef3b533e898dc5f30e4bcb42b0b


Install numactl tools on docker image: mongo-numa-membind-2
CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 10 22:12 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-2



CMD: docker commit socialnetwork_social-graph-mongodb_1 mongo-numa-membind-2

Result: sha256:20ebb358884c17431e9cfbf035b7a8bca0e4b474200eac93927dfb2b2c28f6f8


Install numactl tools on docker image: memcached-numa-membind-2
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 10 22:12 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-2



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-membind-2

Result: sha256:fa58b8d6ec981764399bacd5510eb0f656348cb1e11fa1865e02a14bed527c54


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
3a87ca073e640e5dea750ab2a039add08a7cd0e9d91471c899bd0b1782135199
24e155690eda03a1cafc07b4a91b658966e57a2cbca7a3a187052ccbd8cc575f
d5cc6485143897319f33c03134712b2efdfd429c4677f8594fc53bc077ecc6b6
3e867813629d16f64bb299aa5a972d5a3696bc61f4a68eed18f7765d9ee2ce77
a54a06a92f80a81cda7fa0d9651fbdb02f454a4a24387ffe70cbd94c6df470e7
7154359b6b44561899df636dadb07ebb838513d8446e2575bcf357e61eda075f
c7f3204eb751865f687ac526f07420a34621d773e3d83c6f0f01c6116bf931de
99a01faadf18f6d574fcdc5086b6162549cee881412f538084c3c67d904950e9
8208bb94f464dcf507534983b3a9054856263b56124ad4b54b41d54824fe9427
65985f183492ca1fab6d7a1c9dae698a07546dc38d71d1cd42c28c24ab661bb5
d988993614992d987c1d239364b3b11b45c770f65c52ff3fad6e7555c330a3c3
ea03c0c890d452975387d9dc2b8efea7377e97eb712735fcba061b9efe6938ce
77b46535d2d78ceb81f6d618517ba82186d608379821eeae34caaae5469fc133
3a6738be6b49c5ad88f6cb643f3a06fa15f7e814e7ccc425cabda40678c2938e
011a9de2b2a1d69b04586d69b936fad33bb39e5bb7f40001860787f940c97f2d
2833f5b3eb970b6b6e549d9c1cf3f9bed188e797b72a2619065ad42e51c11db4
4e1a76f4ad5bbf48efa0305e945089653391a9651933affc9577d63efe9204c2
36065ddc347df12407f1124f7d8b6356997c4c13d87895f56d3d93e533e103bf
23ff22fc536a8533470e6cea7c43237b8a97628aaa0eb3169f68feec70efc3cb
083d8d8bc5f14402a46f283167b1fccd18a928a42c7e9cbb55b11a6ebf4e5246
08e4110b08cdac1842a8ff21002906ab7f59c792d5d96aa8b1bbaa29b9d84e2c
ff128cef7416901df99e35351009d5b9cc8f70341050207dcc9baed7671162c3
4a7dd9d1b6f622a1355b5afa4c2167d409144f30a5893869c7d925e01b09d455
187d8d8438602eb4b183352c94231655176f74e08cab079f434a7964d5fbe7d7
71f8fffac345114b820799bf19ee79cb1ed106d6f802332c7c2a7384e812f323
4d32820155472a3bca9b77ea53527cf3ca402a6a5873d599924bf0011eec1b45
7e34b7af037c14fa0ed334e8ece61dab3d7e3c91782a9a6f2d24c99fe16633df
ea1acaa8365914d1c80dfbd08d36ed19745757646e683bc5e201e3ed7c1c029e
a2336288c634b9c3cf7266e50373f15d1714d944f5159b3571981bea283279a3
4ac22538de9911445b5aec7d995485cca5cbb7c7308d74a322ee7dbbcc2e2bb1
1868205c62d72a234a6a81d62a2e73c42fde9949492b4cf0534af17cbf1f4d33

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55241 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57454 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129923 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55241 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57454 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129923 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Succeeded: 37624


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:109
cluster_stats_messages_pong_sent:113
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:223
cluster_stats_messages_ping_received:113
cluster_stats_messages_pong_received:110
cluster_stats_messages_received:223
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:110
cluster_stats_messages_pong_sent:122
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:233
cluster_stats_messages_ping_received:122
cluster_stats_messages_pong_received:111
cluster_stats_messages_received:233
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:121
cluster_stats_messages_pong_sent:112
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:234
cluster_stats_messages_ping_received:112
cluster_stats_messages_pong_received:122
cluster_stats_messages_received:234
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 18.987ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.919ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 15.446ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 11.145ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 19.481ms, rate sampling interval: 62ms
  Thread calibration: mean lat.: 11.114ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 21.269ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 18.075ms, rate sampling interval: 52ms
  Thread calibration: mean lat.: 13.877ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 18.408ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 24.319ms, rate sampling interval: 65ms
  Thread calibration: mean lat.: 18.678ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 19.596ms, rate sampling interval: 83ms
  Thread calibration: mean lat.: 14.451ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 18.636ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 14.422ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 11.551ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 15.020ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 13.037ms, rate sampling interval: 73ms
  Thread calibration: mean lat.: 16.484ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 19.769ms, rate sampling interval: 81ms
  Thread calibration: mean lat.: 13.754ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 15.831ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.237ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 12.476ms, rate sampling interval: 45ms
  Thread calibration: mean lat.: 14.057ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 25.580ms, rate sampling interval: 177ms
  Thread calibration: mean lat.: 16.126ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 21.718ms, rate sampling interval: 121ms
  Thread calibration: mean lat.: 20.935ms, rate sampling interval: 100ms
  Thread calibration: mean lat.: 11.393ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 19.079ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 16.448ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 16.264ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 16.384ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 17.377ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 16.704ms, rate sampling interval: 67ms
  Thread calibration: mean lat.: 19.545ms, rate sampling interval: 82ms
  Thread calibration: mean lat.: 23.451ms, rate sampling interval: 114ms
  Thread calibration: mean lat.: 20.631ms, rate sampling interval: 78ms
  Thread calibration: mean lat.: 16.796ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 12.330ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 21.281ms, rate sampling interval: 76ms
  Thread calibration: mean lat.: 19.805ms, rate sampling interval: 96ms
  Thread calibration: mean lat.: 23.777ms, rate sampling interval: 127ms
  Thread calibration: mean lat.: 16.178ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 24.091ms, rate sampling interval: 127ms
  Thread calibration: mean lat.: 18.000ms, rate sampling interval: 21ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.92ms    1.30ms   6.11ms   96.83%
    Req/Sec    20.24     29.52   125.00     83.82%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.78ms
 75.000%    3.05ms
 90.000%    3.44ms
 99.000%    6.11ms
 99.900%   19.33ms
 99.990%   53.95ms
 99.999%   60.16ms
100.000%   62.21ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.467     0.000000            1         1.00
       2.285     0.100000        10640         1.11
       2.485     0.200000        21199         1.25
       2.603     0.300000        31899         1.43
       2.697     0.400000        42526         1.67
       2.783     0.500000        52974         2.00
       2.827     0.550000        58264         2.22
       2.873     0.600000        63539         2.50
       2.925     0.650000        68866         2.86
       2.983     0.700000        74208         3.33
       3.047     0.750000        79390         4.00
       3.087     0.775000        82124         4.44
       3.131     0.800000        84721         5.00
       3.183     0.825000        87366         5.71
       3.247     0.850000        90011         6.67
       3.329     0.875000        92606         8.00
       3.379     0.887500        93933         8.89
       3.437     0.900000        95261        10.00
       3.509     0.912500        96593        11.43
       3.593     0.925000        97915        13.33
       3.697     0.937500        99215        16.00
       3.765     0.943750        99882        17.78
       3.843     0.950000       100545        20.00
       3.933     0.956250       101201        22.86
       4.051     0.962500       101866        26.67
       4.223     0.968750       102522        32.00
       4.339     0.971875       102856        35.56
       4.475     0.975000       103184        40.00
       4.651     0.978125       103518        45.71
       4.875     0.981250       103852        53.33
       5.159     0.984375       104177        64.00
       5.331     0.985938       104342        71.11
       5.555     0.987500       104507        80.00
       5.847     0.989062       104673        91.43
       6.319     0.990625       104838       106.67
       6.927     0.992188       105004       128.00
       7.375     0.992969       105087       142.22
       7.903     0.993750       105168       160.00
       8.447     0.994531       105251       182.86
       9.063     0.995313       105334       213.33
      10.055     0.996094       105416       256.00
      10.711     0.996484       105458       284.44
      11.303     0.996875       105500       320.00
      11.919     0.997266       105540       365.71
      12.927     0.997656       105581       426.67
      13.927     0.998047       105623       512.00
      14.447     0.998242       105643       568.89
      15.215     0.998437       105664       640.00
      15.911     0.998633       105685       731.43
      17.615     0.998828       105705       853.33
      19.423     0.999023       105727      1024.00
      20.303     0.999121       105736      1137.78
      21.119     0.999219       105747      1280.00
      22.399     0.999316       105757      1462.86
      24.975     0.999414       105767      1706.67
      28.831     0.999512       105778      2048.00
      31.311     0.999561       105783      2275.56
      32.319     0.999609       105788      2560.00
      33.343     0.999658       105794      2925.71
      33.887     0.999707       105798      3413.33
      36.831     0.999756       105804      4096.00
      38.591     0.999780       105806      4551.11
      41.631     0.999805       105809      5120.00
      42.431     0.999829       105811      5851.43
      47.775     0.999854       105814      6826.67
      52.927     0.999878       105817      8192.00
      53.951     0.999890       105818      9102.22
      54.047     0.999902       105819     10240.00
      54.463     0.999915       105820     11702.86
      54.687     0.999927       105822     13653.33
      54.719     0.999939       105823     16384.00
      55.775     0.999945       105824     18204.44
      55.775     0.999951       105824     20480.00
      56.351     0.999957       105825     23405.71
      58.175     0.999963       105826     27306.67
      58.175     0.999969       105826     32768.00
      58.879     0.999973       105827     36408.89
      58.879     0.999976       105827     40960.00
      58.879     0.999979       105827     46811.43
      60.159     0.999982       105828     54613.33
      60.159     0.999985       105828     65536.00
      60.159     0.999986       105828     72817.78
      60.159     0.999988       105828     81920.00
      60.159     0.999989       105828     93622.86
      62.207     0.999991       105829    109226.67
      62.207     1.000000       105829          inf
#[Mean    =        2.922, StdDeviation   =        1.301]
#[Max     =       62.176, Total count    =       105829]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115301 requests in 2.00m, 23.64MB read
  Socket errors: connect 0, read 0, write 0, timeout 1
Requests/sec:    960.74  
Transfer/sec:    201.72KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55160 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56576 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128221 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55160 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56576 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128221 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 3653.400ms, rate sampling interval: 13025ms
  Thread calibration: mean lat.: 3410.335ms, rate sampling interval: 12500ms
  Thread calibration: mean lat.: 3597.161ms, rate sampling interval: 13443ms
  Thread calibration: mean lat.: 3618.319ms, rate sampling interval: 12623ms
  Thread calibration: mean lat.: 3282.100ms, rate sampling interval: 11984ms
  Thread calibration: mean lat.: 3421.010ms, rate sampling interval: 13033ms
  Thread calibration: mean lat.: 3315.522ms, rate sampling interval: 12337ms
  Thread calibration: mean lat.: 3585.205ms, rate sampling interval: 13058ms
  Thread calibration: mean lat.: 3415.349ms, rate sampling interval: 12681ms
  Thread calibration: mean lat.: 3610.584ms, rate sampling interval: 12910ms
  Thread calibration: mean lat.: 3472.153ms, rate sampling interval: 12476ms
  Thread calibration: mean lat.: 3545.678ms, rate sampling interval: 12910ms
  Thread calibration: mean lat.: 3528.427ms, rate sampling interval: 12845ms
  Thread calibration: mean lat.: 3434.493ms, rate sampling interval: 12886ms
  Thread calibration: mean lat.: 3469.513ms, rate sampling interval: 12943ms
  Thread calibration: mean lat.: 3626.230ms, rate sampling interval: 13623ms
  Thread calibration: mean lat.: 3555.234ms, rate sampling interval: 12926ms
  Thread calibration: mean lat.: 3608.567ms, rate sampling interval: 12763ms
  Thread calibration: mean lat.: 3598.985ms, rate sampling interval: 13205ms
  Thread calibration: mean lat.: 3644.165ms, rate sampling interval: 13107ms
  Thread calibration: mean lat.: 3670.634ms, rate sampling interval: 12992ms
  Thread calibration: mean lat.: 3703.475ms, rate sampling interval: 13352ms
  Thread calibration: mean lat.: 3478.688ms, rate sampling interval: 12460ms
  Thread calibration: mean lat.: 3761.798ms, rate sampling interval: 13303ms
  Thread calibration: mean lat.: 3750.474ms, rate sampling interval: 13533ms
  Thread calibration: mean lat.: 3670.019ms, rate sampling interval: 12746ms
  Thread calibration: mean lat.: 3248.287ms, rate sampling interval: 11517ms
  Thread calibration: mean lat.: 3572.973ms, rate sampling interval: 12517ms
  Thread calibration: mean lat.: 3736.664ms, rate sampling interval: 12804ms
  Thread calibration: mean lat.: 3621.899ms, rate sampling interval: 13008ms
  Thread calibration: mean lat.: 3742.309ms, rate sampling interval: 12910ms
  Thread calibration: mean lat.: 3852.491ms, rate sampling interval: 13066ms
  Thread calibration: mean lat.: 3772.876ms, rate sampling interval: 12730ms
  Thread calibration: mean lat.: 4122.171ms, rate sampling interval: 13778ms
  Thread calibration: mean lat.: 3998.528ms, rate sampling interval: 13541ms
  Thread calibration: mean lat.: 3930.765ms, rate sampling interval: 13647ms
  Thread calibration: mean lat.: 3998.064ms, rate sampling interval: 13656ms
  Thread calibration: mean lat.: 3815.128ms, rate sampling interval: 13017ms
  Thread calibration: mean lat.: 3858.592ms, rate sampling interval: 13123ms
  Thread calibration: mean lat.: 4011.440ms, rate sampling interval: 13402ms
  Thread calibration: mean lat.: 3839.569ms, rate sampling interval: 13107ms
  Thread calibration: mean lat.: 3951.744ms, rate sampling interval: 13123ms
  Thread calibration: mean lat.: 4026.238ms, rate sampling interval: 13500ms
  Thread calibration: mean lat.: 3192.934ms, rate sampling interval: 11444ms
  Thread calibration: mean lat.: 3826.240ms, rate sampling interval: 12910ms
  Thread calibration: mean lat.: 3893.037ms, rate sampling interval: 12812ms
  Thread calibration: mean lat.: 4016.851ms, rate sampling interval: 13418ms
  Thread calibration: mean lat.: 3911.628ms, rate sampling interval: 13320ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    46.79s    22.88s    1.43m    57.81%
    Req/Sec    28.61      0.66    30.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   46.83s 
 75.000%    1.11m 
 90.000%    1.31m 
 99.000%    1.43m 
 99.900%    1.46m 
 99.990%    1.48m 
 99.999%    1.49m 
100.000%    1.49m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    6127.615     0.000000            1         1.00
   15155.199     0.100000        15369         1.11
   22986.751     0.200000        30724         1.25
   30998.527     0.300000        46126         1.43
   38928.383     0.400000        61487         1.67
   46825.471     0.500000        76872         2.00
   50757.631     0.550000        84556         2.22
   54591.487     0.600000        92171         2.50
   58458.111     0.650000        99903         2.86
   62390.271     0.700000       107574         3.33
   66453.503     0.750000       115266         4.00
   68419.583     0.775000       119116         4.44
   70516.735     0.800000       122909         5.00
   72548.351     0.825000       126813         5.71
   74514.431     0.850000       130607         6.67
   76611.583     0.875000       134484         8.00
   77660.159     0.887500       136431         8.89
   78643.199     0.900000       138276        10.00
   79691.775     0.912500       140296        11.43
   80674.815     0.925000       142199        13.33
   81657.855     0.937500       144116        16.00
   82116.607     0.943750       145010        17.78
   82640.895     0.950000       146059        20.00
   83099.647     0.956250       146974        22.86
   83558.399     0.962500       147898        26.67
   84017.151     0.968750       148827        32.00
   84279.295     0.971875       149376        35.56
   84475.903     0.975000       149780        40.00
   84738.047     0.978125       150271        45.71
   85065.727     0.981250       150828        53.33
   85327.871     0.984375       151251        64.00
   85458.943     0.985938       151470        71.11
   85655.551     0.987500       151763        80.00
   85786.623     0.989062       151952        91.43
   85983.231     0.990625       152186       106.67
   86245.375     0.992188       152483       128.00
   86310.911     0.992969       152546       142.22
   86441.983     0.993750       152674       160.00
   86573.055     0.994531       152798       182.86
   86704.127     0.995313       152911       213.33
   86835.199     0.996094       153017       256.00
   86900.735     0.996484       153076       284.44
   87031.807     0.996875       153157       320.00
   87097.343     0.997266       153203       365.71
   87228.415     0.997656       153270       426.67
   87359.487     0.998047       153326       512.00
   87425.023     0.998242       153349       568.89
   87490.559     0.998437       153375       640.00
   87621.631     0.998633       153423       731.43
   87687.167     0.998828       153444       853.33
   87818.239     0.999023       153475      1024.00
   87883.775     0.999121       153491      1137.78
   87949.311     0.999219       153509      1280.00
   88014.847     0.999316       153518      1462.86
   88080.383     0.999414       153534      1706.67
   88211.455     0.999512       153549      2048.00
   88211.455     0.999561       153549      2275.56
   88276.991     0.999609       153557      2560.00
   88342.527     0.999658       153565      2925.71
   88408.063     0.999707       153572      3413.33
   88539.135     0.999756       153583      4096.00
   88539.135     0.999780       153583      4551.11
   88604.671     0.999805       153589      5120.00
   88604.671     0.999829       153589      5851.43
   88670.207     0.999854       153594      6826.67
   88735.743     0.999878       153598      8192.00
   88801.279     0.999890       153603      9102.22
   88801.279     0.999902       153603     10240.00
   88801.279     0.999915       153603     11702.86
   88866.815     0.999927       153606     13653.33
   88866.815     0.999939       153606     16384.00
   88932.351     0.999945       153608     18204.44
   88932.351     0.999951       153608     20480.00
   88997.887     0.999957       153609     23405.71
   89063.423     0.999963       153612     27306.67
   89063.423     0.999969       153612     32768.00
   89063.423     0.999973       153612     36408.89
   89063.423     0.999976       153612     40960.00
   89063.423     0.999979       153612     46811.43
   89194.495     0.999982       153613     54613.33
   89194.495     0.999985       153613     65536.00
   89194.495     0.999986       153613     72817.78
   89260.031     0.999988       153614     81920.00
   89260.031     0.999989       153614     93622.86
   89260.031     0.999991       153614    109226.67
   89260.031     0.999992       153614    131072.00
   89260.031     0.999993       153614    145635.56
   89325.567     0.999994       153615    163840.00
   89325.567     1.000000       153615          inf
#[Mean    =    46785.062, StdDeviation   =    22875.160]
#[Max     =    89260.032, Total count    =       153615]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  167291 requests in 2.00m, 34.30MB read
Requests/sec:   1394.44  
Transfer/sec:    292.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55131 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55224 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125535 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55131 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55224 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125535 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4779.382ms, rate sampling interval: 16809ms
  Thread calibration: mean lat.: 4609.482ms, rate sampling interval: 16793ms
  Thread calibration: mean lat.: 4811.512ms, rate sampling interval: 16449ms
  Thread calibration: mean lat.: 4705.981ms, rate sampling interval: 16908ms
  Thread calibration: mean lat.: 4646.371ms, rate sampling interval: 16621ms
  Thread calibration: mean lat.: 4584.655ms, rate sampling interval: 16572ms
  Thread calibration: mean lat.: 4929.852ms, rate sampling interval: 16941ms
  Thread calibration: mean lat.: 4790.917ms, rate sampling interval: 16736ms
  Thread calibration: mean lat.: 4821.544ms, rate sampling interval: 16646ms
  Thread calibration: mean lat.: 4737.077ms, rate sampling interval: 16736ms
  Thread calibration: mean lat.: 4829.259ms, rate sampling interval: 16826ms
  Thread calibration: mean lat.: 4893.349ms, rate sampling interval: 16859ms
  Thread calibration: mean lat.: 4893.424ms, rate sampling interval: 17022ms
  Thread calibration: mean lat.: 4960.897ms, rate sampling interval: 16728ms
  Thread calibration: mean lat.: 4785.069ms, rate sampling interval: 16687ms
  Thread calibration: mean lat.: 4842.994ms, rate sampling interval: 16490ms
  Thread calibration: mean lat.: 4842.011ms, rate sampling interval: 16564ms
  Thread calibration: mean lat.: 4733.500ms, rate sampling interval: 16556ms
  Thread calibration: mean lat.: 5091.110ms, rate sampling interval: 17154ms
  Thread calibration: mean lat.: 5058.266ms, rate sampling interval: 17104ms
  Thread calibration: mean lat.: 4981.629ms, rate sampling interval: 16941ms
  Thread calibration: mean lat.: 4897.539ms, rate sampling interval: 16760ms
  Thread calibration: mean lat.: 4833.848ms, rate sampling interval: 16646ms
  Thread calibration: mean lat.: 4862.948ms, rate sampling interval: 16924ms
  Thread calibration: mean lat.: 5025.837ms, rate sampling interval: 17022ms
  Thread calibration: mean lat.: 4514.950ms, rate sampling interval: 15384ms
  Thread calibration: mean lat.: 4850.176ms, rate sampling interval: 16482ms
  Thread calibration: mean lat.: 4879.949ms, rate sampling interval: 16383ms
  Thread calibration: mean lat.: 4357.081ms, rate sampling interval: 14761ms
  Thread calibration: mean lat.: 4793.480ms, rate sampling interval: 16588ms
  Thread calibration: mean lat.: 4941.590ms, rate sampling interval: 16605ms
  Thread calibration: mean lat.: 4695.836ms, rate sampling interval: 16359ms
  Thread calibration: mean lat.: 5067.620ms, rate sampling interval: 16711ms
  Thread calibration: mean lat.: 4879.060ms, rate sampling interval: 16539ms
  Thread calibration: mean lat.: 4859.423ms, rate sampling interval: 16613ms
  Thread calibration: mean lat.: 4924.679ms, rate sampling interval: 16924ms
  Thread calibration: mean lat.: 4925.769ms, rate sampling interval: 16842ms
  Thread calibration: mean lat.: 4852.029ms, rate sampling interval: 16957ms
  Thread calibration: mean lat.: 4937.124ms, rate sampling interval: 17104ms
  Thread calibration: mean lat.: 4789.168ms, rate sampling interval: 16564ms
  Thread calibration: mean lat.: 4752.369ms, rate sampling interval: 16678ms
  Thread calibration: mean lat.: 5059.637ms, rate sampling interval: 16891ms
  Thread calibration: mean lat.: 4789.870ms, rate sampling interval: 16842ms
  Thread calibration: mean lat.: 4947.144ms, rate sampling interval: 17121ms
  Thread calibration: mean lat.: 4936.891ms, rate sampling interval: 16859ms
  Thread calibration: mean lat.: 4754.833ms, rate sampling interval: 16490ms
  Thread calibration: mean lat.: 4916.844ms, rate sampling interval: 16941ms
  Thread calibration: mean lat.: 4832.828ms, rate sampling interval: 16637ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     1.00m    29.46s    1.84m    57.91%
    Req/Sec    14.03      0.45    15.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.00m 
 75.000%    1.42m 
 90.000%    1.69m 
 99.000%    1.84m 
 99.900%    1.86m 
 99.990%    1.87m 
 99.999%    1.88m 
100.000%    1.88m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    8245.247     0.000000            1         1.00
   19415.039     0.100000         7673         1.11
   29507.583     0.200000        15345         1.25
   39747.583     0.300000        23007         1.43
   49676.287     0.400000        30676         1.67
   59834.367     0.500000        38345         2.00
   65077.247     0.550000        42196         2.22
   70057.983     0.600000        46055         2.50
   75169.791     0.650000        49874         2.86
   80281.599     0.700000        53718         3.33
   85393.407     0.750000        57544         4.00
   87949.311     0.775000        59441         4.44
   90570.751     0.800000        61352         5.00
   93192.191     0.825000        63275         5.71
   95813.631     0.850000        65181         6.67
   98500.607     0.875000        67101         8.00
   99876.863     0.887500        68097         8.89
  101187.583     0.900000        69030        10.00
  102432.767     0.912500        69997        11.43
  103743.487     0.925000        70938        13.33
  105054.207     0.937500        71892        16.00
  105709.567     0.943750        72370        17.78
  106364.927     0.950000        72849        20.00
  107020.287     0.956250        73327        22.86
  107675.647     0.962500        73822        26.67
  108331.007     0.968750        74297        32.00
  108658.687     0.971875        74543        35.56
  108986.367     0.975000        74791        40.00
  109314.047     0.978125        75027        45.71
  109641.727     0.981250        75257        53.33
  109969.407     0.984375        75492        64.00
  110166.015     0.985938        75647        71.11
  110297.087     0.987500        75746        80.00
  110428.159     0.989062        75846        91.43
  110624.767     0.990625        75994       106.67
  110755.839     0.992188        76098       128.00
  110886.911     0.992969        76188       142.22
  110952.447     0.993750        76227       160.00
  111017.983     0.994531        76264       182.86
  111149.055     0.995313        76358       213.33
  111280.127     0.996094        76420       256.00
  111280.127     0.996484        76420       284.44
  111345.663     0.996875        76462       320.00
  111411.199     0.997266        76491       365.71
  111476.735     0.997656        76520       426.67
  111542.271     0.998047        76546       512.00
  111542.271     0.998242        76546       568.89
  111607.807     0.998437        76573       640.00
  111673.343     0.998633        76589       731.43
  111738.879     0.998828        76606       853.33
  111738.879     0.999023        76606      1024.00
  111804.415     0.999121        76620      1137.78
  111869.951     0.999219        76633      1280.00
  111869.951     0.999316        76633      1462.86
  111935.487     0.999414        76643      1706.67
  111935.487     0.999512        76643      2048.00
  112001.023     0.999561        76652      2275.56
  112001.023     0.999609        76652      2560.00
  112066.559     0.999658        76656      2925.71
  112132.095     0.999707        76660      3413.33
  112197.631     0.999756        76665      4096.00
  112197.631     0.999780        76665      4551.11
  112263.167     0.999805        76668      5120.00
  112263.167     0.999829        76668      5851.43
  112328.703     0.999854        76670      6826.67
  112394.239     0.999878        76672      8192.00
  112394.239     0.999890        76672      9102.22
  112459.775     0.999902        76676     10240.00
  112459.775     0.999915        76676     11702.86
  112459.775     0.999927        76676     13653.33
  112459.775     0.999939        76676     16384.00
  112459.775     0.999945        76676     18204.44
  112590.847     0.999951        76678     20480.00
  112590.847     0.999957        76678     23405.71
  112590.847     0.999963        76678     27306.67
  112590.847     0.999969        76678     32768.00
  112590.847     0.999973        76678     36408.89
  112656.383     0.999976        76679     40960.00
  112656.383     0.999979        76679     46811.43
  112656.383     0.999982        76679     54613.33
  112656.383     0.999985        76679     65536.00
  112656.383     0.999986        76679     72817.78
  112721.919     0.999988        76680     81920.00
  112721.919     1.000000        76680          inf
#[Mean    =    60035.760, StdDeviation   =    29456.515]
#[Max     =   112656.384, Total count    =        76680]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  83271 requests in 2.00m, 17.07MB read
Requests/sec:    693.88  
Transfer/sec:    145.69KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54953 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53291 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 123498 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54953 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53291 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 123498 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.244ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.260ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.262ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.088ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.260ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.505ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.333ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.507ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.660ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.381ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.896ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.191ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.214ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.685ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.126ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.160ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.498ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.727ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.673ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.272ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.683ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.589ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.882ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.055ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.044ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.753ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.528ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.780ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.289ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.599ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.871ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.509ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.596ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.351ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.795ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.563ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.253ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.111ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.407ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.487ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.282ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.353ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.894ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.137ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.045ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.131ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.971ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.259ms, rate sampling interval: 29ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.98ms    3.15ms  23.02ms   84.58%
    Req/Sec    20.21     26.03   103.00     87.94%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.26ms
 75.000%   11.75ms
 90.000%   14.41ms
 99.000%   23.02ms
 99.900%   32.46ms
 99.990%   43.46ms
 99.999%   50.56ms
100.000%   53.12ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.029     0.000000            1         1.00
       8.479     0.100000        10660         1.11
       9.087     0.200000        21351         1.25
       9.495     0.300000        31913         1.43
       9.871     0.400000        42491         1.67
      10.263     0.500000        52997         2.00
      10.479     0.550000        58321         2.22
      10.719     0.600000        63587         2.50
      10.999     0.650000        68894         2.86
      11.335     0.700000        74193         3.33
      11.751     0.750000        79387         4.00
      12.007     0.775000        82104         4.44
      12.295     0.800000        84710         5.00
      12.631     0.825000        87356         5.71
      13.047     0.850000        89966         6.67
      13.615     0.875000        92617         8.00
      13.975     0.887500        93939         8.89
      14.407     0.900000        95280        10.00
      14.927     0.912500        96582        11.43
      15.575     0.925000        97903        13.33
      16.311     0.937500        99229        16.00
      16.719     0.943750        99895        17.78
      17.151     0.950000       100550        20.00
      17.631     0.956250       101219        22.86
      18.175     0.962500       101871        26.67
      18.831     0.968750       102548        32.00
      19.199     0.971875       102872        35.56
      19.647     0.975000       103206        40.00
      20.111     0.978125       103525        45.71
      20.623     0.981250       103864        53.33
      21.359     0.984375       104187        64.00
      21.775     0.985938       104353        71.11
      22.207     0.987500       104523        80.00
      22.655     0.989062       104685        91.43
      23.311     0.990625       104854       106.67
      23.951     0.992188       105017       128.00
      24.399     0.992969       105096       142.22
      24.879     0.993750       105180       160.00
      25.407     0.994531       105263       182.86
      26.015     0.995313       105346       213.33
      26.735     0.996094       105428       256.00
      27.215     0.996484       105468       284.44
      27.631     0.996875       105512       320.00
      28.143     0.997266       105551       365.71
      28.767     0.997656       105592       426.67
      29.487     0.998047       105634       512.00
      29.983     0.998242       105654       568.89
      30.479     0.998437       105675       640.00
      31.103     0.998633       105696       731.43
      31.823     0.998828       105716       853.33
      32.495     0.999023       105737      1024.00
      32.831     0.999121       105747      1137.78
      33.535     0.999219       105758      1280.00
      34.495     0.999316       105768      1462.86
      35.295     0.999414       105778      1706.67
      35.743     0.999512       105789      2048.00
      36.287     0.999561       105794      2275.56
      36.863     0.999609       105799      2560.00
      37.375     0.999658       105804      2925.71
      38.559     0.999707       105810      3413.33
      39.327     0.999756       105815      4096.00
      40.959     0.999780       105817      4551.11
      41.375     0.999805       105820      5120.00
      41.535     0.999829       105822      5851.43
      42.527     0.999854       105825      6826.67
      43.199     0.999878       105828      8192.00
      43.455     0.999890       105829      9102.22
      43.615     0.999902       105830     10240.00
      46.335     0.999915       105831     11702.86
      48.031     0.999927       105833     13653.33
      48.223     0.999939       105834     16384.00
      48.319     0.999945       105835     18204.44
      48.319     0.999951       105835     20480.00
      48.671     0.999957       105836     23405.71
      49.375     0.999963       105837     27306.67
      49.375     0.999969       105837     32768.00
      50.207     0.999973       105838     36408.89
      50.207     0.999976       105838     40960.00
      50.207     0.999979       105838     46811.43
      50.559     0.999982       105839     54613.33
      50.559     0.999985       105839     65536.00
      50.559     0.999986       105839     72817.78
      50.559     0.999988       105839     81920.00
      50.559     0.999989       105839     93622.86
      53.119     0.999991       105840    109226.67
      53.119     1.000000       105840          inf
#[Mean    =       10.980, StdDeviation   =        3.147]
#[Max     =       53.088, Total count    =       105840]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115353 requests in 2.00m, 1.56GB read
Requests/sec:    961.34  
Transfer/sec:     13.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54883 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50815 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121522 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54883 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50815 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121522 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.422ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.332ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 5.729ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.575ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.071ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.933ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.321ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.630ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.726ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.019ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.160ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.250ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.675ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.842ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.908ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.758ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.330ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.875ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.318ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.867ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.315ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.245ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.360ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.641ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.426ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.229ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.887ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.992ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.720ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.569ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.544ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.224ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.007ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.406ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.627ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.922ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.069ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.497ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.926ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.553ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.248ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.018ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.615ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.790ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.922ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.622ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.487ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.281ms, rate sampling interval: 17ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.58ms   23.60ms  58.21ms   98.80%
    Req/Sec   107.12     81.73   333.00     66.59%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.84ms
 75.000%    6.10ms
 90.000%    8.34ms
 99.000%   58.21ms
 99.900%  387.58ms
 99.990%  579.58ms
 99.999%  655.36ms
100.000%  690.69ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.129     0.000000            1         1.00
       3.715     0.100000        55048         1.11
       4.005     0.200000       110298         1.25
       4.267     0.300000       165713         1.43
       4.535     0.400000       220031         1.67
       4.839     0.500000       275255         2.00
       5.007     0.550000       302671         2.22
       5.199     0.600000       330110         2.50
       5.427     0.650000       357460         2.86
       5.715     0.700000       384902         3.33
       6.099     0.750000       412395         4.00
       6.339     0.775000       426038         4.44
       6.619     0.800000       439757         5.00
       6.943     0.825000       453427         5.71
       7.311     0.850000       467162         6.67
       7.763     0.875000       480880         8.00
       8.035     0.887500       487815         8.89
       8.343     0.900000       494667        10.00
       8.711     0.912500       501562        11.43
       9.159     0.925000       508451        13.33
       9.719     0.937500       515279        16.00
      10.055     0.943750       518660        17.78
      10.471     0.950000       522129        20.00
      10.975     0.956250       525551        22.86
      11.639     0.962500       528994        26.67
      12.519     0.968750       532415        32.00
      13.111     0.971875       534117        35.56
      13.895     0.975000       535844        40.00
      14.943     0.978125       537560        45.71
      16.495     0.981250       539287        53.33
      19.375     0.984375       540989        64.00
      21.967     0.985938       541843        71.11
      28.127     0.987500       542701        80.00
      44.095     0.989062       543560        91.43
      68.543     0.990625       544420       106.67
      99.583     0.992188       545277       128.00
     116.095     0.992969       545708       142.22
     134.015     0.993750       546137       160.00
     156.799     0.994531       546567       182.86
     182.271     0.995313       546994       213.33
     211.071     0.996094       547424       256.00
     226.047     0.996484       547642       284.44
     244.223     0.996875       547853       320.00
     264.447     0.997266       548072       365.71
     286.975     0.997656       548282       426.67
     308.991     0.998047       548498       512.00
     322.815     0.998242       548604       568.89
     338.943     0.998437       548712       640.00
     356.351     0.998633       548821       731.43
     372.479     0.998828       548926       853.33
     390.911     0.999023       549034      1024.00
     401.663     0.999121       549089      1137.78
     410.623     0.999219       549141      1280.00
     422.143     0.999316       549195      1462.86
     438.015     0.999414       549250      1706.67
     449.791     0.999512       549302      2048.00
     460.799     0.999561       549329      2275.56
     468.991     0.999609       549356      2560.00
     479.487     0.999658       549383      2925.71
     492.543     0.999707       549410      3413.33
     508.927     0.999756       549436      4096.00
     521.983     0.999780       549450      4551.11
     536.063     0.999805       549463      5120.00
     545.279     0.999829       549477      5851.43
     556.543     0.999854       549492      6826.67
     569.343     0.999878       549505      8192.00
     575.487     0.999890       549510      9102.22
     583.679     0.999902       549517     10240.00
     596.991     0.999915       549524     11702.86
     603.647     0.999927       549530     13653.33
     610.815     0.999939       549537     16384.00
     612.863     0.999945       549541     18204.44
     621.567     0.999951       549544     20480.00
     625.151     0.999957       549547     23405.71
     628.223     0.999963       549551     27306.67
     638.975     0.999969       549555     32768.00
     638.975     0.999973       549555     36408.89
     643.071     0.999976       549558     40960.00
     643.583     0.999979       549560     46811.43
     643.583     0.999982       549560     54613.33
     648.191     0.999985       549562     65536.00
     652.799     0.999986       549563     72817.78
     655.359     0.999988       549565     81920.00
     655.359     0.999989       549565     93622.86
     655.359     0.999991       549565    109226.67
     671.743     0.999992       549566    131072.00
     676.863     0.999993       549567    145635.56
     676.863     0.999994       549567    163840.00
     680.447     0.999995       549568    187245.71
     680.447     0.999995       549568    218453.33
     680.447     0.999996       549568    262144.00
     687.103     0.999997       549569    291271.11
     687.103     0.999997       549569    327680.00
     687.103     0.999997       549569    374491.43
     687.103     0.999998       549569    436906.67
     687.103     0.999998       549569    524288.00
     690.687     0.999998       549570    582542.22
     690.687     1.000000       549570          inf
#[Mean    =        7.578, StdDeviation   =       23.601]
#[Max     =      690.176, Total count    =       549570]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599208 requests in 2.00m, 8.14GB read
Requests/sec:   4995.48  
Transfer/sec:     69.45MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54660 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46128 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 119806 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54660 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46128 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 119806 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 1981.724ms, rate sampling interval: 9936ms
  Thread calibration: mean lat.: 847.123ms, rate sampling interval: 5087ms
  Thread calibration: mean lat.: 2074.184ms, rate sampling interval: 7847ms
  Thread calibration: mean lat.: 1411.350ms, rate sampling interval: 6021ms
  Thread calibration: mean lat.: 2633.080ms, rate sampling interval: 9625ms
  Thread calibration: mean lat.: 1468.375ms, rate sampling interval: 7729ms
  Thread calibration: mean lat.: 995.564ms, rate sampling interval: 4726ms
  Thread calibration: mean lat.: 2003.191ms, rate sampling interval: 8716ms
  Thread calibration: mean lat.: 927.719ms, rate sampling interval: 5255ms
  Thread calibration: mean lat.: 816.294ms, rate sampling interval: 4040ms
  Thread calibration: mean lat.: 584.436ms, rate sampling interval: 3479ms
  Thread calibration: mean lat.: 3134.080ms, rate sampling interval: 9871ms
  Thread calibration: mean lat.: 1343.606ms, rate sampling interval: 7094ms
  Thread calibration: mean lat.: 2104.618ms, rate sampling interval: 6664ms
  Thread calibration: mean lat.: 1404.109ms, rate sampling interval: 4415ms
  Thread calibration: mean lat.: 928.329ms, rate sampling interval: 4374ms
  Thread calibration: mean lat.: 619.165ms, rate sampling interval: 3862ms
  Thread calibration: mean lat.: 647.208ms, rate sampling interval: 4452ms
  Thread calibration: mean lat.: 593.742ms, rate sampling interval: 5218ms
  Thread calibration: mean lat.: 1556.591ms, rate sampling interval: 7946ms
  Thread calibration: mean lat.: 1690.197ms, rate sampling interval: 6914ms
  Thread calibration: mean lat.: 1288.674ms, rate sampling interval: 7655ms
  Thread calibration: mean lat.: 1992.766ms, rate sampling interval: 8699ms
  Thread calibration: mean lat.: 1225.642ms, rate sampling interval: 7245ms
  Thread calibration: mean lat.: 1182.212ms, rate sampling interval: 6152ms
  Thread calibration: mean lat.: 1491.049ms, rate sampling interval: 5910ms
  Thread calibration: mean lat.: 2251.018ms, rate sampling interval: 7454ms
  Thread calibration: mean lat.: 1511.180ms, rate sampling interval: 6774ms
  Thread calibration: mean lat.: 1700.354ms, rate sampling interval: 7380ms
  Thread calibration: mean lat.: 1184.525ms, rate sampling interval: 7499ms
  Thread calibration: mean lat.: 1026.902ms, rate sampling interval: 5136ms
  Thread calibration: mean lat.: 1040.579ms, rate sampling interval: 6631ms
  Thread calibration: mean lat.: 764.233ms, rate sampling interval: 3719ms
  Thread calibration: mean lat.: 415.797ms, rate sampling interval: 1878ms
  Thread calibration: mean lat.: 1376.784ms, rate sampling interval: 6475ms
  Thread calibration: mean lat.: 788.693ms, rate sampling interval: 6066ms
  Thread calibration: mean lat.: 1212.311ms, rate sampling interval: 5349ms
  Thread calibration: mean lat.: 578.643ms, rate sampling interval: 3715ms
  Thread calibration: mean lat.: 1096.866ms, rate sampling interval: 6397ms
  Thread calibration: mean lat.: 1726.001ms, rate sampling interval: 8036ms
  Thread calibration: mean lat.: 1993.850ms, rate sampling interval: 6111ms
  Thread calibration: mean lat.: 1533.780ms, rate sampling interval: 6631ms
  Thread calibration: mean lat.: 1117.949ms, rate sampling interval: 5222ms
  Thread calibration: mean lat.: 1041.121ms, rate sampling interval: 4202ms
  Thread calibration: mean lat.: 574.558ms, rate sampling interval: 4198ms
  Thread calibration: mean lat.: 1380.618ms, rate sampling interval: 6889ms
  Thread calibration: mean lat.: 1110.098ms, rate sampling interval: 5775ms
  Thread calibration: mean lat.: 1796.805ms, rate sampling interval: 7315ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     3.60s     7.31s   32.90s    87.60%
    Req/Sec   200.22     15.72   233.00     77.93%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   27.17ms
 75.000%    4.33s 
 90.000%   12.32s 
 99.000%   32.90s 
 99.900%    1.02m 
 99.990%    1.09m 
 99.999%    1.11m 
100.000%    1.11m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.715     0.000000            1         1.00
       7.887     0.100000       105187         1.11
      10.583     0.200000       210264         1.25
      13.927     0.300000       315407         1.43
      18.719     0.400000       420387         1.67
      27.167     0.500000       525513         2.00
      35.647     0.550000       578018         2.22
      56.639     0.600000       630531         2.50
     349.695     0.650000       683050         2.86
    1794.047     0.700000       735602         3.33
    4329.471     0.750000       788160         4.00
    6139.903     0.775000       814448         4.44
    7667.711     0.800000       840673         5.00
    8773.631     0.825000       866997         5.71
    9863.167     0.850000       893388         6.67
   10870.783     0.875000       919620         8.00
   11534.335     0.887500       932697         8.89
   12320.767     0.900000       945869        10.00
   13156.351     0.912500       958963        11.43
   14213.119     0.925000       972033        13.33
   15400.959     0.937500       985199        16.00
   16318.463     0.943750       991746        17.78
   17186.815     0.950000       998297        20.00
   18235.391     0.956250      1004932        22.86
   19578.879     0.962500      1011468        26.67
   21217.279     0.968750      1018010        32.00
   22593.535     0.971875      1021310        35.56
   24297.471     0.975000      1024578        40.00
   26312.703     0.978125      1027862        45.71
   28278.783     0.981250      1031132        53.33
   29851.647     0.984375      1034444        64.00
   30523.391     0.985938      1036073        71.11
   31457.279     0.987500      1037700        80.00
   32342.015     0.989062      1039351        91.43
   33390.591     0.990625      1040998       106.67
   34930.687     0.992188      1042639       128.00
   35913.727     0.992969      1043449       142.22
   37388.287     0.993750      1044271       160.00
   39518.207     0.994531      1045089       182.86
   44236.799     0.995313      1045913       213.33
   47251.455     0.996094      1046735       256.00
   48824.319     0.996484      1047147       284.44
   50659.327     0.996875      1047555       320.00
   52625.407     0.997266      1047968       365.71
   54722.559     0.997656      1048376       426.67
   56524.799     0.998047      1048789       512.00
   57409.535     0.998242      1048995       568.89
   58458.111     0.998437      1049199       640.00
   59473.919     0.998633      1049400       731.43
   60391.423     0.998828      1049604       853.33
   61243.391     0.999023      1049809      1024.00
   61669.375     0.999121      1049913      1137.78
   62128.127     0.999219      1050015      1280.00
   62521.343     0.999316      1050126      1462.86
   62980.095     0.999414      1050226      1706.67
   63438.847     0.999512      1050324      2048.00
   63700.991     0.999561      1050383      2275.56
   63897.599     0.999609      1050425      2560.00
   64159.743     0.999658      1050478      2925.71
   64421.887     0.999707      1050532      3413.33
   64684.031     0.999756      1050582      4096.00
   64782.335     0.999780      1050611      4551.11
   64913.407     0.999805      1050637      5120.00
   65044.479     0.999829      1050656      5851.43
   65208.319     0.999854      1050685      6826.67
   65404.927     0.999878      1050708      8192.00
   65535.999     0.999890      1050723      9102.22
   65634.303     0.999902      1050736     10240.00
   65699.839     0.999915      1050748     11702.86
   65830.911     0.999927      1050761     13653.33
   65896.447     0.999939      1050772     16384.00
   65929.215     0.999945      1050778     18204.44
   65994.751     0.999951      1050785     20480.00
   66060.287     0.999957      1050792     23405.71
   66125.823     0.999963      1050797     27306.67
   66224.127     0.999969      1050805     32768.00
   66256.895     0.999973      1050807     36408.89
   66355.199     0.999976      1050811     40960.00
   66387.967     0.999979      1050815     46811.43
   66420.735     0.999982      1050817     54613.33
   66453.503     0.999985      1050821     65536.00
   66453.503     0.999986      1050821     72817.78
   66486.271     0.999988      1050823     81920.00
   66519.039     0.999989      1050824     93622.86
   66551.807     0.999991      1050826    109226.67
   66584.575     0.999992      1050827    131072.00
   66617.343     0.999993      1050828    145635.56
   66650.111     0.999994      1050830    163840.00
   66650.111     0.999995      1050830    187245.71
   66682.879     0.999995      1050832    218453.33
   66682.879     0.999996      1050832    262144.00
   66682.879     0.999997      1050832    291271.11
   66682.879     0.999997      1050832    327680.00
   66715.647     0.999997      1050833    374491.43
   66715.647     0.999998      1050833    436906.67
   66715.647     0.999998      1050833    524288.00
   66781.183     0.999998      1050834    582542.22
   66781.183     0.999998      1050834    655360.00
   66781.183     0.999999      1050834    748982.86
   66781.183     0.999999      1050834    873813.33
   66781.183     0.999999      1050834   1048576.00
   66813.951     0.999999      1050835   1165084.44
   66813.951     1.000000      1050835          inf
#[Mean    =     3598.170, StdDeviation   =     7312.897]
#[Max     =    66781.184, Total count    =      1050835]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1127518 requests in 2.00m, 15.28GB read
Requests/sec:   9403.97  
Transfer/sec:    130.51MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52858 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41885 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 118292 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52858 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41885 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 118292 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.854ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.263ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.791ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 12.218ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.320ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.942ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.689ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.264ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.069ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.564ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.254ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.451ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.397ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.789ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.728ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.760ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.775ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.986ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.296ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.597ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.249ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.392ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.317ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.180ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.193ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.801ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.662ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.856ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.084ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.211ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.415ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.904ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.638ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.001ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.029ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.054ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.419ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.974ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.853ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.015ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.758ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.566ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.913ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.686ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.193ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.719ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.910ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.595ms, rate sampling interval: 31ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.59ms    3.85ms  26.19ms   87.85%
    Req/Sec    20.20     25.61   100.00     87.19%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.61ms
 75.000%   12.22ms
 90.000%   15.48ms
 99.000%   26.19ms
 99.900%   47.29ms
 99.990%   66.82ms
 99.999%   84.80ms
100.000%   84.99ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.835     0.000000            1         1.00
       8.903     0.100000        10668         1.11
       9.431     0.200000        21289         1.25
       9.831     0.300000        31893         1.43
      10.207     0.400000        42562         1.67
      10.607     0.500000        53098         2.00
      10.823     0.550000        58247         2.22
      11.079     0.600000        63620         2.50
      11.383     0.650000        68913         2.86
      11.751     0.700000        74115         3.33
      12.223     0.750000        79403         4.00
      12.511     0.775000        82062         4.44
      12.855     0.800000        84699         5.00
      13.279     0.825000        87333         5.71
      13.799     0.850000        89992         6.67
      14.479     0.875000        92621         8.00
      14.943     0.887500        93953         8.89
      15.479     0.900000        95269        10.00
      16.055     0.912500        96587        11.43
      16.719     0.925000        97903        13.33
      17.455     0.937500        99240        16.00
      17.903     0.943750        99896        17.78
      18.351     0.950000       100550        20.00
      18.927     0.956250       101216        22.86
      19.599     0.962500       101871        26.67
      20.383     0.968750       102536        32.00
      20.815     0.971875       102866        35.56
      21.343     0.975000       103204        40.00
      21.999     0.978125       103537        45.71
      22.767     0.981250       103856        53.33
      23.743     0.984375       104190        64.00
      24.271     0.985938       104356        71.11
      24.911     0.987500       104517        80.00
      25.647     0.989062       104685        91.43
      26.639     0.990625       104849       106.67
      27.999     0.992188       105015       128.00
      28.927     0.992969       105097       142.22
      29.727     0.993750       105182       160.00
      30.687     0.994531       105262       182.86
      31.935     0.995313       105345       213.33
      33.759     0.996094       105428       256.00
      34.783     0.996484       105468       284.44
      35.743     0.996875       105511       320.00
      37.151     0.997266       105551       365.71
      38.975     0.997656       105592       426.67
      40.767     0.998047       105634       512.00
      41.567     0.998242       105654       568.89
      42.975     0.998437       105676       640.00
      44.063     0.998633       105696       731.43
      45.311     0.998828       105716       853.33
      47.999     0.999023       105737      1024.00
      49.695     0.999121       105747      1137.78
      50.463     0.999219       105758      1280.00
      51.839     0.999316       105768      1462.86
      53.535     0.999414       105778      1706.67
      55.231     0.999512       105789      2048.00
      55.903     0.999561       105794      2275.56
      56.447     0.999609       105799      2560.00
      57.215     0.999658       105804      2925.71
      58.783     0.999707       105809      3413.33
      60.191     0.999756       105815      4096.00
      61.631     0.999780       105817      4551.11
      62.623     0.999805       105820      5120.00
      63.711     0.999829       105822      5851.43
      64.223     0.999854       105825      6826.67
      66.111     0.999878       105828      8192.00
      66.815     0.999890       105829      9102.22
      68.159     0.999902       105830     10240.00
      71.359     0.999915       105831     11702.86
      71.871     0.999927       105833     13653.33
      72.511     0.999939       105834     16384.00
      73.087     0.999945       105835     18204.44
      73.087     0.999951       105835     20480.00
      77.183     0.999957       105836     23405.71
      79.423     0.999963       105837     27306.67
      79.423     0.999969       105837     32768.00
      80.639     0.999973       105838     36408.89
      80.639     0.999976       105838     40960.00
      80.639     0.999979       105838     46811.43
      84.799     0.999982       105839     54613.33
      84.799     0.999985       105839     65536.00
      84.799     0.999986       105839     72817.78
      84.799     0.999988       105839     81920.00
      84.799     0.999989       105839     93622.86
      84.991     0.999991       105840    109226.67
      84.991     1.000000       105840          inf
#[Mean    =       11.594, StdDeviation   =        3.850]
#[Max     =       84.928, Total count    =       105840]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115318 requests in 2.00m, 1.56GB read
Requests/sec:    960.92  
Transfer/sec:     13.27MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53373 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40793 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 116317 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53373 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40793 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 116317 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3530.327ms, rate sampling interval: 13041ms
  Thread calibration: mean lat.: 3069.996ms, rate sampling interval: 11821ms
  Thread calibration: mean lat.: 3102.221ms, rate sampling interval: 11575ms
  Thread calibration: mean lat.: 3350.552ms, rate sampling interval: 12697ms
  Thread calibration: mean lat.: 3374.435ms, rate sampling interval: 12689ms
  Thread calibration: mean lat.: 3261.101ms, rate sampling interval: 12132ms
  Thread calibration: mean lat.: 3331.491ms, rate sampling interval: 12394ms
  Thread calibration: mean lat.: 2966.499ms, rate sampling interval: 11575ms
  Thread calibration: mean lat.: 2917.894ms, rate sampling interval: 11337ms
  Thread calibration: mean lat.: 3394.174ms, rate sampling interval: 12476ms
  Thread calibration: mean lat.: 3235.571ms, rate sampling interval: 12566ms
  Thread calibration: mean lat.: 3597.613ms, rate sampling interval: 13115ms
  Thread calibration: mean lat.: 3478.303ms, rate sampling interval: 12722ms
  Thread calibration: mean lat.: 3361.436ms, rate sampling interval: 12820ms
  Thread calibration: mean lat.: 3050.995ms, rate sampling interval: 11608ms
  Thread calibration: mean lat.: 3128.627ms, rate sampling interval: 11354ms
  Thread calibration: mean lat.: 3352.477ms, rate sampling interval: 13213ms
  Thread calibration: mean lat.: 3380.804ms, rate sampling interval: 12533ms
  Thread calibration: mean lat.: 3617.454ms, rate sampling interval: 12632ms
  Thread calibration: mean lat.: 3205.873ms, rate sampling interval: 11870ms
  Thread calibration: mean lat.: 3562.286ms, rate sampling interval: 13099ms
  Thread calibration: mean lat.: 3259.999ms, rate sampling interval: 12255ms
  Thread calibration: mean lat.: 3810.449ms, rate sampling interval: 13336ms
  Thread calibration: mean lat.: 3725.729ms, rate sampling interval: 12656ms
  Thread calibration: mean lat.: 3110.628ms, rate sampling interval: 11419ms
  Thread calibration: mean lat.: 3036.167ms, rate sampling interval: 11501ms
  Thread calibration: mean lat.: 3116.646ms, rate sampling interval: 12312ms
  Thread calibration: mean lat.: 2852.985ms, rate sampling interval: 12042ms
  Thread calibration: mean lat.: 3433.401ms, rate sampling interval: 12353ms
  Thread calibration: mean lat.: 3408.809ms, rate sampling interval: 12435ms
  Thread calibration: mean lat.: 3268.257ms, rate sampling interval: 11853ms
  Thread calibration: mean lat.: 3389.645ms, rate sampling interval: 11403ms
  Thread calibration: mean lat.: 3523.011ms, rate sampling interval: 12484ms
  Thread calibration: mean lat.: 3576.940ms, rate sampling interval: 12861ms
  Thread calibration: mean lat.: 3605.771ms, rate sampling interval: 12623ms
  Thread calibration: mean lat.: 3420.074ms, rate sampling interval: 12271ms
  Thread calibration: mean lat.: 3563.469ms, rate sampling interval: 12468ms
  Thread calibration: mean lat.: 3495.510ms, rate sampling interval: 13295ms
  Thread calibration: mean lat.: 2699.061ms, rate sampling interval: 10559ms
  Thread calibration: mean lat.: 3304.239ms, rate sampling interval: 11886ms
  Thread calibration: mean lat.: 3910.006ms, rate sampling interval: 13475ms
  Thread calibration: mean lat.: 3380.276ms, rate sampling interval: 12148ms
  Thread calibration: mean lat.: 3283.895ms, rate sampling interval: 10911ms
  Thread calibration: mean lat.: 3209.827ms, rate sampling interval: 11902ms
  Thread calibration: mean lat.: 3429.460ms, rate sampling interval: 12722ms
  Thread calibration: mean lat.: 3711.238ms, rate sampling interval: 13131ms
  Thread calibration: mean lat.: 3389.733ms, rate sampling interval: 12083ms
  Thread calibration: mean lat.: 3244.317ms, rate sampling interval: 11567ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    45.17s    21.47s    1.40m    59.49%
    Req/Sec    33.47      3.41    42.00     76.35%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   46.33s 
 75.000%    1.05m 
 90.000%    1.23m 
 99.000%    1.40m 
 99.900%    1.46m 
 99.990%    1.48m 
 99.999%    1.49m 
100.000%    1.50m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3295.231     0.000000            1         1.00
   14401.535     0.100000        17966         1.11
   22921.215     0.200000        35938         1.25
   31195.135     0.300000        53883         1.43
   39059.455     0.400000        71893         1.67
   46333.951     0.500000        89836         2.00
   49709.055     0.550000        98862         2.22
   52887.551     0.600000       107776         2.50
   56131.583     0.650000       116765         2.86
   59506.687     0.700000       125721         3.33
   62849.023     0.750000       134741         4.00
   64585.727     0.775000       139256         4.44
   66322.431     0.800000       143731         5.00
   68157.439     0.825000       148289         5.71
   69992.447     0.850000       152649         6.67
   72024.063     0.875000       157233         8.00
   73072.639     0.887500       159499         8.89
   73990.143     0.900000       161641        10.00
   75038.719     0.912500       163945        11.43
   76087.295     0.925000       166132        13.33
   77201.407     0.937500       168458        16.00
   77725.695     0.943750       169494        17.78
   78315.519     0.950000       170617        20.00
   79036.415     0.956250       171801        22.86
   79757.311     0.962500       172961        26.67
   80478.207     0.968750       174030        32.00
   80871.423     0.971875       174553        35.56
   81330.175     0.975000       175147        40.00
   81723.391     0.978125       175661        45.71
   82247.679     0.981250       176248        53.33
   82771.967     0.984375       176792        64.00
   83099.647     0.985938       177086        71.11
   83427.327     0.987500       177379        80.00
   83755.007     0.989062       177624        91.43
   84148.223     0.990625       177931       106.67
   84541.439     0.992188       178192       128.00
   84803.583     0.992969       178348       142.22
   85000.191     0.993750       178487       160.00
   85262.335     0.994531       178628       182.86
   85458.943     0.995313       178745       213.33
   85721.087     0.996094       178888       256.00
   85917.695     0.996484       178965       284.44
   86114.303     0.996875       179046       320.00
   86245.375     0.997266       179115       365.71
   86441.983     0.997656       179171       426.67
   86704.127     0.998047       179252       512.00
   86835.199     0.998242       179281       568.89
   86966.271     0.998437       179314       640.00
   87162.879     0.998633       179344       731.43
   87359.487     0.998828       179380       853.33
   87556.095     0.999023       179417      1024.00
   87621.631     0.999121       179430      1137.78
   87687.167     0.999219       179446      1280.00
   87818.239     0.999316       179468      1462.86
   88014.847     0.999414       179487      1706.67
   88145.919     0.999512       179504      2048.00
   88211.455     0.999561       179509      2275.56
   88276.991     0.999609       179517      2560.00
   88408.063     0.999658       179531      2925.71
   88473.599     0.999707       179538      3413.33
   88539.135     0.999756       179544      4096.00
   88604.671     0.999780       179547      4551.11
   88670.207     0.999805       179555      5120.00
   88735.743     0.999829       179560      5851.43
   88735.743     0.999854       179560      6826.67
   88866.815     0.999878       179569      8192.00
   88866.815     0.999890       179569      9102.22
   88866.815     0.999902       179569     10240.00
   88997.887     0.999915       179573     11702.86
   88997.887     0.999927       179573     13653.33
   89063.423     0.999939       179576     16384.00
   89128.959     0.999945       179578     18204.44
   89128.959     0.999951       179578     20480.00
   89194.495     0.999957       179579     23405.71
   89260.031     0.999963       179580     27306.67
   89325.567     0.999969       179581     32768.00
   89456.639     0.999973       179583     36408.89
   89456.639     0.999976       179583     40960.00
   89456.639     0.999979       179583     46811.43
   89456.639     0.999982       179583     54613.33
   89653.247     0.999985       179584     65536.00
   89653.247     0.999986       179584     72817.78
   89653.247     0.999988       179584     81920.00
   89784.319     0.999989       179585     93622.86
   89784.319     0.999991       179585    109226.67
   89784.319     0.999992       179585    131072.00
   89784.319     0.999993       179585    145635.56
   89784.319     0.999994       179585    163840.00
   89849.855     0.999995       179586    187245.71
   89849.855     1.000000       179586          inf
#[Mean    =    45171.432, StdDeviation   =    21472.542]
#[Max     =    89784.320, Total count    =       179586]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  194791 requests in 2.00m, 2.63GB read
Requests/sec:   1623.13  
Transfer/sec:     22.43MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53075 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39720 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 115016 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53075 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39720 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 115016 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 4010.542ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 3903.485ms, rate sampling interval: 14663ms
  Thread calibration: mean lat.: 3906.016ms, rate sampling interval: 14884ms
  Thread calibration: mean lat.: 4118.901ms, rate sampling interval: 15056ms
  Thread calibration: mean lat.: 4254.456ms, rate sampling interval: 15581ms
  Thread calibration: mean lat.: 4220.803ms, rate sampling interval: 15400ms
  Thread calibration: mean lat.: 4166.853ms, rate sampling interval: 14983ms
  Thread calibration: mean lat.: 4457.916ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4086.394ms, rate sampling interval: 15065ms
  Thread calibration: mean lat.: 4078.375ms, rate sampling interval: 14942ms
  Thread calibration: mean lat.: 4199.600ms, rate sampling interval: 15171ms
  Thread calibration: mean lat.: 3848.110ms, rate sampling interval: 14385ms
  Thread calibration: mean lat.: 4220.400ms, rate sampling interval: 15122ms
  Thread calibration: mean lat.: 4076.735ms, rate sampling interval: 15089ms
  Thread calibration: mean lat.: 4268.649ms, rate sampling interval: 15122ms
  Thread calibration: mean lat.: 4189.835ms, rate sampling interval: 15163ms
  Thread calibration: mean lat.: 4308.766ms, rate sampling interval: 15253ms
  Thread calibration: mean lat.: 4319.250ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4063.751ms, rate sampling interval: 14835ms
  Thread calibration: mean lat.: 4230.655ms, rate sampling interval: 14966ms
  Thread calibration: mean lat.: 3857.988ms, rate sampling interval: 14573ms
  Thread calibration: mean lat.: 4393.324ms, rate sampling interval: 15425ms
  Thread calibration: mean lat.: 4395.529ms, rate sampling interval: 15769ms
  Thread calibration: mean lat.: 4403.287ms, rate sampling interval: 15810ms
  Thread calibration: mean lat.: 4166.085ms, rate sampling interval: 14221ms
  Thread calibration: mean lat.: 4389.330ms, rate sampling interval: 14884ms
  Thread calibration: mean lat.: 4508.472ms, rate sampling interval: 16056ms
  Thread calibration: mean lat.: 4273.740ms, rate sampling interval: 15294ms
  Thread calibration: mean lat.: 4432.908ms, rate sampling interval: 15171ms
  Thread calibration: mean lat.: 4310.734ms, rate sampling interval: 15359ms
  Thread calibration: mean lat.: 4355.545ms, rate sampling interval: 15540ms
  Thread calibration: mean lat.: 4370.879ms, rate sampling interval: 15310ms
  Thread calibration: mean lat.: 4470.029ms, rate sampling interval: 15302ms
  Thread calibration: mean lat.: 4423.835ms, rate sampling interval: 14925ms
  Thread calibration: mean lat.: 4482.880ms, rate sampling interval: 15810ms
  Thread calibration: mean lat.: 4317.948ms, rate sampling interval: 15245ms
  Thread calibration: mean lat.: 4598.929ms, rate sampling interval: 15958ms
  Thread calibration: mean lat.: 4416.843ms, rate sampling interval: 15368ms
  Thread calibration: mean lat.: 4351.924ms, rate sampling interval: 15319ms
  Thread calibration: mean lat.: 4547.721ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4611.292ms, rate sampling interval: 15302ms
  Thread calibration: mean lat.: 4623.758ms, rate sampling interval: 16015ms
  Thread calibration: mean lat.: 4495.582ms, rate sampling interval: 15589ms
  Thread calibration: mean lat.: 4591.643ms, rate sampling interval: 15679ms
  Thread calibration: mean lat.: 4360.137ms, rate sampling interval: 15392ms
  Thread calibration: mean lat.: 4452.016ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4520.779ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4357.569ms, rate sampling interval: 15319ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.90m    26.14s    1.65m    57.31%
    Req/Sec    35.67      2.33    41.00     80.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.92m 
 75.000%    1.28m 
 90.000%    1.50m 
 99.000%    1.65m 
 99.900%    1.69m 
 99.990%    1.71m 
 99.999%    1.72m 
100.000%    1.72m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7540.735     0.000000            1         1.00
   17498.111     0.100000        19059         1.11
   26755.071     0.200000        38114         1.25
   36274.175     0.300000        57202         1.43
   45580.287     0.400000        76225         1.67
   55115.775     0.500000        95293         2.00
   59277.311     0.550000       104785         2.22
   63406.079     0.600000       114337         2.50
   67698.687     0.650000       123891         2.86
   72024.063     0.700000       133459         3.33
   76677.119     0.750000       142866         4.00
   79101.951     0.775000       147640         4.44
   81461.247     0.800000       152422         5.00
   83623.935     0.825000       157176         5.71
   85786.623     0.850000       161903         6.67
   88014.847     0.875000       166763         8.00
   89128.959     0.887500       169148         8.89
   90243.071     0.900000       171536        10.00
   91357.183     0.912500       173867        11.43
   92405.759     0.925000       176189        13.33
   93454.335     0.937500       178595        16.00
   93978.623     0.943750       179829        17.78
   94502.911     0.950000       181012        20.00
   95027.199     0.956250       182156        22.86
   95617.023     0.962500       183370        26.67
   96272.383     0.968750       184559        32.00
   96665.599     0.971875       185242        35.56
   96993.279     0.975000       185755        40.00
   97386.495     0.978125       186379        45.71
   97779.711     0.981250       186943        53.33
   98172.927     0.984375       187515        64.00
   98369.535     0.985938       187798        71.11
   98631.679     0.987500       188160        80.00
   98828.287     0.989062       188394        91.43
   99090.431     0.990625       188695       106.67
   99418.111     0.992188       189026       128.00
   99549.183     0.992969       189163       142.22
   99745.791     0.993750       189332       160.00
   99876.863     0.994531       189441       182.86
  100073.471     0.995313       189596       213.33
  100270.079     0.996094       189743       256.00
  100401.151     0.996484       189827       284.44
  100532.223     0.996875       189895       320.00
  100663.295     0.997266       189972       365.71
  100794.367     0.997656       190048       426.67
  100925.439     0.998047       190111       512.00
  100990.975     0.998242       190138       568.89
  101122.047     0.998437       190181       640.00
  101253.119     0.998633       190231       731.43
  101318.655     0.998828       190251       853.33
  101515.263     0.999023       190307      1024.00
  101515.263     0.999121       190307      1137.78
  101646.335     0.999219       190331      1280.00
  101711.871     0.999316       190348      1462.86
  101842.943     0.999414       190370      1706.67
  101908.479     0.999512       190377      2048.00
  101974.015     0.999561       190391      2275.56
  102039.551     0.999609       190402      2560.00
  102105.087     0.999658       190412      2925.71
  102170.623     0.999707       190416      3413.33
  102236.159     0.999756       190425      4096.00
  102301.695     0.999780       190431      4551.11
  102367.231     0.999805       190435      5120.00
  102432.767     0.999829       190439      5851.43
  102498.303     0.999854       190445      6826.67
  102563.839     0.999878       190447      8192.00
  102629.375     0.999890       190451      9102.22
  102629.375     0.999902       190451     10240.00
  102694.911     0.999915       190454     11702.86
  102760.447     0.999927       190456     13653.33
  102891.519     0.999939       190459     16384.00
  102891.519     0.999945       190459     18204.44
  102957.055     0.999951       190461     20480.00
  102957.055     0.999957       190461     23405.71
  103088.127     0.999963       190465     27306.67
  103088.127     0.999969       190465     32768.00
  103088.127     0.999973       190465     36408.89
  103088.127     0.999976       190465     40960.00
  103088.127     0.999979       190465     46811.43
  103219.199     0.999982       190467     54613.33
  103219.199     0.999985       190467     65536.00
  103219.199     0.999986       190467     72817.78
  103219.199     0.999988       190467     81920.00
  103219.199     0.999989       190467     93622.86
  103284.735     0.999991       190468    109226.67
  103284.735     0.999992       190468    131072.00
  103284.735     0.999993       190468    145635.56
  103284.735     0.999994       190468    163840.00
  103284.735     0.999995       190468    187245.71
  103415.807     0.999995       190469    218453.33
  103415.807     1.000000       190469          inf
#[Mean    =    54263.740, StdDeviation   =    26142.549]
#[Max     =   103350.272, Total count    =       190469]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  206735 requests in 2.00m, 2.79GB read
Requests/sec:   1723.70  
Transfer/sec:     23.83MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52710 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38619 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113171 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52710 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38619 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113171 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 39.616ms, rate sampling interval: 292ms
  Thread calibration: mean lat.: 27.799ms, rate sampling interval: 182ms
  Thread calibration: mean lat.: 33.013ms, rate sampling interval: 223ms
  Thread calibration: mean lat.: 22.306ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 28.613ms, rate sampling interval: 160ms
  Thread calibration: mean lat.: 25.192ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 30.907ms, rate sampling interval: 217ms
  Thread calibration: mean lat.: 38.872ms, rate sampling interval: 252ms
  Thread calibration: mean lat.: 26.590ms, rate sampling interval: 148ms
  Thread calibration: mean lat.: 26.859ms, rate sampling interval: 148ms
  Thread calibration: mean lat.: 39.430ms, rate sampling interval: 223ms
  Thread calibration: mean lat.: 26.772ms, rate sampling interval: 106ms
  Thread calibration: mean lat.: 25.753ms, rate sampling interval: 145ms
  Thread calibration: mean lat.: 32.159ms, rate sampling interval: 215ms
  Thread calibration: mean lat.: 26.696ms, rate sampling interval: 192ms
  Thread calibration: mean lat.: 36.989ms, rate sampling interval: 262ms
  Thread calibration: mean lat.: 33.954ms, rate sampling interval: 269ms
  Thread calibration: mean lat.: 38.380ms, rate sampling interval: 272ms
  Thread calibration: mean lat.: 35.361ms, rate sampling interval: 274ms
  Thread calibration: mean lat.: 28.116ms, rate sampling interval: 139ms
  Thread calibration: mean lat.: 28.184ms, rate sampling interval: 176ms
  Thread calibration: mean lat.: 29.380ms, rate sampling interval: 215ms
  Thread calibration: mean lat.: 28.007ms, rate sampling interval: 146ms
  Thread calibration: mean lat.: 39.861ms, rate sampling interval: 323ms
  Thread calibration: mean lat.: 26.675ms, rate sampling interval: 75ms
  Thread calibration: mean lat.: 33.243ms, rate sampling interval: 236ms
  Thread calibration: mean lat.: 38.912ms, rate sampling interval: 298ms
  Thread calibration: mean lat.: 40.499ms, rate sampling interval: 280ms
  Thread calibration: mean lat.: 37.812ms, rate sampling interval: 277ms
  Thread calibration: mean lat.: 30.474ms, rate sampling interval: 217ms
  Thread calibration: mean lat.: 26.968ms, rate sampling interval: 195ms
  Thread calibration: mean lat.: 25.428ms, rate sampling interval: 159ms
  Thread calibration: mean lat.: 37.550ms, rate sampling interval: 298ms
  Thread calibration: mean lat.: 37.447ms, rate sampling interval: 278ms
  Thread calibration: mean lat.: 28.166ms, rate sampling interval: 182ms
  Thread calibration: mean lat.: 27.397ms, rate sampling interval: 157ms
  Thread calibration: mean lat.: 26.362ms, rate sampling interval: 179ms
  Thread calibration: mean lat.: 22.554ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 41.048ms, rate sampling interval: 277ms
  Thread calibration: mean lat.: 27.600ms, rate sampling interval: 123ms
  Thread calibration: mean lat.: 22.055ms, rate sampling interval: 45ms
  Thread calibration: mean lat.: 35.838ms, rate sampling interval: 266ms
  Thread calibration: mean lat.: 29.558ms, rate sampling interval: 168ms
  Thread calibration: mean lat.: 29.004ms, rate sampling interval: 188ms
  Thread calibration: mean lat.: 31.654ms, rate sampling interval: 250ms
  Thread calibration: mean lat.: 38.716ms, rate sampling interval: 267ms
  Thread calibration: mean lat.: 28.850ms, rate sampling interval: 200ms
  Thread calibration: mean lat.: 33.005ms, rate sampling interval: 237ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    32.46ms   55.44ms 248.45ms   87.42%
    Req/Sec    19.75     14.32    66.00     75.11%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.85ms
 75.000%   14.26ms
 90.000%  116.61ms
 99.000%  248.45ms
 99.900%  370.94ms
 99.990%  473.60ms
 99.999%  616.96ms
100.000%  648.70ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.149     0.000000            1         1.00
       8.775     0.100000        10621         1.11
       9.399     0.200000        21313         1.25
       9.871     0.300000        31877         1.43
      10.327     0.400000        42414         1.67
      10.855     0.500000        53039         2.00
      11.167     0.550000        58220         2.22
      11.559     0.600000        63562         2.50
      12.079     0.650000        68829         2.86
      12.839     0.700000        74122         3.33
      14.255     0.750000        79398         4.00
      15.671     0.775000        82037         4.44
      17.743     0.800000        84674         5.00
      22.495     0.825000        87321         5.71
      55.615     0.850000        89965         6.67
      88.959     0.875000        92612         8.00
     103.039     0.887500        93937         8.89
     116.607     0.900000        95261        10.00
     129.407     0.912500        96580        11.43
     142.207     0.925000        97913        13.33
     155.391     0.937500        99226        16.00
     162.687     0.943750        99899        17.78
     169.599     0.950000       100556        20.00
     177.151     0.956250       101216        22.86
     185.599     0.962500       101880        26.67
     195.199     0.968750       102534        32.00
     200.319     0.971875       102872        35.56
     206.207     0.975000       103198        40.00
     212.735     0.978125       103528        45.71
     220.671     0.981250       103861        53.33
     228.479     0.984375       104189        64.00
     233.343     0.985938       104353        71.11
     238.463     0.987500       104522        80.00
     244.479     0.989062       104686        91.43
     251.903     0.990625       104850       106.67
     260.351     0.992188       105016       128.00
     265.471     0.992969       105099       142.22
     271.871     0.993750       105181       160.00
     277.247     0.994531       105265       182.86
     285.439     0.995313       105345       213.33
     295.935     0.996094       105428       256.00
     303.615     0.996484       105469       284.44
     310.527     0.996875       105511       320.00
     318.463     0.997266       105555       365.71
     327.167     0.997656       105594       426.67
     335.359     0.998047       105635       512.00
     340.735     0.998242       105657       568.89
     345.599     0.998437       105676       640.00
     356.607     0.998633       105697       731.43
     362.239     0.998828       105717       853.33
     372.991     0.999023       105738      1024.00
     380.415     0.999121       105748      1137.78
     387.071     0.999219       105759      1280.00
     392.959     0.999316       105769      1462.86
     401.151     0.999414       105779      1706.67
     408.575     0.999512       105790      2048.00
     413.439     0.999561       105795      2275.56
     421.631     0.999609       105800      2560.00
     427.263     0.999658       105806      2925.71
     429.823     0.999707       105810      3413.33
     436.735     0.999756       105816      4096.00
     439.039     0.999780       105818      4551.11
     445.695     0.999805       105821      5120.00
     448.255     0.999829       105823      5851.43
     454.655     0.999854       105826      6826.67
     466.431     0.999878       105829      8192.00
     473.599     0.999890       105830      9102.22
     474.111     0.999902       105831     10240.00
     486.143     0.999915       105832     11702.86
     500.479     0.999927       105834     13653.33
     504.575     0.999939       105835     16384.00
     505.855     0.999945       105836     18204.44
     505.855     0.999951       105836     20480.00
     527.359     0.999957       105837     23405.71
     589.311     0.999963       105839     27306.67
     589.311     0.999969       105839     32768.00
     589.311     0.999973       105839     36408.89
     589.311     0.999976       105839     40960.00
     589.311     0.999979       105839     46811.43
     616.959     0.999982       105840     54613.33
     616.959     0.999985       105840     65536.00
     616.959     0.999986       105840     72817.78
     616.959     0.999988       105840     81920.00
     616.959     0.999989       105840     93622.86
     648.703     0.999991       105841    109226.67
     648.703     1.000000       105841          inf
#[Mean    =       32.456, StdDeviation   =       55.439]
#[Max     =      648.192, Total count    =       105841]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115339 requests in 2.00m, 1.41GB read
Requests/sec:    961.06  
Transfer/sec:     12.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52752 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36996 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 110909 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52752 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36996 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 110909 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 355.547ms, rate sampling interval: 1887ms
  Thread calibration: mean lat.: 369.109ms, rate sampling interval: 1667ms
  Thread calibration: mean lat.: 262.435ms, rate sampling interval: 1416ms
  Thread calibration: mean lat.: 347.029ms, rate sampling interval: 1639ms
  Thread calibration: mean lat.: 345.536ms, rate sampling interval: 1541ms
  Thread calibration: mean lat.: 317.570ms, rate sampling interval: 1640ms
  Thread calibration: mean lat.: 388.016ms, rate sampling interval: 2086ms
  Thread calibration: mean lat.: 229.679ms, rate sampling interval: 1340ms
  Thread calibration: mean lat.: 369.410ms, rate sampling interval: 2002ms
  Thread calibration: mean lat.: 233.534ms, rate sampling interval: 1340ms
  Thread calibration: mean lat.: 333.484ms, rate sampling interval: 2158ms
  Thread calibration: mean lat.: 172.902ms, rate sampling interval: 921ms
  Thread calibration: mean lat.: 247.167ms, rate sampling interval: 1244ms
  Thread calibration: mean lat.: 314.533ms, rate sampling interval: 1410ms
  Thread calibration: mean lat.: 371.050ms, rate sampling interval: 1893ms
  Thread calibration: mean lat.: 386.064ms, rate sampling interval: 1588ms
  Thread calibration: mean lat.: 514.218ms, rate sampling interval: 3047ms
  Thread calibration: mean lat.: 369.818ms, rate sampling interval: 1775ms
  Thread calibration: mean lat.: 289.002ms, rate sampling interval: 1486ms
  Thread calibration: mean lat.: 183.457ms, rate sampling interval: 994ms
  Thread calibration: mean lat.: 524.315ms, rate sampling interval: 1985ms
  Thread calibration: mean lat.: 204.149ms, rate sampling interval: 899ms
  Thread calibration: mean lat.: 332.560ms, rate sampling interval: 1561ms
  Thread calibration: mean lat.: 424.251ms, rate sampling interval: 2041ms
  Thread calibration: mean lat.: 339.660ms, rate sampling interval: 1870ms
  Thread calibration: mean lat.: 163.580ms, rate sampling interval: 802ms
  Thread calibration: mean lat.: 317.219ms, rate sampling interval: 1571ms
  Thread calibration: mean lat.: 364.493ms, rate sampling interval: 1738ms
  Thread calibration: mean lat.: 375.493ms, rate sampling interval: 1976ms
  Thread calibration: mean lat.: 331.404ms, rate sampling interval: 1481ms
  Thread calibration: mean lat.: 322.769ms, rate sampling interval: 1708ms
  Thread calibration: mean lat.: 395.301ms, rate sampling interval: 2089ms
  Thread calibration: mean lat.: 328.480ms, rate sampling interval: 1841ms
  Thread calibration: mean lat.: 392.873ms, rate sampling interval: 2265ms
  Thread calibration: mean lat.: 389.058ms, rate sampling interval: 2060ms
  Thread calibration: mean lat.: 242.934ms, rate sampling interval: 1150ms
  Thread calibration: mean lat.: 263.503ms, rate sampling interval: 1337ms
  Thread calibration: mean lat.: 265.936ms, rate sampling interval: 1334ms
  Thread calibration: mean lat.: 214.118ms, rate sampling interval: 1217ms
  Thread calibration: mean lat.: 347.600ms, rate sampling interval: 1445ms
  Thread calibration: mean lat.: 328.915ms, rate sampling interval: 1531ms
  Thread calibration: mean lat.: 445.374ms, rate sampling interval: 1947ms
  Thread calibration: mean lat.: 436.772ms, rate sampling interval: 1703ms
  Thread calibration: mean lat.: 310.605ms, rate sampling interval: 1544ms
  Thread calibration: mean lat.: 461.866ms, rate sampling interval: 2406ms
  Thread calibration: mean lat.: 326.232ms, rate sampling interval: 1645ms
  Thread calibration: mean lat.: 278.433ms, rate sampling interval: 1476ms
  Thread calibration: mean lat.: 266.343ms, rate sampling interval: 1452ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency   106.03ms  296.33ms   1.51s    91.01%
    Req/Sec   104.01     10.80   133.00     75.18%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.48ms
 75.000%   12.34ms
 90.000%  346.11ms
 99.000%    1.51s 
 99.900%    2.48s 
 99.990%    3.18s 
 99.999%    3.57s 
100.000%    3.79s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.036     0.000000            1         1.00
       3.665     0.100000        55224         1.11
       4.307     0.200000       110507         1.25
       4.927     0.300000       165450         1.43
       5.611     0.400000       220645         1.67
       6.479     0.500000       275962         2.00
       7.035     0.550000       303473         2.22
       7.727     0.600000       331006         2.50
       8.615     0.650000       358561         2.86
       9.927     0.700000       386139         3.33
      12.343     0.750000       413680         4.00
      14.767     0.775000       427432         4.44
      20.559     0.800000       441193         5.00
      63.999     0.825000       454981         5.71
     146.943     0.850000       468780         6.67
     236.159     0.875000       482566         8.00
     287.487     0.887500       489461         8.89
     346.111     0.900000       496351        10.00
     417.535     0.912500       503257        11.43
     499.967     0.925000       510145        13.33
     597.503     0.937500       517036        16.00
     652.287     0.943750       520469        17.78
     712.191     0.950000       523917        20.00
     781.311     0.956250       527376        22.86
     856.575     0.962500       530817        26.67
     948.223     0.968750       534254        32.00
    1003.519     0.971875       535998        35.56
    1057.791     0.975000       537722        40.00
    1122.303     0.978125       539441        45.71
    1197.055     0.981250       541150        53.33
    1288.191     0.984375       542875        64.00
    1341.439     0.985938       543737        71.11
    1402.879     0.987500       544598        80.00
    1468.415     0.989062       545457        91.43
    1543.167     0.990625       546330       106.67
    1639.423     0.992188       547183       128.00
    1690.623     0.992969       547622       142.22
    1741.823     0.993750       548051       160.00
    1799.167     0.994531       548473       182.86
    1864.703     0.995313       548904       213.33
    1938.431     0.996094       549334       256.00
    1980.415     0.996484       549554       284.44
    2026.495     0.996875       549766       320.00
    2087.935     0.997266       549982       365.71
    2154.495     0.997656       550199       426.67
    2232.319     0.998047       550413       512.00
    2275.327     0.998242       550522       568.89
    2328.575     0.998437       550632       640.00
    2373.631     0.998633       550741       731.43
    2418.687     0.998828       550843       853.33
    2490.367     0.999023       550952      1024.00
    2535.423     0.999121       551005      1137.78
    2598.911     0.999219       551058      1280.00
    2662.399     0.999316       551113      1462.86
    2744.319     0.999414       551165      1706.67
    2801.663     0.999512       551220      2048.00
    2832.383     0.999561       551249      2275.56
    2859.007     0.999609       551273      2560.00
    2893.823     0.999658       551300      2925.71
    2940.927     0.999707       551329      3413.33
    2983.935     0.999756       551354      4096.00
    3012.607     0.999780       551367      4551.11
    3033.087     0.999805       551381      5120.00
    3067.903     0.999829       551394      5851.43
    3086.335     0.999854       551408      6826.67
    3117.055     0.999878       551421      8192.00
    3155.967     0.999890       551428      9102.22
    3182.591     0.999902       551435     10240.00
    3215.359     0.999915       551441     11702.86
    3297.279     0.999927       551448     13653.33
    3379.199     0.999939       551455     16384.00
    3399.679     0.999945       551458     18204.44
    3409.919     0.999951       551462     20480.00
    3438.591     0.999957       551466     23405.71
    3461.119     0.999963       551468     27306.67
    3493.887     0.999969       551472     32768.00
    3495.935     0.999973       551473     36408.89
    3510.271     0.999976       551475     40960.00
    3520.511     0.999979       551477     46811.43
    3551.231     0.999982       551478     54613.33
    3569.663     0.999985       551480     65536.00
    3571.711     0.999986       551481     72817.78
    3573.759     0.999988       551482     81920.00
    3581.951     0.999989       551483     93622.86
    3581.951     0.999991       551483    109226.67
    3602.431     0.999992       551484    131072.00
    3622.911     0.999993       551485    145635.56
    3622.911     0.999994       551485    163840.00
    3627.007     0.999995       551486    187245.71
    3627.007     0.999995       551486    218453.33
    3627.007     0.999996       551486    262144.00
    3780.607     0.999997       551487    291271.11
    3780.607     0.999997       551487    327680.00
    3780.607     0.999997       551487    374491.43
    3780.607     0.999998       551487    436906.67
    3780.607     0.999998       551487    524288.00
    3788.799     0.999998       551488    582542.22
    3788.799     1.000000       551488          inf
#[Mean    =      106.035, StdDeviation   =      296.330]
#[Max     =     3786.752, Total count    =       551488]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  598915 requests in 2.00m, 7.30GB read
Requests/sec:   4994.50  
Transfer/sec:     62.32MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54368 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43165 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 112017 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54368 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43165 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 112017 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 954.561ms, rate sampling interval: 6774ms
  Thread calibration: mean lat.: 2174.696ms, rate sampling interval: 10248ms
  Thread calibration: mean lat.: 919.740ms, rate sampling interval: 4632ms
  Thread calibration: mean lat.: 2122.404ms, rate sampling interval: 9871ms
  Thread calibration: mean lat.: 1333.709ms, rate sampling interval: 7770ms
  Thread calibration: mean lat.: 909.284ms, rate sampling interval: 4134ms
  Thread calibration: mean lat.: 2393.688ms, rate sampling interval: 9428ms
  Thread calibration: mean lat.: 1404.834ms, rate sampling interval: 7217ms
  Thread calibration: mean lat.: 1554.213ms, rate sampling interval: 7516ms
  Thread calibration: mean lat.: 856.312ms, rate sampling interval: 7323ms
  Thread calibration: mean lat.: 2820.854ms, rate sampling interval: 10674ms
  Thread calibration: mean lat.: 376.888ms, rate sampling interval: 2643ms
  Thread calibration: mean lat.: 1551.094ms, rate sampling interval: 8077ms
  Thread calibration: mean lat.: 983.091ms, rate sampling interval: 6209ms
  Thread calibration: mean lat.: 752.724ms, rate sampling interval: 3041ms
  Thread calibration: mean lat.: 1630.647ms, rate sampling interval: 9609ms
  Thread calibration: mean lat.: 1115.994ms, rate sampling interval: 7970ms
  Thread calibration: mean lat.: 1797.485ms, rate sampling interval: 9117ms
  Thread calibration: mean lat.: 2070.243ms, rate sampling interval: 9134ms
  Thread calibration: mean lat.: 1223.180ms, rate sampling interval: 5365ms
  Thread calibration: mean lat.: 1007.352ms, rate sampling interval: 6909ms
  Thread calibration: mean lat.: 2161.850ms, rate sampling interval: 8642ms
  Thread calibration: mean lat.: 1976.084ms, rate sampling interval: 8658ms
  Thread calibration: mean lat.: 1431.806ms, rate sampling interval: 6791ms
  Thread calibration: mean lat.: 1418.767ms, rate sampling interval: 6373ms
  Thread calibration: mean lat.: 1668.890ms, rate sampling interval: 8921ms
  Thread calibration: mean lat.: 1283.743ms, rate sampling interval: 8204ms
  Thread calibration: mean lat.: 758.417ms, rate sampling interval: 5722ms
  Thread calibration: mean lat.: 1275.817ms, rate sampling interval: 7266ms
  Thread calibration: mean lat.: 1334.150ms, rate sampling interval: 6967ms
  Thread calibration: mean lat.: 924.424ms, rate sampling interval: 6553ms
  Thread calibration: mean lat.: 308.532ms, rate sampling interval: 1862ms
  Thread calibration: mean lat.: 1011.003ms, rate sampling interval: 5038ms
  Thread calibration: mean lat.: 1089.824ms, rate sampling interval: 4415ms
  Thread calibration: mean lat.: 566.953ms, rate sampling interval: 3115ms
  Thread calibration: mean lat.: 415.572ms, rate sampling interval: 2375ms
  Thread calibration: mean lat.: 1415.577ms, rate sampling interval: 6234ms
  Thread calibration: mean lat.: 932.647ms, rate sampling interval: 7331ms
  Thread calibration: mean lat.: 378.154ms, rate sampling interval: 2881ms
  Thread calibration: mean lat.: 1773.834ms, rate sampling interval: 7376ms
  Thread calibration: mean lat.: 697.190ms, rate sampling interval: 5279ms
  Thread calibration: mean lat.: 1158.860ms, rate sampling interval: 7577ms
  Thread calibration: mean lat.: 1703.110ms, rate sampling interval: 6414ms
  Thread calibration: mean lat.: 2193.044ms, rate sampling interval: 8536ms
  Thread calibration: mean lat.: 1093.270ms, rate sampling interval: 6897ms
  Thread calibration: mean lat.: 889.162ms, rate sampling interval: 5140ms
  Thread calibration: mean lat.: 782.603ms, rate sampling interval: 4231ms
  Thread calibration: mean lat.: 1074.118ms, rate sampling interval: 5562ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    19.70s    16.31s    1.05m    62.62%
    Req/Sec   139.11     26.83   215.00     70.97%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   16.66s 
 75.000%   30.92s 
 90.000%   43.06s 
 99.000%    1.05m 
 99.900%    1.21m 
 99.990%    1.28m 
 99.999%    1.29m 
100.000%    1.29m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.283     0.000000            1         1.00
     783.871     0.100000        69468         1.11
    3569.663     0.200000       138908         1.25
    7512.063     0.300000       208380         1.43
   11862.015     0.400000       277870         1.67
   16662.527     0.500000       347254         2.00
   19054.591     0.550000       382173         2.22
   21774.335     0.600000       416766         2.50
   24772.607     0.650000       451441         2.86
   27656.191     0.700000       486172         3.33
   30916.607     0.750000       520961         4.00
   32555.007     0.775000       538236         4.44
   34373.631     0.800000       555777         5.00
   36405.247     0.825000       573161         5.71
   38469.631     0.850000       590477         6.67
   40632.319     0.875000       607691         8.00
   41844.735     0.887500       616471         8.89
   43057.151     0.900000       625207        10.00
   44564.479     0.912500       633790        11.43
   46071.807     0.925000       642480        13.33
   48103.423     0.937500       651105        16.00
   49250.303     0.943750       655499        17.78
   50593.791     0.950000       659848        20.00
   51871.743     0.956250       664177        22.86
   53313.535     0.962500       668520        26.67
   54984.703     0.968750       672814        32.00
   55836.671     0.971875       674981        35.56
   56819.711     0.975000       677199        40.00
   57802.751     0.978125       679301        45.71
   59015.167     0.981250       681487        53.33
   60227.583     0.984375       683647        64.00
   60948.479     0.985938       684729        71.11
   61636.607     0.987500       685840        80.00
   62423.039     0.989062       686918        91.43
   63275.007     0.990625       688023       106.67
   64323.583     0.992188       689075       128.00
   64913.407     0.992969       689609       142.22
   65535.999     0.993750       690173       160.00
   66224.127     0.994531       690700       182.86
   66977.791     0.995313       691235       213.33
   67960.831     0.996094       691814       256.00
   68354.047     0.996484       692048       284.44
   68943.871     0.996875       692334       320.00
   69533.695     0.997266       692615       365.71
   69992.447     0.997656       692896       426.67
   70647.807     0.998047       693146       512.00
   70909.951     0.998242       693276       568.89
   71172.095     0.998437       693418       640.00
   71565.311     0.998633       693556       731.43
   72089.599     0.998828       693682       853.33
   72613.887     0.999023       693819      1024.00
   72941.567     0.999121       693884      1137.78
   73269.247     0.999219       693946      1280.00
   73662.463     0.999316       694028      1462.86
   73990.143     0.999414       694087      1706.67
   74317.823     0.999512       694157      2048.00
   74448.895     0.999561       694191      2275.56
   74645.503     0.999609       694223      2560.00
   74973.183     0.999658       694252      2925.71
   75431.935     0.999707       694289      3413.33
   75759.615     0.999756       694319      4096.00
   75956.223     0.999780       694339      4551.11
   76087.295     0.999805       694353      5120.00
   76283.903     0.999829       694372      5851.43
   76611.583     0.999854       694390      6826.67
   76808.191     0.999878       694409      8192.00
   76873.727     0.999890       694415      9102.22
   76939.263     0.999902       694421     10240.00
   77070.335     0.999915       694449     11702.86
   77070.335     0.999927       694449     13653.33
   77070.335     0.999939       694449     16384.00
   77135.871     0.999945       694461     18204.44
   77135.871     0.999951       694461     20480.00
   77135.871     0.999957       694461     23405.71
   77201.407     0.999963       694466     27306.67
   77266.943     0.999969       694470     32768.00
   77266.943     0.999973       694470     36408.89
   77398.015     0.999976       694472     40960.00
   77463.551     0.999979       694483     46811.43
   77463.551     0.999982       694483     54613.33
   77463.551     0.999985       694483     65536.00
   77463.551     0.999986       694483     72817.78
   77463.551     0.999988       694483     81920.00
   77463.551     0.999989       694483     93622.86
   77463.551     0.999991       694483    109226.67
   77463.551     0.999992       694483    131072.00
   77529.087     0.999993       694485    145635.56
   77529.087     0.999994       694485    163840.00
   77529.087     0.999995       694485    187245.71
   77529.087     0.999995       694485    218453.33
   77594.623     0.999996       694487    262144.00
   77594.623     0.999997       694487    291271.11
   77594.623     0.999997       694487    327680.00
   77594.623     0.999997       694487    374491.43
   77594.623     0.999998       694487    436906.67
   77594.623     0.999998       694487    524288.00
   77594.623     0.999998       694487    582542.22
   77594.623     0.999998       694487    655360.00
   77660.159     0.999999       694488    748982.86
   77660.159     1.000000       694488          inf
#[Mean    =    19703.984, StdDeviation   =    16313.646]
#[Max     =    77594.624, Total count    =       694488]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  761416 requests in 2.00m, 9.28GB read
Requests/sec:   6348.87  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54140 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40950 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111237 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54140 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40950 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111237 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
6700b29edaae2d467645d8a995a102f6cbdf027d488ef58df73d6e4caf0d3c9e
a80342183f5d3b18cfdbbacec4f51f7561e47f60c0ec8ed87a6efe6eb71d2b12
9535891d01926c8d44b366e7887d024915ad7351931c5b1bf684eaea287f35c1
745df669894a35f45d55c7180dd17e166bb225e03ed4141647089b87aff48ee8
6dcb042bb22675047ece5750bdbec3a9c692509b90ec798e27043a1d20aa8eba
89b80c58a5832bf9a8aaee901fdcc8b64fb63c88a0548a71aaa0c004a3f0659f
54f4cd2c0de23e76f25735ea5a25921c25017a02f11f8d9746272e5c5cd57dad
5a2fcd32bdb400b587e564738f1cc869d182ea33d5ca9d3d36cd987c3aa3345c
c343a85f5847b6a5cf275b7c2fd03212c30bac0c57c1684bc1011ffc6b812b65
57dee79274a11b9895a89d19238acfc54d648b1e7f91939cf1e4854ff826f0a8
1d55b16b61897f5c8b417a3c2640a2fab027f771607a80ef3d23eca7ee5d70cf
c5cc9f94e33e8f0cd45306c4539cdd69b3163b8e69fb2ee3b7a923ca4b6be714
ddc2248feb04b07f77be624f5ea3a1fe41163c0f4271500d69a10cff2e33a77a
dad80158e214319d33469862e532f41d91f6ff1727390a0c8f0c3d1b7ddfe5db
c92b83c9ab76bb6329c30aeae5c9f4dd59d66fd837eff7204c0b86e2bc0c90aa
0fe247e2a2d5d110b8a5907ef9d3a128634b39b915e08c8fd5aee5cc5e57ebc3
0d4fa068193794912c49f03a643de8e9d254a0b7ff94057a37c1ae333008dd46
8fba33d7d1111461937c524291380ff47b875f80fb14d6886cba7b837ea1d88e
46ce90e2533573f30fd5412a3ec574115495a7ecd9e765f8e3cff7c5628b42de
3d1bfa85d0de7df434578a2402a383ff85dca1368a5cf14187480e9beb1fb2dc
7e360a3b427f1294c98a8fbf5a5a1031c98a88e1f314499dce80629ca9d6ea08
5cb680710a8a0a92f757be8d4f4802e371cbe5bf88a14ada8f82c771c91f67fc
d7e2f84dab8b2b13310bdf4b23954beb8f0597ef35d00ff0bf65c20254b9205d
86c67d064ada9ce2117fc21aa244352f327008e26b5c67b1747d8ba77e9312c4
32672ddaa7d8c664d1ab7983cf225bbcdb7172bfd0603adc2622357f4a839193
ec072367fba5cdd39d3e0f9b970e330ad5aeac33362d2255573f9968b7eb4eaa
efa2897b514dc8c70b5e39ac6dd3014d5dbc089fd5e90cf7e8104ccbfa9903bf
51667cb60fba56674eedc2dd969af3a77e6bddaf5bf385ce91a0bf772ff812f3
8ce27973e4caec56a3203069002b9e070c7c971565c7369774f858ed5b2a2c4e
340bebd1d49c71fa7f53d52b057c7bf706c7869858567c4e0af09a297746f93b
0274cb02db1a0bfbf9816941d5310849cc613a78d0b37e97bbdb8cb277d9f6da

Total reclaimed space: 4.314GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 15-53-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-1.log -b True -m i -M 0,1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 15-53-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-home-timeline,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-1.log', 'mode': 'i', 'memnode': '0,1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-timeline-service_1 social-network-microservices-numa-interleave-node-0-1

Result: sha256:94fea74da49f3534163a4caad2b447a60243394790724e560b0ed0d93055eecf


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-1

Result: sha256:9ef341b519b42397f7c8b3ca9067e320e478deaf214dcb0ab93152a6a43953c1


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-1

Result: sha256:5993c2347da55ad6da3d8c60f11ad2c926ebaef612328e2addb128fe498dba20


Install numactl tools on docker image: redis-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_5 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_5 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_5 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_5:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_5:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_5 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 10 22:53 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_5 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-timeline-redis_5 redis-numa-interleave-node-0-1

Result: sha256:ff9abb23b980dcd962f459c0b93440324d546216ec0ad52c16e8742b882e4f00


Install numactl tools on docker image: memcached-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 10 22:53 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-memcached_1 memcached-numa-interleave-node-0-1

Result: sha256:0371cdd27d9107bb6317d6c007611ba8a424ba69a20bbf1eec09c5ecf1200e4b


Install numactl tools on docker image: mongo-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 10 22:53 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-timeline-mongodb_1 mongo-numa-interleave-node-0-1

Result: sha256:d792f045f40fc7e9ff02ff8374520881f61b25ab461c6e23f0f233a6baf9be12


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
8e09634842c293fc0e86e855ad2d9cfe6f49fc6d1820fdb17cffe9f260c65bfb
d3267a03c86255613b9fc12fafd2b55bc59a6792ce0c8ce0f85312ebf318b7de
9da9eb2977bcfdca5d673e0426442da85363064c4d9d7ef9a07b2a170b9d6f86
9bb63981cec353d3309b1cd6b7b543eb94786f1ac83e58e3a9659e34ab3b487b
f48be8f18e4ce835e0e8e2b74e1a9a9749b664f4ba2f6b1a52c4567cd0939aa4
cafff54467f995f817b918085c2cb3a7e3a79121e3bbb63d2dc4f3a03c573952
cbecb899501fad5c26cf37c361650a044c7ac6a6fab9c23d9b1ac5424bc0fe69
e7e653ce57697046b9b59743bb2d25918baf2d093a5ee6f8218316f05a05c3f2
49fe87f659df16f1bd8fba08792719f5066d31aa5694192cf99ac028361386dd
a94298efa47b0c2d8d2ee545597ad605cd5629ecd57dea997a05a34bf9875278
fa5d4fc3c62c87b91493c2d7fba76f5c94d40d2dd2f352c74daebd4e2d24ae98
33a75e80755dd19eb086d961aad155a1e6c71dbb5dc30595a28c40569b52ea0c
eb9b2435a649d6700ba815359120de1dc2edb2d827d8879c238addce02a2409c
67085f078bd1b7cad85326dd109a82e0325d20445bb876de8b12aa2c03a1a0c6
105eca11871b247d34b6905f56af1e7065a7f6c941736a7a72b5008ac1310f2a
132429b6c70ad32d4d696def4711f5750fb993c9e0c62bb3f1df83f2ae4a173f
88ac061918904530660e21cf074c39173126f6f8049277cb885fa889ebb95303
cd913021751a2f8aa5056c2fbdc1535e0c0227c9ab2c755366e434ee8797eb15
2cda3cad22292299c4eabbd52eecebbc691c2da826aea31d6dbabc919088a537
281df4cbc371735790491d36b28e70e6a3d5681205130d31eec61963b2648862
1c2503c4c5b36453660f4d30af254e3aeb582afbf59076e79e32c1c15690809d
3a63ba69f2eaa44b04aa733cdc7443e492b073ae5ba81774414fb4f9b35a463d
0bf480cdef09ffde9c1758987c1e54718eb88c40922e1b3899af299d59c70185
ab7fa5870bf0246f7787e666eb3043d2224e4a754e62149364b1b2c43532780a
506f49de583ed5a7892ad555f9db3c42d47e83affa58480462e59d4737f19d07
e118b709f600570e7744d94378c324d6e5813164b485292e6ede10be49fe1a70
57046da69d4ed2a334243a9ad721de4d4dd5e9830d3bccf3b26571e34d1d4fbb
2b7cf8f6fbad140827727ca409c2631e29fdc363a35270cc0dfd5241391e9a43
e8df6c70a44f764286e089fb3455dd4e407410c18e55e1a8e25266f6d421cd01
d8f265f9acaa9708a6570baab1b8e652cb782952d0b61f01ceee0e8fc1a109a0
39132fe2d45b1a9930addb4a19f5f4e59cd7535efef0831eb974a31656ea5916

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54999 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57135 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54999 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57135 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Succeeded: 37624


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:95
cluster_stats_messages_pong_sent:95
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:191
cluster_stats_messages_ping_received:95
cluster_stats_messages_pong_received:96
cluster_stats_messages_received:191
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:99
cluster_stats_messages_pong_sent:86
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:186
cluster_stats_messages_ping_received:86
cluster_stats_messages_pong_received:100
cluster_stats_messages_received:186
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:91
cluster_stats_messages_pong_sent:97
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:189
cluster_stats_messages_ping_received:97
cluster_stats_messages_pong_received:92
cluster_stats_messages_received:189
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.251ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.241ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.498ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.170ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.724ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.123ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.259ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.024ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.877ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.103ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.115ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.197ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.104ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.013ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.881ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.560ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.301ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.397ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.210ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.068ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.229ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.156ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.774ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.740ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.827ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.195ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.294ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.798ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.137ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.044ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.036ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.845ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.239ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.198ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.162ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 3.889ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.734ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.080ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.940ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.257ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.113ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.952ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.243ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 3.723ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.152ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.935ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.273ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.385ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.71ms    1.28ms   4.35ms   98.34%
    Req/Sec    20.80     42.48   181.00     78.54%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.64ms
 75.000%    2.88ms
 90.000%    3.17ms
 99.000%    4.35ms
 99.900%   16.50ms
 99.990%   58.65ms
 99.999%   69.38ms
100.000%   70.33ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.382     0.000000            1         1.00
       2.135     0.100000        10639         1.11
       2.351     0.200000        21213         1.25
       2.469     0.300000        31860         1.43
       2.559     0.400000        42512         1.67
       2.641     0.500000        53076         2.00
       2.683     0.550000        58405         2.22
       2.725     0.600000        63648         2.50
       2.769     0.650000        68821         2.86
       2.819     0.700000        74222         3.33
       2.875     0.750000        79518         4.00
       2.907     0.775000        82134         4.44
       2.943     0.800000        84698         5.00
       2.985     0.825000        87336         5.71
       3.033     0.850000        89967         6.67
       3.093     0.875000        92673         8.00
       3.129     0.887500        93935         8.89
       3.171     0.900000        95257        10.00
       3.225     0.912500        96607        11.43
       3.289     0.925000        97922        13.33
       3.369     0.937500        99253        16.00
       3.415     0.943750        99915        17.78
       3.465     0.950000       100554        20.00
       3.527     0.956250       101218        22.86
       3.597     0.962500       101880        26.67
       3.685     0.968750       102543        32.00
       3.731     0.971875       102876        35.56
       3.783     0.975000       103194        40.00
       3.851     0.978125       103531        45.71
       3.929     0.981250       103856        53.33
       4.031     0.984375       104187        64.00
       4.099     0.985938       104359        71.11
       4.171     0.987500       104519        80.00
       4.279     0.989062       104686        91.43
       4.403     0.990625       104852       106.67
       4.571     0.992188       105015       128.00
       4.643     0.992969       105096       142.22
       4.739     0.993750       105179       160.00
       4.855     0.994531       105263       182.86
       5.031     0.995313       105345       213.33
       5.291     0.996094       105427       256.00
       5.575     0.996484       105469       284.44
       5.907     0.996875       105512       320.00
       6.195     0.997266       105551       365.71
       6.847     0.997656       105592       426.67
       8.711     0.998047       105634       512.00
       9.679     0.998242       105654       568.89
      10.783     0.998437       105675       640.00
      12.759     0.998633       105696       731.43
      15.087     0.998828       105716       853.33
      16.863     0.999023       105737      1024.00
      20.559     0.999121       105747      1137.78
      21.615     0.999219       105758      1280.00
      22.959     0.999316       105768      1462.86
      24.943     0.999414       105778      1706.67
      30.943     0.999512       105789      2048.00
      34.495     0.999561       105794      2275.56
      37.695     0.999609       105799      2560.00
      44.895     0.999658       105804      2925.71
      46.239     0.999707       105809      3413.33
      48.799     0.999756       105815      4096.00
      49.631     0.999780       105817      4551.11
      51.647     0.999805       105820      5120.00
      53.439     0.999829       105822      5851.43
      57.631     0.999854       105825      6826.67
      58.271     0.999878       105828      8192.00
      58.655     0.999890       105829      9102.22
      60.127     0.999902       105830     10240.00
      60.511     0.999915       105831     11702.86
      61.951     0.999927       105833     13653.33
      63.007     0.999939       105834     16384.00
      64.127     0.999945       105835     18204.44
      64.127     0.999951       105835     20480.00
      64.607     0.999957       105836     23405.71
      69.055     0.999963       105837     27306.67
      69.055     0.999969       105837     32768.00
      69.247     0.999973       105838     36408.89
      69.247     0.999976       105838     40960.00
      69.247     0.999979       105838     46811.43
      69.375     0.999982       105839     54613.33
      69.375     0.999985       105839     65536.00
      69.375     0.999986       105839     72817.78
      69.375     0.999988       105839     81920.00
      69.375     0.999989       105839     93622.86
      70.335     0.999991       105840    109226.67
      70.335     1.000000       105840          inf
#[Mean    =        2.712, StdDeviation   =        1.284]
#[Max     =       70.272, Total count    =       105840]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115349 requests in 2.00m, 23.65MB read
Requests/sec:    961.17  
Transfer/sec:    201.81KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53910 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55660 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53910 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55660 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2411.762ms, rate sampling interval: 8228ms
  Thread calibration: mean lat.: 1942.764ms, rate sampling interval: 7290ms
  Thread calibration: mean lat.: 2179.276ms, rate sampling interval: 8462ms
  Thread calibration: mean lat.: 2160.737ms, rate sampling interval: 7561ms
  Thread calibration: mean lat.: 2147.032ms, rate sampling interval: 7958ms
  Thread calibration: mean lat.: 1922.786ms, rate sampling interval: 7540ms
  Thread calibration: mean lat.: 2166.732ms, rate sampling interval: 7917ms
  Thread calibration: mean lat.: 2187.594ms, rate sampling interval: 7884ms
  Thread calibration: mean lat.: 2059.129ms, rate sampling interval: 7999ms
  Thread calibration: mean lat.: 2274.810ms, rate sampling interval: 8089ms
  Thread calibration: mean lat.: 2286.858ms, rate sampling interval: 8011ms
  Thread calibration: mean lat.: 2063.245ms, rate sampling interval: 7532ms
  Thread calibration: mean lat.: 2187.361ms, rate sampling interval: 8089ms
  Thread calibration: mean lat.: 2178.575ms, rate sampling interval: 8036ms
  Thread calibration: mean lat.: 2108.539ms, rate sampling interval: 8228ms
  Thread calibration: mean lat.: 2057.188ms, rate sampling interval: 7421ms
  Thread calibration: mean lat.: 2173.721ms, rate sampling interval: 7806ms
  Thread calibration: mean lat.: 2474.589ms, rate sampling interval: 8912ms
  Thread calibration: mean lat.: 2436.679ms, rate sampling interval: 8437ms
  Thread calibration: mean lat.: 2135.182ms, rate sampling interval: 7675ms
  Thread calibration: mean lat.: 2328.723ms, rate sampling interval: 7913ms
  Thread calibration: mean lat.: 2032.489ms, rate sampling interval: 7356ms
  Thread calibration: mean lat.: 2346.900ms, rate sampling interval: 8257ms
  Thread calibration: mean lat.: 2314.947ms, rate sampling interval: 7872ms
  Thread calibration: mean lat.: 2230.334ms, rate sampling interval: 8151ms
  Thread calibration: mean lat.: 2331.217ms, rate sampling interval: 8429ms
  Thread calibration: mean lat.: 2455.905ms, rate sampling interval: 8310ms
  Thread calibration: mean lat.: 2493.814ms, rate sampling interval: 9289ms
  Thread calibration: mean lat.: 2181.585ms, rate sampling interval: 7536ms
  Thread calibration: mean lat.: 2555.331ms, rate sampling interval: 8740ms
  Thread calibration: mean lat.: 2547.928ms, rate sampling interval: 8626ms
  Thread calibration: mean lat.: 2808.129ms, rate sampling interval: 9666ms
  Thread calibration: mean lat.: 2718.861ms, rate sampling interval: 9453ms
  Thread calibration: mean lat.: 2734.607ms, rate sampling interval: 9314ms
  Thread calibration: mean lat.: 2276.322ms, rate sampling interval: 7958ms
  Thread calibration: mean lat.: 2447.702ms, rate sampling interval: 8351ms
  Thread calibration: mean lat.: 2255.278ms, rate sampling interval: 7979ms
  Thread calibration: mean lat.: 2523.154ms, rate sampling interval: 8781ms
  Thread calibration: mean lat.: 2335.381ms, rate sampling interval: 8196ms
  Thread calibration: mean lat.: 2239.812ms, rate sampling interval: 7716ms
  Thread calibration: mean lat.: 2301.052ms, rate sampling interval: 8351ms
  Thread calibration: mean lat.: 2472.022ms, rate sampling interval: 8318ms
  Thread calibration: mean lat.: 2270.433ms, rate sampling interval: 7720ms
  Thread calibration: mean lat.: 2483.041ms, rate sampling interval: 8257ms
  Thread calibration: mean lat.: 2140.775ms, rate sampling interval: 7426ms
  Thread calibration: mean lat.: 2454.368ms, rate sampling interval: 8462ms
  Thread calibration: mean lat.: 2543.627ms, rate sampling interval: 8536ms
  Thread calibration: mean lat.: 2493.320ms, rate sampling interval: 8560ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    29.32s    14.32s    0.90m    57.78%
    Req/Sec    57.02      1.31    60.00     94.85%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   29.36s 
 75.000%   41.65s 
 90.000%   49.09s 
 99.000%    0.90m 
 99.900%    0.94m 
 99.990%    0.95m 
 99.999%    0.96m 
100.000%    0.96m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3110.911     0.000000            1         1.00
    9535.487     0.100000        30369         1.11
   14458.879     0.200000        60735         1.25
   19349.503     0.300000        91115         1.43
   24543.231     0.400000       121441         1.67
   29360.127     0.500000       151791         2.00
   31817.727     0.550000       167041         2.22
   34144.255     0.600000       182233         2.50
   36601.855     0.650000       197334         2.86
   39124.991     0.700000       212692         3.33
   41648.127     0.750000       227792         4.00
   42958.847     0.775000       235436         4.44
   44204.031     0.800000       242907         5.00
   45416.447     0.825000       250482         5.71
   46661.631     0.850000       258136         6.67
   47874.047     0.875000       265647         8.00
   48496.639     0.887500       269542         8.89
   49086.463     0.900000       273288        10.00
   49676.287     0.912500       277033        11.43
   50331.647     0.925000       281025        13.33
   50921.471     0.937500       284757        16.00
   51249.151     0.943750       286672        17.78
   51544.063     0.950000       288484        20.00
   51871.743     0.956250       290418        22.86
   52232.191     0.962500       292327        26.67
   52592.639     0.968750       294130        32.00
   52789.247     0.971875       295101        35.56
   52985.855     0.975000       295995        40.00
   53215.231     0.978125       297000        45.71
   53444.607     0.981250       297933        53.33
   53706.751     0.984375       298928        64.00
   53837.823     0.985938       299372        71.11
   53968.895     0.987500       299785        80.00
   54165.503     0.989062       300315        91.43
   54329.343     0.990625       300736       106.67
   54558.719     0.992188       301249       128.00
   54657.023     0.992969       301468       142.22
   54788.095     0.993750       301724       160.00
   54919.167     0.994531       301960       182.86
   55050.239     0.995313       302190       213.33
   55246.847     0.996094       302419       256.00
   55345.151     0.996484       302548       284.44
   55410.687     0.996875       302633       320.00
   55508.991     0.997266       302748       365.71
   55640.063     0.997656       302873       426.67
   55771.135     0.998047       303009       512.00
   55836.671     0.998242       303057       568.89
   55902.207     0.998437       303110       640.00
   56000.511     0.998633       303177       731.43
   56098.815     0.998828       303235       853.33
   56197.119     0.999023       303284      1024.00
   56262.655     0.999121       303317      1137.78
   56328.191     0.999219       303340      1280.00
   56426.495     0.999316       303377      1462.86
   56524.799     0.999414       303403      1706.67
   56623.103     0.999512       303430      2048.00
   56688.639     0.999561       303443      2275.56
   56754.175     0.999609       303465      2560.00
   56786.943     0.999658       303473      2925.71
   56885.247     0.999707       303498      3413.33
   56918.015     0.999756       303507      4096.00
   56950.783     0.999780       303514      4551.11
   56983.551     0.999805       303518      5120.00
   57016.319     0.999829       303525      5851.43
   57081.855     0.999854       303537      6826.67
   57114.623     0.999878       303539      8192.00
   57147.391     0.999890       303545      9102.22
   57180.159     0.999902       303547     10240.00
   57212.927     0.999915       303553     11702.86
   57245.695     0.999927       303558     13653.33
   57245.695     0.999939       303558     16384.00
   57278.463     0.999945       303560     18204.44
   57311.231     0.999951       303564     20480.00
   57311.231     0.999957       303564     23405.71
   57376.767     0.999963       303566     27306.67
   57409.535     0.999969       303568     32768.00
   57409.535     0.999973       303568     36408.89
   57475.071     0.999976       303571     40960.00
   57475.071     0.999979       303571     46811.43
   57475.071     0.999982       303571     54613.33
   57507.839     0.999985       303573     65536.00
   57507.839     0.999986       303573     72817.78
   57507.839     0.999988       303573     81920.00
   57507.839     0.999989       303573     93622.86
   57540.607     0.999991       303575    109226.67
   57540.607     0.999992       303575    131072.00
   57540.607     0.999993       303575    145635.56
   57540.607     0.999994       303575    163840.00
   57540.607     0.999995       303575    187245.71
   57540.607     0.999995       303575    218453.33
   57540.607     0.999996       303575    262144.00
   57540.607     0.999997       303575    291271.11
   57606.143     0.999997       303576    327680.00
   57606.143     1.000000       303576          inf
#[Mean    =    29319.036, StdDeviation   =    14316.164]
#[Max     =    57573.376, Total count    =       303576]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  330344 requests in 2.00m, 67.73MB read
Requests/sec:   2754.28  
Transfer/sec:    578.29KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51551 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51422 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51551 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51422 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4328.687ms, rate sampling interval: 15753ms
  Thread calibration: mean lat.: 4243.700ms, rate sampling interval: 15302ms
  Thread calibration: mean lat.: 4293.160ms, rate sampling interval: 15130ms
  Thread calibration: mean lat.: 4314.245ms, rate sampling interval: 15302ms
  Thread calibration: mean lat.: 4323.251ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4247.953ms, rate sampling interval: 15319ms
  Thread calibration: mean lat.: 4324.231ms, rate sampling interval: 15073ms
  Thread calibration: mean lat.: 4379.378ms, rate sampling interval: 15458ms
  Thread calibration: mean lat.: 4426.071ms, rate sampling interval: 15433ms
  Thread calibration: mean lat.: 4415.751ms, rate sampling interval: 15859ms
  Thread calibration: mean lat.: 4436.466ms, rate sampling interval: 15532ms
  Thread calibration: mean lat.: 4334.739ms, rate sampling interval: 15343ms
  Thread calibration: mean lat.: 4399.941ms, rate sampling interval: 15745ms
  Thread calibration: mean lat.: 4303.536ms, rate sampling interval: 15605ms
  Thread calibration: mean lat.: 4325.457ms, rate sampling interval: 15294ms
  Thread calibration: mean lat.: 4259.442ms, rate sampling interval: 15376ms
  Thread calibration: mean lat.: 4268.265ms, rate sampling interval: 15400ms
  Thread calibration: mean lat.: 4252.174ms, rate sampling interval: 14909ms
  Thread calibration: mean lat.: 4455.081ms, rate sampling interval: 15671ms
  Thread calibration: mean lat.: 4322.871ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4314.338ms, rate sampling interval: 15384ms
  Thread calibration: mean lat.: 4543.749ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4444.937ms, rate sampling interval: 15384ms
  Thread calibration: mean lat.: 4315.953ms, rate sampling interval: 15335ms
  Thread calibration: mean lat.: 4399.482ms, rate sampling interval: 15163ms
  Thread calibration: mean lat.: 4457.897ms, rate sampling interval: 15327ms
  Thread calibration: mean lat.: 4442.943ms, rate sampling interval: 15777ms
  Thread calibration: mean lat.: 4489.896ms, rate sampling interval: 15679ms
  Thread calibration: mean lat.: 4583.791ms, rate sampling interval: 15884ms
  Thread calibration: mean lat.: 4493.584ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4580.960ms, rate sampling interval: 15802ms
  Thread calibration: mean lat.: 4466.258ms, rate sampling interval: 15368ms
  Thread calibration: mean lat.: 4551.935ms, rate sampling interval: 15622ms
  Thread calibration: mean lat.: 4537.094ms, rate sampling interval: 15998ms
  Thread calibration: mean lat.: 4569.959ms, rate sampling interval: 15982ms
  Thread calibration: mean lat.: 4379.781ms, rate sampling interval: 15269ms
  Thread calibration: mean lat.: 4528.016ms, rate sampling interval: 15441ms
  Thread calibration: mean lat.: 4445.856ms, rate sampling interval: 15556ms
  Thread calibration: mean lat.: 4465.843ms, rate sampling interval: 15466ms
  Thread calibration: mean lat.: 4412.834ms, rate sampling interval: 15319ms
  Thread calibration: mean lat.: 4499.370ms, rate sampling interval: 15654ms
  Thread calibration: mean lat.: 4599.271ms, rate sampling interval: 16105ms
  Thread calibration: mean lat.: 4693.289ms, rate sampling interval: 16007ms
  Thread calibration: mean lat.: 4494.649ms, rate sampling interval: 15409ms
  Thread calibration: mean lat.: 4410.035ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4468.775ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4547.528ms, rate sampling interval: 15532ms
  Thread calibration: mean lat.: 4470.892ms, rate sampling interval: 15425ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.93m    27.49s    1.71m    57.69%
    Req/Sec    28.21      0.65    30.00     98.47%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.94m 
 75.000%    1.33m 
 90.000%    1.57m 
 99.000%    1.71m 
 99.900%    1.73m 
 99.990%    1.74m 
 99.999%    1.74m 
100.000%    1.75m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    8052.735     0.000000            1         1.00
   17825.791     0.100000        15155         1.11
   27328.511     0.200000        30306         1.25
   37027.839     0.300000        45434         1.43
   46497.791     0.400000        60595         1.67
   56197.119     0.500000        75726         2.00
   60948.479     0.550000        83321         2.22
   65601.535     0.600000        90887         2.50
   70123.519     0.650000        98488         2.86
   74907.647     0.700000       106089         3.33
   79691.775     0.750000       113628         4.00
   82116.607     0.775000       117393         4.44
   84606.975     0.800000       121250         5.00
   86966.271     0.825000       125032         5.71
   89391.103     0.850000       128832         6.67
   91815.935     0.875000       132604         8.00
   93061.119     0.887500       134467         8.89
   94306.303     0.900000       136333        10.00
   95551.487     0.912500       138215        11.43
   96796.671     0.925000       140147        13.33
   97910.783     0.937500       142008        16.00
   98435.071     0.943750       142950        17.78
   99024.895     0.950000       143917        20.00
   99614.719     0.956250       144904        22.86
  100139.007     0.962500       145813        26.67
  100663.295     0.968750       146727        32.00
  100990.975     0.971875       147302        35.56
  101253.119     0.975000       147752        40.00
  101515.263     0.978125       148203        45.71
  101777.407     0.981250       148658        53.33
  102039.551     0.984375       149097        64.00
  102170.623     0.985938       149315        71.11
  102367.231     0.987500       149635        80.00
  102498.303     0.989062       149830        91.43
  102629.375     0.990625       150031       106.67
  102825.983     0.992188       150333       128.00
  102891.519     0.992969       150423       142.22
  102957.055     0.993750       150512       160.00
  103088.127     0.994531       150658       182.86
  103153.663     0.995313       150741       213.33
  103284.735     0.996094       150886       256.00
  103350.271     0.996484       150945       284.44
  103415.807     0.996875       151012       320.00
  103481.343     0.997266       151057       365.71
  103546.879     0.997656       151108       426.67
  103612.415     0.998047       151156       512.00
  103677.951     0.998242       151193       568.89
  103743.487     0.998437       151230       640.00
  103809.023     0.998633       151273       731.43
  103809.023     0.998828       151273       853.33
  103874.559     0.999023       151303      1024.00
  103940.095     0.999121       151327      1137.78
  103940.095     0.999219       151327      1280.00
  104005.631     0.999316       151349      1462.86
  104071.167     0.999414       151368      1706.67
  104071.167     0.999512       151368      2048.00
  104136.703     0.999561       151388      2275.56
  104136.703     0.999609       151388      2560.00
  104202.239     0.999658       151402      2925.71
  104202.239     0.999707       151402      3413.33
  104267.775     0.999756       151412      4096.00
  104267.775     0.999780       151412      4551.11
  104267.775     0.999805       151412      5120.00
  104333.311     0.999829       151419      5851.43
  104333.311     0.999854       151419      6826.67
  104398.847     0.999878       151424      8192.00
  104398.847     0.999890       151424      9102.22
  104464.383     0.999902       151430     10240.00
  104464.383     0.999915       151430     11702.86
  104464.383     0.999927       151430     13653.33
  104529.919     0.999939       151433     16384.00
  104529.919     0.999945       151433     18204.44
  104529.919     0.999951       151433     20480.00
  104595.455     0.999957       151437     23405.71
  104595.455     0.999963       151437     27306.67
  104595.455     0.999969       151437     32768.00
  104595.455     0.999973       151437     36408.89
  104595.455     0.999976       151437     40960.00
  104595.455     0.999979       151437     46811.43
  104660.991     0.999982       151438     54613.33
  104660.991     0.999985       151438     65536.00
  104660.991     0.999986       151438     72817.78
  104726.527     0.999988       151439     81920.00
  104726.527     0.999989       151439     93622.86
  104726.527     0.999991       151439    109226.67
  104726.527     0.999992       151439    131072.00
  104726.527     0.999993       151439    145635.56
  104792.063     0.999994       151440    163840.00
  104792.063     1.000000       151440          inf
#[Mean    =    56012.418, StdDeviation   =    27494.151]
#[Max     =   104726.528, Total count    =       151440]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  164968 requests in 2.00m, 33.83MB read
Requests/sec:   1375.32  
Transfer/sec:    288.76KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 49188 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46566 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 49188 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46566 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.109ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.304ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.350ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.657ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.788ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.210ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.980ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.217ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.111ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.204ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.570ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.132ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.945ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.905ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.182ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.147ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.494ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.179ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.904ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.145ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.329ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.313ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.158ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.025ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.732ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.541ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.167ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.197ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.228ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.708ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.594ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.806ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.782ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.517ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.531ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.866ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.837ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.493ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.009ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.261ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.141ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.986ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.993ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.560ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.532ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.639ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.234ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.136ms, rate sampling interval: 30ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.98ms    2.95ms  22.03ms   83.08%
    Req/Sec    20.22     26.48   107.00     88.44%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.41ms
 75.000%   11.76ms
 90.000%   14.11ms
 99.000%   22.03ms
 99.900%   29.66ms
 99.990%   37.85ms
 99.999%   42.05ms
100.000%   43.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.195     0.000000            1         1.00
       8.543     0.100000        10615         1.11
       9.223     0.200000        21228         1.25
       9.663     0.300000        31929         1.43
      10.039     0.400000        42399         1.67
      10.415     0.500000        52930         2.00
      10.615     0.550000        58207         2.22
      10.839     0.600000        63519         2.50
      11.087     0.650000        68791         2.86
      11.391     0.700000        74175         3.33
      11.759     0.750000        79410         4.00
      11.991     0.775000        82091         4.44
      12.271     0.800000        84678         5.00
      12.583     0.825000        87344         5.71
      12.967     0.850000        90004         6.67
      13.439     0.875000        92635         8.00
      13.727     0.887500        93957         8.89
      14.111     0.900000        95261        10.00
      14.607     0.912500        96587        11.43
      15.231     0.925000        97902        13.33
      15.991     0.937500        99216        16.00
      16.399     0.943750        99909        17.78
      16.799     0.950000       100547        20.00
      17.279     0.956250       101219        22.86
      17.823     0.962500       101869        26.67
      18.399     0.968750       102524        32.00
      18.751     0.971875       102861        35.56
      19.135     0.975000       103186        40.00
      19.551     0.978125       103522        45.71
      19.999     0.981250       103856        53.33
      20.575     0.984375       104177        64.00
      20.911     0.985938       104342        71.11
      21.263     0.987500       104508        80.00
      21.727     0.989062       104675        91.43
      22.239     0.990625       104839       106.67
      22.847     0.992188       105005       128.00
      23.247     0.992969       105088       142.22
      23.647     0.993750       105171       160.00
      24.031     0.994531       105252       182.86
      24.495     0.995313       105334       213.33
      25.135     0.996094       105419       256.00
      25.487     0.996484       105458       284.44
      25.951     0.996875       105500       320.00
      26.479     0.997266       105541       365.71
      27.007     0.997656       105582       426.67
      27.663     0.998047       105625       512.00
      28.159     0.998242       105645       568.89
      28.447     0.998437       105665       640.00
      28.799     0.998633       105686       731.43
      29.183     0.998828       105706       853.33
      29.711     0.999023       105727      1024.00
      30.015     0.999121       105738      1137.78
      30.415     0.999219       105748      1280.00
      30.847     0.999316       105758      1462.86
      31.279     0.999414       105768      1706.67
      31.967     0.999512       105779      2048.00
      32.095     0.999561       105784      2275.56
      32.719     0.999609       105789      2560.00
      33.247     0.999658       105795      2925.71
      33.919     0.999707       105799      3413.33
      34.783     0.999756       105805      4096.00
      35.199     0.999780       105807      4551.11
      35.391     0.999805       105810      5120.00
      35.615     0.999829       105812      5851.43
      36.351     0.999854       105815      6826.67
      37.759     0.999878       105818      8192.00
      37.855     0.999890       105820      9102.22
      37.855     0.999902       105820     10240.00
      37.951     0.999915       105821     11702.86
      38.527     0.999927       105823     13653.33
      38.751     0.999939       105824     16384.00
      38.879     0.999945       105825     18204.44
      38.879     0.999951       105825     20480.00
      39.519     0.999957       105826     23405.71
      39.615     0.999963       105827     27306.67
      39.615     0.999969       105827     32768.00
      40.735     0.999973       105828     36408.89
      40.735     0.999976       105828     40960.00
      40.735     0.999979       105828     46811.43
      42.047     0.999982       105829     54613.33
      42.047     0.999985       105829     65536.00
      42.047     0.999986       105829     72817.78
      42.047     0.999988       105829     81920.00
      42.047     0.999989       105829     93622.86
      43.615     0.999991       105830    109226.67
      43.615     1.000000       105830          inf
#[Mean    =       10.979, StdDeviation   =        2.954]
#[Max     =       43.584, Total count    =       105830]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115331 requests in 2.00m, 1.57GB read
  Socket errors: connect 0, read 0, write 0, timeout 1
Requests/sec:    961.06  
Transfer/sec:     13.37MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 47401 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40952 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 47401 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40952 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.576ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.404ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.883ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.780ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.702ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.578ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.881ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.389ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.459ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.609ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.079ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.389ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.866ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.804ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.778ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.700ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.493ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.520ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.859ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.599ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.609ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.974ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.395ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.890ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.218ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.920ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.455ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.663ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.846ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.760ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.701ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.433ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.799ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.693ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.039ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.349ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.742ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.857ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.489ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.262ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.702ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.483ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.566ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.725ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.760ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.320ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.932ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.268ms, rate sampling interval: 18ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    17.94ms   85.08ms 504.58ms   97.15%
    Req/Sec   107.23     82.82   333.00     65.17%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.63ms
 75.000%    5.84ms
 90.000%    8.12ms
 99.000%  504.58ms
 99.900%    1.00s 
 99.990%    1.27s 
 99.999%    1.50s 
100.000%    1.55s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.978     0.000000            1         1.00
       3.421     0.100000        55270         1.11
       3.745     0.200000       109937         1.25
       4.031     0.300000       165032         1.43
       4.315     0.400000       219921         1.67
       4.631     0.500000       275267         2.00
       4.807     0.550000       302741         2.22
       5.003     0.600000       330013         2.50
       5.231     0.650000       357621         2.86
       5.503     0.700000       384907         3.33
       5.843     0.750000       412148         4.00
       6.059     0.775000       426117         4.44
       6.303     0.800000       439660         5.00
       6.603     0.825000       453393         5.71
       6.979     0.850000       467191         6.67
       7.459     0.875000       480846         8.00
       7.763     0.887500       487763         8.89
       8.119     0.900000       494630        10.00
       8.575     0.912500       501437        11.43
       9.191     0.925000       508359        13.33
      10.119     0.937500       515174        16.00
      10.823     0.943750       518617        17.78
      11.943     0.950000       522042        20.00
      14.151     0.956250       525469        22.86
      22.351     0.962500       528906        26.67
      67.519     0.968750       532341        32.00
     108.031     0.971875       534055        35.56
     155.135     0.975000       535773        40.00
     213.631     0.978125       537491        45.71
     281.087     0.981250       539207        53.33
     356.351     0.984375       540923        64.00
     393.215     0.985938       541785        71.11
     432.639     0.987500       542645        80.00
     474.879     0.989062       543504        91.43
     526.335     0.990625       544361       106.67
     582.143     0.992188       545222       128.00
     608.255     0.992969       545650       142.22
     640.511     0.993750       546077       160.00
     675.327     0.994531       546509       182.86
     711.679     0.995313       546938       213.33
     755.711     0.996094       547369       256.00
     777.215     0.996484       547578       284.44
     800.255     0.996875       547798       320.00
     829.439     0.997266       548007       365.71
     863.231     0.997656       548223       426.67
     893.439     0.998047       548436       512.00
     908.799     0.998242       548546       568.89
     926.719     0.998437       548651       640.00
     944.639     0.998633       548759       731.43
     970.751     0.998828       548866       853.33
    1006.591     0.999023       548975      1024.00
    1020.927     0.999121       549029      1137.78
    1039.359     0.999219       549081      1280.00
    1056.767     0.999316       549136      1462.86
    1078.271     0.999414       549190      1706.67
    1103.871     0.999512       549241      2048.00
    1113.087     0.999561       549268      2275.56
    1125.375     0.999609       549295      2560.00
    1147.903     0.999658       549322      2925.71
    1165.311     0.999707       549349      3413.33
    1188.863     0.999756       549376      4096.00
    1195.007     0.999780       549389      4551.11
    1210.367     0.999805       549402      5120.00
    1228.799     0.999829       549416      5851.43
    1238.015     0.999854       549430      6826.67
    1250.303     0.999878       549442      8192.00
    1259.519     0.999890       549450      9102.22
    1271.807     0.999902       549456     10240.00
    1286.143     0.999915       549463     11702.86
    1303.551     0.999927       549469     13653.33
    1345.535     0.999939       549476     16384.00
    1351.679     0.999945       549480     18204.44
    1354.751     0.999951       549483     20480.00
    1367.039     0.999957       549486     23405.71
    1387.519     0.999963       549489     27306.67
    1414.143     0.999969       549493     32768.00
    1428.479     0.999973       549494     36408.89
    1435.647     0.999976       549496     40960.00
    1441.791     0.999979       549499     46811.43
    1441.791     0.999982       549499     54613.33
    1464.319     0.999985       549501     65536.00
    1469.439     0.999986       549502     72817.78
    1471.487     0.999988       549503     81920.00
    1496.063     0.999989       549504     93622.86
    1496.063     0.999991       549504    109226.67
    1524.735     0.999992       549505    131072.00
    1527.807     0.999993       549507    145635.56
    1527.807     0.999994       549507    163840.00
    1527.807     0.999995       549507    187245.71
    1527.807     0.999995       549507    218453.33
    1527.807     0.999996       549507    262144.00
    1542.143     0.999997       549508    291271.11
    1542.143     0.999997       549508    327680.00
    1542.143     0.999997       549508    374491.43
    1542.143     0.999998       549508    436906.67
    1542.143     0.999998       549508    524288.00
    1551.359     0.999998       549509    582542.22
    1551.359     1.000000       549509          inf
#[Mean    =       17.942, StdDeviation   =       85.084]
#[Max     =     1550.336, Total count    =       549509]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599257 requests in 2.00m, 8.13GB read
Requests/sec:   4996.88  
Transfer/sec:     69.44MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44893 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 31555 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44893 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 31555 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2025.493ms, rate sampling interval: 9232ms
  Thread calibration: mean lat.: 1689.383ms, rate sampling interval: 8245ms
  Thread calibration: mean lat.: 1829.478ms, rate sampling interval: 8814ms
  Thread calibration: mean lat.: 2957.059ms, rate sampling interval: 10764ms
  Thread calibration: mean lat.: 1457.877ms, rate sampling interval: 5152ms
  Thread calibration: mean lat.: 2324.040ms, rate sampling interval: 10231ms
  Thread calibration: mean lat.: 2064.321ms, rate sampling interval: 9043ms
  Thread calibration: mean lat.: 1813.121ms, rate sampling interval: 9207ms
  Thread calibration: mean lat.: 708.337ms, rate sampling interval: 2799ms
  Thread calibration: mean lat.: 1473.360ms, rate sampling interval: 6164ms
  Thread calibration: mean lat.: 1427.707ms, rate sampling interval: 7614ms
  Thread calibration: mean lat.: 1682.079ms, rate sampling interval: 7786ms
  Thread calibration: mean lat.: 2114.369ms, rate sampling interval: 9789ms
  Thread calibration: mean lat.: 2148.417ms, rate sampling interval: 9158ms
  Thread calibration: mean lat.: 975.678ms, rate sampling interval: 4042ms
  Thread calibration: mean lat.: 1254.225ms, rate sampling interval: 6963ms
  Thread calibration: mean lat.: 2928.551ms, rate sampling interval: 10027ms
  Thread calibration: mean lat.: 1751.321ms, rate sampling interval: 9887ms
  Thread calibration: mean lat.: 2117.058ms, rate sampling interval: 10076ms
  Thread calibration: mean lat.: 794.928ms, rate sampling interval: 6000ms
  Thread calibration: mean lat.: 1884.889ms, rate sampling interval: 9248ms
  Thread calibration: mean lat.: 1329.628ms, rate sampling interval: 7630ms
  Thread calibration: mean lat.: 987.599ms, rate sampling interval: 7966ms
  Thread calibration: mean lat.: 1383.853ms, rate sampling interval: 7696ms
  Thread calibration: mean lat.: 926.008ms, rate sampling interval: 5480ms
  Thread calibration: mean lat.: 2354.883ms, rate sampling interval: 8339ms
  Thread calibration: mean lat.: 1710.108ms, rate sampling interval: 8536ms
  Thread calibration: mean lat.: 1187.681ms, rate sampling interval: 6230ms
  Thread calibration: mean lat.: 2152.909ms, rate sampling interval: 8962ms
  Thread calibration: mean lat.: 1077.258ms, rate sampling interval: 6516ms
  Thread calibration: mean lat.: 1823.460ms, rate sampling interval: 8699ms
  Thread calibration: mean lat.: 1681.246ms, rate sampling interval: 6438ms
  Thread calibration: mean lat.: 1477.100ms, rate sampling interval: 6709ms
  Thread calibration: mean lat.: 2828.694ms, rate sampling interval: 10027ms
  Thread calibration: mean lat.: 1858.998ms, rate sampling interval: 10100ms
  Thread calibration: mean lat.: 1482.743ms, rate sampling interval: 6201ms
  Thread calibration: mean lat.: 1417.149ms, rate sampling interval: 8470ms
  Thread calibration: mean lat.: 765.023ms, rate sampling interval: 5001ms
  Thread calibration: mean lat.: 1840.430ms, rate sampling interval: 7237ms
  Thread calibration: mean lat.: 2204.949ms, rate sampling interval: 9478ms
  Thread calibration: mean lat.: 2139.268ms, rate sampling interval: 9003ms
  Thread calibration: mean lat.: 2192.536ms, rate sampling interval: 8871ms
  Thread calibration: mean lat.: 2892.177ms, rate sampling interval: 11231ms
  Thread calibration: mean lat.: 3023.930ms, rate sampling interval: 10969ms
  Thread calibration: mean lat.: 983.184ms, rate sampling interval: 5271ms
  Thread calibration: mean lat.: 2284.660ms, rate sampling interval: 9764ms
  Thread calibration: mean lat.: 1827.311ms, rate sampling interval: 6344ms
  Thread calibration: mean lat.: 1165.541ms, rate sampling interval: 8056ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    17.19s    20.09s    1.25m    84.19%
    Req/Sec   142.61     31.03   214.00     68.18%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    8.71s 
 75.000%   30.47s 
 90.000%   48.59s 
 99.000%    1.25m 
 99.900%    1.46m 
 99.990%    1.53m 
 99.999%    1.55m 
100.000%    1.56m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       4.451     0.000000            1         1.00
      15.703     0.100000        72459         1.11
      27.103     0.200000       144973         1.25
      74.687     0.300000       217382         1.43
    2838.527     0.400000       289853         1.67
    8708.095     0.500000       362342         2.00
   12312.575     0.550000       398599         2.22
   16957.439     0.600000       434887         2.50
   21692.415     0.650000       471075         2.86
   26247.167     0.700000       507298         3.33
   30474.239     0.750000       543489         4.00
   32440.319     0.775000       561572         4.44
   33914.879     0.800000       580017         5.00
   35586.047     0.825000       597860         5.71
   38436.863     0.850000       616035         6.67
   43646.975     0.875000       634024         8.00
   46202.879     0.887500       643104         8.89
   48594.943     0.900000       652227        10.00
   51150.847     0.912500       661249        11.43
   53772.287     0.925000       670328        13.33
   56197.119     0.937500       679348        16.00
   57212.927     0.943750       683901        17.78
   58359.807     0.950000       688356        20.00
   59867.135     0.956250       692894        22.86
   61439.999     0.962500       697448        26.67
   63635.455     0.968750       701968        32.00
   64815.103     0.971875       704217        35.56
   66060.287     0.975000       706472        40.00
   67633.151     0.978125       708806        45.71
   69140.479     0.981250       711067        53.33
   70778.879     0.984375       713314        64.00
   71761.919     0.985938       714420        71.11
   72876.031     0.987500       715544        80.00
   74055.679     0.989062       716665        91.43
   75431.935     0.990625       717793       106.67
   77398.015     0.992188       718931       128.00
   78512.127     0.992969       719507       142.22
   79626.239     0.993750       720077       160.00
   80609.279     0.994531       720622       182.86
   81592.319     0.995313       721187       213.33
   82771.967     0.996094       721780       256.00
   83427.327     0.996484       722045       284.44
   84082.687     0.996875       722321       320.00
   84803.583     0.997266       722616       365.71
   85458.943     0.997656       722896       426.67
   86114.303     0.998047       723184       512.00
   86441.983     0.998242       723322       568.89
   86769.663     0.998437       723464       640.00
   87097.343     0.998633       723590       731.43
   87490.559     0.998828       723749       853.33
   87883.775     0.999023       723876      1024.00
   88145.919     0.999121       723946      1137.78
   88408.063     0.999219       724011      1280.00
   88735.743     0.999316       724089      1462.86
   89063.423     0.999414       724161      1706.67
   89456.639     0.999512       724232      2048.00
   89653.247     0.999561       724261      2275.56
   89915.391     0.999609       724294      2560.00
   90308.607     0.999658       724338      2925.71
   90570.751     0.999707       724371      3413.33
   90832.895     0.999756       724405      4096.00
   91029.503     0.999780       724423      4551.11
   91160.575     0.999805       724438      5120.00
   91357.183     0.999829       724456      5851.43
   91553.791     0.999854       724475      6826.67
   91750.399     0.999878       724494      8192.00
   91815.935     0.999890       724499      9102.22
   91947.007     0.999902       724509     10240.00
   92078.079     0.999915       724519     11702.86
   92209.151     0.999927       724525     13653.33
   92340.223     0.999939       724534     16384.00
   92405.759     0.999945       724538     18204.44
   92536.831     0.999951       724546     20480.00
   92602.367     0.999957       724549     23405.71
   92667.903     0.999963       724551     27306.67
   92798.975     0.999969       724557     32768.00
   92864.511     0.999973       724562     36408.89
   92864.511     0.999976       724562     40960.00
   92864.511     0.999979       724562     46811.43
   92930.047     0.999982       724565     54613.33
   92995.583     0.999985       724568     65536.00
   92995.583     0.999986       724568     72817.78
   93061.119     0.999988       724569     81920.00
   93126.655     0.999989       724570     93622.86
   93192.191     0.999991       724571    109226.67
   93257.727     0.999992       724572    131072.00
   93323.263     0.999993       724573    145635.56
   93323.263     0.999994       724573    163840.00
   93454.335     0.999995       724575    187245.71
   93454.335     0.999995       724575    218453.33
   93454.335     0.999996       724575    262144.00
   93454.335     0.999997       724575    291271.11
   93454.335     0.999997       724575    327680.00
   93519.871     0.999997       724576    374491.43
   93519.871     0.999998       724576    436906.67
   93519.871     0.999998       724576    524288.00
   93519.871     0.999998       724576    582542.22
   93519.871     0.999998       724576    655360.00
   93585.407     0.999999       724577    748982.86
   93585.407     1.000000       724577          inf
#[Mean    =    17186.619, StdDeviation   =    20089.673]
#[Max     =    93519.872, Total count    =       724577]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  782963 requests in 2.00m, 10.61GB read
Requests/sec:   6528.39  
Transfer/sec:     90.63MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42948 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 27394 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42948 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 27394 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 10.845ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.023ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.062ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.468ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.947ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.173ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.660ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.298ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.429ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.918ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.376ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.012ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.904ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.737ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.034ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.043ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.940ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.795ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.119ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.058ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.348ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.367ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.347ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.419ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.966ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.799ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.868ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.867ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.687ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.658ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.315ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.831ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 11.267ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.252ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.303ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.929ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.130ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.126ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.306ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.188ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.816ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.432ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.494ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.322ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.842ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.202ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.685ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.070ms, rate sampling interval: 29ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.14ms    3.80ms  23.55ms   73.93%
    Req/Sec    20.26     26.88   111.00     88.93%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.14ms
 75.000%   12.97ms
 90.000%   15.27ms
 99.000%   23.55ms
 99.900%   30.80ms
 99.990%   39.42ms
 99.999%   44.99ms
100.000%   49.15ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.589     0.000000            1         1.00
       6.587     0.100000        10586         1.11
       7.991     0.200000        21180         1.25
       9.255     0.300000        31762         1.43
      10.239     0.400000        42343         1.67
      11.143     0.500000        52942         2.00
      11.535     0.550000        58268         2.22
      11.903     0.600000        63597         2.50
      12.239     0.650000        68895         2.86
      12.591     0.700000        74190         3.33
      12.967     0.750000        79447         4.00
      13.183     0.775000        82032         4.44
      13.431     0.800000        84661         5.00
      13.743     0.825000        87348         5.71
      14.111     0.850000        89961         6.67
      14.607     0.875000        92599         8.00
      14.919     0.887500        93940         8.89
      15.271     0.900000        95249        10.00
      15.703     0.912500        96571        11.43
      16.215     0.925000        97891        13.33
      16.895     0.937500        99229        16.00
      17.295     0.943750        99879        17.78
      17.743     0.950000       100548        20.00
      18.239     0.956250       101199        22.86
      18.831     0.962500       101861        26.67
      19.487     0.968750       102517        32.00
      19.855     0.971875       102853        35.56
      20.303     0.975000       103179        40.00
      20.799     0.978125       103520        45.71
      21.343     0.981250       103840        53.33
      21.983     0.984375       104176        64.00
      22.335     0.985938       104336        71.11
      22.751     0.987500       104506        80.00
      23.263     0.989062       104675        91.43
      23.727     0.990625       104836       106.67
      24.383     0.992188       105001       128.00
      24.687     0.992969       105084       142.22
      25.039     0.993750       105167       160.00
      25.455     0.994531       105248       182.86
      25.983     0.995313       105330       213.33
      26.575     0.996094       105412       256.00
      26.959     0.996484       105452       284.44
      27.359     0.996875       105496       320.00
      27.791     0.997266       105537       365.71
      28.239     0.997656       105577       426.67
      28.831     0.998047       105620       512.00
      29.087     0.998242       105639       568.89
      29.311     0.998437       105659       640.00
      29.583     0.998633       105680       731.43
      30.111     0.998828       105700       853.33
      30.959     0.999023       105722      1024.00
      31.311     0.999121       105731      1137.78
      31.727     0.999219       105742      1280.00
      32.287     0.999316       105752      1462.86
      32.671     0.999414       105762      1706.67
      33.151     0.999512       105773      2048.00
      33.663     0.999561       105779      2275.56
      33.855     0.999609       105783      2560.00
      34.239     0.999658       105788      2925.71
      34.719     0.999707       105793      3413.33
      35.455     0.999756       105799      4096.00
      35.935     0.999780       105801      4551.11
      36.063     0.999805       105804      5120.00
      36.607     0.999829       105806      5851.43
      37.823     0.999854       105809      6826.67
      39.295     0.999878       105812      8192.00
      39.423     0.999890       105813      9102.22
      40.031     0.999902       105814     10240.00
      40.959     0.999915       105815     11702.86
      41.151     0.999927       105817     13653.33
      41.887     0.999939       105818     16384.00
      42.303     0.999945       105819     18204.44
      42.303     0.999951       105819     20480.00
      43.071     0.999957       105820     23405.71
      44.351     0.999963       105821     27306.67
      44.351     0.999969       105821     32768.00
      44.895     0.999973       105822     36408.89
      44.895     0.999976       105822     40960.00
      44.895     0.999979       105822     46811.43
      44.991     0.999982       105823     54613.33
      44.991     0.999985       105823     65536.00
      44.991     0.999986       105823     72817.78
      44.991     0.999988       105823     81920.00
      44.991     0.999989       105823     93622.86
      49.151     0.999991       105824    109226.67
      49.151     1.000000       105824          inf
#[Mean    =       11.142, StdDeviation   =        3.799]
#[Max     =       49.120, Total count    =       105824]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115309 requests in 2.00m, 1.55GB read
Requests/sec:    960.85  
Transfer/sec:     13.26MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45308 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35496 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45308 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35496 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 882.111ms, rate sampling interval: 5001ms
  Thread calibration: mean lat.: 948.745ms, rate sampling interval: 3952ms
  Thread calibration: mean lat.: 784.714ms, rate sampling interval: 3295ms
  Thread calibration: mean lat.: 1231.900ms, rate sampling interval: 5861ms
  Thread calibration: mean lat.: 751.956ms, rate sampling interval: 3414ms
  Thread calibration: mean lat.: 797.381ms, rate sampling interval: 3678ms
  Thread calibration: mean lat.: 775.393ms, rate sampling interval: 2770ms
  Thread calibration: mean lat.: 477.659ms, rate sampling interval: 2222ms
  Thread calibration: mean lat.: 1081.433ms, rate sampling interval: 5005ms
  Thread calibration: mean lat.: 606.990ms, rate sampling interval: 3141ms
  Thread calibration: mean lat.: 680.787ms, rate sampling interval: 3043ms
  Thread calibration: mean lat.: 706.901ms, rate sampling interval: 3358ms
  Thread calibration: mean lat.: 641.437ms, rate sampling interval: 4112ms
  Thread calibration: mean lat.: 624.232ms, rate sampling interval: 2744ms
  Thread calibration: mean lat.: 686.570ms, rate sampling interval: 3258ms
  Thread calibration: mean lat.: 946.011ms, rate sampling interval: 3440ms
  Thread calibration: mean lat.: 691.712ms, rate sampling interval: 3223ms
  Thread calibration: mean lat.: 1237.745ms, rate sampling interval: 5865ms
  Thread calibration: mean lat.: 627.044ms, rate sampling interval: 2842ms
  Thread calibration: mean lat.: 553.205ms, rate sampling interval: 2242ms
  Thread calibration: mean lat.: 1253.518ms, rate sampling interval: 5296ms
  Thread calibration: mean lat.: 1237.439ms, rate sampling interval: 5115ms
  Thread calibration: mean lat.: 802.591ms, rate sampling interval: 3311ms
  Thread calibration: mean lat.: 1365.842ms, rate sampling interval: 5214ms
  Thread calibration: mean lat.: 803.097ms, rate sampling interval: 3071ms
  Thread calibration: mean lat.: 1171.737ms, rate sampling interval: 5029ms
  Thread calibration: mean lat.: 637.049ms, rate sampling interval: 3053ms
  Thread calibration: mean lat.: 1006.684ms, rate sampling interval: 3999ms
  Thread calibration: mean lat.: 857.960ms, rate sampling interval: 3805ms
  Thread calibration: mean lat.: 877.480ms, rate sampling interval: 4456ms
  Thread calibration: mean lat.: 790.707ms, rate sampling interval: 3203ms
  Thread calibration: mean lat.: 906.188ms, rate sampling interval: 4284ms
  Thread calibration: mean lat.: 1143.205ms, rate sampling interval: 5324ms
  Thread calibration: mean lat.: 600.418ms, rate sampling interval: 2570ms
  Thread calibration: mean lat.: 800.383ms, rate sampling interval: 3678ms
  Thread calibration: mean lat.: 818.835ms, rate sampling interval: 3284ms
  Thread calibration: mean lat.: 509.269ms, rate sampling interval: 2166ms
  Thread calibration: mean lat.: 732.671ms, rate sampling interval: 3561ms
  Thread calibration: mean lat.: 286.709ms, rate sampling interval: 1300ms
  Thread calibration: mean lat.: 860.879ms, rate sampling interval: 3926ms
  Thread calibration: mean lat.: 1098.435ms, rate sampling interval: 4014ms
  Thread calibration: mean lat.: 852.480ms, rate sampling interval: 3196ms
  Thread calibration: mean lat.: 973.026ms, rate sampling interval: 4313ms
  Thread calibration: mean lat.: 930.374ms, rate sampling interval: 3760ms
  Thread calibration: mean lat.: 1063.031ms, rate sampling interval: 5693ms
  Thread calibration: mean lat.: 740.225ms, rate sampling interval: 2879ms
  Thread calibration: mean lat.: 828.604ms, rate sampling interval: 3678ms
  Thread calibration: mean lat.: 949.291ms, rate sampling interval: 4126ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.03s     7.22s   29.79s    66.97%
    Req/Sec    90.23      5.59   106.00     79.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    7.45s 
 75.000%   13.80s 
 90.000%   19.20s 
 99.000%   29.79s 
 99.900%   36.31s 
 99.990%   38.70s 
 99.999%   39.19s 
100.000%   39.26s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.639     0.000000            1         1.00
     918.527     0.100000        47461         1.11
    2332.671     0.200000        94950         1.25
    3741.695     0.300000       142408         1.43
    5464.063     0.400000       189911         1.67
    7446.527     0.500000       237317         2.00
    8650.751     0.550000       261073         2.22
    9805.823     0.600000       284804         2.50
   11141.119     0.650000       308552         2.86
   12435.455     0.700000       332254         3.33
   13803.519     0.750000       355912         4.00
   14475.263     0.775000       367889         4.44
   15163.391     0.800000       379735         5.00
   15982.591     0.825000       391591         5.71
   16908.287     0.850000       403440         6.67
   17989.631     0.875000       415289         8.00
   18546.687     0.887500       421219         8.89
   19202.047     0.900000       427173        10.00
   19890.175     0.912500       433029        11.43
   20725.759     0.925000       439012        13.33
   21610.495     0.937500       444886        16.00
   22102.015     0.943750       447862        17.78
   22593.535     0.950000       450851        20.00
   23183.359     0.956250       453781        22.86
   23871.487     0.962500       456745        26.67
   24723.455     0.968750       459760        32.00
   25100.287     0.971875       461237        35.56
   25591.807     0.975000       462678        40.00
   26214.399     0.978125       464194        45.71
   26869.759     0.981250       465655        53.33
   27770.879     0.984375       467143        64.00
   28295.167     0.985938       467867        71.11
   28868.607     0.987500       468612        80.00
   29425.663     0.989062       469351        91.43
   30162.943     0.990625       470106       106.67
   31031.295     0.992188       470851       128.00
   31440.895     0.992969       471207       142.22
   31850.495     0.993750       471582       160.00
   32374.783     0.994531       471953       182.86
   32866.303     0.995313       472321       213.33
   33226.751     0.996094       472686       256.00
   33538.047     0.996484       472873       284.44
   33947.647     0.996875       473067       320.00
   34308.095     0.997266       473245       365.71
   34701.311     0.997656       473438       426.67
   35127.295     0.998047       473614       512.00
   35291.135     0.998242       473723       568.89
   35422.207     0.998437       473798       640.00
   35782.655     0.998633       473895       731.43
   36044.799     0.998828       473988       853.33
   36339.711     0.999023       474083      1024.00
   36503.551     0.999121       474130      1137.78
   36634.623     0.999219       474177      1280.00
   36798.463     0.999316       474218      1462.86
   37126.143     0.999414       474262      1706.67
   37453.823     0.999512       474310      2048.00
   37584.895     0.999561       474332      2275.56
   37814.271     0.999609       474356      2560.00
   37912.575     0.999658       474380      2925.71
   38076.415     0.999707       474401      3413.33
   38404.095     0.999756       474429      4096.00
   38436.863     0.999780       474436      4551.11
   38502.399     0.999805       474454      5120.00
   38535.167     0.999829       474465      5851.43
   38567.935     0.999854       474471      6826.67
   38633.471     0.999878       474486      8192.00
   38666.239     0.999890       474491      9102.22
   38699.007     0.999902       474495     10240.00
   38797.311     0.999915       474500     11702.86
   38895.615     0.999927       474508     13653.33
   38961.151     0.999939       474511     16384.00
   39026.687     0.999945       474515     18204.44
   39092.223     0.999951       474522     20480.00
   39092.223     0.999957       474522     23405.71
   39092.223     0.999963       474522     27306.67
   39124.991     0.999969       474526     32768.00
   39124.991     0.999973       474526     36408.89
   39157.759     0.999976       474532     40960.00
   39157.759     0.999979       474532     46811.43
   39157.759     0.999982       474532     54613.33
   39157.759     0.999985       474532     65536.00
   39190.527     0.999986       474536     72817.78
   39190.527     0.999988       474536     81920.00
   39190.527     0.999989       474536     93622.86
   39190.527     0.999991       474536    109226.67
   39190.527     0.999992       474536    131072.00
   39190.527     0.999993       474536    145635.56
   39256.063     0.999994       474539    163840.00
   39256.063     1.000000       474539          inf
#[Mean    =     9033.405, StdDeviation   =     7217.065]
#[Max     =    39223.296, Total count    =       474539]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  514851 requests in 2.00m, 6.94GB read
Requests/sec:   4293.44  
Transfer/sec:     59.25MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45134 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35367 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45134 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35367 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2671.499ms, rate sampling interval: 9977ms
  Thread calibration: mean lat.: 2488.591ms, rate sampling interval: 9306ms
  Thread calibration: mean lat.: 2713.904ms, rate sampling interval: 9936ms
  Thread calibration: mean lat.: 2667.823ms, rate sampling interval: 9961ms
  Thread calibration: mean lat.: 2982.822ms, rate sampling interval: 10625ms
  Thread calibration: mean lat.: 2391.100ms, rate sampling interval: 8888ms
  Thread calibration: mean lat.: 2518.784ms, rate sampling interval: 9060ms
  Thread calibration: mean lat.: 2544.686ms, rate sampling interval: 9568ms
  Thread calibration: mean lat.: 2711.525ms, rate sampling interval: 10100ms
  Thread calibration: mean lat.: 2475.728ms, rate sampling interval: 9592ms
  Thread calibration: mean lat.: 2680.472ms, rate sampling interval: 9887ms
  Thread calibration: mean lat.: 2490.185ms, rate sampling interval: 9330ms
  Thread calibration: mean lat.: 2873.293ms, rate sampling interval: 10706ms
  Thread calibration: mean lat.: 3033.002ms, rate sampling interval: 10952ms
  Thread calibration: mean lat.: 2539.696ms, rate sampling interval: 9609ms
  Thread calibration: mean lat.: 2620.771ms, rate sampling interval: 9723ms
  Thread calibration: mean lat.: 2804.043ms, rate sampling interval: 10158ms
  Thread calibration: mean lat.: 2723.464ms, rate sampling interval: 9838ms
  Thread calibration: mean lat.: 2585.233ms, rate sampling interval: 9732ms
  Thread calibration: mean lat.: 2758.806ms, rate sampling interval: 10076ms
  Thread calibration: mean lat.: 2827.526ms, rate sampling interval: 10346ms
  Thread calibration: mean lat.: 2510.931ms, rate sampling interval: 8986ms
  Thread calibration: mean lat.: 2888.155ms, rate sampling interval: 10854ms
  Thread calibration: mean lat.: 2611.768ms, rate sampling interval: 9510ms
  Thread calibration: mean lat.: 2895.509ms, rate sampling interval: 10436ms
  Thread calibration: mean lat.: 2848.420ms, rate sampling interval: 10600ms
  Thread calibration: mean lat.: 2765.255ms, rate sampling interval: 10215ms
  Thread calibration: mean lat.: 2963.201ms, rate sampling interval: 11042ms
  Thread calibration: mean lat.: 2759.876ms, rate sampling interval: 10264ms
  Thread calibration: mean lat.: 2942.880ms, rate sampling interval: 10764ms
  Thread calibration: mean lat.: 2804.677ms, rate sampling interval: 10346ms
  Thread calibration: mean lat.: 2823.773ms, rate sampling interval: 9838ms
  Thread calibration: mean lat.: 2714.052ms, rate sampling interval: 9764ms
  Thread calibration: mean lat.: 2945.694ms, rate sampling interval: 10600ms
  Thread calibration: mean lat.: 2872.274ms, rate sampling interval: 9928ms
  Thread calibration: mean lat.: 3070.870ms, rate sampling interval: 11018ms
  Thread calibration: mean lat.: 2688.123ms, rate sampling interval: 9527ms
  Thread calibration: mean lat.: 2825.336ms, rate sampling interval: 10543ms
  Thread calibration: mean lat.: 2689.368ms, rate sampling interval: 9969ms
  Thread calibration: mean lat.: 3004.471ms, rate sampling interval: 10854ms
  Thread calibration: mean lat.: 2681.559ms, rate sampling interval: 9887ms
  Thread calibration: mean lat.: 2706.467ms, rate sampling interval: 9904ms
  Thread calibration: mean lat.: 2782.007ms, rate sampling interval: 10330ms
  Thread calibration: mean lat.: 2777.242ms, rate sampling interval: 9666ms
  Thread calibration: mean lat.: 3108.520ms, rate sampling interval: 11616ms
  Thread calibration: mean lat.: 2694.031ms, rate sampling interval: 9928ms
  Thread calibration: mean lat.: 2715.119ms, rate sampling interval: 9420ms
  Thread calibration: mean lat.: 2637.681ms, rate sampling interval: 9781ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    36.30s    17.36s    1.15m    59.63%
    Req/Sec    95.30      6.78   108.00     74.95%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   36.60s 
 75.000%   50.66s 
 90.000%    0.99m 
 99.000%    1.15m 
 99.900%    1.21m 
 99.990%    1.24m 
 99.999%    1.26m 
100.000%    1.26m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4163.583     0.000000            1         1.00
   12107.775     0.100000        50612         1.11
   18415.615     0.200000       101198         1.25
   24674.303     0.300000       151894         1.43
   30785.535     0.400000       202406         1.67
   36601.855     0.500000       252973         2.00
   39485.439     0.550000       278291         2.22
   42336.255     0.600000       303708         2.50
   45121.535     0.650000       328939         2.86
   47874.047     0.700000       354167         3.33
   50659.327     0.750000       379591         4.00
   52035.583     0.775000       392210         4.44
   53411.839     0.800000       404795         5.00
   54820.863     0.825000       417529         5.71
   56328.191     0.850000       430197         6.67
   57933.823     0.875000       442680         8.00
   58785.791     0.887500       449174         8.89
   59670.527     0.900000       455481        10.00
   60588.031     0.912500       461620        11.43
   61603.839     0.925000       468034        13.33
   62586.879     0.937500       474279        16.00
   63143.935     0.943750       477506        17.78
   63733.759     0.950000       480720        20.00
   64323.583     0.956250       483823        22.86
   64946.175     0.962500       486922        26.67
   65699.839     0.968750       490171        32.00
   66093.055     0.971875       491681        35.56
   66551.807     0.975000       493332        40.00
   66977.791     0.978125       494849        45.71
   67502.079     0.981250       496511        53.33
   68091.903     0.984375       498149        64.00
   68354.047     0.985938       498851        71.11
   68681.727     0.987500       499671        80.00
   69009.407     0.989062       500380        91.43
   69402.623     0.990625       501165       106.67
   69795.839     0.992188       501933       128.00
   70057.983     0.992969       502396       142.22
   70254.591     0.993750       502717       160.00
   70516.735     0.994531       503135       182.86
   70778.879     0.995313       503511       213.33
   71106.559     0.996094       503935       256.00
   71303.167     0.996484       504124       284.44
   71499.775     0.996875       504328       320.00
   71696.383     0.997266       504516       365.71
   71892.991     0.997656       504695       426.67
   72155.135     0.998047       504907       512.00
   72286.207     0.998242       504993       568.89
   72417.279     0.998437       505093       640.00
   72548.351     0.998633       505190       731.43
   72744.959     0.998828       505321       853.33
   72876.031     0.999023       505385      1024.00
   73007.103     0.999121       505448      1137.78
   73138.175     0.999219       505500      1280.00
   73269.247     0.999316       505551      1462.86
   73334.783     0.999414       505588      1706.67
   73465.855     0.999512       505631      2048.00
   73531.391     0.999561       505661      2275.56
   73596.927     0.999609       505680      2560.00
   73727.999     0.999658       505723      2925.71
   73793.535     0.999707       505736      3413.33
   73924.607     0.999756       505762      4096.00
   73990.143     0.999780       505775      4551.11
   74055.679     0.999805       505787      5120.00
   74121.215     0.999829       505791      5851.43
   74252.287     0.999854       505813      6826.67
   74317.823     0.999878       505819      8192.00
   74383.359     0.999890       505822      9102.22
   74514.431     0.999902       505829     10240.00
   74579.967     0.999915       505835     11702.86
   74776.575     0.999927       505841     13653.33
   74842.111     0.999939       505851     16384.00
   74842.111     0.999945       505851     18204.44
   74907.647     0.999951       505853     20480.00
   75104.255     0.999957       505861     23405.71
   75104.255     0.999963       505861     27306.67
   75169.791     0.999969       505863     32768.00
   75235.327     0.999973       505864     36408.89
   75300.863     0.999976       505865     40960.00
   75366.399     0.999979       505869     46811.43
   75366.399     0.999982       505869     54613.33
   75431.935     0.999985       505872     65536.00
   75431.935     0.999986       505872     72817.78
   75431.935     0.999988       505872     81920.00
   75431.935     0.999989       505872     93622.86
   75497.471     0.999991       505877    109226.67
   75497.471     1.000000       505877          inf
#[Mean    =    36299.758, StdDeviation   =    17360.746]
#[Max     =    75431.936, Total count    =       505877]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  548819 requests in 2.00m, 7.39GB read
Requests/sec:   4575.43  
Transfer/sec:     63.13MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45187 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35110 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45187 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35110 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.667ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.633ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.853ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.286ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.232ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.722ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.321ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 7.681ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.809ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.885ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.660ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.039ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.184ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.383ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.821ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.117ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.571ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.817ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.653ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.657ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.809ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.222ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.523ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.056ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 8.217ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.693ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.333ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.405ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.608ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.401ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.255ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 8.996ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.752ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.368ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.472ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.636ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.165ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.510ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.974ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.397ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.184ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.609ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.113ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.415ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.871ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.861ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.347ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.663ms, rate sampling interval: 25ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.40ms    3.60ms  21.95ms   72.30%
    Req/Sec    20.33     29.66   120.00     90.57%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.24ms
 75.000%   12.13ms
 90.000%   14.49ms
 99.000%   21.95ms
 99.900%   28.88ms
 99.990%   34.91ms
 99.999%   38.81ms
100.000%   38.81ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.649     0.000000            1         1.00
       5.683     0.100000        10598         1.11
       7.691     0.200000        21176         1.25
       8.903     0.300000        31749         1.43
       9.615     0.400000        42363         1.67
      10.239     0.500000        52941         2.00
      10.559     0.550000        58239         2.22
      10.887     0.600000        63613         2.50
      11.239     0.650000        68847         2.86
      11.647     0.700000        74100         3.33
      12.127     0.750000        79420         4.00
      12.391     0.775000        82045         4.44
      12.679     0.800000        84664         5.00
      13.015     0.825000        87347         5.71
      13.399     0.850000        89969         6.67
      13.871     0.875000        92611         8.00
      14.151     0.887500        93922         8.89
      14.487     0.900000        95249        10.00
      14.871     0.912500        96561        11.43
      15.335     0.925000        97887        13.33
      15.919     0.937500        99205        16.00
      16.231     0.943750        99869        17.78
      16.623     0.950000       100556        20.00
      17.071     0.956250       101201        22.86
      17.583     0.962500       101847        26.67
      18.207     0.968750       102523        32.00
      18.575     0.971875       102846        35.56
      18.959     0.975000       103172        40.00
      19.423     0.978125       103504        45.71
      19.951     0.981250       103830        53.33
      20.543     0.984375       104163        64.00
      20.911     0.985938       104324        71.11
      21.295     0.987500       104492        80.00
      21.695     0.989062       104660        91.43
      22.143     0.990625       104819       106.67
      22.703     0.992188       104984       128.00
      22.959     0.992969       105067       142.22
      23.343     0.993750       105149       160.00
      23.695     0.994531       105233       182.86
      24.271     0.995313       105317       213.33
      24.703     0.996094       105397       256.00
      24.959     0.996484       105440       284.44
      25.295     0.996875       105480       320.00
      25.823     0.997266       105522       365.71
      26.367     0.997656       105564       426.67
      26.879     0.998047       105604       512.00
      27.231     0.998242       105625       568.89
      27.695     0.998437       105645       640.00
      28.111     0.998633       105666       731.43
      28.479     0.998828       105687       853.33
      28.911     0.999023       105707      1024.00
      29.183     0.999121       105718      1137.78
      29.455     0.999219       105730      1280.00
      29.823     0.999316       105738      1462.86
      30.287     0.999414       105749      1706.67
      31.119     0.999512       105759      2048.00
      31.711     0.999561       105764      2275.56
      32.047     0.999609       105769      2560.00
      32.591     0.999658       105774      2925.71
      32.959     0.999707       105780      3413.33
      33.503     0.999756       105785      4096.00
      33.695     0.999780       105787      4551.11
      34.271     0.999805       105790      5120.00
      34.399     0.999829       105792      5851.43
      34.719     0.999854       105795      6826.67
      34.847     0.999878       105798      8192.00
      34.911     0.999890       105799      9102.22
      35.231     0.999902       105800     10240.00
      35.903     0.999915       105801     11702.86
      36.447     0.999927       105803     13653.33
      36.671     0.999939       105804     16384.00
      37.567     0.999945       105805     18204.44
      37.567     0.999951       105805     20480.00
      38.271     0.999957       105806     23405.71
      38.303     0.999963       105807     27306.67
      38.303     0.999969       105807     32768.00
      38.527     0.999973       105808     36408.89
      38.527     0.999976       105808     40960.00
      38.527     0.999979       105808     46811.43
      38.815     0.999982       105810     54613.33
      38.815     1.000000       105810          inf
#[Mean    =       10.396, StdDeviation   =        3.596]
#[Max     =       38.784, Total count    =       105810]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115337 requests in 2.00m, 1.41GB read
Requests/sec:    961.38  
Transfer/sec:     12.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45255 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35142 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45255 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35142 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.240ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.121ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.514ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.327ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.152ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.737ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.631ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.214ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.407ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.545ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.792ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.896ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.658ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.343ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.027ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.268ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.495ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.637ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.502ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.580ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.800ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.774ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.727ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.781ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.804ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.925ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.945ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.806ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.530ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.270ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.764ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.671ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.961ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.904ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.961ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.101ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.534ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.911ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.878ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.864ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.006ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.629ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.778ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.852ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.969ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.282ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.537ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.825ms, rate sampling interval: 22ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.50ms    3.59ms  20.37ms   85.55%
    Req/Sec   106.22     69.40   300.00     73.73%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.52ms
 75.000%    7.61ms
 90.000%   10.62ms
 99.000%   20.37ms
 99.900%   31.60ms
 99.990%   42.75ms
 99.999%   53.53ms
100.000%   64.61ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.008     0.000000            1         1.00
       3.395     0.100000        55036         1.11
       3.929     0.200000       110012         1.25
       4.447     0.300000       164961         1.43
       4.967     0.400000       220029         1.67
       5.519     0.500000       274799         2.00
       5.835     0.550000       302400         2.22
       6.183     0.600000       329734         2.50
       6.587     0.650000       357477         2.86
       7.055     0.700000       384892         3.33
       7.615     0.750000       412276         4.00
       7.943     0.775000       425981         4.44
       8.311     0.800000       439725         5.00
       8.727     0.825000       453459         5.71
       9.215     0.850000       467176         6.67
       9.823     0.875000       480925         8.00
      10.191     0.887500       487775         8.89
      10.623     0.900000       494624        10.00
      11.119     0.912500       501552        11.43
      11.695     0.925000       508380        13.33
      12.423     0.937500       515254        16.00
      12.839     0.943750       518664        17.78
      13.319     0.950000       522109        20.00
      13.871     0.956250       525519        22.86
      14.527     0.962500       528981        26.67
      15.319     0.968750       532403        32.00
      15.751     0.971875       534111        35.56
      16.271     0.975000       535834        40.00
      16.863     0.978125       537532        45.71
      17.567     0.981250       539281        53.33
      18.367     0.984375       540981        64.00
      18.863     0.985938       541844        71.11
      19.359     0.987500       542697        80.00
      19.967     0.989062       543551        91.43
      20.655     0.990625       544398       106.67
      21.503     0.992188       545266       128.00
      21.983     0.992969       545697       142.22
      22.511     0.993750       546122       160.00
      23.183     0.994531       546554       182.86
      23.903     0.995313       546976       213.33
      24.831     0.996094       547403       256.00
      25.327     0.996484       547617       284.44
      25.855     0.996875       547836       320.00
      26.623     0.997266       548054       365.71
      27.375     0.997656       548264       426.67
      28.303     0.998047       548480       512.00
      28.799     0.998242       548587       568.89
      29.407     0.998437       548692       640.00
      29.999     0.998633       548799       731.43
      30.735     0.998828       548907       853.33
      31.679     0.999023       549014      1024.00
      32.287     0.999121       549066      1137.78
      32.831     0.999219       549123      1280.00
      33.631     0.999316       549175      1462.86
      34.431     0.999414       549228      1706.67
      35.391     0.999512       549282      2048.00
      35.871     0.999561       549308      2275.56
      36.479     0.999609       549335      2560.00
      37.151     0.999658       549362      2925.71
      37.887     0.999707       549388      3413.33
      38.975     0.999756       549417      4096.00
      39.263     0.999780       549429      4551.11
      39.679     0.999805       549442      5120.00
      40.127     0.999829       549457      5851.43
      40.991     0.999854       549469      6826.67
      42.079     0.999878       549482      8192.00
      42.367     0.999890       549489      9102.22
      42.847     0.999902       549496     10240.00
      43.391     0.999915       549503     11702.86
      43.935     0.999927       549509     13653.33
      44.831     0.999939       549516     16384.00
      45.343     0.999945       549519     18204.44
      45.855     0.999951       549523     20480.00
      46.975     0.999957       549526     23405.71
      47.583     0.999963       549529     27306.67
      49.151     0.999969       549533     32768.00
      49.599     0.999973       549534     36408.89
      50.175     0.999976       549536     40960.00
      50.527     0.999979       549538     46811.43
      50.655     0.999982       549539     54613.33
      52.095     0.999985       549541     65536.00
      53.119     0.999986       549542     72817.78
      53.407     0.999988       549543     81920.00
      53.535     0.999989       549544     93622.86
      53.535     0.999991       549544    109226.67
      57.311     0.999992       549545    131072.00
      57.727     0.999993       549546    145635.56
      57.727     0.999994       549546    163840.00
      59.391     0.999995       549547    187245.71
      59.391     0.999995       549547    218453.33
      59.391     0.999996       549547    262144.00
      62.911     0.999997       549548    291271.11
      62.911     0.999997       549548    327680.00
      62.911     0.999997       549548    374491.43
      62.911     0.999998       549548    436906.67
      62.911     0.999998       549548    524288.00
      64.607     0.999998       549549    582542.22
      64.607     1.000000       549549          inf
#[Mean    =        6.496, StdDeviation   =        3.588]
#[Max     =       64.576, Total count    =       549549]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  598824 requests in 2.00m, 7.31GB read
Requests/sec:   4993.26  
Transfer/sec:     62.42MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44708 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33064 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44708 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33064 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 31.746ms, rate sampling interval: 124ms
  Thread calibration: mean lat.: 353.660ms, rate sampling interval: 784ms
  Thread calibration: mean lat.: 795.310ms, rate sampling interval: 3837ms
  Thread calibration: mean lat.: 580.921ms, rate sampling interval: 3690ms
  Thread calibration: mean lat.: 568.725ms, rate sampling interval: 3266ms
  Thread calibration: mean lat.: 991.002ms, rate sampling interval: 7176ms
  Thread calibration: mean lat.: 1571.704ms, rate sampling interval: 6717ms
  Thread calibration: mean lat.: 675.219ms, rate sampling interval: 5648ms
  Thread calibration: mean lat.: 1489.540ms, rate sampling interval: 9101ms
  Thread calibration: mean lat.: 481.008ms, rate sampling interval: 3381ms
  Thread calibration: mean lat.: 938.812ms, rate sampling interval: 7241ms
  Thread calibration: mean lat.: 665.790ms, rate sampling interval: 3256ms
  Thread calibration: mean lat.: 1063.695ms, rate sampling interval: 6995ms
  Thread calibration: mean lat.: 903.868ms, rate sampling interval: 7806ms
  Thread calibration: mean lat.: 784.219ms, rate sampling interval: 6189ms
  Thread calibration: mean lat.: 846.702ms, rate sampling interval: 7528ms
  Thread calibration: mean lat.: 1146.374ms, rate sampling interval: 6176ms
  Thread calibration: mean lat.: 686.705ms, rate sampling interval: 3055ms
  Thread calibration: mean lat.: 877.035ms, rate sampling interval: 7114ms
  Thread calibration: mean lat.: 2204.049ms, rate sampling interval: 9289ms
  Thread calibration: mean lat.: 515.323ms, rate sampling interval: 3047ms
  Thread calibration: mean lat.: 1191.152ms, rate sampling interval: 7331ms
  Thread calibration: mean lat.: 114.609ms, rate sampling interval: 678ms
  Thread calibration: mean lat.: 822.346ms, rate sampling interval: 6279ms
  Thread calibration: mean lat.: 1056.915ms, rate sampling interval: 6787ms
  Thread calibration: mean lat.: 1471.468ms, rate sampling interval: 8642ms
  Thread calibration: mean lat.: 787.618ms, rate sampling interval: 4366ms
  Thread calibration: mean lat.: 902.170ms, rate sampling interval: 7614ms
  Thread calibration: mean lat.: 3104.051ms, rate sampling interval: 11427ms
  Thread calibration: mean lat.: 1778.165ms, rate sampling interval: 8335ms
  Thread calibration: mean lat.: 378.402ms, rate sampling interval: 2248ms
  Thread calibration: mean lat.: 2422.370ms, rate sampling interval: 9003ms
  Thread calibration: mean lat.: 822.511ms, rate sampling interval: 7741ms
  Thread calibration: mean lat.: 1377.407ms, rate sampling interval: 8691ms
  Thread calibration: mean lat.: 1016.000ms, rate sampling interval: 7049ms
  Thread calibration: mean lat.: 1090.970ms, rate sampling interval: 7606ms
  Thread calibration: mean lat.: 1363.497ms, rate sampling interval: 7966ms
  Thread calibration: mean lat.: 1154.266ms, rate sampling interval: 8028ms
  Thread calibration: mean lat.: 1805.823ms, rate sampling interval: 8642ms
  Thread calibration: mean lat.: 830.233ms, rate sampling interval: 7307ms
  Thread calibration: mean lat.: 247.344ms, rate sampling interval: 2077ms
  Thread calibration: mean lat.: 1503.306ms, rate sampling interval: 8773ms
  Thread calibration: mean lat.: 400.008ms, rate sampling interval: 3239ms
  Thread calibration: mean lat.: 1311.929ms, rate sampling interval: 6881ms
  Thread calibration: mean lat.: 504.338ms, rate sampling interval: 3074ms
  Thread calibration: mean lat.: 1783.446ms, rate sampling interval: 8212ms
  Thread calibration: mean lat.: 308.276ms, rate sampling interval: 584ms
  Thread calibration: mean lat.: 428.980ms, rate sampling interval: 2267ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    14.69s    17.22s    1.09m    83.11%
    Req/Sec   171.07     37.43   276.00     73.56%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    8.16s 
 75.000%   24.69s 
 90.000%   41.45s 
 99.000%    1.09m 
 99.900%    1.39m 
 99.990%    1.53m 
 99.999%    1.56m 
100.000%    1.56m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.317     0.000000            1         1.00
      37.471     0.100000        76699         1.11
     125.695     0.200000       153393         1.25
     726.527     0.300000       230064         1.43
    2877.439     0.400000       306736         1.67
    8155.135     0.500000       383420         2.00
   10698.751     0.550000       421803         2.22
   13254.655     0.600000       460171         2.50
   16908.287     0.650000       498541         2.86
   20660.223     0.700000       536794         3.33
   24690.687     0.750000       575176         4.00
   26689.535     0.775000       594400         4.44
   28753.919     0.800000       613455         5.00
   31227.903     0.825000       632659         5.71
   34144.255     0.850000       651893         6.67
   37519.359     0.875000       671068         8.00
   39387.135     0.887500       680620         8.89
   41451.519     0.900000       690258        10.00
   43483.135     0.912500       699806        11.43
   45645.823     0.925000       709385        13.33
   48103.423     0.937500       718944        16.00
   49479.679     0.943750       723763        17.78
   50823.167     0.950000       728492        20.00
   52232.191     0.956250       733350        22.86
   53608.447     0.962500       738138        26.67
   55541.759     0.968750       742954        32.00
   56492.031     0.971875       745300        35.56
   57671.679     0.975000       747658        40.00
   59146.239     0.978125       750075        45.71
   60620.799     0.981250       752452        53.33
   62095.359     0.984375       754847        64.00
   62881.791     0.985938       756055        71.11
   63733.759     0.987500       757280        80.00
   64552.959     0.989062       758440        91.43
   65568.767     0.990625       759662       106.67
   66682.879     0.992188       760840       128.00
   67371.007     0.992969       761449       142.22
   68354.047     0.993750       762052       160.00
   69468.159     0.994531       762628       182.86
   70844.415     0.995313       763238       213.33
   72351.743     0.996094       763846       256.00
   73072.639     0.996484       764124       284.44
   73859.071     0.996875       764437       320.00
   74711.039     0.997266       764730       365.71
   75694.079     0.997656       765036       426.67
   76677.119     0.998047       765328       512.00
   77332.479     0.998242       765478       568.89
   78118.911     0.998437       765619       640.00
   79429.631     0.998633       765771       731.43
   81526.783     0.998828       765919       853.33
   83558.399     0.999023       766070      1024.00
   84475.903     0.999121       766144      1137.78
   85327.871     0.999219       766221      1280.00
   86245.375     0.999316       766296      1462.86
   87162.879     0.999414       766371      1706.67
   88145.919     0.999512       766452      2048.00
   88539.135     0.999561       766484      2275.56
   88997.887     0.999609       766521      2560.00
   89456.639     0.999658       766556      2925.71
   89849.855     0.999707       766597      3413.33
   90308.607     0.999756       766632      4096.00
   90505.215     0.999780       766651      4551.11
   90767.359     0.999805       766674      5120.00
   90963.967     0.999829       766690      5851.43
   91160.575     0.999854       766706      6826.67
   91422.719     0.999878       766726      8192.00
   91553.791     0.999890       766736      9102.22
   91684.863     0.999902       766746     10240.00
   91815.935     0.999915       766754     11702.86
   92078.079     0.999927       766765     13653.33
   92274.687     0.999939       766773     16384.00
   92340.223     0.999945       766778     18204.44
   92405.759     0.999951       766783     20480.00
   92471.295     0.999957       766785     23405.71
   92602.367     0.999963       766790     27306.67
   92733.439     0.999969       766795     32768.00
   92798.975     0.999973       766796     36408.89
   92930.047     0.999976       766799     40960.00
   92995.583     0.999979       766801     46811.43
   93061.119     0.999982       766803     54613.33
   93192.191     0.999985       766806     65536.00
   93257.727     0.999986       766807     72817.78
   93323.263     0.999988       766809     81920.00
   93323.263     0.999989       766809     93622.86
   93388.799     0.999991       766811    109226.67
   93519.871     0.999992       766813    131072.00
   93519.871     0.999993       766813    145635.56
   93519.871     0.999994       766813    163840.00
   93519.871     0.999995       766813    187245.71
   93585.407     0.999995       766815    218453.33
   93585.407     0.999996       766815    262144.00
   93585.407     0.999997       766815    291271.11
   93585.407     0.999997       766815    327680.00
   93585.407     0.999997       766815    374491.43
   93650.943     0.999998       766816    436906.67
   93650.943     0.999998       766816    524288.00
   93650.943     0.999998       766816    582542.22
   93650.943     0.999998       766816    655360.00
   93650.943     0.999999       766816    748982.86
   93716.479     0.999999       766817    873813.33
   93716.479     1.000000       766817          inf
#[Mean    =    14686.493, StdDeviation   =    17218.235]
#[Max     =    93650.944, Total count    =       766817]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  838111 requests in 2.00m, 10.24GB read
Requests/sec:   6989.17  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43737 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29789 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43737 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29789 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
0f42a4fff8ffbf4bd322b0c85d2f6515abc28f8937342f53646c501129f35fcc
ca12e0b0cfc6edb961ea2255a120d2a63c5f2d5b92fe6d84093f3fcc7f88042d
88823ece99fc28ba1258670ff5a80dc03d41363f75ae4024de62e16cb66dba97
3355b93259e3c7327a34484b0eda6f2281aa9c639ebf3897dbf5b13cc47d4920
0b06bcaabe0dee4bf9d2323cdc739738c2447dd936fa58001ea4521c2901b280
2ded359f39854ba47cce9b120b4fa3c5c0ec05f3525a40d2dc551c8d7fea27e1
f6303f0a1d969aa7029c65110dbc3bdfea9d69943d4cda1a8b690507aac33c88
0cc994488677d4b768260f9882de26e63f3897ef08d5b5b5ff2402f2eb640522
642fe2fc51c7d9c24cc4f625771c362cdd6f8518332eb45b8c5a4d7fb5012807
90a1a11b115156210e5d45534e884721941779d20dc10aaaa50e2ec5eb6f0eff
1dfae030109fcadf941a87c3307f7d0dd52405c1c1722591f24f1f239231fdc0
1779073a27177959ba662ba0852c0d6257627d5f5e1753a68bf3efbfe0a23dc5
4679cd0685d8c8af0645cc7053bf1a93cbe3d5441bdc9a6f80396cb0eb14d621
3cd77753ebdfa33991d70b3253d5c471451af69573cd191043a82a22cbbd519b
5b86c463dbccca8c7b512d7f8482af8b53c295aac4532f1f2533d204b62cdf1d
41a6c7cd5284cd06183dfe2e4dfb8975ab97956041b20a69c8e7cb59714b0e8c
4db828d137bbe7e4724428e5a0005777b19d73a96ccba1aa3b55231d306c8fb9
05cdc5164d2ccd02dee7b671dbe475043c64636ba3f9e862a333acab0e74e98f
550b907acc78990d72db1fd7e49356ee7c302aeaaf0c43a364ed812cbacf0c2d
0ee01f3012922f98f96f8997c0774e2d92c1cb2420b5b575039d04d3d9fd2243
7931b1e75d02514fb8b0255b6a273dd8cb09a0f4516788a415039f90907e6aec
010d990e54ecd241cbccd2f57711912d9364c15aa57b3b09be9601fc4451f399
36cff49b54e968b52534aa6f610d18fa24a333977e5552a83e5b255f5460ff22
9a542a3e22ea3738305a690c252c1618303bf357ddf084843a8699716f67b68d
e000ff648304d397940a5fd3e5aaf76edd14545b0f6d88424c141f234553b01f
c74367e758c8bc4937806b573c54731a732c843bd6ad33a32c3b51b800f2b407
0387795f74496316dae896158d23e4d4ae89aed3f3a77dc766ad5a4deae1a7f5
25ae40ac8e254b7f38c21205254e1c4ed70260ed656709caddc397da036a8054
917bb028a8baa8328a406adb2c1a5760ef66162ee648f7b28cbc0b6fdba35df7
7d97d613b1045a61f9cdd9f61ec6b743a31d744667a513a02f0d8fcd95b146ef
353fdb9e453432faa61d67f5ca769fd714493170c0781cf02b363fc3edbbcd6b

Total reclaimed space: 4.41GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 16-21-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-home-timeline,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-2.log -b True -m i -M 0,2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 16-21-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-home-timeline,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-2.log', 'mode': 'i', 'memnode': '0,2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_social-graph-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-2



CMD: docker commit socialnetwork_social-graph-service_1 social-network-microservices-numa-interleave-node-0-2

Result: sha256:05ae50f373a15672021d796082c43e036b4729ae721250c5bdb60e7e5ef9aa1d


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-2

Result: sha256:92079de40746e0206c89719f083f3c00d87303955e0ff8d7331039087ecb2262


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-2

Result: sha256:458975cf4af7ba89fc002ea7d338d9c50a80ddbc3c03268c55ceff746098e92a


Install numactl tools on docker image: redis-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_social-graph-redis_3 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_3 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-redis_3 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-redis_3:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-redis_3:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_3 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 10 23:22 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-redis_3 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-2



CMD: docker commit socialnetwork_social-graph-redis_3 redis-numa-interleave-node-0-2

Result: sha256:e25fad7a1f46bd0de13364c408af4a90dc46ee47fc6fe25025379e234f4f22cc


Install numactl tools on docker image: memcached-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 10 23:22 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-memcached_1 memcached-numa-interleave-node-0-2

Result: sha256:5bdc75bcd8c8443ee52ee76a34f106baa4bd69c4f90e09538afcdf87146d2fdc


Install numactl tools on docker image: mongo-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 10 23:22 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-2



CMD: docker commit socialnetwork_post-storage-mongodb_1 mongo-numa-interleave-node-0-2

Result: sha256:e2d29008c8a4c3ad62e63b866d19b179f4f0136e873011355ba5da131d019102


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
bf605f38f54cc7ee4b49ac492f9cbf5f57e22d9d65cdca65c7f119d963802e93
d940d5760f57bf56e2c19df665eeba97788642398849e4a4d67d94133e72e4b6
9f15f4594f1a4f783ae1b48ce785c15f776fb5481e62fb211de331789b192abe
cee9282b3b6f6c0db9d3c14bd0003cb893ae967fda57557565599638a624d035
cc684cd99cdce2a346650d4b896644efd9969782611e1d4e2f309a9a831e2c94
59b03780fd622f1101287252908d42d2986de0d2cad38f96582a2e60b5fc47b4
52a3fad411d58d53fc90ac355108186a15361f7e111fc34c4fad4aa1353d70bc
d2e62287dce058b933d530dde68061de8ff4a1eac4a0ceff2852dc8042dd23fa
f9f29531dbd339e3062a19f96d68977b3afd4b6e818cbffe24d8d136e3e6dfb1
370fef0307d6fb832ead864d5c33bbc8ee9419cb155b86cef7bc395c44de8244
b93fe527a5701245f2e9ead35b224445711737b51c8f799aa44bd5262b0b8302
65b668ef7d5da5d960665e437dfb2baab1590e561a9d9baf4bb6c5bd9653575b
3c5df0f9e974dab186dc017c561b8a0a46fdf941f3b60828a6f2a8ea6bf9be0b
df4b64891e75f202c5432f1e465d557d5b935d7d87dc2e16ad4c2ec8f0717728
8e285914be28d240a3f842a2c5ab1e450544a7511c9d214001dd5e6894d6aedf
8274d51f0a32d4defdb7809097baf5865af671c4a3ae2ba53a44a807eb6ced98
eac7206c226db60ef689ed1821ddd92d7ea290bf412c7e532184b25517e6a296
55b062c2f0691f48cccfdaf0a7889c92de8dee417eab440da461c6a80355a018
6026072ec5ca373235301b9c3e42ed0cb3cff561642aceeeb8ba28ac9e54b38c
e7bb77c8993e9d4a19785617a25b3e0d9439f11ba7dff75d71a6e9a507abf5c2
daf829f0a4cb86695b7c301468d2eed74f5c46ca860f5dd9cca68e481bcb188d
bcf526f2bdb86af38ca46b17b7b4f2fd15a02acc5e5f81f79f2b9d24c17fb136
58fc1b3314b98974c4119b819cf268ed7e23615546bbcd90dc7c87f7ab42d3a7
2ad6c5cd444049f3abc5deb4f05e68d1a84931eb62c4bc6091afb1fd70e725be
b08001f0401c0019bb4f35ef036568bcb748ac2dc334807b45496dc31a4328e0
d5c889e75a9d766de7417a15ce574b6c1febae4e5c21d87f388c4e398996c510
7121be96bc33ec7c1dfe5995708c4dea21142a0391019de17634559f4a1a7a12
5286ca3e2ed7506f6374c8ea9b3adc273522d96303c643093cce113a3184aebf
a4cebfb74bd3ff8583c88c7c2b3f218566e0371d80dc9d8e11cca9ffaa7c29ce
3d73f03372565c727e6002a2054656f96077ee957b847d5ad67c443db0a73010
224e7da8bbb7b1fb871bab5861c3443a62dac0dcbfbf9e860a1873b165cc7bdc

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-home-timeline,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54797 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57562 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130234 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54797 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57562 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130234 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Failed: 711 Error: Follow Failed: CLUSTERDOWN The cluster is down
Succeeded: 36913


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:101
cluster_stats_messages_pong_sent:99
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:201
cluster_stats_messages_ping_received:99
cluster_stats_messages_pong_received:102
cluster_stats_messages_received:201
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:95
cluster_stats_messages_pong_sent:109
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:205
cluster_stats_messages_ping_received:109
cluster_stats_messages_pong_received:96
cluster_stats_messages_received:205
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:1
cluster_stats_messages_ping_sent:87
cluster_stats_messages_pong_sent:103
cluster_stats_messages_sent:190
cluster_stats_messages_ping_received:99
cluster_stats_messages_pong_received:87
cluster_stats_messages_meet_received:4
cluster_stats_messages_received:190
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.537ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.671ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.282ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.745ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.223ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.079ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.984ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.350ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.949ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.074ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.434ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.934ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.063ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.096ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.723ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 4.855ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.853ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 8.814ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.115ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.775ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.575ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.860ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.804ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.426ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.143ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.430ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.918ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.676ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.327ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.609ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.157ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.841ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.878ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.440ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.395ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.190ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.678ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.329ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.949ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.254ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.695ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.183ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.229ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.227ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.478ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.403ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 4.443ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.578ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.80ms  735.80us   4.56ms   88.96%
    Req/Sec    20.69     39.89   166.00     76.69%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.76ms
 75.000%    3.00ms
 90.000%    3.30ms
 99.000%    4.56ms
 99.900%   11.79ms
 99.990%   25.77ms
 99.999%   28.67ms
100.000%   29.82ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.386     0.000000            1         1.00
       2.213     0.100000        10632         1.11
       2.441     0.200000        21287         1.25
       2.573     0.300000        31781         1.43
       2.671     0.400000        42447         1.67
       2.759     0.500000        53137         2.00
       2.801     0.550000        58337         2.22
       2.843     0.600000        63531         2.50
       2.891     0.650000        68970         2.86
       2.941     0.700000        74267         3.33
       2.997     0.750000        79418         4.00
       3.029     0.775000        82070         4.44
       3.065     0.800000        84693         5.00
       3.107     0.825000        87350         5.71
       3.155     0.850000        90005         6.67
       3.217     0.875000        92662         8.00
       3.255     0.887500        93959         8.89
       3.303     0.900000        95283        10.00
       3.353     0.912500        96619        11.43
       3.413     0.925000        97907        13.33
       3.493     0.937500        99251        16.00
       3.537     0.943750        99885        17.78
       3.593     0.950000       100552        20.00
       3.659     0.956250       101217        22.86
       3.733     0.962500       101867        26.67
       3.819     0.968750       102531        32.00
       3.867     0.971875       102867        35.56
       3.919     0.975000       103188        40.00
       3.995     0.978125       103525        45.71
       4.085     0.981250       103849        53.33
       4.199     0.984375       104188        64.00
       4.271     0.985938       104355        71.11
       4.379     0.987500       104510        80.00
       4.487     0.989062       104680        91.43
       4.623     0.990625       104843       106.67
       4.795     0.992188       105006       128.00
       4.883     0.992969       105089       142.22
       4.983     0.993750       105173       160.00
       5.119     0.994531       105254       182.86
       5.279     0.995313       105336       213.33
       5.535     0.996094       105420       256.00
       5.679     0.996484       105460       284.44
       5.887     0.996875       105502       320.00
       6.195     0.997266       105543       365.71
       6.839     0.997656       105584       426.67
       7.511     0.998047       105626       512.00
       8.011     0.998242       105646       568.89
       8.679     0.998437       105667       640.00
       9.615     0.998633       105688       731.43
      11.055     0.998828       105708       853.33
      11.983     0.999023       105729      1024.00
      12.783     0.999121       105739      1137.78
      13.311     0.999219       105750      1280.00
      14.559     0.999316       105760      1462.86
      15.303     0.999414       105770      1706.67
      16.943     0.999512       105781      2048.00
      17.951     0.999561       105786      2275.56
      18.703     0.999609       105791      2560.00
      19.071     0.999658       105796      2925.71
      20.335     0.999707       105801      3413.33
      22.463     0.999756       105807      4096.00
      24.399     0.999780       105809      4551.11
      24.943     0.999805       105812      5120.00
      25.151     0.999829       105814      5851.43
      25.263     0.999854       105817      6826.67
      25.663     0.999878       105820      8192.00
      25.775     0.999890       105821      9102.22
      26.063     0.999902       105822     10240.00
      26.095     0.999915       105823     11702.86
      26.239     0.999927       105825     13653.33
      26.623     0.999939       105826     16384.00
      27.039     0.999945       105828     18204.44
      27.039     0.999951       105828     20480.00
      27.039     0.999957       105828     23405.71
      27.663     0.999963       105829     27306.67
      27.663     0.999969       105829     32768.00
      28.655     0.999973       105830     36408.89
      28.655     0.999976       105830     40960.00
      28.655     0.999979       105830     46811.43
      28.671     0.999982       105831     54613.33
      28.671     0.999985       105831     65536.00
      28.671     0.999986       105831     72817.78
      28.671     0.999988       105831     81920.00
      28.671     0.999989       105831     93622.86
      29.823     0.999991       105832    109226.67
      29.823     1.000000       105832          inf
#[Mean    =        2.803, StdDeviation   =        0.736]
#[Max     =       29.808, Total count    =       105832]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115377 requests in 2.00m, 23.66MB read
Requests/sec:    961.43  
Transfer/sec:    201.86KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53956 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56826 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129457 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53956 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56826 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129457 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2145.655ms, rate sampling interval: 8290ms
  Thread calibration: mean lat.: 2478.324ms, rate sampling interval: 8912ms
  Thread calibration: mean lat.: 2333.314ms, rate sampling interval: 8880ms
  Thread calibration: mean lat.: 2112.586ms, rate sampling interval: 8658ms
  Thread calibration: mean lat.: 2073.546ms, rate sampling interval: 7925ms
  Thread calibration: mean lat.: 2190.133ms, rate sampling interval: 7966ms
  Thread calibration: mean lat.: 1869.529ms, rate sampling interval: 7360ms
  Thread calibration: mean lat.: 1921.566ms, rate sampling interval: 7749ms
  Thread calibration: mean lat.: 2295.584ms, rate sampling interval: 8437ms
  Thread calibration: mean lat.: 2415.399ms, rate sampling interval: 8429ms
  Thread calibration: mean lat.: 2241.407ms, rate sampling interval: 8380ms
  Thread calibration: mean lat.: 2074.330ms, rate sampling interval: 8011ms
  Thread calibration: mean lat.: 2165.817ms, rate sampling interval: 7663ms
  Thread calibration: mean lat.: 1833.423ms, rate sampling interval: 7344ms
  Thread calibration: mean lat.: 2283.452ms, rate sampling interval: 8294ms
  Thread calibration: mean lat.: 1987.513ms, rate sampling interval: 7651ms
  Thread calibration: mean lat.: 2197.669ms, rate sampling interval: 7491ms
  Thread calibration: mean lat.: 2094.263ms, rate sampling interval: 8048ms
  Thread calibration: mean lat.: 2145.776ms, rate sampling interval: 8200ms
  Thread calibration: mean lat.: 2400.821ms, rate sampling interval: 8675ms
  Thread calibration: mean lat.: 2191.412ms, rate sampling interval: 8269ms
  Thread calibration: mean lat.: 2222.589ms, rate sampling interval: 7974ms
  Thread calibration: mean lat.: 2262.393ms, rate sampling interval: 8593ms
  Thread calibration: mean lat.: 2501.764ms, rate sampling interval: 8724ms
  Thread calibration: mean lat.: 2547.491ms, rate sampling interval: 9289ms
  Thread calibration: mean lat.: 2087.732ms, rate sampling interval: 7491ms
  Thread calibration: mean lat.: 2602.514ms, rate sampling interval: 8404ms
  Thread calibration: mean lat.: 2360.168ms, rate sampling interval: 8376ms
  Thread calibration: mean lat.: 2535.673ms, rate sampling interval: 9011ms
  Thread calibration: mean lat.: 2504.202ms, rate sampling interval: 9019ms
  Thread calibration: mean lat.: 2653.206ms, rate sampling interval: 8650ms
  Thread calibration: mean lat.: 2757.141ms, rate sampling interval: 9289ms
  Thread calibration: mean lat.: 2509.694ms, rate sampling interval: 8237ms
  Thread calibration: mean lat.: 2436.273ms, rate sampling interval: 8134ms
  Thread calibration: mean lat.: 2673.115ms, rate sampling interval: 8986ms
  Thread calibration: mean lat.: 2565.776ms, rate sampling interval: 8298ms
  Thread calibration: mean lat.: 2489.440ms, rate sampling interval: 8323ms
  Thread calibration: mean lat.: 2563.214ms, rate sampling interval: 8904ms
  Thread calibration: mean lat.: 2594.232ms, rate sampling interval: 8486ms
  Thread calibration: mean lat.: 2765.161ms, rate sampling interval: 8855ms
  Thread calibration: mean lat.: 2712.471ms, rate sampling interval: 9576ms
  Thread calibration: mean lat.: 2662.232ms, rate sampling interval: 9199ms
  Thread calibration: mean lat.: 2679.252ms, rate sampling interval: 9158ms
  Thread calibration: mean lat.: 2688.490ms, rate sampling interval: 8691ms
  Thread calibration: mean lat.: 2665.470ms, rate sampling interval: 8675ms
  Thread calibration: mean lat.: 2569.827ms, rate sampling interval: 8888ms
  Thread calibration: mean lat.: 2235.161ms, rate sampling interval: 7868ms
  Thread calibration: mean lat.: 2669.971ms, rate sampling interval: 8822ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    30.18s    14.93s    0.94m    57.84%
    Req/Sec    54.97      1.17    58.00     97.02%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   30.16s 
 75.000%   43.09s 
 90.000%   50.89s 
 99.000%    0.94m 
 99.900%    0.97m 
 99.990%    1.00m 
 99.999%    1.01m 
100.000%    1.01m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3221.503     0.000000            1         1.00
    9617.407     0.100000        29296         1.11
   14688.255     0.200000        58528         1.25
   19709.951     0.300000        87847         1.43
   24969.215     0.400000       117059         1.67
   30162.943     0.500000       146311         2.00
   32669.695     0.550000       160985         2.22
   35192.831     0.600000       175667         2.50
   37814.271     0.650000       190236         2.86
   40435.711     0.700000       204840         3.33
   43089.919     0.750000       219510         4.00
   44367.871     0.775000       226828         4.44
   45613.055     0.800000       234090         5.00
   46923.775     0.825000       241413         5.71
   48234.495     0.850000       248869         6.67
   49577.983     0.875000       256167         8.00
   50233.343     0.887500       259758         8.89
   50888.703     0.900000       263464        10.00
   51544.063     0.912500       267019        11.43
   52199.423     0.925000       270799        13.33
   52854.783     0.937500       274476        16.00
   53215.231     0.943750       276280        17.78
   53542.911     0.950000       277998        20.00
   53903.359     0.956250       279903        22.86
   54263.807     0.962500       281791        26.67
   54624.255     0.968750       283579        32.00
   54820.863     0.971875       284505        35.56
   55017.471     0.975000       285352        40.00
   55246.847     0.978125       286253        45.71
   55476.223     0.981250       287132        53.33
   55771.135     0.984375       288124        64.00
   55902.207     0.985938       288517        71.11
   56066.047     0.987500       288990        80.00
   56262.655     0.989062       289490        91.43
   56393.727     0.990625       289896       106.67
   56590.335     0.992188       290383       128.00
   56688.639     0.992969       290578       142.22
   56786.943     0.993750       290784       160.00
   56918.015     0.994531       291032       182.86
   57081.855     0.995313       291284       213.33
   57245.695     0.996094       291489       256.00
   57343.999     0.996484       291623       284.44
   57442.303     0.996875       291723       320.00
   57540.607     0.997266       291831       365.71
   57638.911     0.997656       291928       426.67
   57802.751     0.998047       292044       512.00
   57901.055     0.998242       292117       568.89
   57966.591     0.998437       292157       640.00
   58097.663     0.998633       292220       731.43
   58195.967     0.998828       292278       853.33
   58359.807     0.999023       292337      1024.00
   58425.343     0.999121       292359      1137.78
   58523.647     0.999219       292386      1280.00
   58654.719     0.999316       292419      1462.86
   58753.023     0.999414       292448      1706.67
   58851.327     0.999512       292474      2048.00
   58884.095     0.999561       292485      2275.56
   58982.399     0.999609       292505      2560.00
   59015.167     0.999658       292512      2925.71
   59146.239     0.999707       292529      3413.33
   59244.543     0.999756       292542      4096.00
   59310.079     0.999780       292548      4551.11
   59375.615     0.999805       292556      5120.00
   59473.919     0.999829       292567      5851.43
   59506.687     0.999854       292570      6826.67
   59572.223     0.999878       292577      8192.00
   59637.759     0.999890       292580      9102.22
   59768.831     0.999902       292585     10240.00
   59801.599     0.999915       292587     11702.86
   59834.367     0.999927       292592     13653.33
   59899.903     0.999939       292595     16384.00
   59932.671     0.999945       292597     18204.44
   59965.439     0.999951       292598     20480.00
   60063.743     0.999957       292600     23405.71
   60162.047     0.999963       292602     27306.67
   60293.119     0.999969       292605     32768.00
   60293.119     0.999973       292605     36408.89
   60293.119     0.999976       292605     40960.00
   60391.423     0.999979       292607     46811.43
   60391.423     0.999982       292607     54613.33
   60424.191     0.999985       292608     65536.00
   60424.191     0.999986       292608     72817.78
   60456.959     0.999988       292609     81920.00
   60456.959     0.999989       292609     93622.86
   60522.495     0.999991       292610    109226.67
   60522.495     0.999992       292610    131072.00
   60522.495     0.999993       292610    145635.56
   60555.263     0.999994       292611    163840.00
   60555.263     0.999995       292611    187245.71
   60555.263     0.999995       292611    218453.33
   60555.263     0.999996       292611    262144.00
   60555.263     0.999997       292611    291271.11
   60588.031     0.999997       292612    327680.00
   60588.031     1.000000       292612          inf
#[Mean    =    30178.208, StdDeviation   =    14929.813]
#[Max     =    60555.264, Total count    =       292612]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  318864 requests in 2.00m, 65.38MB read
Requests/sec:   2658.69  
Transfer/sec:    558.22KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51637 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54559 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 127615 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51637 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54559 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 127615 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4257.684ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4374.075ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4326.903ms, rate sampling interval: 15458ms
  Thread calibration: mean lat.: 4343.542ms, rate sampling interval: 15794ms
  Thread calibration: mean lat.: 4326.896ms, rate sampling interval: 15622ms
  Thread calibration: mean lat.: 4247.584ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4278.741ms, rate sampling interval: 15917ms
  Thread calibration: mean lat.: 3901.729ms, rate sampling interval: 14123ms
  Thread calibration: mean lat.: 4229.255ms, rate sampling interval: 15466ms
  Thread calibration: mean lat.: 4315.300ms, rate sampling interval: 15687ms
  Thread calibration: mean lat.: 4138.870ms, rate sampling interval: 15245ms
  Thread calibration: mean lat.: 4229.734ms, rate sampling interval: 15327ms
  Thread calibration: mean lat.: 4394.683ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4406.859ms, rate sampling interval: 15933ms
  Thread calibration: mean lat.: 4298.559ms, rate sampling interval: 15687ms
  Thread calibration: mean lat.: 4266.074ms, rate sampling interval: 15482ms
  Thread calibration: mean lat.: 4262.737ms, rate sampling interval: 15417ms
  Thread calibration: mean lat.: 4289.755ms, rate sampling interval: 15499ms
  Thread calibration: mean lat.: 4408.372ms, rate sampling interval: 15966ms
  Thread calibration: mean lat.: 4041.659ms, rate sampling interval: 14163ms
  Thread calibration: mean lat.: 4363.528ms, rate sampling interval: 15785ms
  Thread calibration: mean lat.: 4343.169ms, rate sampling interval: 15482ms
  Thread calibration: mean lat.: 4223.414ms, rate sampling interval: 15499ms
  Thread calibration: mean lat.: 4444.599ms, rate sampling interval: 15851ms
  Thread calibration: mean lat.: 4298.791ms, rate sampling interval: 15359ms
  Thread calibration: mean lat.: 4209.700ms, rate sampling interval: 15564ms
  Thread calibration: mean lat.: 4292.657ms, rate sampling interval: 15425ms
  Thread calibration: mean lat.: 4333.813ms, rate sampling interval: 16056ms
  Thread calibration: mean lat.: 4176.308ms, rate sampling interval: 15212ms
  Thread calibration: mean lat.: 4225.132ms, rate sampling interval: 15425ms
  Thread calibration: mean lat.: 4177.165ms, rate sampling interval: 15728ms
  Thread calibration: mean lat.: 4295.150ms, rate sampling interval: 15482ms
  Thread calibration: mean lat.: 4334.365ms, rate sampling interval: 15695ms
  Thread calibration: mean lat.: 4228.412ms, rate sampling interval: 15597ms
  Thread calibration: mean lat.: 4312.385ms, rate sampling interval: 15351ms
  Thread calibration: mean lat.: 4236.042ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4282.011ms, rate sampling interval: 15351ms
  Thread calibration: mean lat.: 4095.455ms, rate sampling interval: 14188ms
  Thread calibration: mean lat.: 4213.493ms, rate sampling interval: 15515ms
  Thread calibration: mean lat.: 4246.095ms, rate sampling interval: 15663ms
  Thread calibration: mean lat.: 4307.397ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4224.193ms, rate sampling interval: 15433ms
  Thread calibration: mean lat.: 4364.957ms, rate sampling interval: 15794ms
  Thread calibration: mean lat.: 4008.933ms, rate sampling interval: 14180ms
  Thread calibration: mean lat.: 4307.891ms, rate sampling interval: 15466ms
  Thread calibration: mean lat.: 4320.382ms, rate sampling interval: 15818ms
  Thread calibration: mean lat.: 4257.594ms, rate sampling interval: 15802ms
  Thread calibration: mean lat.: 4285.092ms, rate sampling interval: 15491ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.94m    27.52s    1.72m    57.58%
    Req/Sec    27.07      0.50    28.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.93m 
 75.000%    1.33m 
 90.000%    1.57m 
 99.000%    1.72m 
 99.900%    1.74m 
 99.990%    1.75m 
 99.999%    1.75m 
100.000%    1.75m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7618.559     0.000000            1         1.00
   18317.311     0.100000        14535         1.11
   27541.503     0.200000        29067         1.25
   36929.535     0.300000        43618         1.43
   46465.023     0.400000        58136         1.67
   56000.511     0.500000        72649         2.00
   60850.175     0.550000        79912         2.22
   65601.535     0.600000        87186         2.50
   70451.199     0.650000        94456         2.86
   75300.863     0.700000       101731         3.33
   80019.455     0.750000       108945         4.00
   82444.287     0.775000       112645         4.44
   84934.655     0.800000       116282         5.00
   87228.415     0.825000       119881         5.71
   89587.711     0.850000       123488         6.67
   91947.007     0.875000       127183         8.00
   93061.119     0.887500       128965         8.89
   94306.303     0.900000       130802        10.00
   95551.487     0.912500       132623        11.43
   96796.671     0.925000       134401        13.33
   97976.319     0.937500       136212        16.00
   98566.143     0.943750       137139        17.78
   99155.967     0.950000       138048        20.00
   99745.791     0.956250       138924        22.86
  100401.151     0.962500       139902        26.67
  100990.975     0.968750       140783        32.00
  101318.655     0.971875       141282        35.56
  101580.799     0.975000       141684        40.00
  101842.943     0.978125       142093        45.71
  102170.623     0.981250       142587        53.33
  102432.767     0.984375       142988        64.00
  102629.375     0.985938       143270        71.11
  102760.447     0.987500       143456        80.00
  102957.055     0.989062       143728        91.43
  103088.127     0.990625       143909       106.67
  103284.735     0.992188       144158       128.00
  103350.271     0.992969       144237       142.22
  103481.343     0.993750       144397       160.00
  103546.879     0.994531       144481       182.86
  103677.951     0.995313       144604       213.33
  103809.023     0.996094       144735       256.00
  103874.559     0.996484       144786       284.44
  103940.095     0.996875       144850       320.00
  104005.631     0.997266       144893       365.71
  104071.167     0.997656       144945       426.67
  104136.703     0.998047       145001       512.00
  104136.703     0.998242       145001       568.89
  104202.239     0.998437       145039       640.00
  104267.775     0.998633       145074       731.43
  104333.311     0.998828       145107       853.33
  104398.847     0.999023       145133      1024.00
  104398.847     0.999121       145133      1137.78
  104464.383     0.999219       145153      1280.00
  104529.919     0.999316       145176      1462.86
  104529.919     0.999414       145176      1706.67
  104595.455     0.999512       145191      2048.00
  104660.991     0.999561       145210      2275.56
  104660.991     0.999609       145210      2560.00
  104660.991     0.999658       145210      2925.71
  104726.527     0.999707       145219      3413.33
  104792.063     0.999756       145231      4096.00
  104792.063     0.999780       145231      4551.11
  104792.063     0.999805       145231      5120.00
  104857.599     0.999829       145237      5851.43
  104857.599     0.999854       145237      6826.67
  104923.135     0.999878       145246      8192.00
  104923.135     0.999890       145246      9102.22
  104923.135     0.999902       145246     10240.00
  104923.135     0.999915       145246     11702.86
  104923.135     0.999927       145246     13653.33
  104988.671     0.999939       145250     16384.00
  104988.671     0.999945       145250     18204.44
  104988.671     0.999951       145250     20480.00
  104988.671     0.999957       145250     23405.71
  105054.207     0.999963       145254     27306.67
  105054.207     0.999969       145254     32768.00
  105054.207     0.999973       145254     36408.89
  105054.207     0.999976       145254     40960.00
  105054.207     0.999979       145254     46811.43
  105054.207     0.999982       145254     54613.33
  105054.207     0.999985       145254     65536.00
  105119.743     0.999986       145256     72817.78
  105119.743     1.000000       145256          inf
#[Mean    =    56142.179, StdDeviation   =    27515.704]
#[Max     =   105054.208, Total count    =       145256]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  158381 requests in 2.00m, 32.47MB read
Requests/sec:   1320.44  
Transfer/sec:    277.24KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48647 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51680 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125536 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48647 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51680 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125536 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.163ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.847ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.204ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.959ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.877ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.799ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.737ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.349ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.023ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.973ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.910ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.037ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.446ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.021ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.320ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.226ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.717ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.083ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.021ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.368ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.979ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.903ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.563ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.755ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.120ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.688ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.157ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.214ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.682ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.075ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.631ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.885ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.550ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 10.617ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.984ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.442ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.336ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 10.752ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.854ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.950ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.205ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.562ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.157ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.522ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 10.750ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.869ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.333ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.257ms, rate sampling interval: 32ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.95ms    2.97ms  22.17ms   83.36%
    Req/Sec    20.25     26.78   111.00     88.93%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.33ms
 75.000%   11.70ms
 90.000%   14.26ms
 99.000%   22.17ms
 99.900%   29.90ms
 99.990%   37.15ms
 99.999%   41.73ms
100.000%   43.68ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.057     0.000000            1         1.00
       8.535     0.100000        10646         1.11
       9.167     0.200000        21215         1.25
       9.583     0.300000        31789         1.43
       9.951     0.400000        42348         1.67
      10.327     0.500000        53052         2.00
      10.527     0.550000        58263         2.22
      10.743     0.600000        63562         2.50
      10.999     0.650000        68824         2.86
      11.303     0.700000        74123         3.33
      11.703     0.750000        79460         4.00
      11.935     0.775000        82115         4.44
      12.207     0.800000        84701         5.00
      12.527     0.825000        87366         5.71
      12.927     0.850000        89977         6.67
      13.463     0.875000        92620         8.00
      13.807     0.887500        93954         8.89
      14.255     0.900000        95264        10.00
      14.791     0.912500        96586        11.43
      15.455     0.925000        97904        13.33
      16.167     0.937500        99238        16.00
      16.543     0.943750        99905        17.78
      16.943     0.950000       100550        20.00
      17.423     0.956250       101224        22.86
      17.967     0.962500       101888        26.67
      18.495     0.968750       102551        32.00
      18.815     0.971875       102875        35.56
      19.167     0.975000       103196        40.00
      19.599     0.978125       103539        45.71
      20.063     0.981250       103872        53.33
      20.623     0.984375       104190        64.00
      20.959     0.985938       104354        71.11
      21.375     0.987500       104521        80.00
      21.839     0.989062       104693        91.43
      22.351     0.990625       104855       106.67
      22.959     0.992188       105018       128.00
      23.295     0.992969       105102       142.22
      23.647     0.993750       105182       160.00
      24.063     0.994531       105266       182.86
      24.607     0.995313       105348       213.33
      25.247     0.996094       105429       256.00
      25.647     0.996484       105471       284.44
      25.999     0.996875       105512       320.00
      26.463     0.997266       105554       365.71
      26.959     0.997656       105595       426.67
      27.647     0.998047       105636       512.00
      27.903     0.998242       105656       568.89
      28.463     0.998437       105678       640.00
      28.863     0.998633       105698       731.43
      29.455     0.998828       105718       853.33
      29.983     0.999023       105739      1024.00
      30.415     0.999121       105749      1137.78
      30.671     0.999219       105761      1280.00
      30.991     0.999316       105770      1462.86
      31.567     0.999414       105780      1706.67
      32.095     0.999512       105791      2048.00
      32.479     0.999561       105796      2275.56
      32.799     0.999609       105801      2560.00
      33.151     0.999658       105806      2925.71
      33.375     0.999707       105811      3413.33
      34.335     0.999756       105818      4096.00
      34.495     0.999780       105819      4551.11
      35.135     0.999805       105823      5120.00
      35.871     0.999829       105824      5851.43
      36.255     0.999854       105827      6826.67
      36.831     0.999878       105830      8192.00
      37.151     0.999890       105831      9102.22
      37.567     0.999902       105832     10240.00
      37.599     0.999915       105833     11702.86
      38.623     0.999927       105835     13653.33
      38.847     0.999939       105836     16384.00
      39.487     0.999945       105837     18204.44
      39.487     0.999951       105837     20480.00
      40.319     0.999957       105838     23405.71
      40.415     0.999963       105839     27306.67
      40.415     0.999969       105839     32768.00
      41.567     0.999973       105840     36408.89
      41.567     0.999976       105840     40960.00
      41.567     0.999979       105840     46811.43
      41.727     0.999982       105841     54613.33
      41.727     0.999985       105841     65536.00
      41.727     0.999986       105841     72817.78
      41.727     0.999988       105841     81920.00
      41.727     0.999989       105841     93622.86
      43.679     0.999991       105842    109226.67
      43.679     1.000000       105842          inf
#[Mean    =       10.954, StdDeviation   =        2.971]
#[Max     =       43.648, Total count    =       105842]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115353 requests in 2.00m, 1.56GB read
Requests/sec:    961.26  
Transfer/sec:     13.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 47006 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48702 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 123419 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 47006 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48702 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 123419 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.616ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.165ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.606ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.427ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.145ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.552ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.473ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.726ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.553ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.561ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.360ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.500ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.786ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.336ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.513ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.443ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.645ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.061ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.459ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.422ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.226ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.842ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 5.649ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.592ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.459ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 4.907ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.493ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.477ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.859ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.313ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.453ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.591ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.519ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.827ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.380ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.559ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.788ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.497ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.488ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.349ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.539ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.146ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.409ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.486ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.766ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.861ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 5.479ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.667ms, rate sampling interval: 16ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.57ms   49.18ms 236.93ms   98.15%
    Req/Sec   107.56     86.12   357.00     60.96%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.40ms
 75.000%    5.40ms
 90.000%    7.32ms
 99.000%  236.93ms
 99.900%  692.22ms
 99.990%  856.06ms
 99.999%  923.65ms
100.000%  956.93ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.011     0.000000            1         1.00
       3.387     0.100000        55113         1.11
       3.669     0.200000       110116         1.25
       3.907     0.300000       165092         1.43
       4.147     0.400000       220867         1.67
       4.403     0.500000       275015         2.00
       4.551     0.550000       302946         2.22
       4.711     0.600000       330418         2.50
       4.895     0.650000       357690         2.86
       5.115     0.700000       385154         3.33
       5.399     0.750000       412663         4.00
       5.579     0.775000       426257         4.44
       5.795     0.800000       439930         5.00
       6.063     0.825000       453764         5.71
       6.391     0.850000       467508         6.67
       6.803     0.875000       481229         8.00
       7.043     0.887500       488101         8.89
       7.315     0.900000       494954        10.00
       7.635     0.912500       501815        11.43
       8.023     0.925000       508629        13.33
       8.527     0.937500       515510        16.00
       8.855     0.943750       518976        17.78
       9.263     0.950000       522400        20.00
       9.775     0.956250       525807        22.86
      10.527     0.962500       529260        26.67
      11.783     0.968750       532678        32.00
      12.919     0.971875       534400        35.56
      15.215     0.975000       536109        40.00
      23.839     0.978125       537827        45.71
      56.671     0.981250       539546        53.33
     105.087     0.984375       541265        64.00
     133.247     0.985938       542127        71.11
     167.935     0.987500       542984        80.00
     207.999     0.989062       543845        91.43
     256.511     0.990625       544702       106.67
     308.223     0.992188       545561       128.00
     335.103     0.992969       545991       142.22
     366.847     0.993750       546421       160.00
     398.847     0.994531       546850       182.86
     435.455     0.995313       547278       213.33
     476.159     0.996094       547708       256.00
     498.943     0.996484       547923       284.44
     523.263     0.996875       548138       320.00
     547.839     0.997266       548355       365.71
     577.023     0.997656       548570       426.67
     605.695     0.998047       548783       512.00
     623.103     0.998242       548894       568.89
     637.951     0.998437       548998       640.00
     653.823     0.998633       549106       731.43
     671.743     0.998828       549211       853.33
     694.783     0.999023       549320      1024.00
     709.119     0.999121       549372      1137.78
     719.871     0.999219       549426      1280.00
     736.255     0.999316       549480      1462.86
     751.103     0.999414       549534      1706.67
     768.511     0.999512       549587      2048.00
     779.263     0.999561       549615      2275.56
     787.455     0.999609       549641      2560.00
     799.231     0.999658       549669      2925.71
     809.471     0.999707       549694      3413.33
     820.735     0.999756       549721      4096.00
     825.855     0.999780       549737      4551.11
     830.975     0.999805       549749      5120.00
     836.607     0.999829       549763      5851.43
     845.311     0.999854       549776      6826.67
     851.967     0.999878       549789      8192.00
     854.015     0.999890       549796      9102.22
     858.623     0.999902       549802     10240.00
     862.207     0.999915       549809     11702.86
     866.815     0.999927       549815     13653.33
     871.423     0.999939       549824     16384.00
     871.935     0.999945       549826     18204.44
     872.447     0.999951       549829     20480.00
     877.567     0.999957       549832     23405.71
     885.247     0.999963       549835     27306.67
     889.343     0.999969       549839     32768.00
     890.367     0.999973       549840     36408.89
     891.391     0.999976       549842     40960.00
     893.951     0.999979       549844     46811.43
     899.583     0.999982       549845     54613.33
     902.655     0.999985       549847     65536.00
     906.239     0.999986       549848     72817.78
     918.015     0.999988       549849     81920.00
     923.647     0.999989       549850     93622.86
     923.647     0.999991       549850    109226.67
     925.183     0.999992       549851    131072.00
     932.863     0.999993       549852    145635.56
     932.863     0.999994       549852    163840.00
     938.495     0.999995       549853    187245.71
     938.495     0.999995       549853    218453.33
     938.495     0.999996       549853    262144.00
     945.663     0.999997       549854    291271.11
     945.663     0.999997       549854    327680.00
     945.663     0.999997       549854    374491.43
     945.663     0.999998       549854    436906.67
     945.663     0.999998       549854    524288.00
     956.927     0.999998       549855    582542.22
     956.927     1.000000       549855          inf
#[Mean    =       10.572, StdDeviation   =       49.175]
#[Max     =      956.416, Total count    =       549855]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599033 requests in 2.00m, 8.13GB read
Requests/sec:   4995.60  
Transfer/sec:     69.44MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44815 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41819 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121411 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44815 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41819 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121411 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-home-timeline.lua http://localhost:8080/wrk2-api/home-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/home-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2284.602ms, rate sampling interval: 7401ms
  Thread calibration: mean lat.: 1800.585ms, rate sampling interval: 9330ms
  Thread calibration: mean lat.: 729.434ms, rate sampling interval: 3344ms
  Thread calibration: mean lat.: 1752.872ms, rate sampling interval: 8015ms
  Thread calibration: mean lat.: 2120.946ms, rate sampling interval: 7454ms
  Thread calibration: mean lat.: 2344.335ms, rate sampling interval: 10387ms
  Thread calibration: mean lat.: 1010.173ms, rate sampling interval: 4468ms
  Thread calibration: mean lat.: 1421.867ms, rate sampling interval: 6959ms
  Thread calibration: mean lat.: 1101.702ms, rate sampling interval: 5476ms
  Thread calibration: mean lat.: 1103.870ms, rate sampling interval: 7442ms
  Thread calibration: mean lat.: 1619.559ms, rate sampling interval: 6381ms
  Thread calibration: mean lat.: 529.345ms, rate sampling interval: 2848ms
  Thread calibration: mean lat.: 2166.618ms, rate sampling interval: 7872ms
  Thread calibration: mean lat.: 127.639ms, rate sampling interval: 632ms
  Thread calibration: mean lat.: 933.092ms, rate sampling interval: 7102ms
  Thread calibration: mean lat.: 911.614ms, rate sampling interval: 5931ms
  Thread calibration: mean lat.: 2210.632ms, rate sampling interval: 8970ms
  Thread calibration: mean lat.: 1009.116ms, rate sampling interval: 3526ms
  Thread calibration: mean lat.: 1784.475ms, rate sampling interval: 9732ms
  Thread calibration: mean lat.: 916.550ms, rate sampling interval: 5439ms
  Thread calibration: mean lat.: 1708.837ms, rate sampling interval: 6815ms
  Thread calibration: mean lat.: 1233.482ms, rate sampling interval: 6098ms
  Thread calibration: mean lat.: 2067.938ms, rate sampling interval: 7159ms
  Thread calibration: mean lat.: 931.466ms, rate sampling interval: 5259ms
  Thread calibration: mean lat.: 474.866ms, rate sampling interval: 2760ms
  Thread calibration: mean lat.: 1740.418ms, rate sampling interval: 7278ms
  Thread calibration: mean lat.: 1818.274ms, rate sampling interval: 7507ms
  Thread calibration: mean lat.: 1571.258ms, rate sampling interval: 7643ms
  Thread calibration: mean lat.: 1240.361ms, rate sampling interval: 6135ms
  Thread calibration: mean lat.: 235.715ms, rate sampling interval: 1297ms
  Thread calibration: mean lat.: 1197.401ms, rate sampling interval: 5869ms
  Thread calibration: mean lat.: 208.328ms, rate sampling interval: 1009ms
  Thread calibration: mean lat.: 1582.817ms, rate sampling interval: 5885ms
  Thread calibration: mean lat.: 1042.822ms, rate sampling interval: 3532ms
  Thread calibration: mean lat.: 916.157ms, rate sampling interval: 5844ms
  Thread calibration: mean lat.: 2387.268ms, rate sampling interval: 8171ms
  Thread calibration: mean lat.: 1931.842ms, rate sampling interval: 6225ms
  Thread calibration: mean lat.: 1668.236ms, rate sampling interval: 5091ms
  Thread calibration: mean lat.: 965.313ms, rate sampling interval: 7278ms
  Thread calibration: mean lat.: 2026.816ms, rate sampling interval: 6868ms
  Thread calibration: mean lat.: 2010.550ms, rate sampling interval: 7331ms
  Thread calibration: mean lat.: 763.312ms, rate sampling interval: 3852ms
  Thread calibration: mean lat.: 1306.098ms, rate sampling interval: 6221ms
  Thread calibration: mean lat.: 1630.944ms, rate sampling interval: 6012ms
  Thread calibration: mean lat.: 890.808ms, rate sampling interval: 4288ms
  Thread calibration: mean lat.: 1301.104ms, rate sampling interval: 6000ms
  Thread calibration: mean lat.: 947.721ms, rate sampling interval: 5521ms
  Thread calibration: mean lat.: 1479.565ms, rate sampling interval: 7086ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/home-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.17s    13.05s    0.87m    82.68%
    Req/Sec   188.52     26.91   244.00     69.73%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.46s 
 75.000%   17.48s 
 90.000%   27.31s 
 99.000%    0.87m 
 99.900%    1.14m 
 99.990%    1.24m 
 99.999%    1.27m 
100.000%    1.27m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.373     0.000000            1         1.00
      14.767     0.100000        93934         1.11
      22.975     0.200000       187796         1.25
      38.175     0.300000       281633         1.43
      91.199     0.400000       375446         1.67
    1456.127     0.500000       469314         2.00
    2592.767     0.550000       516276         2.22
    4796.415     0.600000       563162         2.50
    8224.767     0.650000       610100         2.86
   13590.527     0.700000       657013         3.33
   17481.727     0.750000       704099         4.00
   19087.359     0.775000       727473         4.44
   20594.687     0.800000       750901         5.00
   22134.783     0.825000       774440         5.71
   23691.263     0.850000       798004         6.67
   25313.279     0.875000       821375         8.00
   26247.167     0.887500       833189         8.89
   27312.127     0.900000       844832        10.00
   28508.159     0.912500       856583        11.43
   30130.175     0.925000       868221        13.33
   32636.927     0.937500       879968        16.00
   34439.167     0.943750       885826        17.78
   36339.711     0.950000       891701        20.00
   38502.399     0.956250       897530        22.86
   40566.783     0.962500       903465        26.67
   42729.471     0.968750       909267        32.00
   43614.207     0.971875       912359        35.56
   44040.191     0.975000       915220        40.00
   44924.927     0.978125       918072        45.71
   46366.719     0.981250       921036        53.33
   48103.423     0.984375       923941        64.00
   49217.535     0.985938       925420        71.11
   50266.111     0.987500       926862        80.00
   51412.991     0.989062       928335        91.43
   52854.783     0.990625       929807       106.67
   54493.183     0.992188       931275       128.00
   55476.223     0.992969       931995       142.22
   56262.655     0.993750       932743       160.00
   57147.391     0.994531       933460       182.86
   58228.735     0.995313       934202       213.33
   59539.455     0.996094       934937       256.00
   60620.799     0.996484       935296       284.44
   61407.231     0.996875       935656       320.00
   62455.807     0.997266       936029       365.71
   63471.615     0.997656       936390       426.67
   64782.335     0.998047       936759       512.00
   65437.695     0.998242       936952       568.89
   66027.519     0.998437       937125       640.00
   66748.415     0.998633       937310       731.43
   67502.079     0.998828       937497       853.33
   68222.975     0.999023       937674      1024.00
   68681.727     0.999121       937773      1137.78
   69206.015     0.999219       937870      1280.00
   69795.839     0.999316       937948      1462.86
   71172.095     0.999414       938040      1706.67
   72351.743     0.999512       938132      2048.00
   72613.887     0.999561       938178      2275.56
   72941.567     0.999609       938238      2560.00
   73203.711     0.999658       938273      2925.71
   73465.855     0.999707       938321      3413.33
   73727.999     0.999756       938360      4096.00
   73924.607     0.999780       938406      4551.11
   73924.607     0.999805       938406      5120.00
   74121.215     0.999829       938440      5851.43
   74186.751     0.999854       938453      6826.67
   74383.359     0.999878       938485      8192.00
   74448.895     0.999890       938493      9102.22
   74514.431     0.999902       938500     10240.00
   74645.503     0.999915       938513     11702.86
   74711.039     0.999927       938521     13653.33
   74842.111     0.999939       938536     16384.00
   74907.647     0.999945       938542     18204.44
   74973.183     0.999951       938545     20480.00
   75104.255     0.999957       938549     23405.71
   75235.327     0.999963       938555     27306.67
   75497.471     0.999969       938562     32768.00
   75628.543     0.999973       938564     36408.89
   75759.615     0.999976       938568     40960.00
   75825.151     0.999979       938570     46811.43
   75890.687     0.999982       938574     54613.33
   75956.223     0.999985       938576     65536.00
   76021.759     0.999986       938579     72817.78
   76021.759     0.999988       938579     81920.00
   76021.759     0.999989       938579     93622.86
   76087.295     0.999991       938585    109226.67
   76087.295     0.999992       938585    131072.00
   76087.295     0.999993       938585    145635.56
   76087.295     0.999994       938585    163840.00
   76087.295     0.999995       938585    187245.71
   76087.295     0.999995       938585    218453.33
   76152.831     0.999996       938589    262144.00
   76152.831     1.000000       938589          inf
#[Mean    =     9168.564, StdDeviation   =    13049.562]
#[Max     =    76087.296, Total count    =       938589]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1008527 requests in 2.00m, 13.69GB read
Requests/sec:   8409.93  
Transfer/sec:    116.88MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41597 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35321 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120522 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41597 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35321 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120522 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.390ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.491ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.401ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.038ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.065ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.074ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.406ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.006ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.372ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.782ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.567ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.630ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.128ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.186ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.422ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.420ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.952ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.799ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.433ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.214ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.093ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.719ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.831ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.474ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.367ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.092ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.333ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.335ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 7.818ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.142ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.809ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.070ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.175ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.231ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 10.460ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.287ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.257ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.540ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.521ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.845ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.840ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.742ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.683ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.131ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 10.037ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.602ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.134ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.804ms, rate sampling interval: 23ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.92ms    3.72ms  22.88ms   73.56%
    Req/Sec    20.31     28.94   120.00     91.37%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.97ms
 75.000%   12.80ms
 90.000%   14.93ms
 99.000%   22.88ms
 99.900%   30.62ms
 99.990%   39.87ms
 99.999%   45.09ms
100.000%   46.05ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.879     0.000000            1         1.00
       6.319     0.100000        10583         1.11
       7.783     0.200000        21199         1.25
       9.047     0.300000        31827         1.43
      10.079     0.400000        42366         1.67
      10.967     0.500000        52960         2.00
      11.359     0.550000        58253         2.22
      11.719     0.600000        63525         2.50
      12.071     0.650000        68918         2.86
      12.415     0.700000        74081         3.33
      12.799     0.750000        79467         4.00
      13.015     0.775000        82027         4.44
      13.263     0.800000        84686         5.00
      13.559     0.825000        87368         5.71
      13.895     0.850000        90018         6.67
      14.335     0.875000        92618         8.00
      14.607     0.887500        93961         8.89
      14.927     0.900000        95265        10.00
      15.303     0.912500        96572        11.43
      15.767     0.925000        97900        13.33
      16.367     0.937500        99231        16.00
      16.735     0.943750        99884        17.78
      17.151     0.950000       100551        20.00
      17.599     0.956250       101210        22.86
      18.175     0.962500       101883        26.67
      18.847     0.968750       102525        32.00
      19.215     0.971875       102852        35.56
      19.615     0.975000       103191        40.00
      20.079     0.978125       103515        45.71
      20.607     0.981250       103845        53.33
      21.327     0.984375       104180        64.00
      21.711     0.985938       104340        71.11
      22.111     0.987500       104510        80.00
      22.591     0.989062       104678        91.43
      23.167     0.990625       104841       106.67
      23.791     0.992188       105003       128.00
      24.095     0.992969       105083       142.22
      24.479     0.993750       105170       160.00
      25.023     0.994531       105249       182.86
      25.551     0.995313       105332       213.33
      26.047     0.996094       105416       256.00
      26.303     0.996484       105458       284.44
      26.623     0.996875       105498       320.00
      27.023     0.997266       105539       365.71
      27.567     0.997656       105579       426.67
      28.191     0.998047       105621       512.00
      28.479     0.998242       105641       568.89
      28.975     0.998437       105662       640.00
      29.471     0.998633       105683       731.43
      30.159     0.998828       105703       853.33
      30.751     0.999023       105725      1024.00
      31.055     0.999121       105734      1137.78
      31.615     0.999219       105745      1280.00
      31.887     0.999316       105755      1462.86
      32.271     0.999414       105766      1706.67
      33.087     0.999512       105776      2048.00
      33.311     0.999561       105781      2275.56
      34.047     0.999609       105786      2560.00
      34.719     0.999658       105791      2925.71
      35.615     0.999707       105796      3413.33
      36.383     0.999756       105802      4096.00
      36.543     0.999780       105804      4551.11
      37.023     0.999805       105807      5120.00
      37.119     0.999829       105809      5851.43
      38.495     0.999854       105812      6826.67
      39.583     0.999878       105815      8192.00
      39.871     0.999890       105816      9102.22
      40.063     0.999902       105817     10240.00
      40.159     0.999915       105818     11702.86
      41.183     0.999927       105820     13653.33
      41.759     0.999939       105821     16384.00
      42.751     0.999945       105822     18204.44
      42.751     0.999951       105822     20480.00
      43.519     0.999957       105823     23405.71
      43.583     0.999963       105824     27306.67
      43.583     0.999969       105824     32768.00
      44.255     0.999973       105825     36408.89
      44.255     0.999976       105825     40960.00
      44.255     0.999979       105825     46811.43
      45.087     0.999982       105826     54613.33
      45.087     0.999985       105826     65536.00
      45.087     0.999986       105826     72817.78
      45.087     0.999988       105826     81920.00
      45.087     0.999989       105826     93622.86
      46.047     0.999991       105827    109226.67
      46.047     1.000000       105827          inf
#[Mean    =       10.920, StdDeviation   =        3.716]
#[Max     =       46.016, Total count    =       105827]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115330 requests in 2.00m, 1.56GB read
Requests/sec:    961.01  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44840 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43681 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121669 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44840 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43681 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121669 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 8.529ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 8.659ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.060ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.684ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.279ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.344ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 7.458ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.132ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.117ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.444ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.653ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.731ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.320ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.754ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.763ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 7.888ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.141ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.418ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 7.984ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.725ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.712ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.698ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.638ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.596ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.339ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 7.686ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.386ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 8.833ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.230ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 7.948ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.599ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.774ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.186ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 7.891ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.179ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.391ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.745ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 8.244ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.172ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 8.892ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.434ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 7.794ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.898ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 8.185ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.694ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 8.168ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.417ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 7.865ms, rate sampling interval: 26ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.83ms    4.47ms  24.98ms   86.25%
    Req/Sec   105.65     60.71   269.00     63.61%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.53ms
 75.000%    9.14ms
 90.000%   13.18ms
 99.000%   24.98ms
 99.900%   38.37ms
 99.990%   52.03ms
 99.999%   64.10ms
100.000%   73.02ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.187     0.000000            1         1.00
       4.085     0.100000        55102         1.11
       4.663     0.200000       110140         1.25
       5.239     0.300000       164962         1.43
       5.851     0.400000       220003         1.67
       6.527     0.500000       274883         2.00
       6.915     0.550000       302441         2.22
       7.351     0.600000       329742         2.50
       7.851     0.650000       357250         2.86
       8.431     0.700000       384791         3.33
       9.135     0.750000       412168         4.00
       9.551     0.775000       426035         4.44
      10.031     0.800000       439758         5.00
      10.599     0.825000       453502         5.71
      11.271     0.850000       467137         6.67
      12.119     0.875000       480852         8.00
      12.615     0.887500       487759         8.89
      13.175     0.900000       494618        10.00
      13.831     0.912500       501504        11.43
      14.583     0.925000       508315        13.33
      15.487     0.937500       515219        16.00
      16.023     0.943750       518635        17.78
      16.623     0.950000       522062        20.00
      17.311     0.956250       525551        22.86
      18.079     0.962500       528922        26.67
      19.023     0.968750       532389        32.00
      19.567     0.971875       534092        35.56
      20.175     0.975000       535797        40.00
      20.863     0.978125       537542        45.71
      21.663     0.981250       539257        53.33
      22.575     0.984375       540948        64.00
      23.135     0.985938       541833        71.11
      23.727     0.987500       542672        80.00
      24.511     0.989062       543518        91.43
      25.327     0.990625       544387       106.67
      26.255     0.992188       545239       128.00
      26.831     0.992969       545669       142.22
      27.487     0.993750       546094       160.00
      28.223     0.994531       546524       182.86
      29.103     0.995313       546954       213.33
      30.143     0.996094       547390       256.00
      30.751     0.996484       547597       284.44
      31.439     0.996875       547816       320.00
      32.223     0.997266       548030       365.71
      33.087     0.997656       548242       426.67
      34.143     0.998047       548456       512.00
      34.719     0.998242       548570       568.89
      35.391     0.998437       548670       640.00
      36.127     0.998633       548777       731.43
      37.215     0.998828       548888       853.33
      38.527     0.999023       548994      1024.00
      39.135     0.999121       549050      1137.78
      39.743     0.999219       549102      1280.00
      40.415     0.999316       549153      1462.86
      41.439     0.999414       549207      1706.67
      42.399     0.999512       549262      2048.00
      43.103     0.999561       549287      2275.56
      43.807     0.999609       549314      2560.00
      44.639     0.999658       549341      2925.71
      45.535     0.999707       549369      3413.33
      46.783     0.999756       549394      4096.00
      47.135     0.999780       549408      4551.11
      47.743     0.999805       549421      5120.00
      48.863     0.999829       549436      5851.43
      50.015     0.999854       549448      6826.67
      50.943     0.999878       549461      8192.00
      51.487     0.999890       549468      9102.22
      52.191     0.999902       549475     10240.00
      52.543     0.999915       549482     11702.86
      53.343     0.999927       549489     13653.33
      54.175     0.999939       549495     16384.00
      54.879     0.999945       549498     18204.44
      55.423     0.999951       549502     20480.00
      56.703     0.999957       549505     23405.71
      57.087     0.999963       549508     27306.67
      57.951     0.999969       549512     32768.00
      58.303     0.999973       549513     36408.89
      58.559     0.999976       549515     40960.00
      59.263     0.999979       549517     46811.43
      59.775     0.999982       549518     54613.33
      60.063     0.999985       549520     65536.00
      61.823     0.999986       549521     72817.78
      63.167     0.999988       549522     81920.00
      64.095     0.999989       549523     93622.86
      64.095     0.999991       549523    109226.67
      64.607     0.999992       549524    131072.00
      65.407     0.999993       549525    145635.56
      65.407     0.999994       549525    163840.00
      65.599     0.999995       549526    187245.71
      65.599     0.999995       549526    218453.33
      65.599     0.999996       549526    262144.00
      70.463     0.999997       549527    291271.11
      70.463     0.999997       549527    327680.00
      70.463     0.999997       549527    374491.43
      70.463     0.999998       549527    436906.67
      70.463     0.999998       549527    524288.00
      73.023     0.999998       549528    582542.22
      73.023     1.000000       549528          inf
#[Mean    =        7.832, StdDeviation   =        4.465]
#[Max     =       72.960, Total count    =       549528]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599012 requests in 2.00m, 8.09GB read
Requests/sec:   4995.33  
Transfer/sec:     69.06MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44849 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43291 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121772 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44849 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43291 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121772 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3036.162ms, rate sampling interval: 10846ms
  Thread calibration: mean lat.: 3227.033ms, rate sampling interval: 11034ms
  Thread calibration: mean lat.: 3158.572ms, rate sampling interval: 10895ms
  Thread calibration: mean lat.: 3130.821ms, rate sampling interval: 10887ms
  Thread calibration: mean lat.: 3148.614ms, rate sampling interval: 11010ms
  Thread calibration: mean lat.: 2755.776ms, rate sampling interval: 9682ms
  Thread calibration: mean lat.: 3113.330ms, rate sampling interval: 10747ms
  Thread calibration: mean lat.: 3271.245ms, rate sampling interval: 11591ms
  Thread calibration: mean lat.: 3279.587ms, rate sampling interval: 11345ms
  Thread calibration: mean lat.: 2992.457ms, rate sampling interval: 10289ms
  Thread calibration: mean lat.: 2875.196ms, rate sampling interval: 10502ms
  Thread calibration: mean lat.: 3336.980ms, rate sampling interval: 11370ms
  Thread calibration: mean lat.: 3288.566ms, rate sampling interval: 11272ms
  Thread calibration: mean lat.: 3123.451ms, rate sampling interval: 10772ms
  Thread calibration: mean lat.: 2469.939ms, rate sampling interval: 9084ms
  Thread calibration: mean lat.: 3339.109ms, rate sampling interval: 11395ms
  Thread calibration: mean lat.: 3236.579ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 3167.820ms, rate sampling interval: 10977ms
  Thread calibration: mean lat.: 3058.329ms, rate sampling interval: 10788ms
  Thread calibration: mean lat.: 3186.372ms, rate sampling interval: 10805ms
  Thread calibration: mean lat.: 3201.855ms, rate sampling interval: 11173ms
  Thread calibration: mean lat.: 3336.518ms, rate sampling interval: 11468ms
  Thread calibration: mean lat.: 3037.428ms, rate sampling interval: 10362ms
  Thread calibration: mean lat.: 3307.506ms, rate sampling interval: 11231ms
  Thread calibration: mean lat.: 3307.628ms, rate sampling interval: 11083ms
  Thread calibration: mean lat.: 3350.411ms, rate sampling interval: 11304ms
  Thread calibration: mean lat.: 3278.428ms, rate sampling interval: 11190ms
  Thread calibration: mean lat.: 3166.038ms, rate sampling interval: 11165ms
  Thread calibration: mean lat.: 3317.136ms, rate sampling interval: 10936ms
  Thread calibration: mean lat.: 3260.033ms, rate sampling interval: 11165ms
  Thread calibration: mean lat.: 2865.787ms, rate sampling interval: 9920ms
  Thread calibration: mean lat.: 3330.321ms, rate sampling interval: 11509ms
  Thread calibration: mean lat.: 3144.219ms, rate sampling interval: 11067ms
  Thread calibration: mean lat.: 3163.242ms, rate sampling interval: 10723ms
  Thread calibration: mean lat.: 3203.146ms, rate sampling interval: 10657ms
  Thread calibration: mean lat.: 3427.170ms, rate sampling interval: 11501ms
  Thread calibration: mean lat.: 3243.319ms, rate sampling interval: 11509ms
  Thread calibration: mean lat.: 3078.208ms, rate sampling interval: 11288ms
  Thread calibration: mean lat.: 3489.286ms, rate sampling interval: 11649ms
  Thread calibration: mean lat.: 3251.446ms, rate sampling interval: 11067ms
  Thread calibration: mean lat.: 3176.335ms, rate sampling interval: 11051ms
  Thread calibration: mean lat.: 2969.542ms, rate sampling interval: 10600ms
  Thread calibration: mean lat.: 3259.876ms, rate sampling interval: 11378ms
  Thread calibration: mean lat.: 3099.717ms, rate sampling interval: 10952ms
  Thread calibration: mean lat.: 2978.787ms, rate sampling interval: 10051ms
  Thread calibration: mean lat.: 3181.905ms, rate sampling interval: 10747ms
  Thread calibration: mean lat.: 2955.123ms, rate sampling interval: 9805ms
  Thread calibration: mean lat.: 3393.399ms, rate sampling interval: 11378ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    38.38s    17.63s    1.18m    59.93%
    Req/Sec    91.17      7.44   105.00     72.55%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.12s 
 75.000%    0.88m 
 90.000%    1.03m 
 99.000%    1.18m 
 99.900%    1.24m 
 99.990%    1.28m 
 99.999%    1.30m 
100.000%    1.30m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4259.839     0.000000            1         1.00
   13189.119     0.100000        48444         1.11
   20381.695     0.200000        96826         1.25
   27164.671     0.300000       145264         1.43
   33243.135     0.400000       193660         1.67
   39124.991     0.500000       242231         2.00
   41975.807     0.550000       266460         2.22
   44695.551     0.600000       290717         2.50
   47448.063     0.650000       314867         2.86
   50266.111     0.700000       338992         3.33
   53018.623     0.750000       363152         4.00
   54427.647     0.775000       375376         4.44
   55803.903     0.800000       387430         5.00
   57147.391     0.825000       399396         5.71
   58589.183     0.850000       411571         6.67
   60096.511     0.875000       423683         8.00
   60882.943     0.887500       429618         8.89
   61734.911     0.900000       435768        10.00
   62619.647     0.912500       441865        11.43
   63537.151     0.925000       447816        13.33
   64520.191     0.937500       453921        16.00
   65044.479     0.943750       456917        17.78
   65601.535     0.950000       459946        20.00
   66224.127     0.956250       462979        22.86
   66846.719     0.962500       465930        26.67
   67567.615     0.968750       469140        32.00
   67895.295     0.971875       470540        35.56
   68288.511     0.975000       472018        40.00
   68747.263     0.978125       473651        45.71
   69206.015     0.981250       475198        53.33
   69664.767     0.984375       476711        64.00
   69861.375     0.985938       477309        71.11
   70189.055     0.987500       478193        80.00
   70451.199     0.989062       478836        91.43
   70778.879     0.990625       479620       106.67
   71106.559     0.992188       480329       128.00
   71303.167     0.992969       480721       142.22
   71565.311     0.993750       481168       160.00
   71761.919     0.994531       481507       182.86
   71958.527     0.995313       481846       213.33
   72220.671     0.996094       482193       256.00
   72417.279     0.996484       482395       284.44
   72613.887     0.996875       482567       320.00
   72876.031     0.997266       482799       365.71
   73072.639     0.997656       482947       426.67
   73334.783     0.998047       483155       512.00
   73465.855     0.998242       483242       568.89
   73596.927     0.998437       483324       640.00
   73859.071     0.998633       483441       731.43
   73990.143     0.998828       483515       853.33
   74252.287     0.999023       483609      1024.00
   74448.895     0.999121       483666      1137.78
   74579.967     0.999219       483699      1280.00
   74776.575     0.999316       483761      1462.86
   74973.183     0.999414       483803      1706.67
   75169.791     0.999512       483843      2048.00
   75300.863     0.999561       483871      2275.56
   75366.399     0.999609       483886      2560.00
   75497.471     0.999658       483909      2925.71
   75694.079     0.999707       483935      3413.33
   75956.223     0.999756       483961      4096.00
   76021.759     0.999780       483972      4551.11
   76152.831     0.999805       483982      5120.00
   76283.903     0.999829       483996      5851.43
   76414.975     0.999854       484011      6826.67
   76546.047     0.999878       484016      8192.00
   76677.119     0.999890       484023      9102.22
   76873.727     0.999902       484029     10240.00
   77070.335     0.999915       484034     11702.86
   77135.871     0.999927       484039     13653.33
   77266.943     0.999939       484047     16384.00
   77332.479     0.999945       484048     18204.44
   77398.015     0.999951       484051     20480.00
   77529.087     0.999957       484055     23405.71
   77594.623     0.999963       484057     27306.67
   77725.695     0.999969       484064     32768.00
   77725.695     0.999973       484064     36408.89
   77725.695     0.999976       484064     40960.00
   77725.695     0.999979       484064     46811.43
   77791.231     0.999982       484066     54613.33
   77856.767     0.999985       484073     65536.00
   77856.767     0.999986       484073     72817.78
   77856.767     0.999988       484073     81920.00
   77856.767     0.999989       484073     93622.86
   77856.767     0.999991       484073    109226.67
   77856.767     0.999992       484073    131072.00
   77856.767     0.999993       484073    145635.56
   77856.767     0.999994       484073    163840.00
   77856.767     0.999995       484073    187245.71
   77856.767     0.999995       484073    218453.33
   77856.767     0.999996       484073    262144.00
   77856.767     0.999997       484073    291271.11
   77856.767     0.999997       484073    327680.00
   77856.767     0.999997       484073    374491.43
   77856.767     0.999998       484073    436906.67
   77922.303     0.999998       484074    524288.00
   77922.303     1.000000       484074          inf
#[Mean    =    38377.455, StdDeviation   =    17632.385]
#[Max     =    77856.768, Total count    =       484074]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  522959 requests in 2.00m, 7.06GB read
Requests/sec:   4360.59  
Transfer/sec:     60.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44710 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42769 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121848 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44710 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42769 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121848 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 10.384ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.946ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.365ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.786ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.945ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.557ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.241ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.713ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.117ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.415ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.402ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.492ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.679ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.700ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.322ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.577ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.050ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.696ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 10.115ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 8.657ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.426ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.832ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.459ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 9.783ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.161ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.873ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.611ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.923ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.340ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 9.005ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.197ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.345ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.104ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.728ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.764ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.081ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.914ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.746ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 9.597ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.900ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.198ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.952ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.482ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.014ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.153ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.532ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.530ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.951ms, rate sampling interval: 22ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.85ms    3.57ms  22.46ms   73.80%
    Req/Sec    20.31     29.34   120.00     91.89%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.62ms
 75.000%   12.54ms
 90.000%   14.87ms
 99.000%   22.46ms
 99.900%   29.79ms
 99.990%   36.48ms
 99.999%   41.31ms
100.000%   41.69ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.631     0.000000            1         1.00
       6.363     0.100000        10592         1.11
       8.223     0.200000        21181         1.25
       9.279     0.300000        31809         1.43
      10.007     0.400000        42468         1.67
      10.623     0.500000        52988         2.00
      10.951     0.550000        58308         2.22
      11.287     0.600000        63545         2.50
      11.663     0.650000        68802         2.86
      12.079     0.700000        74165         3.33
      12.543     0.750000        79444         4.00
      12.807     0.775000        82046         4.44
      13.103     0.800000        84689         5.00
      13.423     0.825000        87316         5.71
      13.799     0.850000        89988         6.67
      14.255     0.875000        92597         8.00
      14.543     0.887500        93933         8.89
      14.871     0.900000        95267        10.00
      15.255     0.912500        96562        11.43
      15.727     0.925000        97896        13.33
      16.343     0.937500        99210        16.00
      16.687     0.943750        99880        17.78
      17.071     0.950000       100539        20.00
      17.519     0.956250       101202        22.86
      18.031     0.962500       101866        26.67
      18.655     0.968750       102517        32.00
      18.991     0.971875       102848        35.56
      19.391     0.975000       103182        40.00
      19.855     0.978125       103510        45.71
      20.383     0.981250       103843        53.33
      20.959     0.984375       104174        64.00
      21.327     0.985938       104338        71.11
      21.727     0.987500       104504        80.00
      22.191     0.989062       104670        91.43
      22.735     0.990625       104831       106.67
      23.215     0.992188       104996       128.00
      23.551     0.992969       105080       142.22
      23.951     0.993750       105162       160.00
      24.431     0.994531       105246       182.86
      24.975     0.995313       105325       213.33
      25.551     0.996094       105408       256.00
      25.855     0.996484       105449       284.44
      26.319     0.996875       105491       320.00
      26.767     0.997266       105533       365.71
      27.183     0.997656       105573       426.67
      27.775     0.998047       105615       512.00
      28.063     0.998242       105635       568.89
      28.287     0.998437       105656       640.00
      28.847     0.998633       105677       731.43
      29.327     0.998828       105697       853.33
      29.919     0.999023       105719      1024.00
      30.223     0.999121       105728      1137.78
      30.639     0.999219       105739      1280.00
      31.039     0.999316       105749      1462.86
      31.375     0.999414       105759      1706.67
      32.079     0.999512       105770      2048.00
      32.799     0.999561       105775      2275.56
      33.215     0.999609       105780      2560.00
      33.823     0.999658       105786      2925.71
      34.015     0.999707       105790      3413.33
      35.135     0.999756       105796      4096.00
      35.263     0.999780       105798      4551.11
      35.551     0.999805       105801      5120.00
      35.679     0.999829       105804      5851.43
      35.807     0.999854       105806      6826.67
      36.447     0.999878       105809      8192.00
      36.479     0.999890       105810      9102.22
      36.543     0.999902       105811     10240.00
      37.311     0.999915       105812     11702.86
      37.823     0.999927       105814     13653.33
      38.431     0.999939       105815     16384.00
      39.007     0.999945       105816     18204.44
      39.007     0.999951       105816     20480.00
      39.199     0.999957       105817     23405.71
      39.327     0.999963       105818     27306.67
      39.327     0.999969       105818     32768.00
      40.831     0.999973       105819     36408.89
      40.831     0.999976       105819     40960.00
      40.831     0.999979       105819     46811.43
      41.311     0.999982       105820     54613.33
      41.311     0.999985       105820     65536.00
      41.311     0.999986       105820     72817.78
      41.311     0.999988       105820     81920.00
      41.311     0.999989       105820     93622.86
      41.695     0.999991       105821    109226.67
      41.695     1.000000       105821          inf
#[Mean    =       10.847, StdDeviation   =        3.567]
#[Max     =       41.664, Total count    =       105821]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115322 requests in 2.00m, 1.41GB read
Requests/sec:    961.01  
Transfer/sec:     12.00MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44650 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42895 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121847 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44650 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42895 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121847 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.307ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.310ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.396ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.361ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.129ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.556ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.520ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.086ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.806ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.706ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.836ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.088ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.066ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.508ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.340ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.967ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.562ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.256ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.622ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.744ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.023ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.852ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.828ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.746ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.188ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.437ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.867ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.849ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.542ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.382ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.926ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.751ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.993ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.459ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.599ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.766ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.848ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.657ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.786ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.612ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.542ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.316ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.719ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.020ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 5.941ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.696ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.797ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.199ms, rate sampling interval: 23ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.41ms    3.54ms  20.09ms   85.75%
    Req/Sec   106.26     69.98   300.00     73.03%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.46ms
 75.000%    7.49ms
 90.000%   10.45ms
 99.000%   20.09ms
 99.900%   31.34ms
 99.990%   44.10ms
 99.999%   59.29ms
100.000%   62.78ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.828     0.000000            1         1.00
       3.367     0.100000        55162         1.11
       3.887     0.200000       110035         1.25
       4.395     0.300000       164881         1.43
       4.907     0.400000       220007         1.67
       5.459     0.500000       274848         2.00
       5.763     0.550000       302279         2.22
       6.103     0.600000       329829         2.50
       6.491     0.650000       357307         2.86
       6.947     0.700000       384880         3.33
       7.495     0.750000       412385         4.00
       7.807     0.775000       425940         4.44
       8.167     0.800000       439734         5.00
       8.575     0.825000       453477         5.71
       9.063     0.850000       467221         6.67
       9.663     0.875000       480923         8.00
      10.031     0.887500       487876         8.89
      10.455     0.900000       494733        10.00
      10.943     0.912500       501561        11.43
      11.511     0.925000       508377        13.33
      12.231     0.937500       515248        16.00
      12.647     0.943750       518700        17.78
      13.119     0.950000       522109        20.00
      13.687     0.956250       525578        22.86
      14.311     0.962500       529001        26.67
      15.055     0.968750       532406        32.00
      15.503     0.971875       534132        35.56
      16.007     0.975000       535843        40.00
      16.623     0.978125       537582        45.71
      17.279     0.981250       539283        53.33
      18.095     0.984375       541016        64.00
      18.575     0.985938       541871        71.11
      19.087     0.987500       542720        80.00
      19.695     0.989062       543581        91.43
      20.431     0.990625       544434       106.67
      21.263     0.992188       545297       128.00
      21.759     0.992969       545718       142.22
      22.303     0.993750       546144       160.00
      22.943     0.994531       546573       182.86
      23.631     0.995313       547008       213.33
      24.495     0.996094       547431       256.00
      25.023     0.996484       547649       284.44
      25.583     0.996875       547864       320.00
      26.207     0.997266       548078       365.71
      27.023     0.997656       548290       426.67
      27.935     0.998047       548504       512.00
      28.399     0.998242       548612       568.89
      29.055     0.998437       548719       640.00
      29.743     0.998633       548831       731.43
      30.623     0.998828       548934       853.33
      31.487     0.999023       549041      1024.00
      32.271     0.999121       549095      1137.78
      32.927     0.999219       549148      1280.00
      33.759     0.999316       549206      1462.86
      34.431     0.999414       549256      1706.67
      35.199     0.999512       549309      2048.00
      35.743     0.999561       549336      2275.56
      36.479     0.999609       549364      2560.00
      37.119     0.999658       549390      2925.71
      37.983     0.999707       549417      3413.33
      39.263     0.999756       549444      4096.00
      39.647     0.999780       549458      4551.11
      40.415     0.999805       549470      5120.00
      41.023     0.999829       549485      5851.43
      41.631     0.999854       549497      6826.67
      42.815     0.999878       549511      8192.00
      43.263     0.999890       549517      9102.22
      44.479     0.999902       549524     10240.00
      44.959     0.999915       549531     11702.86
      46.431     0.999927       549538     13653.33
      46.975     0.999939       549544     16384.00
      47.775     0.999945       549547     18204.44
      48.831     0.999951       549551     20480.00
      49.727     0.999957       549554     23405.71
      50.751     0.999963       549557     27306.67
      52.543     0.999969       549562     32768.00
      52.543     0.999973       549562     36408.89
      53.119     0.999976       549564     40960.00
      54.783     0.999979       549566     46811.43
      54.847     0.999982       549567     54613.33
      57.119     0.999985       549569     65536.00
      58.303     0.999986       549570     72817.78
      58.719     0.999988       549571     81920.00
      59.295     0.999989       549572     93622.86
      59.295     0.999991       549572    109226.67
      59.743     0.999992       549573    131072.00
      60.095     0.999993       549574    145635.56
      60.095     0.999994       549574    163840.00
      60.991     0.999995       549575    187245.71
      60.991     0.999995       549575    218453.33
      60.991     0.999996       549575    262144.00
      61.311     0.999997       549576    291271.11
      61.311     0.999997       549576    327680.00
      61.311     0.999997       549576    374491.43
      61.311     0.999998       549576    436906.67
      61.311     0.999998       549576    524288.00
      62.783     0.999998       549577    582542.22
      62.783     1.000000       549577          inf
#[Mean    =        6.409, StdDeviation   =        3.540]
#[Max     =       62.752, Total count    =       549577]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  598978 requests in 2.00m, 7.29GB read
Requests/sec:   4994.73  
Transfer/sec:     62.27MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44091 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42486 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121479 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44091 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42486 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121479 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1270.987ms, rate sampling interval: 6606ms
  Thread calibration: mean lat.: 2013.590ms, rate sampling interval: 8749ms
  Thread calibration: mean lat.: 1916.924ms, rate sampling interval: 8089ms
  Thread calibration: mean lat.: 1734.157ms, rate sampling interval: 8306ms
  Thread calibration: mean lat.: 1426.721ms, rate sampling interval: 4759ms
  Thread calibration: mean lat.: 879.540ms, rate sampling interval: 4960ms
  Thread calibration: mean lat.: 1475.183ms, rate sampling interval: 5488ms
  Thread calibration: mean lat.: 1962.183ms, rate sampling interval: 6868ms
  Thread calibration: mean lat.: 1294.409ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 1664.004ms, rate sampling interval: 6221ms
  Thread calibration: mean lat.: 1890.302ms, rate sampling interval: 7163ms
  Thread calibration: mean lat.: 1171.336ms, rate sampling interval: 4665ms
  Thread calibration: mean lat.: 1076.144ms, rate sampling interval: 4866ms
  Thread calibration: mean lat.: 829.854ms, rate sampling interval: 3952ms
  Thread calibration: mean lat.: 1278.223ms, rate sampling interval: 4993ms
  Thread calibration: mean lat.: 1314.857ms, rate sampling interval: 7434ms
  Thread calibration: mean lat.: 1058.298ms, rate sampling interval: 4997ms
  Thread calibration: mean lat.: 2534.365ms, rate sampling interval: 8511ms
  Thread calibration: mean lat.: 1647.746ms, rate sampling interval: 7278ms
  Thread calibration: mean lat.: 1736.344ms, rate sampling interval: 6328ms
  Thread calibration: mean lat.: 1501.329ms, rate sampling interval: 5246ms
  Thread calibration: mean lat.: 1704.259ms, rate sampling interval: 6287ms
  Thread calibration: mean lat.: 1518.154ms, rate sampling interval: 5349ms
  Thread calibration: mean lat.: 1921.813ms, rate sampling interval: 6946ms
  Thread calibration: mean lat.: 1174.259ms, rate sampling interval: 6270ms
  Thread calibration: mean lat.: 1440.863ms, rate sampling interval: 5967ms
  Thread calibration: mean lat.: 1676.401ms, rate sampling interval: 5959ms
  Thread calibration: mean lat.: 1473.360ms, rate sampling interval: 6193ms
  Thread calibration: mean lat.: 1596.850ms, rate sampling interval: 5279ms
  Thread calibration: mean lat.: 1809.238ms, rate sampling interval: 6631ms
  Thread calibration: mean lat.: 1751.845ms, rate sampling interval: 6479ms
  Thread calibration: mean lat.: 1040.330ms, rate sampling interval: 5181ms
  Thread calibration: mean lat.: 1073.111ms, rate sampling interval: 4751ms
  Thread calibration: mean lat.: 1701.148ms, rate sampling interval: 6275ms
  Thread calibration: mean lat.: 1439.141ms, rate sampling interval: 5574ms
  Thread calibration: mean lat.: 985.737ms, rate sampling interval: 4624ms
  Thread calibration: mean lat.: 1538.336ms, rate sampling interval: 5668ms
  Thread calibration: mean lat.: 1307.666ms, rate sampling interval: 4431ms
  Thread calibration: mean lat.: 1042.119ms, rate sampling interval: 4952ms
  Thread calibration: mean lat.: 1250.262ms, rate sampling interval: 4481ms
  Thread calibration: mean lat.: 1094.911ms, rate sampling interval: 5033ms
  Thread calibration: mean lat.: 1791.015ms, rate sampling interval: 7151ms
  Thread calibration: mean lat.: 1196.688ms, rate sampling interval: 4186ms
  Thread calibration: mean lat.: 1634.285ms, rate sampling interval: 5853ms
  Thread calibration: mean lat.: 1038.348ms, rate sampling interval: 5378ms
  Thread calibration: mean lat.: 933.033ms, rate sampling interval: 5292ms
  Thread calibration: mean lat.: 1990.667ms, rate sampling interval: 6717ms
  Thread calibration: mean lat.: 1323.080ms, rate sampling interval: 6762ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    13.98s    14.16s    0.94m    83.21%
    Req/Sec   157.12     20.97   203.00     70.35%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.30s 
 75.000%   21.94s 
 90.000%   35.49s 
 99.000%    0.94m 
 99.900%    1.02m 
 99.990%    1.06m 
 99.999%    1.07m 
100.000%    1.08m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.415     0.000000            1         1.00
      98.943     0.100000        82219         1.11
     809.983     0.200000       164451         1.25
    4005.887     0.300000       246707         1.43
    6180.863     0.400000       328950         1.67
    9297.919     0.500000       411166         2.00
   10895.359     0.550000       452274         2.22
   13361.151     0.600000       493440         2.50
   15753.215     0.650000       534480         2.86
   18579.455     0.700000       575641         3.33
   21938.175     0.750000       616697         4.00
   23773.183     0.775000       637235         4.44
   25608.191     0.800000       657877         5.00
   27557.887     0.825000       678403         5.71
   29736.959     0.850000       698843         6.67
   32423.935     0.875000       719416         8.00
   33718.271     0.887500       729837         8.89
   35487.743     0.900000       740068        10.00
   37224.447     0.912500       750380        11.43
   39321.599     0.925000       760509        13.33
   41549.823     0.937500       770767        16.00
   42762.239     0.943750       776025        17.78
   43876.351     0.950000       781110        20.00
   45154.303     0.956250       786272        22.86
   46563.327     0.962500       791338        26.67
   48234.495     0.968750       796519        32.00
   49151.999     0.971875       799067        35.56
   50200.575     0.975000       801602        40.00
   51314.687     0.978125       804193        45.71
   52527.103     0.981250       806798        53.33
   53903.359     0.984375       809326        64.00
   54591.487     0.985938       810605        71.11
   55246.847     0.987500       811922        80.00
   55869.439     0.989062       813189        91.43
   56492.031     0.990625       814484       106.67
   57114.623     0.992188       815735       128.00
   57475.071     0.992969       816379       142.22
   57868.287     0.993750       817068       160.00
   58228.735     0.994531       817684       182.86
   58621.951     0.995313       818333       213.33
   59015.167     0.996094       818955       256.00
   59211.775     0.996484       819283       284.44
   59408.383     0.996875       819603       320.00
   59703.295     0.997266       819931       365.71
   59932.671     0.997656       820232       426.67
   60260.351     0.998047       820585       512.00
   60391.423     0.998242       820710       568.89
   60555.263     0.998437       820870       640.00
   60719.103     0.998633       821023       731.43
   60915.711     0.998828       821201       853.33
   61079.551     0.999023       821357      1024.00
   61177.855     0.999121       821431      1137.78
   61341.695     0.999219       821529      1280.00
   61439.999     0.999316       821602      1462.86
   61538.303     0.999414       821669      1706.67
   61669.375     0.999512       821753      2048.00
   61734.911     0.999561       821794      2275.56
   61833.215     0.999609       821832      2560.00
   61931.519     0.999658       821877      2925.71
   62029.823     0.999707       821908      3413.33
   62226.431     0.999756       821954      4096.00
   62357.503     0.999780       821967      4551.11
   62488.575     0.999805       821989      5120.00
   62685.183     0.999829       822008      5851.43
   62881.791     0.999854       822027      6826.67
   63111.167     0.999878       822048      8192.00
   63242.239     0.999890       822057      9102.22
   63373.311     0.999902       822068     10240.00
   63537.151     0.999915       822078     11702.86
   63635.455     0.999927       822088     13653.33
   63700.991     0.999939       822102     16384.00
   63700.991     0.999945       822102     18204.44
   63832.063     0.999951       822110     20480.00
   63864.831     0.999957       822114     23405.71
   63897.599     0.999963       822117     27306.67
   63995.903     0.999969       822122     32768.00
   64126.975     0.999973       822125     36408.89
   64225.279     0.999976       822128     40960.00
   64258.047     0.999979       822131     46811.43
   64290.815     0.999982       822132     54613.33
   64389.119     0.999985       822135     65536.00
   64421.887     0.999986       822136     72817.78
   64454.655     0.999988       822138     81920.00
   64487.423     0.999989       822140     93622.86
   64487.423     0.999991       822140    109226.67
   64552.959     0.999992       822142    131072.00
   64552.959     0.999993       822142    145635.56
   64552.959     0.999994       822142    163840.00
   64585.727     0.999995       822143    187245.71
   64651.263     0.999995       822146    218453.33
   64651.263     0.999996       822146    262144.00
   64651.263     0.999997       822146    291271.11
   64651.263     0.999997       822146    327680.00
   64651.263     0.999997       822146    374491.43
   64651.263     0.999998       822146    436906.67
   64651.263     0.999998       822146    524288.00
   64651.263     0.999998       822146    582542.22
   64651.263     0.999998       822146    655360.00
   64651.263     0.999999       822146    748982.86
   64684.031     0.999999       822147    873813.33
   64684.031     1.000000       822147          inf
#[Mean    =    13980.151, StdDeviation   =    14162.478]
#[Max     =    64651.264, Total count    =       822147]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  892744 requests in 2.00m, 10.90GB read
Requests/sec:   7445.29  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42924 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39231 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120912 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42924 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39231 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120912 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
a07232ebb74f69fbac4939334c1d5cb2334a4fb259cb61e0ee400cfbb3c955a1
b41f9781c9f294bdb0774ed8955cb74785991e36ad19232aed035c52eb968e88
8b92079a7522af2352d06e25db6ef725c8406c87843bfc33dc34fd7582c2f5d6
1fd663f7a23d7462aefea059c851f02dffe87465caf3bd6d97d3c8a5d1bd48b8
ea02336f53fc8a458ced713dce62d9dd40bb97ed52af1e418a169cd3ed676d4e
e93e3a5d8d0bf01163fa26197ac2fe8837be028b4e36543d4ffec28c939da40e
e4204b14c7b37125c7a7d7e8c0f192b4357eddc2b65ea044f25f84dd41a54b27
1d52ec7de5e8698003c109c2aff1485e43659ddff24bb04bf0e6041bf8a629a1
01199c01f1be75efbc8d1b2adad73d6d83e8a6a9444e07d61fcbb98ff5eb9397
d88fe070b73a8161f5cbd83af4539d4789d3f471b89e8b56d0dd6877a4225457
f380fcd0ddf973b199b03d21ca0647d1c23189f4a6fa685cc62272bdbd980f24
ef3cfdac27ebf04685c5e1df4d1ad2e83fcbeb9f3c96c7505b5a34c63d4b10ac
d0562fd258a8e09d6ae86229a27c76d16397fe98b182ee6cb4d49d6150ac67c9
deb40d4f0fefdb4bdf1adbe1c5fd1cfd1d74d0b91348a8e27a278b4c8b7b88f3
e7113ae98bd54a209c55d7661ab87ff269b6c1a4d58bfb4b2643b0d6edcfa581
1833fa3f231c8a5b86b04a0f5dc4650cbb7a98b7642ed601c5c9fac86abcb0e7
59faa2a7dc4a70c2bfed88eec44cf07cd0d550f636c78cbad9fc776eaf809db2
51b8c03c7cf6c02685cc83b2112e2c6a37e5762b0d7828845431672e05411644
603a131701c470b8b2187bd7f3ac4dbe2a7d5ad57f1075cd0490127081a9666f
c91961e4bde352fe1807e0d1e03fe2b3511ca101595bf27ae6f9fa34d8ffefd6
ce4576a2f7976be8106a784e7a65d80a8fe040791d15659e733effe30a83ad42
dfeafa026e8c906b7de3ff1cc12505ffe056bd84be8145a280d6ea7de024ab35
f16833ecdf1ea2f0ff8c7cd66ff5bc690b8f5cd315dbbeb355d420a25b51362c
b1c33c88c8aaf96ad9b08b5f95320dff5ebc11f19932db10642c86feb64ddb1d
f65b0d065673e04ee0a998408a4f212c531b8eb6044b70ae7d1579d45105ae26
9f5c0f69376cb45b70b79c4a036c8bf3fc9d7bb9650830bbd1539bb2645a0298
79b62d4a620acccccaef0383b974a6d85734714cc1464f9c4541f714441c6850
ca534987390d4cba02b033e361ad9a7c405a6f8f583cb87fc3f94695c996f4e4
7411980dd2767ba2c5d4f81275db4e306a950512f4e9630842f1f10112ffc1b2
15aabab84cea7011a388b38571e6c97967c57226fe2bc0ec79b3fd12f6611619
3e5b7307aa52e97d7c3d1d29c5dbdf38cda1ff4eccae3e3283e779a430997f89

Total reclaimed space: 4.413GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 0 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 16-55-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-0.log -b True -m m -M 0
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 16-55-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-0.log', 'mode': 'm', 'memnode': '0'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-0
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-0



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-0

Result: sha256:9205a5cfea65e5280bba3914b8f5a7a521a9b00d4c0ed5a212a49e7b06d74b53


Install numactl tools on docker image: openresty-thrift-numa-membind-0
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-0



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-0

Result: sha256:336efdd74801f6813e121a15f6641f7ddb18545a7eb3de6b77f7033763812b02


Install numactl tools on docker image: media-frontend-numa-membind-0
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-0



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-0

Result: sha256:992747ae50a8e9561b4612c88c4e6f6d07b6689e017330d3050d14c181cafd09


Install numactl tools on docker image: redis-numa-membind-0
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_home-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_home-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 10 23:55 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-0



CMD: docker commit socialnetwork_home-timeline-redis_4 redis-numa-membind-0

Result: sha256:b5f3e91642d24a83aa9f509f3f6822a840dbf84d39c139e60654bfaaa689e3f3


Install numactl tools on docker image: mongo-numa-membind-0
CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 10 23:56 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=0'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-0



CMD: docker commit socialnetwork_url-shorten-mongodb_1 mongo-numa-membind-0

Result: sha256:cb0e039631408cfab2e070befee5b1aed5b0300636322737ada858249242e1ff


Install numactl tools on docker image: memcached-numa-membind-0
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 10 23:56 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-0



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-membind-0

Result: sha256:f6c2bffedde382c3b313e3ae217795a7c48d4752b4388df496b5b7778df32aca


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
b3cf52e192a27c56db93288340b01feb415ffa906466248dddb888c086838e3e
7a06ce357ff9de47b7ecee3b4d5d0e11628b3a3f9be43b4b20c253b275642d79
d18cc6a2492a10a0e75dc5630d98799c2dbfae9501ec34304e5744ef2a2dc303
5dd8cdddcbf4741eb92ee8c61094e3e01a37c0f9418273984605797aa60c6222
b7cc0178cbd5fc1d913be759fd39ac1a9726cbfa19e1f9a736cb2b60cc87301e
dd4962a685404665cf55a0179124bd4b67d43f4c72895758411b7c2597310d36
0e625e6ff4506d65e7ee0c39025132d20a45d7ee400bb94167394b63cca6a34c
f45ac11666488e12d9b67746772db190d1c0c087de34636c0540f1c1a4cd49ef
c5d504b54c53a51d1f3b4beeab34cc57af70ae04d337264eff3f5873c82148ef
b52480a359baa410ed4b8a2491cd490cae170d03f3b96e46ab65e1a850a094ba
2fc2c466ecfbfeaf0f7581d261e5e44be03e5856d27632c407f4ebb09ab862c8
e5bd18164094c5ddb03796366d417f40d625340ca858af08dcc8b136853b4552
df2064c51c1503f121f3f656747c400e253b86a6bd6e44abc3e1a6785cc99c30
0ab20c3ecf54120626f47967e8931c77dd1006f5212236018e8ea58f15123d2c
6df41ab35c4aa8cf7231b16ba157495e9891572b86e9d531a55f3963522dc891
6cca9054f56f2617e907d6e306a49f8da3eed8544f9bd18f20dcf377fb1481f1
570e87a17ef7d326e9bd1ae96ab24635b21cb7324a42b3dcd5fe42176861509e
9562b0b1a022c137b8b472ee9b0b835f99dce1c79afe347e263b809f1f8224e4
8994e67f309fbeb1107f61c1578d123a1ba47f60c4e86d3eb2750a8cd2c6571b
daddf8c78c94126b1eea3f0a5a5a43c61e48745359ee781cddbae936466be675
7112c9633ec929b6cec5e6df55fec70348969303014c4f524869c026bb778d8e
393d140f7aa67e0c95a3d254be53610c453e4d0be7241d3e15d4168e2fc2975f
b62af61ecce30fb9717e47ae587f4e5a58258b7eb7affdb35333467660e4fd87
d43057109f904a2cd8f2699ec32a9d8ffcd633f5d4a567991a70fb8fcb4a76e7
7a012960685af7c910cb0288b6f8e77a45ee6ff16463cbee524f3c120c992cee
854deea12c522b8a5b3154af1bf59f6c1e47d75576bee91e03ec5955e2c896e9
54ad3b6363ac9db88f50716e202f409b3278ff8d87994a004b0e6be6ee0d7104
477b168ac24bdd69ccd3ca55f73a01d9cfdeb46fc7c7fb67d67941781e261f94
803c7b39f633c256dfc43f5d41c7d65bd3c14de679c80aec35065ce8913cd613
227f98d46e3ede46ca07b97de7d54a368e3a93af38f4a5b5039c9289a1475099
a3ca2219fe9956c92bc15a74ed19635b002b7923f920555bbc79bf8c69564924

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-0.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54521 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57522 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130581 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54521 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57522 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130581 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:716
cluster_stats_messages_pong_sent:711
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1428
cluster_stats_messages_ping_received:711
cluster_stats_messages_pong_received:717
cluster_stats_messages_received:1428
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:706
cluster_stats_messages_pong_sent:701
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1408
cluster_stats_messages_ping_received:701
cluster_stats_messages_pong_received:707
cluster_stats_messages_received:1408
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:710
cluster_stats_messages_pong_sent:715
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1426
cluster_stats_messages_ping_received:715
cluster_stats_messages_pong_received:711
cluster_stats_messages_received:1426
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.268ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.248ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.539ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.909ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.481ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.271ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.351ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.361ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.640ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.599ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.589ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.982ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.653ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.291ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.640ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.972ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.445ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 5.748ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.164ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.491ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.665ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.081ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 5.954ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.356ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.482ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.488ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.455ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 7.236ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.359ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.034ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.573ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.936ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.296ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.378ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 6.120ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.415ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.734ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.641ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.176ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.525ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.663ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.159ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.443ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 5.046ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 6.135ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.557ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.633ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.623ms, rate sampling interval: 12ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.72ms  655.63us   4.49ms   86.53%
    Req/Sec    20.93     44.43   181.00     79.96%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.68ms
 75.000%    2.91ms
 90.000%    3.20ms
 99.000%    4.49ms
 99.900%   10.80ms
 99.990%   18.56ms
 99.999%   23.42ms
100.000%   23.98ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.316     0.000000            1         1.00
       2.161     0.100000        10598         1.11
       2.381     0.200000        21279         1.25
       2.503     0.300000        31881         1.43
       2.597     0.400000        42490         1.67
       2.679     0.500000        52954         2.00
       2.721     0.550000        58420         2.22
       2.763     0.600000        63736         2.50
       2.805     0.650000        68910         2.86
       2.853     0.700000        74216         3.33
       2.907     0.750000        79470         4.00
       2.939     0.775000        82146         4.44
       2.973     0.800000        84677         5.00
       3.013     0.825000        87312         5.71
       3.061     0.850000        89955         6.67
       3.119     0.875000        92610         8.00
       3.155     0.887500        93960         8.89
       3.199     0.900000        95297        10.00
       3.253     0.912500        96577        11.43
       3.319     0.925000        97903        13.33
       3.399     0.937500        99219        16.00
       3.449     0.943750        99881        17.78
       3.505     0.950000       100539        20.00
       3.567     0.956250       101199        22.86
       3.645     0.962500       101859        26.67
       3.733     0.968750       102525        32.00
       3.781     0.971875       102849        35.56
       3.835     0.975000       103180        40.00
       3.909     0.978125       103519        45.71
       3.991     0.981250       103844        53.33
       4.119     0.984375       104171        64.00
       4.199     0.985938       104338        71.11
       4.299     0.987500       104503        80.00
       4.411     0.989062       104666        91.43
       4.551     0.990625       104833       106.67
       4.715     0.992188       104999       128.00
       4.811     0.992969       105082       142.22
       4.919     0.993750       105163       160.00
       5.079     0.994531       105247       182.86
       5.263     0.995313       105327       213.33
       5.623     0.996094       105411       256.00
       5.951     0.996484       105451       284.44
       6.407     0.996875       105493       320.00
       6.811     0.997266       105534       365.71
       7.179     0.997656       105575       426.67
       7.435     0.998047       105617       512.00
       7.635     0.998242       105637       568.89
       8.035     0.998437       105658       640.00
       8.615     0.998633       105680       731.43
       9.671     0.998828       105699       853.33
      10.839     0.999023       105720      1024.00
      11.479     0.999121       105730      1137.78
      12.215     0.999219       105741      1280.00
      13.071     0.999316       105751      1462.86
      13.799     0.999414       105761      1706.67
      14.935     0.999512       105772      2048.00
      15.495     0.999561       105777      2275.56
      15.975     0.999609       105782      2560.00
      16.623     0.999658       105787      2925.71
      17.039     0.999707       105792      3413.33
      17.583     0.999756       105798      4096.00
      17.727     0.999780       105800      4551.11
      18.063     0.999805       105803      5120.00
      18.143     0.999829       105806      5851.43
      18.191     0.999854       105808      6826.67
      18.431     0.999878       105811      8192.00
      18.559     0.999890       105812      9102.22
      19.007     0.999902       105813     10240.00
      19.215     0.999915       105815     11702.86
      19.551     0.999927       105816     13653.33
      19.791     0.999939       105817     16384.00
      19.839     0.999945       105818     18204.44
      19.839     0.999951       105818     20480.00
      20.895     0.999957       105819     23405.71
      21.215     0.999963       105820     27306.67
      21.215     0.999969       105820     32768.00
      21.743     0.999973       105821     36408.89
      21.743     0.999976       105821     40960.00
      21.743     0.999979       105821     46811.43
      23.423     0.999982       105822     54613.33
      23.423     0.999985       105822     65536.00
      23.423     0.999986       105822     72817.78
      23.423     0.999988       105822     81920.00
      23.423     0.999989       105822     93622.86
      23.983     0.999991       105823    109226.67
      23.983     1.000000       105823          inf
#[Mean    =        2.724, StdDeviation   =        0.656]
#[Max     =       23.968, Total count    =       105823]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115341 requests in 2.00m, 23.65MB read
Requests/sec:    961.12  
Transfer/sec:    201.80KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52439 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56419 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52439 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56419 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2373.659ms, rate sampling interval: 9338ms
  Thread calibration: mean lat.: 2202.069ms, rate sampling interval: 8495ms
  Thread calibration: mean lat.: 2342.291ms, rate sampling interval: 8904ms
  Thread calibration: mean lat.: 2269.998ms, rate sampling interval: 8617ms
  Thread calibration: mean lat.: 2437.891ms, rate sampling interval: 9371ms
  Thread calibration: mean lat.: 2025.061ms, rate sampling interval: 8159ms
  Thread calibration: mean lat.: 2226.142ms, rate sampling interval: 8527ms
  Thread calibration: mean lat.: 2125.809ms, rate sampling interval: 8237ms
  Thread calibration: mean lat.: 2544.401ms, rate sampling interval: 9478ms
  Thread calibration: mean lat.: 2464.801ms, rate sampling interval: 9428ms
  Thread calibration: mean lat.: 2085.517ms, rate sampling interval: 8552ms
  Thread calibration: mean lat.: 2163.075ms, rate sampling interval: 8757ms
  Thread calibration: mean lat.: 2375.910ms, rate sampling interval: 9338ms
  Thread calibration: mean lat.: 2424.402ms, rate sampling interval: 8585ms
  Thread calibration: mean lat.: 2166.409ms, rate sampling interval: 8454ms
  Thread calibration: mean lat.: 2329.834ms, rate sampling interval: 8634ms
  Thread calibration: mean lat.: 2377.718ms, rate sampling interval: 8781ms
  Thread calibration: mean lat.: 2705.033ms, rate sampling interval: 10084ms
  Thread calibration: mean lat.: 2475.653ms, rate sampling interval: 8642ms
  Thread calibration: mean lat.: 2451.923ms, rate sampling interval: 8675ms
  Thread calibration: mean lat.: 2267.555ms, rate sampling interval: 8421ms
  Thread calibration: mean lat.: 2534.052ms, rate sampling interval: 9617ms
  Thread calibration: mean lat.: 2440.898ms, rate sampling interval: 8847ms
  Thread calibration: mean lat.: 2501.720ms, rate sampling interval: 9510ms
  Thread calibration: mean lat.: 2375.826ms, rate sampling interval: 8994ms
  Thread calibration: mean lat.: 2329.216ms, rate sampling interval: 8384ms
  Thread calibration: mean lat.: 2459.420ms, rate sampling interval: 9134ms
  Thread calibration: mean lat.: 2807.977ms, rate sampling interval: 9912ms
  Thread calibration: mean lat.: 2609.295ms, rate sampling interval: 9379ms
  Thread calibration: mean lat.: 2821.279ms, rate sampling interval: 9478ms
  Thread calibration: mean lat.: 2489.806ms, rate sampling interval: 9527ms
  Thread calibration: mean lat.: 2628.851ms, rate sampling interval: 9199ms
  Thread calibration: mean lat.: 2418.399ms, rate sampling interval: 8544ms
  Thread calibration: mean lat.: 2401.688ms, rate sampling interval: 8798ms
  Thread calibration: mean lat.: 2535.204ms, rate sampling interval: 9027ms
  Thread calibration: mean lat.: 2752.343ms, rate sampling interval: 9437ms
  Thread calibration: mean lat.: 2367.883ms, rate sampling interval: 8560ms
  Thread calibration: mean lat.: 2931.501ms, rate sampling interval: 9977ms
  Thread calibration: mean lat.: 2724.882ms, rate sampling interval: 9551ms
  Thread calibration: mean lat.: 2648.750ms, rate sampling interval: 9134ms
  Thread calibration: mean lat.: 2758.702ms, rate sampling interval: 9609ms
  Thread calibration: mean lat.: 2792.647ms, rate sampling interval: 9895ms
  Thread calibration: mean lat.: 2720.684ms, rate sampling interval: 9314ms
  Thread calibration: mean lat.: 2817.965ms, rate sampling interval: 9371ms
  Thread calibration: mean lat.: 2195.537ms, rate sampling interval: 8220ms
  Thread calibration: mean lat.: 2802.238ms, rate sampling interval: 9748ms
  Thread calibration: mean lat.: 2353.559ms, rate sampling interval: 8847ms
  Thread calibration: mean lat.: 2758.259ms, rate sampling interval: 9650ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    31.34s    15.35s    0.97m    57.76%
    Req/Sec    53.67      1.04    56.00     95.35%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   31.11s 
 75.000%   44.60s 
 90.000%    0.88m 
 99.000%    0.97m 
 99.900%    1.00m 
 99.990%    1.03m 
 99.999%    1.03m 
100.000%    1.04m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3719.167     0.000000            1         1.00
   10190.847     0.100000        28572         1.11
   15458.303     0.200000        57153         1.25
   20676.607     0.300000        85743         1.43
   25968.639     0.400000       114354         1.67
   31113.215     0.500000       142891         2.00
   33849.343     0.550000       157174         2.22
   36634.623     0.600000       171425         2.50
   39387.135     0.650000       185783         2.86
   42008.575     0.700000       200068         3.33
   44597.247     0.750000       214390         4.00
   45973.503     0.775000       221484         4.44
   47316.991     0.800000       228576         5.00
   48660.479     0.825000       235852         5.71
   50003.967     0.850000       243031         6.67
   51281.919     0.875000       250007         8.00
   51937.279     0.887500       253641         8.89
   52592.639     0.900000       257163        10.00
   53247.999     0.912500       260810        11.43
   53870.591     0.925000       264355        13.33
   54525.951     0.937500       267973        16.00
   54853.631     0.943750       269747        17.78
   55181.311     0.950000       271513        20.00
   55541.759     0.956250       273287        22.86
   55902.207     0.962500       275056        26.67
   56295.423     0.968750       276846        32.00
   56492.031     0.971875       277708        35.56
   56721.407     0.975000       278649        40.00
   56918.015     0.978125       279442        45.71
   57147.391     0.981250       280345        53.33
   57409.535     0.984375       281311        64.00
   57540.607     0.985938       281702        71.11
   57704.447     0.987500       282234        80.00
   57835.519     0.989062       282605        91.43
   58032.127     0.990625       283042       106.67
   58228.735     0.992188       283500       128.00
   58327.039     0.992969       283682       142.22
   58458.111     0.993750       283931       160.00
   58589.183     0.994531       284140       182.86
   58785.791     0.995313       284389       213.33
   58949.631     0.996094       284590       256.00
   59047.935     0.996484       284712       284.44
   59146.239     0.996875       284816       320.00
   59277.311     0.997266       284925       365.71
   59408.383     0.997656       285026       426.67
   59572.223     0.998047       285139       512.00
   59670.527     0.998242       285208       568.89
   59768.831     0.998437       285258       640.00
   59867.135     0.998633       285312       731.43
   59965.439     0.998828       285356       853.33
   60096.511     0.999023       285415      1024.00
   60194.815     0.999121       285452      1137.78
   60260.351     0.999219       285474      1280.00
   60325.887     0.999316       285496      1462.86
   60555.263     0.999414       285530      1706.67
   60653.567     0.999512       285551      2048.00
   60784.639     0.999561       285566      2275.56
   60882.943     0.999609       285579      2560.00
   61046.783     0.999658       285596      2925.71
   61210.623     0.999707       285608      3413.33
   61308.927     0.999756       285624      4096.00
   61374.463     0.999780       285630      4551.11
   61439.999     0.999805       285636      5120.00
   61538.303     0.999829       285643      5851.43
   61603.839     0.999854       285649      6826.67
   61702.143     0.999878       285657      8192.00
   61767.679     0.999890       285660      9102.22
   61865.983     0.999902       285663     10240.00
   61931.519     0.999915       285671     11702.86
   61931.519     0.999927       285671     13653.33
   61964.287     0.999939       285674     16384.00
   61997.055     0.999945       285679     18204.44
   61997.055     0.999951       285679     20480.00
   61997.055     0.999957       285679     23405.71
   62029.823     0.999963       285681     27306.67
   62062.591     0.999969       285683     32768.00
   62062.591     0.999973       285683     36408.89
   62095.359     0.999976       285688     40960.00
   62095.359     0.999979       285688     46811.43
   62095.359     0.999982       285688     54613.33
   62095.359     0.999985       285688     65536.00
   62095.359     0.999986       285688     72817.78
   62095.359     0.999988       285688     81920.00
   62095.359     0.999989       285688     93622.86
   62095.359     0.999991       285688    109226.67
   62095.359     0.999992       285688    131072.00
   62128.127     0.999993       285690    145635.56
   62128.127     1.000000       285690          inf
#[Mean    =    31339.615, StdDeviation   =    15347.992]
#[Max     =    62095.360, Total count    =       285690]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  310372 requests in 2.00m, 63.64MB read
Requests/sec:   2587.75  
Transfer/sec:    543.33KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48586 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54331 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48586 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54331 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4299.172ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4362.114ms, rate sampling interval: 15941ms
  Thread calibration: mean lat.: 4136.036ms, rate sampling interval: 15081ms
  Thread calibration: mean lat.: 4291.401ms, rate sampling interval: 15646ms
  Thread calibration: mean lat.: 4241.339ms, rate sampling interval: 15532ms
  Thread calibration: mean lat.: 4350.789ms, rate sampling interval: 15343ms
  Thread calibration: mean lat.: 4412.690ms, rate sampling interval: 15867ms
  Thread calibration: mean lat.: 4264.094ms, rate sampling interval: 15327ms
  Thread calibration: mean lat.: 4005.385ms, rate sampling interval: 14213ms
  Thread calibration: mean lat.: 4340.586ms, rate sampling interval: 15745ms
  Thread calibration: mean lat.: 4326.957ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4405.492ms, rate sampling interval: 15597ms
  Thread calibration: mean lat.: 4250.618ms, rate sampling interval: 15253ms
  Thread calibration: mean lat.: 4213.762ms, rate sampling interval: 15474ms
  Thread calibration: mean lat.: 4227.062ms, rate sampling interval: 15491ms
  Thread calibration: mean lat.: 4340.162ms, rate sampling interval: 15687ms
  Thread calibration: mean lat.: 4199.108ms, rate sampling interval: 15269ms
  Thread calibration: mean lat.: 4364.017ms, rate sampling interval: 15433ms
  Thread calibration: mean lat.: 4526.356ms, rate sampling interval: 16031ms
  Thread calibration: mean lat.: 3998.211ms, rate sampling interval: 14344ms
  Thread calibration: mean lat.: 4408.503ms, rate sampling interval: 15736ms
  Thread calibration: mean lat.: 4275.772ms, rate sampling interval: 15704ms
  Thread calibration: mean lat.: 4218.023ms, rate sampling interval: 15359ms
  Thread calibration: mean lat.: 4350.660ms, rate sampling interval: 15884ms
  Thread calibration: mean lat.: 4138.369ms, rate sampling interval: 15261ms
  Thread calibration: mean lat.: 4049.053ms, rate sampling interval: 14368ms
  Thread calibration: mean lat.: 4215.814ms, rate sampling interval: 15409ms
  Thread calibration: mean lat.: 4325.047ms, rate sampling interval: 15761ms
  Thread calibration: mean lat.: 4341.747ms, rate sampling interval: 15654ms
  Thread calibration: mean lat.: 4251.757ms, rate sampling interval: 15859ms
  Thread calibration: mean lat.: 4397.271ms, rate sampling interval: 15884ms
  Thread calibration: mean lat.: 4503.492ms, rate sampling interval: 15695ms
  Thread calibration: mean lat.: 4360.514ms, rate sampling interval: 15622ms
  Thread calibration: mean lat.: 4380.261ms, rate sampling interval: 15523ms
  Thread calibration: mean lat.: 4127.264ms, rate sampling interval: 15294ms
  Thread calibration: mean lat.: 4415.229ms, rate sampling interval: 15704ms
  Thread calibration: mean lat.: 4281.886ms, rate sampling interval: 15663ms
  Thread calibration: mean lat.: 4163.656ms, rate sampling interval: 15392ms
  Thread calibration: mean lat.: 4346.333ms, rate sampling interval: 15409ms
  Thread calibration: mean lat.: 4319.873ms, rate sampling interval: 15589ms
  Thread calibration: mean lat.: 4283.703ms, rate sampling interval: 15581ms
  Thread calibration: mean lat.: 4182.861ms, rate sampling interval: 15712ms
  Thread calibration: mean lat.: 4251.607ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4355.505ms, rate sampling interval: 15556ms
  Thread calibration: mean lat.: 4424.729ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4310.289ms, rate sampling interval: 15908ms
  Thread calibration: mean lat.: 4362.574ms, rate sampling interval: 15491ms
  Thread calibration: mean lat.: 4395.687ms, rate sampling interval: 15990ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.94m    27.44s    1.72m    57.85%
    Req/Sec    27.26      0.65    29.00     97.83%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.93m 
 75.000%    1.33m 
 90.000%    1.57m 
 99.000%    1.72m 
 99.900%    1.74m 
 99.990%    1.75m 
 99.999%    1.76m 
100.000%    1.76m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7815.167     0.000000            1         1.00
   18120.703     0.100000        14636         1.11
   27656.191     0.200000        29297         1.25
   37191.679     0.300000        43950         1.43
   46694.399     0.400000        58556         1.67
   56066.047     0.500000        73212         2.00
   60686.335     0.550000        80535         2.22
   65273.855     0.600000        87828         2.50
   70057.983     0.650000        95141         2.86
   74907.647     0.700000       102496         3.33
   79822.847     0.750000       109773         4.00
   82247.679     0.775000       113505         4.44
   84606.975     0.800000       117117         5.00
   87097.343     0.825000       120807         5.71
   89456.639     0.850000       124450         6.67
   91815.935     0.875000       128154         8.00
   92995.583     0.887500       129984         8.89
   94175.231     0.900000       131723        10.00
   95485.951     0.912500       133633        11.43
   96665.599     0.925000       135396        13.33
   98041.855     0.937500       137297        16.00
   98631.679     0.943750       138152        17.78
   99221.503     0.950000       139057        20.00
   99876.863     0.956250       140052        22.86
  100466.687     0.962500       140949        26.67
  101056.511     0.968750       141859        32.00
  101318.655     0.971875       142254        35.56
  101646.335     0.975000       142736        40.00
  101974.015     0.978125       143248        45.71
  102236.159     0.981250       143660        53.33
  102563.839     0.984375       144146        64.00
  102694.911     0.985938       144354        71.11
  102825.983     0.987500       144548        80.00
  103022.591     0.989062       144838        91.43
  103153.663     0.990625       145029       106.67
  103284.735     0.992188       145217       128.00
  103415.807     0.992969       145396       142.22
  103481.343     0.993750       145478       160.00
  103546.879     0.994531       145570       182.86
  103677.951     0.995313       145728       213.33
  103743.487     0.996094       145800       256.00
  103809.023     0.996484       145870       284.44
  103874.559     0.996875       145939       320.00
  103940.095     0.997266       145999       365.71
  104005.631     0.997656       146052       426.67
  104071.167     0.998047       146096       512.00
  104136.703     0.998242       146129       568.89
  104136.703     0.998437       146129       640.00
  104202.239     0.998633       146173       731.43
  104267.775     0.998828       146200       853.33
  104333.311     0.999023       146222      1024.00
  104398.847     0.999121       146248      1137.78
  104398.847     0.999219       146248      1280.00
  104464.383     0.999316       146269      1462.86
  104529.919     0.999414       146285      1706.67
  104529.919     0.999512       146285      2048.00
  104595.455     0.999561       146299      2275.56
  104595.455     0.999609       146299      2560.00
  104660.991     0.999658       146314      2925.71
  104660.991     0.999707       146314      3413.33
  104726.527     0.999756       146329      4096.00
  104726.527     0.999780       146329      4551.11
  104726.527     0.999805       146329      5120.00
  104792.063     0.999829       146335      5851.43
  104792.063     0.999854       146335      6826.67
  104923.135     0.999878       146344      8192.00
  104923.135     0.999890       146344      9102.22
  104923.135     0.999902       146344     10240.00
  104923.135     0.999915       146344     11702.86
  104988.671     0.999927       146346     13653.33
  105054.207     0.999939       146348     16384.00
  105054.207     0.999945       146348     18204.44
  105185.279     0.999951       146350     20480.00
  105185.279     0.999957       146350     23405.71
  105250.815     0.999963       146352     27306.67
  105250.815     0.999969       146352     32768.00
  105250.815     0.999973       146352     36408.89
  105381.887     0.999976       146353     40960.00
  105381.887     0.999979       146353     46811.43
  105447.423     0.999982       146354     54613.33
  105447.423     0.999985       146354     65536.00
  105447.423     0.999986       146354     72817.78
  105512.959     0.999988       146355     81920.00
  105512.959     0.999989       146355     93622.86
  105512.959     0.999991       146355    109226.67
  105512.959     0.999992       146355    131072.00
  105512.959     0.999993       146355    145635.56
  105644.031     0.999994       146356    163840.00
  105644.031     1.000000       146356          inf
#[Mean    =    56100.749, StdDeviation   =    27437.695]
#[Max     =   105578.496, Total count    =       146356]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  159317 requests in 2.00m, 32.67MB read
Requests/sec:   1327.74  
Transfer/sec:    278.77KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44107 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51152 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44107 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51152 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.270ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.977ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.605ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.176ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.769ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.747ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.731ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.392ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.886ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.579ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.497ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.895ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.405ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.479ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.473ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.139ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 12.200ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.130ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.858ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.546ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.919ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.952ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.621ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.214ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.648ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.565ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.441ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.210ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.345ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.437ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.044ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.479ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.051ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.268ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.544ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.529ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.585ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.356ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.625ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.070ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.807ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.588ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.264ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.547ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.711ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.590ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.537ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.680ms, rate sampling interval: 30ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.31ms    2.87ms  21.95ms   83.27%
    Req/Sec    20.21     26.26   107.00     88.25%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.74ms
 75.000%   12.06ms
 90.000%   14.39ms
 99.000%   21.95ms
 99.900%   29.18ms
 99.990%   38.37ms
 99.999%   47.20ms
100.000%   47.81ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.229     0.000000            1         1.00
       8.959     0.100000        10692         1.11
       9.591     0.200000        21320         1.25
      10.015     0.300000        31953         1.43
      10.383     0.400000        42552         1.67
      10.743     0.500000        53047         2.00
      10.935     0.550000        58302         2.22
      11.151     0.600000        63626         2.50
      11.391     0.650000        68799         2.86
      11.687     0.700000        74082         3.33
      12.063     0.750000        79408         4.00
      12.295     0.775000        82051         4.44
      12.559     0.800000        84681         5.00
      12.863     0.825000        87326         5.71
      13.239     0.850000        90004         6.67
      13.711     0.875000        92616         8.00
      14.007     0.887500        93933         8.89
      14.391     0.900000        95251        10.00
      14.887     0.912500        96575        11.43
      15.503     0.925000        97895        13.33
      16.247     0.937500        99219        16.00
      16.655     0.943750        99881        17.78
      17.087     0.950000       100555        20.00
      17.567     0.956250       101204        22.86
      18.079     0.962500       101877        26.67
      18.671     0.968750       102523        32.00
      18.991     0.971875       102863        35.56
      19.311     0.975000       103193        40.00
      19.727     0.978125       103513        45.71
      20.191     0.981250       103855        53.33
      20.703     0.984375       104174        64.00
      21.007     0.985938       104343        71.11
      21.343     0.987500       104508        80.00
      21.711     0.989062       104677        91.43
      22.175     0.990625       104842       106.67
      22.735     0.992188       105004       128.00
      23.071     0.992969       105085       142.22
      23.455     0.993750       105167       160.00
      23.871     0.994531       105250       182.86
      24.399     0.995313       105331       213.33
      25.087     0.996094       105414       256.00
      25.375     0.996484       105455       284.44
      25.663     0.996875       105497       320.00
      26.095     0.997266       105538       365.71
      26.479     0.997656       105580       426.67
      27.071     0.998047       105621       512.00
      27.295     0.998242       105644       568.89
      27.631     0.998437       105662       640.00
      27.967     0.998633       105683       731.43
      28.687     0.998828       105703       853.33
      29.231     0.999023       105724      1024.00
      29.599     0.999121       105734      1137.78
      30.063     0.999219       105745      1280.00
      30.623     0.999316       105755      1462.86
      31.071     0.999414       105765      1706.67
      32.175     0.999512       105776      2048.00
      32.495     0.999561       105781      2275.56
      32.831     0.999609       105786      2560.00
      33.823     0.999658       105791      2925.71
      34.143     0.999707       105796      3413.33
      35.071     0.999756       105802      4096.00
      35.615     0.999780       105804      4551.11
      35.999     0.999805       105807      5120.00
      36.319     0.999829       105809      5851.43
      36.831     0.999854       105812      6826.67
      38.047     0.999878       105815      8192.00
      38.367     0.999890       105816      9102.22
      38.399     0.999902       105817     10240.00
      38.751     0.999915       105818     11702.86
      40.447     0.999927       105820     13653.33
      40.479     0.999939       105821     16384.00
      40.991     0.999945       105822     18204.44
      40.991     0.999951       105822     20480.00
      41.119     0.999957       105823     23405.71
      41.983     0.999963       105824     27306.67
      41.983     0.999969       105824     32768.00
      46.271     0.999973       105825     36408.89
      46.271     0.999976       105825     40960.00
      46.271     0.999979       105825     46811.43
      47.199     0.999982       105826     54613.33
      47.199     0.999985       105826     65536.00
      47.199     0.999986       105826     72817.78
      47.199     0.999988       105826     81920.00
      47.199     0.999989       105826     93622.86
      47.807     0.999991       105827    109226.67
      47.807     1.000000       105827          inf
#[Mean    =       11.315, StdDeviation   =        2.871]
#[Max     =       47.776, Total count    =       105827]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115306 requests in 2.00m, 1.56GB read
Requests/sec:    960.84  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42765 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48016 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42765 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48016 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 1044.493ms, rate sampling interval: 4607ms
  Thread calibration: mean lat.: 1134.936ms, rate sampling interval: 4440ms
  Thread calibration: mean lat.: 1146.972ms, rate sampling interval: 5066ms
  Thread calibration: mean lat.: 1466.541ms, rate sampling interval: 5439ms
  Thread calibration: mean lat.: 1613.886ms, rate sampling interval: 6668ms
  Thread calibration: mean lat.: 1275.060ms, rate sampling interval: 4599ms
  Thread calibration: mean lat.: 1136.600ms, rate sampling interval: 4976ms
  Thread calibration: mean lat.: 1517.424ms, rate sampling interval: 6234ms
  Thread calibration: mean lat.: 1519.509ms, rate sampling interval: 5808ms
  Thread calibration: mean lat.: 1394.114ms, rate sampling interval: 5341ms
  Thread calibration: mean lat.: 1517.759ms, rate sampling interval: 6320ms
  Thread calibration: mean lat.: 1183.032ms, rate sampling interval: 4784ms
  Thread calibration: mean lat.: 1460.860ms, rate sampling interval: 5672ms
  Thread calibration: mean lat.: 1338.419ms, rate sampling interval: 5353ms
  Thread calibration: mean lat.: 1228.091ms, rate sampling interval: 5459ms
  Thread calibration: mean lat.: 987.078ms, rate sampling interval: 4188ms
  Thread calibration: mean lat.: 1245.491ms, rate sampling interval: 5570ms
  Thread calibration: mean lat.: 1204.470ms, rate sampling interval: 4644ms
  Thread calibration: mean lat.: 1289.756ms, rate sampling interval: 5861ms
  Thread calibration: mean lat.: 1383.359ms, rate sampling interval: 5451ms
  Thread calibration: mean lat.: 1043.008ms, rate sampling interval: 4812ms
  Thread calibration: mean lat.: 1404.091ms, rate sampling interval: 5099ms
  Thread calibration: mean lat.: 1387.192ms, rate sampling interval: 6373ms
  Thread calibration: mean lat.: 1322.173ms, rate sampling interval: 5476ms
  Thread calibration: mean lat.: 1179.677ms, rate sampling interval: 4857ms
  Thread calibration: mean lat.: 1547.394ms, rate sampling interval: 6172ms
  Thread calibration: mean lat.: 1487.062ms, rate sampling interval: 6152ms
  Thread calibration: mean lat.: 1287.394ms, rate sampling interval: 4894ms
  Thread calibration: mean lat.: 1719.752ms, rate sampling interval: 6643ms
  Thread calibration: mean lat.: 1353.659ms, rate sampling interval: 5550ms
  Thread calibration: mean lat.: 1336.247ms, rate sampling interval: 5980ms
  Thread calibration: mean lat.: 1558.125ms, rate sampling interval: 6582ms
  Thread calibration: mean lat.: 1429.586ms, rate sampling interval: 6205ms
  Thread calibration: mean lat.: 1499.662ms, rate sampling interval: 5775ms
  Thread calibration: mean lat.: 1668.319ms, rate sampling interval: 6508ms
  Thread calibration: mean lat.: 1347.525ms, rate sampling interval: 5238ms
  Thread calibration: mean lat.: 1615.694ms, rate sampling interval: 6508ms
  Thread calibration: mean lat.: 1303.367ms, rate sampling interval: 5738ms
  Thread calibration: mean lat.: 1708.347ms, rate sampling interval: 6541ms
  Thread calibration: mean lat.: 1416.048ms, rate sampling interval: 5255ms
  Thread calibration: mean lat.: 1147.212ms, rate sampling interval: 4032ms
  Thread calibration: mean lat.: 1526.803ms, rate sampling interval: 5550ms
  Thread calibration: mean lat.: 1145.359ms, rate sampling interval: 4947ms
  Thread calibration: mean lat.: 1618.149ms, rate sampling interval: 6463ms
  Thread calibration: mean lat.: 1304.123ms, rate sampling interval: 5357ms
  Thread calibration: mean lat.: 1195.192ms, rate sampling interval: 4567ms
  Thread calibration: mean lat.: 1633.320ms, rate sampling interval: 6094ms
  Thread calibration: mean lat.: 1555.343ms, rate sampling interval: 6004ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    21.02s    11.67s   47.74s    62.26%
    Req/Sec    69.32      4.87    81.00     79.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   20.30s 
 75.000%   29.66s 
 90.000%   37.36s 
 99.000%   47.74s 
 99.900%    0.87m 
 99.990%    0.90m 
 99.999%    0.92m 
100.000%    0.92m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

     912.895     0.000000            1         1.00
    5738.495     0.100000        36786         1.11
    9461.759     0.200000        73614         1.25
   12959.743     0.300000       110329         1.43
   16572.415     0.400000       147120         1.67
   20299.775     0.500000       183909         2.00
   22102.015     0.550000       202304         2.22
   23986.175     0.600000       220680         2.50
   25755.647     0.650000       239075         2.86
   27688.959     0.700000       257443         3.33
   29655.039     0.750000       275784         4.00
   30687.231     0.775000       285018         4.44
   31735.807     0.800000       294142         5.00
   32964.607     0.825000       303429         5.71
   34209.791     0.850000       312527         6.67
   35651.583     0.875000       321785         8.00
   36536.319     0.887500       326480         8.89
   37355.519     0.900000       331024        10.00
   38207.487     0.912500       335529        11.43
   39190.527     0.925000       340125        13.33
   40271.871     0.937500       344741        16.00
   40828.927     0.943750       347040        17.78
   41451.519     0.950000       349307        20.00
   42139.647     0.956250       351594        22.86
   42893.311     0.962500       353902        26.67
   43745.279     0.968750       356172        32.00
   44236.799     0.971875       357328        35.56
   44728.319     0.975000       358484        40.00
   45252.607     0.978125       359683        45.71
   45809.663     0.981250       360806        53.33
   46432.255     0.984375       361923        64.00
   46759.935     0.985938       362552        71.11
   47087.615     0.987500       363117        80.00
   47448.063     0.989062       363655        91.43
   47906.815     0.990625       364227       106.67
   48431.103     0.992188       364793       128.00
   48726.015     0.992969       365081       142.22
   49020.927     0.993750       365375       160.00
   49348.607     0.994531       365675       182.86
   49676.287     0.995313       365946       213.33
   50069.503     0.996094       366245       256.00
   50266.111     0.996484       366380       284.44
   50561.023     0.996875       366520       320.00
   50823.167     0.997266       366673       365.71
   51085.311     0.997656       366805       426.67
   51314.687     0.998047       366952       512.00
   51478.527     0.998242       367019       568.89
   51675.135     0.998437       367085       640.00
   51838.975     0.998633       367158       731.43
   52068.351     0.998828       367236       853.33
   52396.031     0.999023       367303      1024.00
   52559.871     0.999121       367341      1137.78
   52756.479     0.999219       367371      1280.00
   52985.855     0.999316       367415      1462.86
   53084.159     0.999414       367443      1706.67
   53215.231     0.999512       367482      2048.00
   53313.535     0.999561       367505      2275.56
   53379.071     0.999609       367516      2560.00
   53477.375     0.999658       367537      2925.71
   53542.911     0.999707       367551      3413.33
   53706.751     0.999756       367569      4096.00
   53772.287     0.999780       367580      4551.11
   53837.823     0.999805       367589      5120.00
   53936.127     0.999829       367597      5851.43
   54034.431     0.999854       367609      6826.67
   54099.967     0.999878       367615      8192.00
   54132.735     0.999890       367622      9102.22
   54165.503     0.999902       367627     10240.00
   54165.503     0.999915       367627     11702.86
   54198.271     0.999927       367632     13653.33
   54263.807     0.999939       367636     16384.00
   54329.343     0.999945       367641     18204.44
   54329.343     0.999951       367641     20480.00
   54493.183     0.999957       367643     23405.71
   54624.255     0.999963       367645     27306.67
   54689.791     0.999969       367647     32768.00
   54722.559     0.999973       367648     36408.89
   54853.631     0.999976       367652     40960.00
   54853.631     0.999979       367652     46811.43
   54853.631     0.999982       367652     54613.33
   54951.935     0.999985       367654     65536.00
   54951.935     0.999986       367654     72817.78
   54951.935     0.999988       367654     81920.00
   55050.239     0.999989       367655     93622.86
   55050.239     0.999991       367655    109226.67
   55083.007     0.999992       367656    131072.00
   55083.007     0.999993       367656    145635.56
   55083.007     0.999994       367656    163840.00
   55148.543     0.999995       367657    187245.71
   55148.543     0.999995       367657    218453.33
   55148.543     0.999996       367657    262144.00
   55148.543     0.999997       367657    291271.11
   55148.543     0.999997       367657    327680.00
   55246.847     0.999997       367658    374491.43
   55246.847     1.000000       367658          inf
#[Mean    =    21019.663, StdDeviation   =    11673.384]
#[Max     =    55214.080, Total count    =       367658]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  402615 requests in 2.00m, 5.43GB read
Requests/sec:   3354.81  
Transfer/sec:     46.36MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 39390 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44047 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 39390 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44047 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3260.079ms, rate sampling interval: 12181ms
  Thread calibration: mean lat.: 3166.902ms, rate sampling interval: 11935ms
  Thread calibration: mean lat.: 3461.818ms, rate sampling interval: 12558ms
  Thread calibration: mean lat.: 3043.931ms, rate sampling interval: 11550ms
  Thread calibration: mean lat.: 3118.173ms, rate sampling interval: 11747ms
  Thread calibration: mean lat.: 3226.695ms, rate sampling interval: 11911ms
  Thread calibration: mean lat.: 3259.012ms, rate sampling interval: 12025ms
  Thread calibration: mean lat.: 3297.654ms, rate sampling interval: 12550ms
  Thread calibration: mean lat.: 3247.239ms, rate sampling interval: 12451ms
  Thread calibration: mean lat.: 3193.185ms, rate sampling interval: 12091ms
  Thread calibration: mean lat.: 2990.317ms, rate sampling interval: 10993ms
  Thread calibration: mean lat.: 3085.208ms, rate sampling interval: 11591ms
  Thread calibration: mean lat.: 3200.893ms, rate sampling interval: 11698ms
  Thread calibration: mean lat.: 3311.022ms, rate sampling interval: 12197ms
  Thread calibration: mean lat.: 3242.554ms, rate sampling interval: 12189ms
  Thread calibration: mean lat.: 3031.976ms, rate sampling interval: 11296ms
  Thread calibration: mean lat.: 3283.218ms, rate sampling interval: 12115ms
  Thread calibration: mean lat.: 3151.717ms, rate sampling interval: 11591ms
  Thread calibration: mean lat.: 3112.610ms, rate sampling interval: 11689ms
  Thread calibration: mean lat.: 3410.203ms, rate sampling interval: 12713ms
  Thread calibration: mean lat.: 3254.498ms, rate sampling interval: 12034ms
  Thread calibration: mean lat.: 3333.748ms, rate sampling interval: 12427ms
  Thread calibration: mean lat.: 3180.626ms, rate sampling interval: 11624ms
  Thread calibration: mean lat.: 3239.084ms, rate sampling interval: 12132ms
  Thread calibration: mean lat.: 3420.177ms, rate sampling interval: 12287ms
  Thread calibration: mean lat.: 3193.173ms, rate sampling interval: 12156ms
  Thread calibration: mean lat.: 3226.843ms, rate sampling interval: 11673ms
  Thread calibration: mean lat.: 3364.754ms, rate sampling interval: 11993ms
  Thread calibration: mean lat.: 3347.839ms, rate sampling interval: 12222ms
  Thread calibration: mean lat.: 3266.705ms, rate sampling interval: 11993ms
  Thread calibration: mean lat.: 3401.703ms, rate sampling interval: 12697ms
  Thread calibration: mean lat.: 3432.181ms, rate sampling interval: 12328ms
  Thread calibration: mean lat.: 3211.846ms, rate sampling interval: 12025ms
  Thread calibration: mean lat.: 3400.687ms, rate sampling interval: 12451ms
  Thread calibration: mean lat.: 3472.881ms, rate sampling interval: 12558ms
  Thread calibration: mean lat.: 3335.107ms, rate sampling interval: 12025ms
  Thread calibration: mean lat.: 3244.005ms, rate sampling interval: 11706ms
  Thread calibration: mean lat.: 3321.989ms, rate sampling interval: 12214ms
  Thread calibration: mean lat.: 3561.600ms, rate sampling interval: 12795ms
  Thread calibration: mean lat.: 3479.037ms, rate sampling interval: 12369ms
  Thread calibration: mean lat.: 3332.188ms, rate sampling interval: 12312ms
  Thread calibration: mean lat.: 3457.727ms, rate sampling interval: 12304ms
  Thread calibration: mean lat.: 3324.982ms, rate sampling interval: 12197ms
  Thread calibration: mean lat.: 3331.980ms, rate sampling interval: 12058ms
  Thread calibration: mean lat.: 3565.354ms, rate sampling interval: 12984ms
  Thread calibration: mean lat.: 3408.457ms, rate sampling interval: 12468ms
  Thread calibration: mean lat.: 3303.024ms, rate sampling interval: 11943ms
  Thread calibration: mean lat.: 3324.111ms, rate sampling interval: 12222ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    43.27s    20.41s    1.32m    58.65%
    Req/Sec    72.11      3.97    81.00     77.78%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   43.78s 
 75.000%    1.01m 
 90.000%    1.19m 
 99.000%    1.32m 
 99.900%    1.38m 
 99.990%    1.41m 
 99.999%    1.43m 
100.000%    1.44m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    5693.439     0.000000            1         1.00
   14696.447     0.100000        38332         1.11
   22233.087     0.200000        76659         1.25
   29573.119     0.300000       114922         1.43
   36601.855     0.400000       153266         1.67
   43778.047     0.500000       191545         2.00
   47120.383     0.550000       210704         2.22
   50462.719     0.600000       229908         2.50
   53772.287     0.650000       249079         2.86
   57147.391     0.700000       268164         3.33
   60555.263     0.750000       287366         4.00
   62226.431     0.775000       296888         4.44
   63995.903     0.800000       306476         5.00
   65765.375     0.825000       316115         5.71
   67502.079     0.850000       325708         6.67
   69271.551     0.875000       335437         8.00
   70189.055     0.887500       340159         8.89
   71106.559     0.900000       344815        10.00
   72089.599     0.912500       349756        11.43
   73072.639     0.925000       354476        13.33
   74055.679     0.937500       359346        16.00
   74514.431     0.943750       361591        17.78
   74973.183     0.950000       363876        20.00
   75497.471     0.956250       366360        22.86
   76087.295     0.962500       368916        26.67
   76611.583     0.968750       371135        32.00
   76939.263     0.971875       372464        35.56
   77201.407     0.975000       373510        40.00
   77529.087     0.978125       374725        45.71
   77856.767     0.981250       375855        53.33
   78249.983     0.984375       377090        64.00
   78446.591     0.985938       377655        71.11
   78708.735     0.987500       378298        80.00
   78970.879     0.989062       378894        91.43
   79233.023     0.990625       379463       106.67
   79560.703     0.992188       380080       128.00
   79757.311     0.992969       380369       142.22
   80019.455     0.993750       380713       160.00
   80216.063     0.994531       380969       182.86
   80478.207     0.995313       381260       213.33
   80805.887     0.996094       381570       256.00
   80936.959     0.996484       381695       284.44
   81133.567     0.996875       381858       320.00
   81395.711     0.997266       382018       365.71
   81592.319     0.997656       382146       426.67
   81919.999     0.998047       382294       512.00
   82051.071     0.998242       382352       568.89
   82247.679     0.998437       382430       640.00
   82444.287     0.998633       382513       731.43
   82640.895     0.998828       382586       853.33
   82837.503     0.999023       382659      1024.00
   82968.575     0.999121       382698      1137.78
   83099.647     0.999219       382738      1280.00
   83230.719     0.999316       382770      1462.86
   83427.327     0.999414       382820      1706.67
   83558.399     0.999512       382848      2048.00
   83623.935     0.999561       382859      2275.56
   83820.543     0.999609       382882      2560.00
   83886.079     0.999658       382895      2925.71
   84082.687     0.999707       382918      3413.33
   84213.759     0.999756       382930      4096.00
   84344.831     0.999780       382949      4551.11
   84344.831     0.999805       382949      5120.00
   84475.903     0.999829       382961      5851.43
   84541.439     0.999854       382967      6826.67
   84738.047     0.999878       382977      8192.00
   84803.583     0.999890       382982      9102.22
   84934.655     0.999902       382988     10240.00
   85000.191     0.999915       382992     11702.86
   85065.727     0.999927       382996     13653.33
   85131.263     0.999939       383000     16384.00
   85196.799     0.999945       383002     18204.44
   85327.871     0.999951       383005     20480.00
   85393.407     0.999957       383007     23405.71
   85524.479     0.999963       383010     27306.67
   85590.015     0.999969       383013     32768.00
   85590.015     0.999973       383013     36408.89
   85721.087     0.999976       383014     40960.00
   85786.623     0.999979       383016     46811.43
   85786.623     0.999982       383016     54613.33
   85983.231     0.999985       383018     65536.00
   85983.231     0.999986       383018     72817.78
   86048.767     0.999988       383019     81920.00
   86048.767     0.999989       383019     93622.86
   86114.303     0.999991       383023    109226.67
   86114.303     1.000000       383023          inf
#[Mean    =    43267.928, StdDeviation   =    20409.849]
#[Max     =    86048.768, Total count    =       383023]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  414773 requests in 2.00m, 5.60GB read
Requests/sec:   3457.83  
Transfer/sec:     47.80MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36400 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40305 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36400 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40305 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 21.912ms, rate sampling interval: 113ms
  Thread calibration: mean lat.: 17.922ms, rate sampling interval: 66ms
  Thread calibration: mean lat.: 22.295ms, rate sampling interval: 135ms
  Thread calibration: mean lat.: 20.951ms, rate sampling interval: 116ms
  Thread calibration: mean lat.: 19.039ms, rate sampling interval: 84ms
  Thread calibration: mean lat.: 19.314ms, rate sampling interval: 110ms
  Thread calibration: mean lat.: 21.943ms, rate sampling interval: 103ms
  Thread calibration: mean lat.: 17.827ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 18.642ms, rate sampling interval: 67ms
  Thread calibration: mean lat.: 20.197ms, rate sampling interval: 63ms
  Thread calibration: mean lat.: 19.829ms, rate sampling interval: 107ms
  Thread calibration: mean lat.: 24.188ms, rate sampling interval: 146ms
  Thread calibration: mean lat.: 19.311ms, rate sampling interval: 89ms
  Thread calibration: mean lat.: 22.007ms, rate sampling interval: 128ms
  Thread calibration: mean lat.: 19.911ms, rate sampling interval: 104ms
  Thread calibration: mean lat.: 25.432ms, rate sampling interval: 153ms
  Thread calibration: mean lat.: 21.894ms, rate sampling interval: 121ms
  Thread calibration: mean lat.: 16.869ms, rate sampling interval: 45ms
  Thread calibration: mean lat.: 21.479ms, rate sampling interval: 127ms
  Thread calibration: mean lat.: 18.633ms, rate sampling interval: 106ms
  Thread calibration: mean lat.: 20.175ms, rate sampling interval: 111ms
  Thread calibration: mean lat.: 18.366ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 17.546ms, rate sampling interval: 45ms
  Thread calibration: mean lat.: 20.090ms, rate sampling interval: 124ms
  Thread calibration: mean lat.: 21.352ms, rate sampling interval: 104ms
  Thread calibration: mean lat.: 18.848ms, rate sampling interval: 97ms
  Thread calibration: mean lat.: 22.142ms, rate sampling interval: 131ms
  Thread calibration: mean lat.: 22.155ms, rate sampling interval: 133ms
  Thread calibration: mean lat.: 24.612ms, rate sampling interval: 156ms
  Thread calibration: mean lat.: 18.537ms, rate sampling interval: 71ms
  Thread calibration: mean lat.: 23.145ms, rate sampling interval: 128ms
  Thread calibration: mean lat.: 17.421ms, rate sampling interval: 80ms
  Thread calibration: mean lat.: 18.955ms, rate sampling interval: 96ms
  Thread calibration: mean lat.: 19.097ms, rate sampling interval: 64ms
  Thread calibration: mean lat.: 19.634ms, rate sampling interval: 88ms
  Thread calibration: mean lat.: 20.258ms, rate sampling interval: 125ms
  Thread calibration: mean lat.: 21.856ms, rate sampling interval: 127ms
  Thread calibration: mean lat.: 23.394ms, rate sampling interval: 159ms
  Thread calibration: mean lat.: 19.292ms, rate sampling interval: 93ms
  Thread calibration: mean lat.: 16.337ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 19.444ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 21.204ms, rate sampling interval: 118ms
  Thread calibration: mean lat.: 23.377ms, rate sampling interval: 148ms
  Thread calibration: mean lat.: 21.213ms, rate sampling interval: 127ms
  Thread calibration: mean lat.: 22.341ms, rate sampling interval: 109ms
  Thread calibration: mean lat.: 19.219ms, rate sampling interval: 108ms
  Thread calibration: mean lat.: 20.836ms, rate sampling interval: 100ms
  Thread calibration: mean lat.: 21.849ms, rate sampling interval: 139ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    12.74ms   13.50ms  89.92ms   96.24%
    Req/Sec    19.80     15.89    67.00     66.92%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.33ms
 75.000%   12.19ms
 90.000%   15.52ms
 99.000%   89.92ms
 99.900%  135.93ms
 99.990%  179.46ms
 99.999%  239.36ms
100.000%  252.67ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.975     0.000000            1         1.00
       6.323     0.100000        10589         1.11
       8.447     0.200000        21252         1.25
       9.223     0.300000        31783         1.43
       9.799     0.400000        42427         1.67
      10.327     0.500000        52996         2.00
      10.607     0.550000        58269         2.22
      10.927     0.600000        63601         2.50
      11.287     0.650000        68833         2.86
      11.695     0.700000        74111         3.33
      12.191     0.750000        79433         4.00
      12.495     0.775000        82055         4.44
      12.847     0.800000        84720         5.00
      13.239     0.825000        87370         5.71
      13.759     0.850000        89971         6.67
      14.471     0.875000        92625         8.00
      14.927     0.887500        93933         8.89
      15.519     0.900000        95270        10.00
      16.223     0.912500        96587        11.43
      17.199     0.925000        97919        13.33
      18.511     0.937500        99226        16.00
      19.439     0.943750        99887        17.78
      20.575     0.950000       100549        20.00
      22.287     0.956250       101210        22.86
      26.351     0.962500       101873        26.67
      39.679     0.968750       102532        32.00
      47.743     0.971875       102865        35.56
      55.423     0.975000       103194        40.00
      62.431     0.978125       103525        45.71
      69.439     0.981250       103855        53.33
      76.223     0.984375       104191        64.00
      79.999     0.985938       104351        71.11
      83.455     0.987500       104519        80.00
      87.487     0.989062       104682        91.43
      91.583     0.990625       104849       106.67
      96.383     0.992188       105016       128.00
      98.815     0.992969       105097       142.22
     101.631     0.993750       105178       160.00
     104.383     0.994531       105261       182.86
     107.647     0.995313       105343       213.33
     111.167     0.996094       105427       256.00
     112.767     0.996484       105467       284.44
     114.623     0.996875       105509       320.00
     117.247     0.997266       105550       365.71
     120.255     0.997656       105591       426.67
     123.711     0.998047       105633       512.00
     126.015     0.998242       105654       568.89
     128.767     0.998437       105674       640.00
     131.199     0.998633       105695       731.43
     132.991     0.998828       105715       853.33
     136.703     0.999023       105736      1024.00
     138.623     0.999121       105746      1137.78
     142.463     0.999219       105757      1280.00
     144.767     0.999316       105767      1462.86
     146.943     0.999414       105777      1706.67
     151.039     0.999512       105788      2048.00
     152.703     0.999561       105793      2275.56
     154.239     0.999609       105798      2560.00
     157.311     0.999658       105803      2925.71
     161.023     0.999707       105808      3413.33
     163.455     0.999756       105814      4096.00
     167.423     0.999780       105816      4551.11
     170.879     0.999805       105819      5120.00
     172.799     0.999829       105821      5851.43
     175.743     0.999854       105824      6826.67
     179.071     0.999878       105827      8192.00
     179.455     0.999890       105828      9102.22
     186.111     0.999902       105829     10240.00
     188.543     0.999915       105830     11702.86
     202.879     0.999927       105832     13653.33
     203.263     0.999939       105833     16384.00
     204.031     0.999945       105834     18204.44
     204.031     0.999951       105834     20480.00
     215.167     0.999957       105835     23405.71
     219.775     0.999963       105836     27306.67
     219.775     0.999969       105836     32768.00
     231.423     0.999973       105837     36408.89
     231.423     0.999976       105837     40960.00
     231.423     0.999979       105837     46811.43
     239.359     0.999982       105838     54613.33
     239.359     0.999985       105838     65536.00
     239.359     0.999986       105838     72817.78
     239.359     0.999988       105838     81920.00
     239.359     0.999989       105838     93622.86
     252.671     0.999991       105839    109226.67
     252.671     1.000000       105839          inf
#[Mean    =       12.745, StdDeviation   =       13.502]
#[Max     =      252.544, Total count    =       105839]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115322 requests in 2.00m, 1.41GB read
Requests/sec:    960.93  
Transfer/sec:     12.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 38224 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44914 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 38224 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44914 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.178ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.036ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.425ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 5.979ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.305ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 5.887ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.291ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.553ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.996ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.602ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.255ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.003ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.748ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.377ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.739ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.058ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.791ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.834ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.671ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.855ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.579ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.377ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.088ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 5.834ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.024ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.983ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.370ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.664ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.815ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.835ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.216ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.896ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.311ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.698ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.620ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.029ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 5.993ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.154ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.475ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.454ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.093ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.861ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.926ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.843ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.693ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.186ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.497ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 5.987ms, rate sampling interval: 18ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.40ms    3.54ms  20.11ms   85.66%
    Req/Sec   106.31     70.86   300.00     73.36%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.47ms
 75.000%    7.49ms
 90.000%   10.39ms
 99.000%   20.11ms
 99.900%   31.73ms
 99.990%   43.17ms
 99.999%   56.42ms
100.000%   61.98ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.888     0.000000            1         1.00
       3.303     0.100000        55128         1.11
       3.877     0.200000       110103         1.25
       4.411     0.300000       164900         1.43
       4.923     0.400000       219898         1.67
       5.475     0.500000       275010         2.00
       5.779     0.550000       302512         2.22
       6.119     0.600000       329988         2.50
       6.499     0.650000       357275         2.86
       6.951     0.700000       384791         3.33
       7.491     0.750000       412196         4.00
       7.807     0.775000       425989         4.44
       8.163     0.800000       439659         5.00
       8.567     0.825000       453587         5.71
       9.039     0.850000       467136         6.67
       9.623     0.875000       480840         8.00
       9.983     0.887500       487751         8.89
      10.391     0.900000       494628        10.00
      10.871     0.912500       501512        11.43
      11.431     0.925000       508311        13.33
      12.135     0.937500       515204        16.00
      12.551     0.943750       518618        17.78
      13.031     0.950000       522067        20.00
      13.591     0.956250       525514        22.86
      14.239     0.962500       528938        26.67
      15.023     0.968750       532343        32.00
      15.495     0.971875       534089        35.56
      16.015     0.975000       535777        40.00
      16.607     0.978125       537510        45.71
      17.279     0.981250       539247        53.33
      18.111     0.984375       540935        64.00
      18.575     0.985938       541799        71.11
      19.103     0.987500       542656        80.00
      19.711     0.989062       543510        91.43
      20.463     0.990625       544379       106.67
      21.327     0.992188       545234       128.00
      21.855     0.992969       545668       142.22
      22.463     0.993750       546088       160.00
      23.103     0.994531       546516       182.86
      23.855     0.995313       546943       213.33
      24.687     0.996094       547368       256.00
      25.231     0.996484       547588       284.44
      25.839     0.996875       547797       320.00
      26.543     0.997266       548013       365.71
      27.311     0.997656       548227       426.67
      28.175     0.998047       548445       512.00
      28.751     0.998242       548550       568.89
      29.375     0.998437       548656       640.00
      30.031     0.998633       548763       731.43
      30.815     0.998828       548871       853.33
      31.871     0.999023       548980      1024.00
      32.383     0.999121       549032      1137.78
      32.959     0.999219       549085      1280.00
      33.759     0.999316       549140      1462.86
      34.623     0.999414       549193      1706.67
      35.551     0.999512       549247      2048.00
      36.063     0.999561       549274      2275.56
      36.575     0.999609       549300      2560.00
      37.151     0.999658       549328      2925.71
      38.079     0.999707       549354      3413.33
      38.719     0.999756       549380      4096.00
      39.167     0.999780       549394      4551.11
      39.935     0.999805       549407      5120.00
      40.671     0.999829       549421      5851.43
      41.599     0.999854       549435      6826.67
      42.239     0.999878       549447      8192.00
      42.687     0.999890       549455      9102.22
      43.391     0.999902       549461     10240.00
      43.999     0.999915       549468     11702.86
      44.767     0.999927       549476     13653.33
      45.887     0.999939       549481     16384.00
      46.239     0.999945       549484     18204.44
      46.591     0.999951       549488     20480.00
      47.199     0.999957       549491     23405.71
      47.519     0.999963       549494     27306.67
      48.639     0.999969       549498     32768.00
      49.151     0.999973       549499     36408.89
      50.815     0.999976       549501     40960.00
      51.455     0.999979       549503     46811.43
      51.583     0.999982       549504     54613.33
      52.159     0.999985       549506     65536.00
      52.447     0.999986       549507     72817.78
      52.575     0.999988       549508     81920.00
      56.415     0.999989       549509     93622.86
      56.415     0.999991       549509    109226.67
      57.183     0.999992       549510    131072.00
      57.983     0.999993       549511    145635.56
      57.983     0.999994       549511    163840.00
      58.463     0.999995       549512    187245.71
      58.463     0.999995       549512    218453.33
      58.463     0.999996       549512    262144.00
      60.095     0.999997       549513    291271.11
      60.095     0.999997       549513    327680.00
      60.095     0.999997       549513    374491.43
      60.095     0.999998       549513    436906.67
      60.095     0.999998       549513    524288.00
      61.983     0.999998       549514    582542.22
      61.983     1.000000       549514          inf
#[Mean    =        6.400, StdDeviation   =        3.538]
#[Max     =       61.952, Total count    =       549514]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599036 requests in 2.00m, 7.33GB read
Requests/sec:   4995.27  
Transfer/sec:     62.57MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 37399 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44860 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 37399 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44860 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 483.671ms, rate sampling interval: 3612ms
  Thread calibration: mean lat.: 1720.637ms, rate sampling interval: 8232ms
  Thread calibration: mean lat.: 871.912ms, rate sampling interval: 6918ms
  Thread calibration: mean lat.: 980.356ms, rate sampling interval: 5332ms
  Thread calibration: mean lat.: 733.626ms, rate sampling interval: 4489ms
  Thread calibration: mean lat.: 1684.045ms, rate sampling interval: 7901ms
  Thread calibration: mean lat.: 984.125ms, rate sampling interval: 5443ms
  Thread calibration: mean lat.: 1844.563ms, rate sampling interval: 7843ms
  Thread calibration: mean lat.: 599.677ms, rate sampling interval: 4419ms
  Thread calibration: mean lat.: 1166.039ms, rate sampling interval: 7008ms
  Thread calibration: mean lat.: 1611.515ms, rate sampling interval: 7340ms
  Thread calibration: mean lat.: 408.001ms, rate sampling interval: 2467ms
  Thread calibration: mean lat.: 474.564ms, rate sampling interval: 2003ms
  Thread calibration: mean lat.: 825.521ms, rate sampling interval: 6733ms
  Thread calibration: mean lat.: 255.885ms, rate sampling interval: 1647ms
  Thread calibration: mean lat.: 1591.498ms, rate sampling interval: 7733ms
  Thread calibration: mean lat.: 702.269ms, rate sampling interval: 6516ms
  Thread calibration: mean lat.: 567.486ms, rate sampling interval: 4093ms
  Thread calibration: mean lat.: 630.876ms, rate sampling interval: 4538ms
  Thread calibration: mean lat.: 868.074ms, rate sampling interval: 6615ms
  Thread calibration: mean lat.: 632.066ms, rate sampling interval: 4673ms
  Thread calibration: mean lat.: 553.229ms, rate sampling interval: 3055ms
  Thread calibration: mean lat.: 364.791ms, rate sampling interval: 2549ms
  Thread calibration: mean lat.: 673.030ms, rate sampling interval: 5505ms
  Thread calibration: mean lat.: 2103.780ms, rate sampling interval: 9404ms
  Thread calibration: mean lat.: 119.632ms, rate sampling interval: 707ms
  Thread calibration: mean lat.: 1680.199ms, rate sampling interval: 8699ms
  Thread calibration: mean lat.: 1000.428ms, rate sampling interval: 3739ms
  Thread calibration: mean lat.: 503.504ms, rate sampling interval: 2926ms
  Thread calibration: mean lat.: 1415.489ms, rate sampling interval: 7184ms
  Thread calibration: mean lat.: 1529.167ms, rate sampling interval: 5681ms
  Thread calibration: mean lat.: 980.127ms, rate sampling interval: 6811ms
  Thread calibration: mean lat.: 793.656ms, rate sampling interval: 6578ms
  Thread calibration: mean lat.: 1140.249ms, rate sampling interval: 6852ms
  Thread calibration: mean lat.: 1968.731ms, rate sampling interval: 8503ms
  Thread calibration: mean lat.: 1121.985ms, rate sampling interval: 5971ms
  Thread calibration: mean lat.: 1234.132ms, rate sampling interval: 7323ms
  Thread calibration: mean lat.: 778.150ms, rate sampling interval: 6647ms
  Thread calibration: mean lat.: 630.963ms, rate sampling interval: 2961ms
  Thread calibration: mean lat.: 937.679ms, rate sampling interval: 3620ms
  Thread calibration: mean lat.: 707.682ms, rate sampling interval: 4012ms
  Thread calibration: mean lat.: 483.256ms, rate sampling interval: 3272ms
  Thread calibration: mean lat.: 2432.323ms, rate sampling interval: 9846ms
  Thread calibration: mean lat.: 477.817ms, rate sampling interval: 2308ms
  Thread calibration: mean lat.: 945.838ms, rate sampling interval: 5169ms
  Thread calibration: mean lat.: 821.077ms, rate sampling interval: 5074ms
  Thread calibration: mean lat.: 1467.512ms, rate sampling interval: 8888ms
  Thread calibration: mean lat.: 682.518ms, rate sampling interval: 4497ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    16.70s    17.54s    1.14m    82.93%
    Req/Sec   152.25     28.72   216.00     66.03%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.99s 
 75.000%   27.43s 
 90.000%   42.01s 
 99.000%    1.14m 
 99.900%    1.31m 
 99.990%    1.35m 
 99.999%    1.37m 
100.000%    1.37m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.483     0.000000            1         1.00
      53.311     0.100000        73689         1.11
     378.879     0.200000       147380         1.25
    2179.071     0.300000       221113         1.43
    5853.183     0.400000       294806         1.67
   10985.471     0.500000       368473         2.00
   14614.527     0.550000       405338         2.22
   18022.399     0.600000       442118         2.50
   21118.975     0.650000       479062         2.86
   24248.319     0.700000       515943         3.33
   27426.815     0.750000       552770         4.00
   29507.583     0.775000       571121         4.44
   31555.583     0.800000       589566         5.00
   33849.343     0.825000       607905         5.71
   36241.407     0.850000       626504         6.67
   38862.847     0.875000       644871         8.00
   40304.639     0.887500       653970         8.89
   42008.575     0.900000       663328        10.00
   43646.975     0.912500       672561        11.43
   45776.895     0.925000       681675        13.33
   48627.711     0.937500       690870        16.00
   50298.879     0.943750       695427        17.78
   52363.263     0.950000       700035        20.00
   54362.111     0.956250       704648        22.86
   56295.423     0.962500       709260        26.67
   58425.343     0.968750       713880        32.00
   59506.687     0.971875       716170        35.56
   60620.799     0.975000       718451        40.00
   61702.143     0.978125       720742        45.71
   62947.327     0.981250       723059        53.33
   64356.351     0.984375       725377        64.00
   65208.319     0.985938       726498        71.11
   66256.895     0.987500       727666        80.00
   67567.615     0.989062       728797        91.43
   68878.335     0.990625       729999       106.67
   70189.055     0.992188       731146       128.00
   70844.415     0.992969       731731       142.22
   71434.239     0.993750       732284       160.00
   72089.599     0.994531       732836       182.86
   72744.959     0.995313       733454       213.33
   73531.391     0.996094       733982       256.00
   73990.143     0.996484       734286       284.44
   74383.359     0.996875       734556       320.00
   74973.183     0.997266       734837       365.71
   75759.615     0.997656       735136       426.67
   76742.655     0.998047       735414       512.00
   77135.871     0.998242       735559       568.89
   77594.623     0.998437       735703       640.00
   77987.839     0.998633       735860       731.43
   78446.591     0.998828       735994       853.33
   78839.807     0.999023       736154      1024.00
   78970.879     0.999121       736210      1137.78
   79167.487     0.999219       736285      1280.00
   79364.095     0.999316       736352      1462.86
   79560.703     0.999414       736428      1706.67
   79822.847     0.999512       736512      2048.00
   79888.383     0.999561       736542      2275.56
   80019.455     0.999609       736574      2560.00
   80150.527     0.999658       736602      2925.71
   80347.135     0.999707       736636      3413.33
   80609.279     0.999756       736683      4096.00
   80674.815     0.999780       736694      4551.11
   80805.887     0.999805       736714      5120.00
   80871.423     0.999829       736728      5851.43
   81002.495     0.999854       736750      6826.67
   81133.567     0.999878       736765      8192.00
   81199.103     0.999890       736778      9102.22
   81264.639     0.999902       736792     10240.00
   81264.639     0.999915       736792     11702.86
   81395.711     0.999927       736799     13653.33
   81526.783     0.999939       736808     16384.00
   81592.319     0.999945       736813     18204.44
   81657.855     0.999951       736815     20480.00
   81723.391     0.999957       736826     23405.71
   81723.391     0.999963       736826     27306.67
   81788.927     0.999969       736833     32768.00
   81788.927     0.999973       736833     36408.89
   81788.927     0.999976       736833     40960.00
   81854.463     0.999979       736836     46811.43
   81919.999     0.999982       736845     54613.33
   81919.999     0.999985       736845     65536.00
   81919.999     0.999986       736845     72817.78
   81919.999     0.999988       736845     81920.00
   81919.999     0.999989       736845     93622.86
   81919.999     0.999991       736845    109226.67
   81919.999     0.999992       736845    131072.00
   81919.999     0.999993       736845    145635.56
   81985.535     0.999994       736849    163840.00
   81985.535     0.999995       736849    187245.71
   81985.535     0.999995       736849    218453.33
   81985.535     0.999996       736849    262144.00
   81985.535     0.999997       736849    291271.11
   81985.535     0.999997       736849    327680.00
   81985.535     0.999997       736849    374491.43
   81985.535     0.999998       736849    436906.67
   81985.535     0.999998       736849    524288.00
   81985.535     0.999998       736849    582542.22
   81985.535     0.999998       736849    655360.00
   82051.071     0.999999       736850    748982.86
   82051.071     1.000000       736850          inf
#[Mean    =    16696.763, StdDeviation   =    17543.554]
#[Max     =    81985.536, Total count    =       736850]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  807693 requests in 2.00m, 9.88GB read
Requests/sec:   6736.45  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36203 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42851 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 36203 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42851 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
f63b55008651989bb5af5be30fd9737a4403b9e4973b61fd0a4c3869c570703c
763649ac64db42988049e2be5dedc0eb3ec1e24ea42a48781020c0327c5d23e2
2a9e687b8f6c3d842995b3dade9e87e857676705622be9f83e2c0f4a4d9c311a
b8a4d87f0bee7d961a982f96f43d3088cb5bdd160c017d216fd14f51ea853fd1
b130e2a3863216c16c95ff0486d7b293034e40bb04392fe9076b3cdabc8451b8
478e87d28199f9ddfe05b9a71c9d708eeaf380dfeea17b40fada8535c5c99410
deee378013e7685e8a8cee4de327940fc3e817b453936d0855249112ee893415
f16876bda543a710a68f35a2005954951484280b124e1506f1ddd2277b8cd736
38896327d9adb2f5c1f11bdab61bf15970bf8abcd5d50854480b1d4c9ea6dfda
62b6b877d8e4a140ec5c400c678cb857f9b6ffe3be1c282a0a4be751319d9d1f
568c6987a7b3d329d0c21667d25e39f50fd626bbd990472b6bbbf833c47703b1
02488fb24d0e2251f9373784246021fa40e7af7f7f1a2390bad0b741d86e2724
89a17cc2aa4913c3422096ba75e798eb4600325ae98728519434d356c0f2eb6d
e50aac1fb075686a231c74b1cde3a3c292fd1d33713c731853c97dbe0935410f
7d1480d8ed73485b27739a8f48dda7e8a196fcf88011b96bd7e654a95d7675d5
61afbdc70b855cd0c6b4621897d70a027ef0182d5a77e161d2bf4438dd655d8b
916e001e289a75cc4e97177754a87bcc2642b637da318ef6f083daf9bad6ab54
b074eaa4f4c98f2f4693e47fa3534f56e4418095b013f791983f0dd030be9b63
f5838ee04554bfa7b0453b612db30739d93b196e654c213851a9d97acdcd43b6
51bec1cd9d6621192e713b150241db17c5cb7c5252a130e39821129ceccc559a
a16558cff43c507690e1194a361e649d592ad5d7ae092db2962140078e57f285
d818542772ea1c50b6bcaf45af1e5a97bf78bc73708b3e93a3c524d68b5fbfbf
35c6dd8fc26817d9bc9009d3b21a603560643b741d54dcfb7599899f52cb4bf4
5dd88bedd247fb7b310723861d446e1d74b88d11983ea162bb9e53a7ed434014
771f5e52156e1064ed38b47ebf5666823bb486b472fbbc7df0a7199b83fb0c9d
6792ae558d802773d6baf4cd2a992a6367ee0b0d7bb38882f68c3db7b14a2f04
da04bc69f34879b641d4e92c4f07a7068ea0de7a21e3c5048724032e9f4e6cd8
a94826284dd304a5c35b3285769b7c70841355e32f0f07f44da1fa34a1508b5f
5833a41f13101d70142d3ef15389577acae258884494ea3493aff8f9a201a6b6
7a8e95ec9f9329be8414f031e8130456ee7f5e033ed60e9706c32b33262156b9
823ef270cbe3d716d6eaf197985b7165ae9ec75cad1c296f9de9dc63b86b9ecd

Total reclaimed space: 4.416GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 17-23-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-1.log -b True -m m -M 1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 17-23-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-1.log', 'mode': 'm', 'memnode': '1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-1
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-1



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-1

Result: sha256:a16a144434e6de25c8166c43cd1a94f92ea59737397ba20e44ee7570d0014ac5


Install numactl tools on docker image: openresty-thrift-numa-membind-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-1

Result: sha256:9ae494b602f3a37927455ee2546c34b9830754ba09e225dbaef696c54e402965


Install numactl tools on docker image: media-frontend-numa-membind-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-1

Result: sha256:186e690b2fd9f726f41a624d3d2f9329302082cd5b7e049cea7b3a15589bf2fc


Install numactl tools on docker image: mongo-numa-membind-1
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 00:24 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-1



CMD: docker commit socialnetwork_user-mongodb_1 mongo-numa-membind-1

Result: sha256:9534d9b0471bf83f9bf2e1be5becfd011d2cad34a1cd3a4349ff028197299974


Install numactl tools on docker image: memcached-numa-membind-1
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 11 00:24 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-1



CMD: docker commit socialnetwork_media-memcached_1 memcached-numa-membind-1

Result: sha256:39c3d0986f251580e90192b28fa445bd6df1e3bd9b802476d850760bc7f70fae


Install numactl tools on docker image: redis-numa-membind-1
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 11 00:24 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-1



CMD: docker commit socialnetwork_user-timeline-redis_1 redis-numa-membind-1

Result: sha256:49c4da95e651ca3d5e82eca650ad35b6710df272a0fd8a1b002954b293c1f12b


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
5609f815af14b43e7a205e8ef3e2910f29891cf090e2d38962fc4ffcf782ca8d
3120282f7cb560fb4d0ced7dcbcd8c71e4b1ef37c16b78431592ad747ad718f6
21005a04dfce30e94703fada8bd440078eda67a7e055231ffef39dee5d406d5b
63f6cc893d48caedfe231c13f16d7bfd044f3a8a1693371466cc4adca363c4ca
0c92fe19c031fdb214e7fe830f3a14e50dad6777d0ebd4a4d6851ac84919b053
debcddd7e89165ea902ce84432b033396a099fc0ba634d30ec48ab765c110262
7589685106ab80cde6aed8ba7daf976ebce6c10c15e4e75a9436aa6550e08d9d
1588e0795c1e30184a25d46f0d5a08bed9722e1d25108948989e9c43f0a5ca07
3c38a78630e57f139e1768f778e2dae72d3b2c93b3cb6cd8fdcba6c2d4938a18
bb9fc2aa5c3eac604ab8c107a671eeebd9ac00c515f77a69ae92184807951b2c
76ab5f276fca83f78b3f06d15fbc49efb8b354ddbdcc9018f5bdc69503aae61e
a9e2f3ea80b45fd7573b14afcc5daed08f7ce36facdd618e9d6949ee1a912b5d
4a88bda18a6e1139c998b68328758c9aa72b9488624c76bbd05f99c0519c8a6b
49e90df18e1836957acc45ce67b469dcdaa60b8e2bc02fc41cc45333d5738520
7167847b7cd021203681955d6662d30ab089d71abe7fd0dc008ac11130b47f41
ef7380ec8c99bd6ef1a4bfc52bd8bdb368e8517e2caa7a10d52c6d527108c40a
327067c4485ba88c06dd3578bed02997a3b46174ee74fc026a7461cd78c475ac
a9ff51cf433520d5ab3922469872a1da2734b2a592954f8b87412ac546b8029a
eccf8c4e235d6690c064b009c948095864db504a92b2f6a5f2e94ae51edcbb6a
4a8264222d7e9a306c8d8e75b17c4a01ba3e380c8b22c66eeab4281c3d2298eb
70e36dbeecbae8d3f19ad2ee4699f63b841f37dda7506416fe0d4ce55c5a6da0
f27ab12aaa9936e145f43a7452ac2cba67f62695b94e05f53f10179cccc712e6
dcf3fbe4755e72be6aaaa5b085887ef35f0305045aa1bc620b30b3fd7929aac6
1fa852971b2df61ed272561aa74a28415cab2edb5df852944d8e3a7154bc18e1
2be44ca0d472e4fd85b9102145f25442939674514cf869a4da9a33b28c365f3e
a97b3e335381312ba18d1d82a229a3839e87211f0bd453c07ab5d35f1818e9bb
1ba5882b4883a4a9dfe45c271beb9815bf92be66123f01deeab61743ae64f338
46334ddd8ac80909ec2cb2def5c80e8a9459596a76ea8904ca09e13260fdad42
b16d90dada28ed0e411961db1b4314d2d2776e6e6aa347d569632af04623ceca
eb3eeecaf035bbe6169522720e466d65413c803e59596993f70cf00fbc4fe3fc
78b951da8eecc57442d542ae375e0603f30da06749e2a70b5e4e23ab1b8a7286

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55080 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56927 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130582 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55080 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56927 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130582 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:777
cluster_stats_messages_pong_sent:791
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1569
cluster_stats_messages_ping_received:791
cluster_stats_messages_pong_received:778
cluster_stats_messages_received:1569
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:771
cluster_stats_messages_pong_sent:750
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1522
cluster_stats_messages_ping_received:750
cluster_stats_messages_pong_received:772
cluster_stats_messages_received:1522
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:808
cluster_stats_messages_pong_sent:780
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1589
cluster_stats_messages_ping_received:780
cluster_stats_messages_pong_received:809
cluster_stats_messages_received:1589
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.256ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.363ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.550ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.072ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.925ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.438ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.746ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.073ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.938ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.131ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.939ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.242ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.897ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.310ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.899ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.872ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.470ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.297ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.092ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.079ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.966ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.023ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.800ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.337ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.957ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.492ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.407ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.046ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.100ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.388ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.106ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.244ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.903ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.252ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.824ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.456ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.211ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.543ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.359ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 3.627ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.543ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.220ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.197ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.200ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.633ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.153ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.810ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.090ms, rate sampling interval: 12ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.79ms    2.11ms   5.32ms   98.78%
    Req/Sec    20.80     42.49   181.00     78.55%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.63ms
 75.000%    2.87ms
 90.000%    3.21ms
 99.000%    5.32ms
 99.900%   41.89ms
 99.990%   70.08ms
 99.999%   81.79ms
100.000%   86.72ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.306     0.000000            1         1.00
       2.111     0.100000        10648         1.11
       2.339     0.200000        21184         1.25
       2.461     0.300000        31790         1.43
       2.551     0.400000        42370         1.67
       2.633     0.500000        53084         2.00
       2.673     0.550000        58277         2.22
       2.715     0.600000        63631         2.50
       2.759     0.650000        68852         2.86
       2.809     0.700000        74162         3.33
       2.867     0.750000        79525         4.00
       2.899     0.775000        82057         4.44
       2.937     0.800000        84717         5.00
       2.983     0.825000        87420         5.71
       3.037     0.850000        89966         6.67
       3.109     0.875000        92645         8.00
       3.153     0.887500        93954         8.89
       3.211     0.900000        95278        10.00
       3.279     0.912500        96595        11.43
       3.359     0.925000        97906        13.33
       3.461     0.937500        99224        16.00
       3.521     0.943750        99895        17.78
       3.589     0.950000       100560        20.00
       3.667     0.956250       101205        22.86
       3.759     0.962500       101880        26.67
       3.869     0.968750       102531        32.00
       3.949     0.971875       102864        35.56
       4.053     0.975000       103192        40.00
       4.179     0.978125       103523        45.71
       4.335     0.981250       103855        53.33
       4.543     0.984375       104183        64.00
       4.683     0.985938       104347        71.11
       4.867     0.987500       104514        80.00
       5.103     0.989062       104678        91.43
       5.483     0.990625       104844       106.67
       6.135     0.992188       105010       128.00
       6.599     0.992969       105091       142.22
       7.139     0.993750       105174       160.00
       7.787     0.994531       105257       182.86
       8.479     0.995313       105339       213.33
       9.687     0.996094       105422       256.00
      10.759     0.996484       105463       284.44
      12.279     0.996875       105505       320.00
      15.455     0.997266       105546       365.71
      20.031     0.997656       105587       426.67
      25.311     0.998047       105629       512.00
      27.631     0.998242       105649       568.89
      30.111     0.998437       105670       640.00
      34.719     0.998633       105691       731.43
      38.335     0.998828       105711       853.33
      42.431     0.999023       105732      1024.00
      45.087     0.999121       105742      1137.78
      47.775     0.999219       105753      1280.00
      49.727     0.999316       105763      1462.86
      52.415     0.999414       105773      1706.67
      54.175     0.999512       105784      2048.00
      55.199     0.999561       105790      2275.56
      55.935     0.999609       105794      2560.00
      56.927     0.999658       105799      2925.71
      57.759     0.999707       105804      3413.33
      60.799     0.999756       105810      4096.00
      61.503     0.999780       105812      4551.11
      62.943     0.999805       105815      5120.00
      64.319     0.999829       105817      5851.43
      65.983     0.999854       105820      6826.67
      68.479     0.999878       105823      8192.00
      70.079     0.999890       105824      9102.22
      71.487     0.999902       105825     10240.00
      72.063     0.999915       105826     11702.86
      72.447     0.999927       105828     13653.33
      73.919     0.999939       105829     16384.00
      76.351     0.999945       105830     18204.44
      76.351     0.999951       105830     20480.00
      76.799     0.999957       105831     23405.71
      79.295     0.999963       105832     27306.67
      79.295     0.999969       105832     32768.00
      79.615     0.999973       105833     36408.89
      79.615     0.999976       105833     40960.00
      79.615     0.999979       105833     46811.43
      81.791     0.999982       105834     54613.33
      81.791     0.999985       105834     65536.00
      81.791     0.999986       105834     72817.78
      81.791     0.999988       105834     81920.00
      81.791     0.999989       105834     93622.86
      86.719     0.999991       105835    109226.67
      86.719     1.000000       105835          inf
#[Mean    =        2.790, StdDeviation   =        2.110]
#[Max     =       86.656, Total count    =       105835]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115332 requests in 2.00m, 23.65MB read
Requests/sec:    961.01  
Transfer/sec:    201.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55022 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53860 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55022 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53860 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 3058.852ms, rate sampling interval: 11419ms
  Thread calibration: mean lat.: 3003.037ms, rate sampling interval: 10919ms
  Thread calibration: mean lat.: 2621.570ms, rate sampling interval: 10182ms
  Thread calibration: mean lat.: 2768.196ms, rate sampling interval: 10510ms
  Thread calibration: mean lat.: 2817.807ms, rate sampling interval: 10403ms
  Thread calibration: mean lat.: 2766.653ms, rate sampling interval: 10969ms
  Thread calibration: mean lat.: 2939.237ms, rate sampling interval: 11198ms
  Thread calibration: mean lat.: 3088.696ms, rate sampling interval: 11255ms
  Thread calibration: mean lat.: 2766.498ms, rate sampling interval: 10436ms
  Thread calibration: mean lat.: 2655.188ms, rate sampling interval: 9601ms
  Thread calibration: mean lat.: 2975.476ms, rate sampling interval: 10862ms
  Thread calibration: mean lat.: 2892.767ms, rate sampling interval: 10526ms
  Thread calibration: mean lat.: 2654.848ms, rate sampling interval: 9920ms
  Thread calibration: mean lat.: 2755.375ms, rate sampling interval: 10354ms
  Thread calibration: mean lat.: 2835.231ms, rate sampling interval: 10387ms
  Thread calibration: mean lat.: 2963.466ms, rate sampling interval: 11206ms
  Thread calibration: mean lat.: 2817.394ms, rate sampling interval: 10436ms
  Thread calibration: mean lat.: 3127.549ms, rate sampling interval: 10641ms
  Thread calibration: mean lat.: 2797.352ms, rate sampling interval: 10330ms
  Thread calibration: mean lat.: 3061.855ms, rate sampling interval: 11673ms
  Thread calibration: mean lat.: 3358.408ms, rate sampling interval: 11337ms
  Thread calibration: mean lat.: 2777.661ms, rate sampling interval: 10395ms
  Thread calibration: mean lat.: 3062.889ms, rate sampling interval: 10838ms
  Thread calibration: mean lat.: 3289.518ms, rate sampling interval: 11436ms
  Thread calibration: mean lat.: 2981.751ms, rate sampling interval: 10174ms
  Thread calibration: mean lat.: 3100.063ms, rate sampling interval: 10715ms
  Thread calibration: mean lat.: 2644.305ms, rate sampling interval: 9068ms
  Thread calibration: mean lat.: 3036.460ms, rate sampling interval: 10928ms
  Thread calibration: mean lat.: 3151.952ms, rate sampling interval: 10985ms
  Thread calibration: mean lat.: 3316.858ms, rate sampling interval: 11296ms
  Thread calibration: mean lat.: 3139.183ms, rate sampling interval: 10862ms
  Thread calibration: mean lat.: 3170.445ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 3397.166ms, rate sampling interval: 11141ms
  Thread calibration: mean lat.: 3552.873ms, rate sampling interval: 11591ms
  Thread calibration: mean lat.: 3176.461ms, rate sampling interval: 11444ms
  Thread calibration: mean lat.: 3599.899ms, rate sampling interval: 11419ms
  Thread calibration: mean lat.: 3193.872ms, rate sampling interval: 11272ms
  Thread calibration: mean lat.: 3243.361ms, rate sampling interval: 11722ms
  Thread calibration: mean lat.: 3729.581ms, rate sampling interval: 11730ms
  Thread calibration: mean lat.: 3507.721ms, rate sampling interval: 11575ms
  Thread calibration: mean lat.: 3183.193ms, rate sampling interval: 10903ms
  Thread calibration: mean lat.: 3237.163ms, rate sampling interval: 11190ms
  Thread calibration: mean lat.: 3387.895ms, rate sampling interval: 11673ms
  Thread calibration: mean lat.: 3481.788ms, rate sampling interval: 11599ms
  Thread calibration: mean lat.: 3237.480ms, rate sampling interval: 11263ms
  Thread calibration: mean lat.: 3394.055ms, rate sampling interval: 11427ms
  Thread calibration: mean lat.: 3306.702ms, rate sampling interval: 10895ms
  Thread calibration: mean lat.: 3685.691ms, rate sampling interval: 11976ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    39.83s    19.44s    1.22m    57.76%
    Req/Sec    39.76      0.85    42.00     98.26%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   39.65s 
 75.000%    0.94m 
 90.000%    1.11m 
 99.000%    1.22m 
 99.900%    1.26m 
 99.990%    1.28m 
 99.999%    1.28m 
100.000%    1.28m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4882.431     0.000000            1         1.00
   13033.471     0.100000        21282         1.11
   19693.567     0.200000        42556         1.25
   26443.775     0.300000        63800         1.43
   33128.447     0.400000        85068         1.67
   39649.279     0.500000       106413         2.00
   42991.615     0.550000       117012         2.22
   46333.951     0.600000       127595         2.50
   49774.591     0.650000       138336         2.86
   53182.463     0.700000       148869         3.33
   56623.103     0.750000       159599         4.00
   58359.807     0.775000       164824         4.44
   60096.511     0.800000       170213         5.00
   61767.679     0.825000       175493         5.71
   63471.615     0.850000       180798         6.67
   65110.015     0.875000       186109         8.00
   65961.983     0.887500       188781         8.89
   66846.719     0.900000       191479        10.00
   67698.687     0.912500       194152        11.43
   68550.655     0.925000       196805        13.33
   69402.623     0.937500       199556        16.00
   69795.839     0.943750       200779        17.78
   70254.591     0.950000       202226        20.00
   70647.807     0.956250       203457        22.86
   71041.023     0.962500       204685        26.67
   71499.775     0.968750       206098        32.00
   71761.919     0.971875       206845        35.56
   71958.527     0.975000       207373        40.00
   72220.671     0.978125       208056        45.71
   72482.815     0.981250       208710        53.33
   72744.959     0.984375       209360        64.00
   72941.567     0.985938       209786        71.11
   73072.639     0.987500       210048        80.00
   73269.247     0.989062       210420        91.43
   73465.855     0.990625       210738       106.67
   73662.463     0.992188       211009       128.00
   73793.535     0.992969       211178       142.22
   73924.607     0.993750       211341       160.00
   74055.679     0.994531       211497       182.86
   74252.287     0.995313       211681       213.33
   74514.431     0.996094       211866       256.00
   74579.967     0.996484       211917       284.44
   74711.039     0.996875       212017       320.00
   74842.111     0.997266       212101       365.71
   74973.183     0.997656       212177       426.67
   75104.255     0.998047       212248       512.00
   75235.327     0.998242       212310       568.89
   75300.863     0.998437       212339       640.00
   75431.935     0.998633       212381       731.43
   75563.007     0.998828       212421       853.33
   75694.079     0.999023       212465      1024.00
   75759.615     0.999121       212488      1137.78
   75825.151     0.999219       212512      1280.00
   75825.151     0.999316       212512      1462.86
   75956.223     0.999414       212548      1706.67
   76021.759     0.999512       212565      2048.00
   76021.759     0.999561       212565      2275.56
   76087.295     0.999609       212575      2560.00
   76152.831     0.999658       212588      2925.71
   76218.367     0.999707       212599      3413.33
   76283.903     0.999756       212606      4096.00
   76349.439     0.999780       212614      4551.11
   76414.975     0.999805       212621      5120.00
   76414.975     0.999829       212621      5851.43
   76480.511     0.999854       212627      6826.67
   76546.047     0.999878       212634      8192.00
   76546.047     0.999890       212634      9102.22
   76611.583     0.999902       212642     10240.00
   76611.583     0.999915       212642     11702.86
   76611.583     0.999927       212642     13653.33
   76677.119     0.999939       212648     16384.00
   76677.119     0.999945       212648     18204.44
   76677.119     0.999951       212648     20480.00
   76677.119     0.999957       212648     23405.71
   76742.655     0.999963       212654     27306.67
   76742.655     0.999969       212654     32768.00
   76742.655     0.999973       212654     36408.89
   76742.655     0.999976       212654     40960.00
   76742.655     0.999979       212654     46811.43
   76742.655     0.999982       212654     54613.33
   76742.655     0.999985       212654     65536.00
   76808.191     0.999986       212656     72817.78
   76808.191     0.999988       212656     81920.00
   76808.191     0.999989       212656     93622.86
   76808.191     0.999991       212656    109226.67
   76808.191     0.999992       212656    131072.00
   76808.191     0.999993       212656    145635.56
   76808.191     0.999994       212656    163840.00
   76808.191     0.999995       212656    187245.71
   76873.727     0.999995       212657    218453.33
   76873.727     1.000000       212657          inf
#[Mean    =    39825.344, StdDeviation   =    19443.701]
#[Max     =    76808.192, Total count    =       212657]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  231747 requests in 2.00m, 47.52MB read
Requests/sec:   1932.14  
Transfer/sec:    405.67KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55037 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49421 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55037 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49421 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4640.533ms, rate sampling interval: 16515ms
  Thread calibration: mean lat.: 4524.119ms, rate sampling interval: 16171ms
  Thread calibration: mean lat.: 4485.649ms, rate sampling interval: 16130ms
  Thread calibration: mean lat.: 4617.110ms, rate sampling interval: 16400ms
  Thread calibration: mean lat.: 4553.313ms, rate sampling interval: 16269ms
  Thread calibration: mean lat.: 4533.683ms, rate sampling interval: 16277ms
  Thread calibration: mean lat.: 4533.793ms, rate sampling interval: 16244ms
  Thread calibration: mean lat.: 4697.608ms, rate sampling interval: 16621ms
  Thread calibration: mean lat.: 4605.620ms, rate sampling interval: 16261ms
  Thread calibration: mean lat.: 4620.765ms, rate sampling interval: 16269ms
  Thread calibration: mean lat.: 4559.872ms, rate sampling interval: 16326ms
  Thread calibration: mean lat.: 4475.554ms, rate sampling interval: 15810ms
  Thread calibration: mean lat.: 4833.670ms, rate sampling interval: 16621ms
  Thread calibration: mean lat.: 4429.942ms, rate sampling interval: 16056ms
  Thread calibration: mean lat.: 4608.964ms, rate sampling interval: 16244ms
  Thread calibration: mean lat.: 4524.141ms, rate sampling interval: 16056ms
  Thread calibration: mean lat.: 4561.938ms, rate sampling interval: 16146ms
  Thread calibration: mean lat.: 4650.259ms, rate sampling interval: 16547ms
  Thread calibration: mean lat.: 4603.058ms, rate sampling interval: 16531ms
  Thread calibration: mean lat.: 4697.641ms, rate sampling interval: 16367ms
  Thread calibration: mean lat.: 4515.980ms, rate sampling interval: 15900ms
  Thread calibration: mean lat.: 4701.264ms, rate sampling interval: 16596ms
  Thread calibration: mean lat.: 4649.378ms, rate sampling interval: 16326ms
  Thread calibration: mean lat.: 4644.033ms, rate sampling interval: 16039ms
  Thread calibration: mean lat.: 4627.315ms, rate sampling interval: 15859ms
  Thread calibration: mean lat.: 4475.499ms, rate sampling interval: 16031ms
  Thread calibration: mean lat.: 4733.682ms, rate sampling interval: 16457ms
  Thread calibration: mean lat.: 4585.794ms, rate sampling interval: 16048ms
  Thread calibration: mean lat.: 4602.782ms, rate sampling interval: 16449ms
  Thread calibration: mean lat.: 4506.572ms, rate sampling interval: 15859ms
  Thread calibration: mean lat.: 4069.528ms, rate sampling interval: 14434ms
  Thread calibration: mean lat.: 4184.199ms, rate sampling interval: 14467ms
  Thread calibration: mean lat.: 4459.851ms, rate sampling interval: 15654ms
  Thread calibration: mean lat.: 4413.907ms, rate sampling interval: 16015ms
  Thread calibration: mean lat.: 4625.796ms, rate sampling interval: 16252ms
  Thread calibration: mean lat.: 4581.645ms, rate sampling interval: 16146ms
  Thread calibration: mean lat.: 4629.957ms, rate sampling interval: 15949ms
  Thread calibration: mean lat.: 4082.621ms, rate sampling interval: 14229ms
  Thread calibration: mean lat.: 4576.899ms, rate sampling interval: 15958ms
  Thread calibration: mean lat.: 4542.693ms, rate sampling interval: 16367ms
  Thread calibration: mean lat.: 4552.786ms, rate sampling interval: 16203ms
  Thread calibration: mean lat.: 4540.134ms, rate sampling interval: 16179ms
  Thread calibration: mean lat.: 4426.132ms, rate sampling interval: 15753ms
  Thread calibration: mean lat.: 4646.650ms, rate sampling interval: 16236ms
  Thread calibration: mean lat.: 4636.113ms, rate sampling interval: 16179ms
  Thread calibration: mean lat.: 4647.330ms, rate sampling interval: 16211ms
  Thread calibration: mean lat.: 4607.457ms, rate sampling interval: 16302ms
  Thread calibration: mean lat.: 4662.468ms, rate sampling interval: 16146ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.97m    28.80s    1.79m    57.65%
    Req/Sec    19.37      0.55    20.00     98.97%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.97m 
 75.000%    1.39m 
 90.000%    1.64m 
 99.000%    1.79m 
 99.900%    1.81m 
 99.990%    1.82m 
 99.999%    1.83m 
100.000%    1.83m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7987.199     0.000000            1         1.00
   18825.215     0.100000        10498         1.11
   28409.855     0.200000        20993         1.25
   38305.791     0.300000        31515         1.43
   48168.959     0.400000        41988         1.67
   58294.271     0.500000        52498         2.00
   63307.775     0.550000        57759         2.22
   68222.975     0.600000        63042         2.50
   73334.783     0.650000        68273         2.86
   78249.983     0.700000        73538         3.33
   83361.791     0.750000        78735         4.00
   85852.159     0.775000        81342         4.44
   88473.599     0.800000        84010         5.00
   91029.503     0.825000        86639         5.71
   93519.871     0.850000        89237         6.67
   96075.775     0.875000        91890         8.00
   97320.959     0.887500        93200         8.89
   98566.143     0.900000        94498        10.00
   99811.327     0.912500        95778        11.43
  101056.511     0.925000        97113        13.33
  102301.695     0.937500        98425        16.00
  102957.055     0.943750        99101        17.78
  103546.879     0.950000        99728        20.00
  104136.703     0.956250       100402        22.86
  104726.527     0.962500       101048        26.67
  105316.351     0.968750       101719        32.00
  105644.031     0.971875       102066        35.56
  105906.175     0.975000       102339        40.00
  106233.855     0.978125       102689        45.71
  106561.535     0.981250       103008        53.33
  106889.215     0.984375       103345        64.00
  107085.823     0.985938       103528        71.11
  107216.895     0.987500       103670        80.00
  107413.503     0.989062       103848        91.43
  107610.111     0.990625       104030       106.67
  107741.183     0.992188       104149       128.00
  107872.255     0.992969       104256       142.22
  107937.791     0.993750       104315       160.00
  108068.863     0.994531       104427       182.86
  108134.399     0.995313       104480       213.33
  108265.471     0.996094       104573       256.00
  108331.007     0.996484       104627       284.44
  108396.543     0.996875       104664       320.00
  108462.079     0.997266       104706       365.71
  108527.615     0.997656       104744       426.67
  108593.151     0.998047       104784       512.00
  108593.151     0.998242       104784       568.89
  108658.687     0.998437       104813       640.00
  108658.687     0.998633       104813       731.43
  108724.223     0.998828       104834       853.33
  108855.295     0.999023       104871      1024.00
  108855.295     0.999121       104871      1137.78
  108920.831     0.999219       104893      1280.00
  108920.831     0.999316       104893      1462.86
  108986.367     0.999414       104903      1706.67
  109051.903     0.999512       104917      2048.00
  109051.903     0.999561       104917      2275.56
  109051.903     0.999609       104917      2560.00
  109117.439     0.999658       104925      2925.71
  109182.975     0.999707       104931      3413.33
  109182.975     0.999756       104931      4096.00
  109248.511     0.999780       104939      4551.11
  109248.511     0.999805       104939      5120.00
  109248.511     0.999829       104939      5851.43
  109314.047     0.999854       104941      6826.67
  109379.583     0.999878       104945      8192.00
  109379.583     0.999890       104945      9102.22
  109445.119     0.999902       104948     10240.00
  109445.119     0.999915       104948     11702.86
  109510.655     0.999927       104950     13653.33
  109510.655     0.999939       104950     16384.00
  109576.191     0.999945       104952     18204.44
  109576.191     0.999951       104952     20480.00
  109576.191     0.999957       104952     23405.71
  109641.727     0.999963       104953     27306.67
  109641.727     0.999969       104953     32768.00
  109707.263     0.999973       104955     36408.89
  109707.263     0.999976       104955     40960.00
  109707.263     0.999979       104955     46811.43
  109707.263     0.999982       104955     54613.33
  109707.263     0.999985       104955     65536.00
  109707.263     0.999986       104955     72817.78
  109707.263     0.999988       104955     81920.00
  109707.263     0.999989       104955     93622.86
  109838.335     0.999991       104956    109226.67
  109838.335     1.000000       104956          inf
#[Mean    =    58398.560, StdDeviation   =    28801.904]
#[Max     =   109772.800, Total count    =       104956]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  114148 requests in 2.00m, 23.40MB read
Requests/sec:    951.26  
Transfer/sec:    199.73KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54828 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43990 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54828 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43990 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 12.450ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 12.704ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.573ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.368ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 13.411ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 13.159ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 11.924ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.530ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.044ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.468ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.286ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.250ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.396ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 13.031ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.106ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.721ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 12.466ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.951ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 12.459ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.443ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.050ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.124ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.119ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.563ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.532ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.722ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 13.570ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.901ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.687ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.968ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 13.152ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.897ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.925ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.151ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.726ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.773ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.570ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.697ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.613ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 12.219ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.410ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.579ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.109ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.192ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.829ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.779ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.325ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 13.171ms, rate sampling interval: 35ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    12.48ms    3.67ms  26.27ms   84.88%
    Req/Sec    20.17     24.86    96.00     85.91%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.62ms
 75.000%   13.35ms
 90.000%   16.46ms
 99.000%   26.27ms
 99.900%   41.41ms
 99.990%   59.74ms
 99.999%   82.11ms
100.000%   88.25ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.719     0.000000            1         1.00
       9.559     0.100000        10628         1.11
      10.223     0.200000        21242         1.25
      10.703     0.300000        31786         1.43
      11.151     0.400000        42370         1.67
      11.623     0.500000        52923         2.00
      11.879     0.550000        58301         2.22
      12.167     0.600000        63562         2.50
      12.495     0.650000        68810         2.86
      12.879     0.700000        74141         3.33
      13.351     0.750000        79394         4.00
      13.639     0.775000        82070         4.44
      13.967     0.800000        84664         5.00
      14.367     0.825000        87332         5.71
      14.879     0.850000        89980         6.67
      15.535     0.875000        92607         8.00
      15.959     0.887500        93922         8.89
      16.463     0.900000        95285        10.00
      17.039     0.912500        96578        11.43
      17.695     0.925000        97919        13.33
      18.447     0.937500        99220        16.00
      18.863     0.943750        99890        17.78
      19.359     0.950000       100538        20.00
      19.919     0.956250       101207        22.86
      20.511     0.962500       101859        26.67
      21.263     0.968750       102523        32.00
      21.695     0.971875       102860        35.56
      22.191     0.975000       103182        40.00
      22.751     0.978125       103517        45.71
      23.439     0.981250       103849        53.33
      24.223     0.984375       104173        64.00
      24.719     0.985938       104338        71.11
      25.231     0.987500       104505        80.00
      25.839     0.989062       104670        91.43
      26.575     0.990625       104833       106.67
      27.423     0.992188       105002       128.00
      28.015     0.992969       105083       142.22
      28.639     0.993750       105165       160.00
      29.311     0.994531       105248       182.86
      30.111     0.995313       105330       213.33
      31.295     0.996094       105412       256.00
      31.935     0.996484       105453       284.44
      32.511     0.996875       105496       320.00
      33.311     0.997266       105539       365.71
      34.623     0.997656       105578       426.67
      35.903     0.998047       105619       512.00
      36.639     0.998242       105639       568.89
      37.343     0.998437       105661       640.00
      38.623     0.998633       105681       731.43
      39.967     0.998828       105701       853.33
      41.535     0.999023       105722      1024.00
      42.431     0.999121       105733      1137.78
      43.615     0.999219       105743      1280.00
      44.319     0.999316       105753      1462.86
      46.207     0.999414       105763      1706.67
      47.935     0.999512       105774      2048.00
      48.543     0.999561       105779      2275.56
      48.991     0.999609       105784      2560.00
      49.343     0.999658       105789      2925.71
      50.783     0.999707       105794      3413.33
      52.447     0.999756       105800      4096.00
      53.855     0.999780       105802      4551.11
      55.391     0.999805       105805      5120.00
      55.935     0.999829       105807      5851.43
      56.799     0.999854       105810      6826.67
      58.559     0.999878       105813      8192.00
      59.743     0.999890       105814      9102.22
      60.063     0.999902       105815     10240.00
      61.471     0.999915       105816     11702.86
      62.271     0.999927       105818     13653.33
      63.263     0.999939       105819     16384.00
      63.295     0.999945       105820     18204.44
      63.295     0.999951       105820     20480.00
      69.503     0.999957       105821     23405.71
      69.887     0.999963       105822     27306.67
      69.887     0.999969       105822     32768.00
      77.951     0.999973       105823     36408.89
      77.951     0.999976       105823     40960.00
      77.951     0.999979       105823     46811.43
      82.111     0.999982       105824     54613.33
      82.111     0.999985       105824     65536.00
      82.111     0.999986       105824     72817.78
      82.111     0.999988       105824     81920.00
      82.111     0.999989       105824     93622.86
      88.255     0.999991       105825    109226.67
      88.255     1.000000       105825          inf
#[Mean    =       12.479, StdDeviation   =        3.667]
#[Max     =       88.192, Total count    =       105825]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115307 requests in 2.00m, 1.56GB read
Requests/sec:    960.86  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54857 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38472 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54857 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38472 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 2889.843ms, rate sampling interval: 11059ms
  Thread calibration: mean lat.: 2946.678ms, rate sampling interval: 11083ms
  Thread calibration: mean lat.: 2372.277ms, rate sampling interval: 9936ms
  Thread calibration: mean lat.: 2872.728ms, rate sampling interval: 11173ms
  Thread calibration: mean lat.: 2702.250ms, rate sampling interval: 10592ms
  Thread calibration: mean lat.: 2816.839ms, rate sampling interval: 10764ms
  Thread calibration: mean lat.: 2838.744ms, rate sampling interval: 10805ms
  Thread calibration: mean lat.: 2978.012ms, rate sampling interval: 11296ms
  Thread calibration: mean lat.: 2719.040ms, rate sampling interval: 10600ms
  Thread calibration: mean lat.: 2876.630ms, rate sampling interval: 11206ms
  Thread calibration: mean lat.: 2873.971ms, rate sampling interval: 11173ms
  Thread calibration: mean lat.: 2978.526ms, rate sampling interval: 10911ms
  Thread calibration: mean lat.: 2728.579ms, rate sampling interval: 10321ms
  Thread calibration: mean lat.: 2858.027ms, rate sampling interval: 11386ms
  Thread calibration: mean lat.: 2954.001ms, rate sampling interval: 10633ms
  Thread calibration: mean lat.: 2685.107ms, rate sampling interval: 10256ms
  Thread calibration: mean lat.: 2981.150ms, rate sampling interval: 11051ms
  Thread calibration: mean lat.: 2854.513ms, rate sampling interval: 10772ms
  Thread calibration: mean lat.: 3045.137ms, rate sampling interval: 11149ms
  Thread calibration: mean lat.: 2832.207ms, rate sampling interval: 10084ms
  Thread calibration: mean lat.: 2885.489ms, rate sampling interval: 10985ms
  Thread calibration: mean lat.: 2884.589ms, rate sampling interval: 11296ms
  Thread calibration: mean lat.: 2763.326ms, rate sampling interval: 10625ms
  Thread calibration: mean lat.: 2939.319ms, rate sampling interval: 11304ms
  Thread calibration: mean lat.: 2802.205ms, rate sampling interval: 10706ms
  Thread calibration: mean lat.: 2714.009ms, rate sampling interval: 10600ms
  Thread calibration: mean lat.: 2900.772ms, rate sampling interval: 10502ms
  Thread calibration: mean lat.: 3086.274ms, rate sampling interval: 10960ms
  Thread calibration: mean lat.: 2964.938ms, rate sampling interval: 10977ms
  Thread calibration: mean lat.: 2863.125ms, rate sampling interval: 10543ms
  Thread calibration: mean lat.: 2821.106ms, rate sampling interval: 10510ms
  Thread calibration: mean lat.: 2939.398ms, rate sampling interval: 11231ms
  Thread calibration: mean lat.: 2955.921ms, rate sampling interval: 10788ms
  Thread calibration: mean lat.: 2661.029ms, rate sampling interval: 9920ms
  Thread calibration: mean lat.: 2915.850ms, rate sampling interval: 10829ms
  Thread calibration: mean lat.: 3153.165ms, rate sampling interval: 11288ms
  Thread calibration: mean lat.: 3164.307ms, rate sampling interval: 11886ms
  Thread calibration: mean lat.: 3202.218ms, rate sampling interval: 11755ms
  Thread calibration: mean lat.: 2935.967ms, rate sampling interval: 10534ms
  Thread calibration: mean lat.: 2812.947ms, rate sampling interval: 10428ms
  Thread calibration: mean lat.: 2866.732ms, rate sampling interval: 10690ms
  Thread calibration: mean lat.: 2958.866ms, rate sampling interval: 10592ms
  Thread calibration: mean lat.: 2815.056ms, rate sampling interval: 10526ms
  Thread calibration: mean lat.: 2970.266ms, rate sampling interval: 10928ms
  Thread calibration: mean lat.: 2703.052ms, rate sampling interval: 10461ms
  Thread calibration: mean lat.: 3064.626ms, rate sampling interval: 10977ms
  Thread calibration: mean lat.: 2878.616ms, rate sampling interval: 10346ms
  Thread calibration: mean lat.: 2903.180ms, rate sampling interval: 10698ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    41.10s    19.10s    1.22m    58.15%
    Req/Sec    41.54      3.69    51.00     82.66%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   41.98s 
 75.000%    0.96m 
 90.000%    1.10m 
 99.000%    1.22m 
 99.900%    1.27m 
 99.990%    1.29m 
 99.999%    1.30m 
100.000%    1.30m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    4898.815     0.000000            1         1.00
   13541.375     0.100000        22343         1.11
   21184.511     0.200000        44675         1.25
   28721.151     0.300000        67010         1.43
   35356.671     0.400000        89429         1.67
   41975.807     0.500000       111751         2.00
   45383.679     0.550000       122951         2.22
   48693.247     0.600000       134129         2.50
   51773.439     0.650000       145256         2.86
   54755.327     0.700000       156400         3.33
   57802.751     0.750000       167603         4.00
   59277.311     0.775000       173109         4.44
   60784.639     0.800000       178769         5.00
   62160.895     0.825000       184381         5.71
   63504.383     0.850000       189923         6.67
   64847.871     0.875000       195577         8.00
   65503.231     0.887500       198311         8.89
   66158.591     0.900000       201049        10.00
   66912.255     0.912500       203883        11.43
   67633.151     0.925000       206763        13.33
   68419.583     0.937500       209586        16.00
   68812.799     0.943750       210950        17.78
   69271.551     0.950000       212357        20.00
   69730.303     0.956250       213651        22.86
   70254.591     0.962500       215153        26.67
   70713.343     0.968750       216396        32.00
   71041.023     0.971875       217162        35.56
   71368.703     0.975000       217875        40.00
   71696.383     0.978125       218567        45.71
   72024.063     0.981250       219186        53.33
   72417.279     0.984375       219882        64.00
   72679.423     0.985938       220276        71.11
   72941.567     0.987500       220638        80.00
   73203.711     0.989062       220995        91.43
   73465.855     0.990625       221341       106.67
   73793.535     0.992188       221655       128.00
   73924.607     0.992969       221798       142.22
   74186.751     0.993750       222019       160.00
   74383.359     0.994531       222179       182.86
   74579.967     0.995313       222334       213.33
   74842.111     0.996094       222521       256.00
   74973.183     0.996484       222609       284.44
   75104.255     0.996875       222690       320.00
   75235.327     0.997266       222759       365.71
   75431.935     0.997656       222853       426.67
   75628.543     0.998047       222930       512.00
   75759.615     0.998242       222992       568.89
   75825.151     0.998437       223019       640.00
   75956.223     0.998633       223061       731.43
   76218.367     0.998828       223114       853.33
   76349.439     0.999023       223148      1024.00
   76480.511     0.999121       223174      1137.78
   76611.583     0.999219       223206      1280.00
   76677.119     0.999316       223225      1462.86
   76742.655     0.999414       223240      1706.67
   76873.727     0.999512       223257      2048.00
   77004.799     0.999561       223268      2275.56
   77070.335     0.999609       223279      2560.00
   77135.871     0.999658       223292      2925.71
   77201.407     0.999707       223300      3413.33
   77332.479     0.999756       223319      4096.00
   77332.479     0.999780       223319      4551.11
   77398.015     0.999805       223328      5120.00
   77398.015     0.999829       223328      5851.43
   77463.551     0.999854       223334      6826.67
   77529.087     0.999878       223339      8192.00
   77594.623     0.999890       223343      9102.22
   77660.159     0.999902       223346     10240.00
   77660.159     0.999915       223346     11702.86
   77725.695     0.999927       223349     13653.33
   77791.231     0.999939       223352     16384.00
   77856.767     0.999945       223355     18204.44
   77856.767     0.999951       223355     20480.00
   77922.303     0.999957       223357     23405.71
   77922.303     0.999963       223357     27306.67
   77987.839     0.999969       223361     32768.00
   77987.839     0.999973       223361     36408.89
   77987.839     0.999976       223361     40960.00
   77987.839     0.999979       223361     46811.43
   77987.839     0.999982       223361     54613.33
   78053.375     0.999985       223363     65536.00
   78053.375     0.999986       223363     72817.78
   78053.375     0.999988       223363     81920.00
   78053.375     0.999989       223363     93622.86
   78053.375     0.999991       223363    109226.67
   78118.911     0.999992       223364    131072.00
   78118.911     0.999993       223364    145635.56
   78118.911     0.999994       223364    163840.00
   78118.911     0.999995       223364    187245.71
   78118.911     0.999995       223364    218453.33
   78184.447     0.999996       223365    262144.00
   78184.447     1.000000       223365          inf
#[Mean    =    41097.620, StdDeviation   =    19100.049]
#[Max     =    78118.912, Total count    =       223365]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  242223 requests in 2.00m, 3.27GB read
Requests/sec:   2019.83  
Transfer/sec:     27.92MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54457 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36698 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54457 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36698 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3710.268ms, rate sampling interval: 13926ms
  Thread calibration: mean lat.: 3702.205ms, rate sampling interval: 13516ms
  Thread calibration: mean lat.: 3682.006ms, rate sampling interval: 13926ms
  Thread calibration: mean lat.: 3577.140ms, rate sampling interval: 13549ms
  Thread calibration: mean lat.: 3663.658ms, rate sampling interval: 13606ms
  Thread calibration: mean lat.: 3647.409ms, rate sampling interval: 13565ms
  Thread calibration: mean lat.: 3627.052ms, rate sampling interval: 13385ms
  Thread calibration: mean lat.: 3725.171ms, rate sampling interval: 13475ms
  Thread calibration: mean lat.: 3622.888ms, rate sampling interval: 13451ms
  Thread calibration: mean lat.: 3847.552ms, rate sampling interval: 13869ms
  Thread calibration: mean lat.: 3549.859ms, rate sampling interval: 13484ms
  Thread calibration: mean lat.: 3701.617ms, rate sampling interval: 13705ms
  Thread calibration: mean lat.: 3655.033ms, rate sampling interval: 13557ms
  Thread calibration: mean lat.: 3745.988ms, rate sampling interval: 13910ms
  Thread calibration: mean lat.: 3580.769ms, rate sampling interval: 13590ms
  Thread calibration: mean lat.: 3856.268ms, rate sampling interval: 14000ms
  Thread calibration: mean lat.: 3697.295ms, rate sampling interval: 13631ms
  Thread calibration: mean lat.: 3933.353ms, rate sampling interval: 14270ms
  Thread calibration: mean lat.: 3826.413ms, rate sampling interval: 13836ms
  Thread calibration: mean lat.: 3889.191ms, rate sampling interval: 14188ms
  Thread calibration: mean lat.: 3672.214ms, rate sampling interval: 13352ms
  Thread calibration: mean lat.: 3962.205ms, rate sampling interval: 14286ms
  Thread calibration: mean lat.: 4056.953ms, rate sampling interval: 14172ms
  Thread calibration: mean lat.: 3866.966ms, rate sampling interval: 13729ms
  Thread calibration: mean lat.: 3827.051ms, rate sampling interval: 13869ms
  Thread calibration: mean lat.: 3881.028ms, rate sampling interval: 13795ms
  Thread calibration: mean lat.: 4105.914ms, rate sampling interval: 14303ms
  Thread calibration: mean lat.: 3879.363ms, rate sampling interval: 13983ms
  Thread calibration: mean lat.: 3967.175ms, rate sampling interval: 14008ms
  Thread calibration: mean lat.: 3852.916ms, rate sampling interval: 13828ms
  Thread calibration: mean lat.: 3970.337ms, rate sampling interval: 14344ms
  Thread calibration: mean lat.: 3739.001ms, rate sampling interval: 13606ms
  Thread calibration: mean lat.: 3894.882ms, rate sampling interval: 13991ms
  Thread calibration: mean lat.: 3887.406ms, rate sampling interval: 14049ms
  Thread calibration: mean lat.: 3849.126ms, rate sampling interval: 13893ms
  Thread calibration: mean lat.: 3852.278ms, rate sampling interval: 13942ms
  Thread calibration: mean lat.: 3856.648ms, rate sampling interval: 13672ms
  Thread calibration: mean lat.: 3717.673ms, rate sampling interval: 13688ms
  Thread calibration: mean lat.: 3860.040ms, rate sampling interval: 14032ms
  Thread calibration: mean lat.: 3881.276ms, rate sampling interval: 13959ms
  Thread calibration: mean lat.: 3877.530ms, rate sampling interval: 13770ms
  Thread calibration: mean lat.: 3916.604ms, rate sampling interval: 13991ms
  Thread calibration: mean lat.: 3395.459ms, rate sampling interval: 12287ms
  Thread calibration: mean lat.: 3880.031ms, rate sampling interval: 13901ms
  Thread calibration: mean lat.: 3830.696ms, rate sampling interval: 13770ms
  Thread calibration: mean lat.: 3941.338ms, rate sampling interval: 13721ms
  Thread calibration: mean lat.: 3788.308ms, rate sampling interval: 13705ms
  Thread calibration: mean lat.: 4059.105ms, rate sampling interval: 14385ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    50.92s    24.56s    1.54m    57.62%
    Req/Sec    46.88      2.44    53.00     85.39%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.86m 
 75.000%    1.21m 
 90.000%    1.41m 
 99.000%    1.54m 
 99.900%    1.58m 
 99.990%    1.59m 
 99.999%    1.61m 
100.000%    1.61m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    6758.399     0.000000            1         1.00
   16400.383     0.100000        25061         1.11
   25329.663     0.200000        50135         1.25
   34045.951     0.300000        75248         1.43
   42565.631     0.400000       100243         1.67
   51511.295     0.500000       125281         2.00
   55836.671     0.550000       137873         2.22
   59932.671     0.600000       150350         2.50
   64126.975     0.650000       162878         2.86
   68222.975     0.700000       175496         3.33
   72351.743     0.750000       188076         4.00
   74383.359     0.775000       194372         4.44
   76414.975     0.800000       200574         5.00
   78381.055     0.825000       206810         5.71
   80412.671     0.850000       213140         6.67
   82378.751     0.875000       219329         8.00
   83427.327     0.887500       222546         8.89
   84410.367     0.900000       225487        10.00
   85458.943     0.912500       228776        11.43
   86376.447     0.925000       231807        13.33
   87359.487     0.937500       235010        16.00
   87883.775     0.943750       236635        17.78
   88408.063     0.950000       238122        20.00
   88932.351     0.956250       239632        22.86
   89522.175     0.962500       241294        26.67
   90111.999     0.968750       242801        32.00
   90439.679     0.971875       243627        35.56
   90767.359     0.975000       244363        40.00
   91095.039     0.978125       245137        45.71
   91422.719     0.981250       245882        53.33
   91815.935     0.984375       246736        64.00
   91947.007     0.985938       247021        71.11
   92143.615     0.987500       247405        80.00
   92405.759     0.989062       247907        91.43
   92602.367     0.990625       248258       106.67
   92798.975     0.992188       248592       128.00
   92930.047     0.992969       248824       142.22
   93061.119     0.993750       249017       160.00
   93192.191     0.994531       249198       182.86
   93323.263     0.995313       249369       213.33
   93519.871     0.996094       249602       256.00
   93585.407     0.996484       249666       284.44
   93716.479     0.996875       249789       320.00
   93782.015     0.997266       249848       365.71
   93913.087     0.997656       249961       426.67
   94044.159     0.998047       250073       512.00
   94109.695     0.998242       250123       568.89
   94175.231     0.998437       250155       640.00
   94240.767     0.998633       250196       731.43
   94371.839     0.998828       250255       853.33
   94502.911     0.999023       250305      1024.00
   94568.447     0.999121       250336      1137.78
   94633.983     0.999219       250354      1280.00
   94699.519     0.999316       250384      1462.86
   94765.055     0.999414       250399      1706.67
   94830.591     0.999512       250418      2048.00
   94896.127     0.999561       250435      2275.56
   94961.663     0.999609       250446      2560.00
   95027.199     0.999658       250459      2925.71
   95092.735     0.999707       250464      3413.33
   95223.807     0.999756       250477      4096.00
   95289.343     0.999780       250483      4551.11
   95354.879     0.999805       250493      5120.00
   95354.879     0.999829       250493      5851.43
   95420.415     0.999854       250499      6826.67
   95485.951     0.999878       250503      8192.00
   95617.023     0.999890       250511      9102.22
   95617.023     0.999902       250511     10240.00
   95682.559     0.999915       250514     11702.86
   95748.095     0.999927       250518     13653.33
   95748.095     0.999939       250518     16384.00
   95813.631     0.999945       250522     18204.44
   95813.631     0.999951       250522     20480.00
   95879.167     0.999957       250523     23405.71
   95944.703     0.999963       250525     27306.67
   96075.775     0.999969       250526     32768.00
   96272.383     0.999973       250527     36408.89
   96272.383     0.999976       250527     40960.00
   96337.919     0.999979       250530     46811.43
   96337.919     0.999982       250530     54613.33
   96337.919     0.999985       250530     65536.00
   96337.919     0.999986       250530     72817.78
   96337.919     0.999988       250530     81920.00
   96403.455     0.999989       250531     93622.86
   96403.455     0.999991       250531    109226.67
   96468.991     0.999992       250532    131072.00
   96468.991     0.999993       250532    145635.56
   96468.991     0.999994       250532    163840.00
   96468.991     0.999995       250532    187245.71
   96468.991     0.999995       250532    218453.33
   96534.527     0.999996       250533    262144.00
   96534.527     1.000000       250533          inf
#[Mean    =    50921.038, StdDeviation   =    24557.854]
#[Max     =    96468.992, Total count    =       250533]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  272768 requests in 2.00m, 3.68GB read
Requests/sec:   2273.99  
Transfer/sec:     31.42MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53983 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 32621 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53983 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 32621 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 26.813ms, rate sampling interval: 184ms
  Thread calibration: mean lat.: 22.166ms, rate sampling interval: 45ms
  Thread calibration: mean lat.: 25.132ms, rate sampling interval: 119ms
  Thread calibration: mean lat.: 30.290ms, rate sampling interval: 231ms
  Thread calibration: mean lat.: 31.410ms, rate sampling interval: 228ms
  Thread calibration: mean lat.: 24.233ms, rate sampling interval: 136ms
  Thread calibration: mean lat.: 24.333ms, rate sampling interval: 110ms
  Thread calibration: mean lat.: 29.452ms, rate sampling interval: 179ms
  Thread calibration: mean lat.: 24.536ms, rate sampling interval: 134ms
  Thread calibration: mean lat.: 29.929ms, rate sampling interval: 242ms
  Thread calibration: mean lat.: 29.403ms, rate sampling interval: 200ms
  Thread calibration: mean lat.: 31.046ms, rate sampling interval: 206ms
  Thread calibration: mean lat.: 32.766ms, rate sampling interval: 216ms
  Thread calibration: mean lat.: 21.958ms, rate sampling interval: 95ms
  Thread calibration: mean lat.: 26.758ms, rate sampling interval: 162ms
  Thread calibration: mean lat.: 23.718ms, rate sampling interval: 128ms
  Thread calibration: mean lat.: 34.492ms, rate sampling interval: 230ms
  Thread calibration: mean lat.: 22.090ms, rate sampling interval: 75ms
  Thread calibration: mean lat.: 26.118ms, rate sampling interval: 140ms
  Thread calibration: mean lat.: 29.851ms, rate sampling interval: 193ms
  Thread calibration: mean lat.: 29.345ms, rate sampling interval: 196ms
  Thread calibration: mean lat.: 21.714ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 23.897ms, rate sampling interval: 97ms
  Thread calibration: mean lat.: 21.014ms, rate sampling interval: 105ms
  Thread calibration: mean lat.: 18.567ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 28.869ms, rate sampling interval: 172ms
  Thread calibration: mean lat.: 28.549ms, rate sampling interval: 164ms
  Thread calibration: mean lat.: 26.007ms, rate sampling interval: 148ms
  Thread calibration: mean lat.: 26.695ms, rate sampling interval: 172ms
  Thread calibration: mean lat.: 24.812ms, rate sampling interval: 121ms
  Thread calibration: mean lat.: 24.846ms, rate sampling interval: 159ms
  Thread calibration: mean lat.: 29.948ms, rate sampling interval: 195ms
  Thread calibration: mean lat.: 29.344ms, rate sampling interval: 201ms
  Thread calibration: mean lat.: 27.017ms, rate sampling interval: 161ms
  Thread calibration: mean lat.: 25.474ms, rate sampling interval: 150ms
  Thread calibration: mean lat.: 20.255ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 26.303ms, rate sampling interval: 119ms
  Thread calibration: mean lat.: 28.458ms, rate sampling interval: 184ms
  Thread calibration: mean lat.: 27.546ms, rate sampling interval: 173ms
  Thread calibration: mean lat.: 22.081ms, rate sampling interval: 56ms
  Thread calibration: mean lat.: 22.156ms, rate sampling interval: 97ms
  Thread calibration: mean lat.: 31.092ms, rate sampling interval: 184ms
  Thread calibration: mean lat.: 19.361ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 30.634ms, rate sampling interval: 205ms
  Thread calibration: mean lat.: 23.030ms, rate sampling interval: 116ms
  Thread calibration: mean lat.: 20.329ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 21.068ms, rate sampling interval: 69ms
  Thread calibration: mean lat.: 28.336ms, rate sampling interval: 172ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    26.22ms   39.15ms 182.14ms   88.03%
    Req/Sec    19.87     16.84    78.00     66.35%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.65ms
 75.000%   14.87ms
 90.000%   83.46ms
 99.000%  182.14ms
 99.900%  263.93ms
 99.990%  362.49ms
 99.999%  419.07ms
100.000%  446.72ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.973     0.000000            1         1.00
       9.359     0.100000        10633         1.11
      10.031     0.200000        21246         1.25
      10.559     0.300000        31877         1.43
      11.071     0.400000        42388         1.67
      11.647     0.500000        52974         2.00
      11.991     0.550000        58283         2.22
      12.399     0.600000        63572         2.50
      12.919     0.650000        68815         2.86
      13.647     0.700000        74092         3.33
      14.871     0.750000        79374         4.00
      15.911     0.775000        82027         4.44
      17.471     0.800000        84667         5.00
      19.855     0.825000        87312         5.71
      26.959     0.850000        89949         6.67
      59.743     0.875000        92598         8.00
      72.383     0.887500        93931         8.89
      83.455     0.900000        95241        10.00
      93.759     0.912500        96563        11.43
     103.615     0.925000        97894        13.33
     113.983     0.937500        99212        16.00
     119.103     0.943750        99875        17.78
     124.671     0.950000       100536        20.00
     130.239     0.956250       101194        22.86
     136.575     0.962500       101862        26.67
     143.615     0.968750       102516        32.00
     147.583     0.971875       102854        35.56
     151.679     0.975000       103180        40.00
     156.671     0.978125       103516        45.71
     162.175     0.981250       103838        53.33
     168.191     0.984375       104174        64.00
     171.647     0.985938       104336        71.11
     175.231     0.987500       104504        80.00
     179.967     0.989062       104673        91.43
     184.703     0.990625       104831       106.67
     190.463     0.992188       104998       128.00
     193.407     0.992969       105078       142.22
     196.991     0.993750       105162       160.00
     201.343     0.994531       105248       182.86
     206.207     0.995313       105330       213.33
     212.095     0.996094       105410       256.00
     216.447     0.996484       105450       284.44
     221.695     0.996875       105495       320.00
     227.327     0.997266       105533       365.71
     232.447     0.997656       105574       426.67
     237.951     0.998047       105616       512.00
     241.791     0.998242       105636       568.89
     247.423     0.998437       105657       640.00
     253.055     0.998633       105678       731.43
     258.559     0.998828       105699       853.33
     265.215     0.999023       105720      1024.00
     269.055     0.999121       105729      1137.78
     274.687     0.999219       105741      1280.00
     277.759     0.999316       105751      1462.86
     284.415     0.999414       105760      1706.67
     296.191     0.999512       105771      2048.00
     299.775     0.999561       105776      2275.56
     301.823     0.999609       105781      2560.00
     308.991     0.999658       105786      2925.71
     316.159     0.999707       105791      3413.33
     327.167     0.999756       105797      4096.00
     333.055     0.999780       105799      4551.11
     337.919     0.999805       105802      5120.00
     340.991     0.999829       105804      5851.43
     344.575     0.999854       105807      6826.67
     354.815     0.999878       105810      8192.00
     362.495     0.999890       105811      9102.22
     372.991     0.999902       105812     10240.00
     374.271     0.999915       105813     11702.86
     385.535     0.999927       105815     13653.33
     389.375     0.999939       105816     16384.00
     393.727     0.999945       105817     18204.44
     393.727     0.999951       105817     20480.00
     403.199     0.999957       105818     23405.71
     404.735     0.999963       105819     27306.67
     404.735     0.999969       105819     32768.00
     410.879     0.999973       105820     36408.89
     410.879     0.999976       105820     40960.00
     410.879     0.999979       105820     46811.43
     419.071     0.999982       105821     54613.33
     419.071     0.999985       105821     65536.00
     419.071     0.999986       105821     72817.78
     419.071     0.999988       105821     81920.00
     419.071     0.999989       105821     93622.86
     446.719     0.999991       105822    109226.67
     446.719     1.000000       105822          inf
#[Mean    =       26.225, StdDeviation   =       39.154]
#[Max     =      446.464, Total count    =       105822]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115356 requests in 2.00m, 1.41GB read
Requests/sec:    961.23  
Transfer/sec:     12.04MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54017 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 28431 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54017 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 28431 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 424.175ms, rate sampling interval: 2482ms
  Thread calibration: mean lat.: 602.399ms, rate sampling interval: 2809ms
  Thread calibration: mean lat.: 510.229ms, rate sampling interval: 2523ms
  Thread calibration: mean lat.: 374.870ms, rate sampling interval: 1998ms
  Thread calibration: mean lat.: 608.265ms, rate sampling interval: 2516ms
  Thread calibration: mean lat.: 1153.087ms, rate sampling interval: 5042ms
  Thread calibration: mean lat.: 841.983ms, rate sampling interval: 3721ms
  Thread calibration: mean lat.: 789.048ms, rate sampling interval: 3588ms
  Thread calibration: mean lat.: 645.740ms, rate sampling interval: 2635ms
  Thread calibration: mean lat.: 700.149ms, rate sampling interval: 3889ms
  Thread calibration: mean lat.: 539.195ms, rate sampling interval: 2654ms
  Thread calibration: mean lat.: 633.443ms, rate sampling interval: 3215ms
  Thread calibration: mean lat.: 733.882ms, rate sampling interval: 3153ms
  Thread calibration: mean lat.: 881.481ms, rate sampling interval: 4698ms
  Thread calibration: mean lat.: 593.871ms, rate sampling interval: 2902ms
  Thread calibration: mean lat.: 493.273ms, rate sampling interval: 2316ms
  Thread calibration: mean lat.: 852.381ms, rate sampling interval: 3807ms
  Thread calibration: mean lat.: 608.411ms, rate sampling interval: 2177ms
  Thread calibration: mean lat.: 676.172ms, rate sampling interval: 2865ms
  Thread calibration: mean lat.: 564.897ms, rate sampling interval: 2729ms
  Thread calibration: mean lat.: 560.774ms, rate sampling interval: 2564ms
  Thread calibration: mean lat.: 1162.570ms, rate sampling interval: 5480ms
  Thread calibration: mean lat.: 462.599ms, rate sampling interval: 2154ms
  Thread calibration: mean lat.: 451.498ms, rate sampling interval: 2074ms
  Thread calibration: mean lat.: 444.927ms, rate sampling interval: 2357ms
  Thread calibration: mean lat.: 511.413ms, rate sampling interval: 2553ms
  Thread calibration: mean lat.: 472.115ms, rate sampling interval: 2277ms
  Thread calibration: mean lat.: 551.544ms, rate sampling interval: 3016ms
  Thread calibration: mean lat.: 614.917ms, rate sampling interval: 2770ms
  Thread calibration: mean lat.: 483.090ms, rate sampling interval: 2633ms
  Thread calibration: mean lat.: 764.823ms, rate sampling interval: 3184ms
  Thread calibration: mean lat.: 609.284ms, rate sampling interval: 2627ms
  Thread calibration: mean lat.: 706.485ms, rate sampling interval: 3336ms
  Thread calibration: mean lat.: 660.610ms, rate sampling interval: 2584ms
  Thread calibration: mean lat.: 817.602ms, rate sampling interval: 3295ms
  Thread calibration: mean lat.: 1146.047ms, rate sampling interval: 5316ms
  Thread calibration: mean lat.: 529.339ms, rate sampling interval: 3031ms
  Thread calibration: mean lat.: 771.519ms, rate sampling interval: 3956ms
  Thread calibration: mean lat.: 655.964ms, rate sampling interval: 3776ms
  Thread calibration: mean lat.: 795.289ms, rate sampling interval: 3180ms
  Thread calibration: mean lat.: 966.738ms, rate sampling interval: 3231ms
  Thread calibration: mean lat.: 443.168ms, rate sampling interval: 2215ms
  Thread calibration: mean lat.: 666.011ms, rate sampling interval: 3315ms
  Thread calibration: mean lat.: 1017.017ms, rate sampling interval: 4214ms
  Thread calibration: mean lat.: 953.470ms, rate sampling interval: 4407ms
  Thread calibration: mean lat.: 606.571ms, rate sampling interval: 3198ms
  Thread calibration: mean lat.: 696.871ms, rate sampling interval: 2828ms
  Thread calibration: mean lat.: 508.946ms, rate sampling interval: 2055ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.08s     4.74s   20.76s    66.16%
    Req/Sec    94.80     17.09   138.00     71.34%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.34s 
 75.000%   10.10s 
 90.000%   13.61s 
 99.000%   20.76s 
 99.900%   24.97s 
 99.990%   27.51s 
 99.999%   28.05s 
100.000%   28.18s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.773     0.000000            1         1.00
    1483.775     0.100000        50491         1.11
    2727.935     0.200000       100935         1.25
    3907.583     0.300000       151421         1.43
    5132.287     0.400000       202019         1.67
    6336.511     0.500000       252468         2.00
    6959.103     0.550000       277593         2.22
    7626.751     0.600000       302886         2.50
    8355.839     0.650000       328043         2.86
    9175.039     0.700000       353322         3.33
   10100.735     0.750000       378552         4.00
   10625.023     0.775000       391256         4.44
   11165.695     0.800000       403810         5.00
   11730.943     0.825000       416421         5.71
   12345.343     0.850000       429063         6.67
   12967.935     0.875000       441697         8.00
   13287.423     0.887500       447909         8.89
   13606.911     0.900000       454201        10.00
   13991.935     0.912500       460544        11.43
   14450.687     0.925000       466788        13.33
   15015.935     0.937500       473132        16.00
   15327.231     0.943750       476288        17.78
   15654.911     0.950000       479407        20.00
   16064.511     0.956250       482593        22.86
   16531.455     0.962500       485739        26.67
   17088.511     0.968750       488865        32.00
   17399.807     0.971875       490480        35.56
   17661.951     0.975000       492022        40.00
   18022.399     0.978125       493614        45.71
   18579.455     0.981250       495165        53.33
   19267.583     0.984375       496754        64.00
   19677.183     0.985938       497530        71.11
   20086.783     0.987500       498316        80.00
   20512.767     0.989062       499128        91.43
   21020.671     0.990625       499901       106.67
   21659.647     0.992188       500679       128.00
   21872.639     0.992969       501074       142.22
   22200.319     0.993750       501469       160.00
   22577.151     0.994531       501860       182.86
   22921.215     0.995313       502256       213.33
   23166.975     0.996094       502652       256.00
   23314.431     0.996484       502847       284.44
   23543.807     0.996875       503059       320.00
   23707.647     0.997266       503240       365.71
   23871.487     0.997656       503447       426.67
   24084.479     0.998047       503653       512.00
   24199.167     0.998242       503747       568.89
   24297.471     0.998437       503840       640.00
   24461.311     0.998633       503933       731.43
   24674.303     0.998828       504029       853.33
   24985.599     0.999023       504126      1024.00
   25083.903     0.999121       504183      1137.78
   25182.207     0.999219       504226      1280.00
   25313.279     0.999316       504273      1462.86
   25542.655     0.999414       504323      1706.67
   26066.943     0.999512       504371      2048.00
   26214.399     0.999561       504397      2275.56
   26361.855     0.999609       504423      2560.00
   26509.311     0.999658       504448      2925.71
   26623.999     0.999707       504472      3413.33
   26787.839     0.999756       504498      4096.00
   26935.295     0.999780       504507      4551.11
   27066.367     0.999805       504519      5120.00
   27246.591     0.999829       504532      5851.43
   27344.895     0.999854       504544      6826.67
   27443.199     0.999878       504556      8192.00
   27492.351     0.999890       504564      9102.22
   27525.119     0.999902       504569     10240.00
   27590.655     0.999915       504577     11702.86
   27639.807     0.999927       504581     13653.33
   27688.959     0.999939       504590     16384.00
   27688.959     0.999945       504590     18204.44
   27705.343     0.999951       504594     20480.00
   27721.727     0.999957       504596     23405.71
   27738.111     0.999963       504599     27306.67
   27770.879     0.999969       504603     32768.00
   27787.263     0.999973       504606     36408.89
   27787.263     0.999976       504606     40960.00
   28000.255     0.999979       504609     46811.43
   28000.255     0.999982       504609     54613.33
   28033.023     0.999985       504610     65536.00
   28049.407     0.999986       504612     72817.78
   28049.407     0.999988       504612     81920.00
   28049.407     0.999989       504612     93622.86
   28082.175     0.999991       504614    109226.67
   28082.175     0.999992       504614    131072.00
   28082.175     0.999993       504614    145635.56
   28082.175     0.999994       504614    163840.00
   28098.559     0.999995       504615    187245.71
   28098.559     0.999995       504615    218453.33
   28164.095     0.999996       504616    262144.00
   28164.095     0.999997       504616    291271.11
   28164.095     0.999997       504616    327680.00
   28164.095     0.999997       504616    374491.43
   28164.095     0.999998       504616    436906.67
   28180.479     0.999998       504617    524288.00
   28180.479     1.000000       504617          inf
#[Mean    =     7076.878, StdDeviation   =     4743.868]
#[Max     =    28164.096, Total count    =       504617]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  546912 requests in 2.00m, 6.70GB read
Requests/sec:   4559.02  
Transfer/sec:     57.16MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53585 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 23643 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53585 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 23643 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 2775.369ms, rate sampling interval: 10092ms
  Thread calibration: mean lat.: 2488.657ms, rate sampling interval: 8609ms
  Thread calibration: mean lat.: 2445.254ms, rate sampling interval: 8519ms
  Thread calibration: mean lat.: 2717.992ms, rate sampling interval: 9551ms
  Thread calibration: mean lat.: 2899.810ms, rate sampling interval: 10305ms
  Thread calibration: mean lat.: 2780.908ms, rate sampling interval: 9748ms
  Thread calibration: mean lat.: 2635.281ms, rate sampling interval: 9781ms
  Thread calibration: mean lat.: 2137.667ms, rate sampling interval: 8749ms
  Thread calibration: mean lat.: 2551.237ms, rate sampling interval: 10272ms
  Thread calibration: mean lat.: 2685.146ms, rate sampling interval: 9789ms
  Thread calibration: mean lat.: 2053.694ms, rate sampling interval: 7667ms
  Thread calibration: mean lat.: 3260.421ms, rate sampling interval: 10936ms
  Thread calibration: mean lat.: 2396.418ms, rate sampling interval: 9027ms
  Thread calibration: mean lat.: 2644.892ms, rate sampling interval: 8396ms
  Thread calibration: mean lat.: 2100.615ms, rate sampling interval: 8970ms
  Thread calibration: mean lat.: 2571.065ms, rate sampling interval: 9773ms
  Thread calibration: mean lat.: 2416.691ms, rate sampling interval: 8470ms
  Thread calibration: mean lat.: 3057.651ms, rate sampling interval: 10338ms
  Thread calibration: mean lat.: 2758.679ms, rate sampling interval: 9560ms
  Thread calibration: mean lat.: 2332.628ms, rate sampling interval: 9666ms
  Thread calibration: mean lat.: 2333.622ms, rate sampling interval: 8781ms
  Thread calibration: mean lat.: 2995.834ms, rate sampling interval: 10207ms
  Thread calibration: mean lat.: 1973.811ms, rate sampling interval: 7692ms
  Thread calibration: mean lat.: 2437.734ms, rate sampling interval: 9494ms
  Thread calibration: mean lat.: 3311.685ms, rate sampling interval: 11436ms
  Thread calibration: mean lat.: 2617.073ms, rate sampling interval: 9379ms
  Thread calibration: mean lat.: 2821.884ms, rate sampling interval: 10878ms
  Thread calibration: mean lat.: 2641.079ms, rate sampling interval: 10084ms
  Thread calibration: mean lat.: 2711.891ms, rate sampling interval: 9322ms
  Thread calibration: mean lat.: 2220.265ms, rate sampling interval: 7778ms
  Thread calibration: mean lat.: 2869.101ms, rate sampling interval: 9592ms
  Thread calibration: mean lat.: 2605.793ms, rate sampling interval: 9969ms
  Thread calibration: mean lat.: 2571.451ms, rate sampling interval: 9674ms
  Thread calibration: mean lat.: 2685.141ms, rate sampling interval: 9306ms
  Thread calibration: mean lat.: 3028.555ms, rate sampling interval: 10067ms
  Thread calibration: mean lat.: 2893.119ms, rate sampling interval: 9715ms
  Thread calibration: mean lat.: 2487.391ms, rate sampling interval: 8732ms
  Thread calibration: mean lat.: 2545.411ms, rate sampling interval: 9437ms
  Thread calibration: mean lat.: 2168.178ms, rate sampling interval: 8470ms
  Thread calibration: mean lat.: 2743.461ms, rate sampling interval: 9994ms
  Thread calibration: mean lat.: 2032.554ms, rate sampling interval: 8626ms
  Thread calibration: mean lat.: 3101.530ms, rate sampling interval: 10239ms
  Thread calibration: mean lat.: 2545.992ms, rate sampling interval: 10067ms
  Thread calibration: mean lat.: 2136.113ms, rate sampling interval: 7696ms
  Thread calibration: mean lat.: 2305.669ms, rate sampling interval: 8830ms
  Thread calibration: mean lat.: 2047.061ms, rate sampling interval: 7815ms
  Thread calibration: mean lat.: 2451.637ms, rate sampling interval: 9560ms
  Thread calibration: mean lat.: 2785.509ms, rate sampling interval: 10911ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    34.28s    16.61s    1.07m    58.44%
    Req/Sec    99.06      9.85   123.00     73.20%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   34.50s 
 75.000%   48.01s 
 90.000%    0.95m 
 99.000%    1.07m 
 99.900%    1.12m 
 99.990%    1.15m 
 99.999%    1.16m 
100.000%    1.17m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3028.991     0.000000            1         1.00
   10985.471     0.100000        52538         1.11
   16973.823     0.200000       105135         1.25
   23494.655     0.300000       157613         1.43
   28999.679     0.400000       210205         1.67
   34504.703     0.500000       262789         2.00
   37257.215     0.550000       289010         2.22
   39813.119     0.600000       315207         2.50
   42401.791     0.650000       341579         2.86
   45121.535     0.700000       367813         3.33
   48005.119     0.750000       394127         4.00
   49676.287     0.775000       407243         4.44
   51183.615     0.800000       420180         5.00
   52789.247     0.825000       433303         5.71
   54362.111     0.850000       446436         6.67
   55771.135     0.875000       459682         8.00
   56492.031     0.887500       466186         8.89
   57212.927     0.900000       472941        10.00
   57901.055     0.912500       479432        11.43
   58621.951     0.925000       486038        13.33
   59375.615     0.937500       492475        16.00
   59768.831     0.943750       495889        17.78
   60162.047     0.950000       499113        20.00
   60653.567     0.956250       502370        22.86
   61079.551     0.962500       505547        26.67
   61603.839     0.968750       508935        32.00
   61898.751     0.971875       510513        35.56
   62193.663     0.975000       512178        40.00
   62521.343     0.978125       513802        45.71
   62881.791     0.981250       515461        53.33
   63209.471     0.984375       517060        64.00
   63406.079     0.985938       517852        71.11
   63668.223     0.987500       518627        80.00
   63930.367     0.989062       519476        91.43
   64225.279     0.990625       520332       106.67
   64487.423     0.992188       521152       128.00
   64651.263     0.992969       521521       142.22
   64847.871     0.993750       521906       160.00
   65110.015     0.994531       522313       182.86
   65339.391     0.995313       522728       213.33
   65601.535     0.996094       523123       256.00
   65732.607     0.996484       523324       284.44
   65863.679     0.996875       523514       320.00
   66060.287     0.997266       523734       365.71
   66256.895     0.997656       523943       426.67
   66420.735     0.998047       524146       512.00
   66551.807     0.998242       524248       568.89
   66650.111     0.998437       524342       640.00
   66748.415     0.998633       524450       731.43
   66846.719     0.998828       524539       853.33
   67010.559     0.999023       524651      1024.00
   67108.863     0.999121       524707      1137.78
   67174.399     0.999219       524747      1280.00
   67305.471     0.999316       524811      1462.86
   67371.007     0.999414       524850      1706.67
   67502.079     0.999512       524913      2048.00
   67567.615     0.999561       524927      2275.56
   67698.687     0.999609       524961      2560.00
   67764.223     0.999658       524985      2925.71
   67829.759     0.999707       525014      3413.33
   67895.295     0.999756       525028      4096.00
   67960.831     0.999780       525040      4551.11
   68091.903     0.999805       525058      5120.00
   68157.439     0.999829       525068      5851.43
   68354.047     0.999854       525082      6826.67
   68550.655     0.999878       525092      8192.00
   68681.727     0.999890       525100      9102.22
   68747.263     0.999902       525109     10240.00
   68812.799     0.999915       525113     11702.86
   68878.335     0.999927       525122     13653.33
   68878.335     0.999939       525122     16384.00
   69074.943     0.999945       525128     18204.44
   69140.479     0.999951       525139     20480.00
   69140.479     0.999957       525139     23405.71
   69140.479     0.999963       525139     27306.67
   69140.479     0.999969       525139     32768.00
   69337.087     0.999973       525144     36408.89
   69337.087     0.999976       525144     40960.00
   69337.087     0.999979       525144     46811.43
   69402.623     0.999982       525146     54613.33
   69402.623     0.999985       525146     65536.00
   69468.159     0.999986       525148     72817.78
   69468.159     0.999988       525148     81920.00
   69795.839     0.999989       525149     93622.86
   69861.375     0.999991       525153    109226.67
   69861.375     0.999992       525153    131072.00
   69861.375     0.999993       525153    145635.56
   69861.375     0.999994       525153    163840.00
   69861.375     0.999995       525153    187245.71
   69861.375     0.999995       525153    218453.33
   69861.375     0.999996       525153    262144.00
   69861.375     0.999997       525153    291271.11
   69861.375     0.999997       525153    327680.00
   69861.375     0.999997       525153    374491.43
   69861.375     0.999998       525153    436906.67
   69861.375     0.999998       525153    524288.00
   69926.911     0.999998       525154    582542.22
   69926.911     1.000000       525154          inf
#[Mean    =    34282.439, StdDeviation   =    16605.581]
#[Max     =    69861.376, Total count    =       525154]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  572151 requests in 2.00m, 7.00GB read
Requests/sec:   4767.80  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53267 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 19316 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53267 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 19316 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
518c3de2345b5c9c7859a16879a1dcb2f2c0cd5a69834e27af696b59ce959250
839ef3e77183b7fa1e1e530687ead3d6c9451dd0771b4f0f2babf538cbb9b615
1bf5207ccdbb70096a8e05e2bdc09b07210e31e25c9f31f99a9a1e0780ade1ec
1fc0edb368cdf7e880c228a96743962c5811d07d53ff7901d32e824eb65eb684
112558b0667e53afd035cb44d6b4bab21cb7c304ad15775a42f4098bbcbfa5bd
5ae919e60be927e5698a49dbe9a1e9b903c49b9b1dee2fe8cb7552a6f6669de7
090f56a0ce28dfecb52834e89041dc2e48b399f5b693d2b398ba7f921f4b13f1
059337303f2f3f917be406e5c30e9ddf6d6af3c40720a521cc2403a544758604
71289b65671a21029c840017819dea81965ea983c995f993f567a3e7ba3af3ae
73839d1dd23bd240a3197a7024d975838df1078998be361570b884e1c59a9295
1fcb788ce1ccf122d727e48836b01c101d0451688def0292418ae7446cf97407
5b6041f486b39eb2be7addf0334cec7092d48f73b91607868ff4ff78b6b7e0be
02c5cb0b8802d07a1dcb43dbd0726a61c6ba55ba8a529fb934c6212b4655155c
1521dfd068ee9cc19c31e8d730374b78f8d9d1ea9862f18cd8f8c88fefdc769c
42d9626a673ce695fe0fc41df080a33d789b611a4aa36770d8c60f0b83c5d163
1d9f9e2cb33256ae48fd638d2e73ae01c90910bf102c9ecd8d7b3d70d3cf6aef
bdce895aa62420bd75c07d543219536c9c2356d18f7e06d103a97e2614a0982f
856521288befb4aecd3070fe5191f6c4d3e95245eff7274e9a6101ae2072ebbd
9f0ca3adb989b96c698edc1068586c36c4cf6a0a913c038b93e9e8d034d7e328
d1045e4ffaa6709f7aa526d7fc4147f58844e22a520e2deb74547cb6d9be80ab
714da3cca3373245f745f1e89830fde84b6d0a830837a24cc62eef3ccf38583f
0fa87f7ed5f91ca826b1733febb4112c87e0f79412f5af04f083c19bd8cdb436
fa93677461f62bb5ab52a8daa3a34df2e112104402d1553fa8ddab7a9d1c4a32
42137e1846ee47a1ca0008ed47da9d3c4cb373e623de3ca839aebc31883ab0df
7bfd605ac2b9ca31e9a11e17432ab7c6a0ed529ef3e541056b43ff503cefb736
8bfc4b6e19a9720f3457c4240e4f82e4fad739c62528615094167043d9250df3
dacb2f86d3144f3d39e0f0c4d950af9d6a81cbf855790fab5307650292e303e0
6deadc62ce9c0d010c81267c7ba149cdf28ad3662f35de2a6e981dc47349342d
6d244cbbded62794e1d114a5d17649e0c3b176baf3f6d88b36ee49b739d130d4
09d08c798d6e991eb68d217e35dc5ab93dde79e2246a2c544b71501e4bb8fc82
8160afb3d8d7b1df22edcc535eee7573b658ea8c6c88c7e30d16b481a995014c

Total reclaimed space: 4.177GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 17-53-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-2.log -b True -m m -M 2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 17-53-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-2.log', 'mode': 'm', 'memnode': '2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-2
CMD: docker exec -u root -it socialnetwork_social-graph-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-2



CMD: docker commit socialnetwork_social-graph-service_1 social-network-microservices-numa-membind-2

Result: sha256:7b8887769ddbebcaaae4a641fe7047bc905d4ff61f2a37d355eb8e8138a61400


Install numactl tools on docker image: media-frontend-numa-membind-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-2

Result: sha256:d2e6cc9ac0133492489eb46a3792e2cc91f501fed89f5e55370df6becb603a9e


Install numactl tools on docker image: openresty-thrift-numa-membind-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-2

Result: sha256:b4d07eb038a832f591e9937deead6fcc826c0316c37711678f93c4ed669bea0c


Install numactl tools on docker image: redis-numa-membind-2
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 11 00:53 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-2



CMD: docker commit socialnetwork_user-timeline-redis_2 redis-numa-membind-2

Result: sha256:78c91c6244c2b9f554f703acf7563d41b4e933d0cc319871048354cf012ba9ec


Install numactl tools on docker image: memcached-numa-membind-2
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 11 00:53 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-2



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-membind-2

Result: sha256:55ef51a7d92fb910a616a9eef2509ba09d50e366c69367d2a49f3f95cd174b5a


Install numactl tools on docker image: mongo-numa-membind-2
CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 00:54 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-2



CMD: docker commit socialnetwork_user-timeline-mongodb_1 mongo-numa-membind-2

Result: sha256:3c7cfc2c81cc4af6e7534d6cf8515bcab31a866c3a557b0e592f9aff2b8bbc48


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
b6f5fbf76848f5cbafd5bf228e02a06c513fa052233ef021624db84152236805
80d02aaf7b53406a27670cb6f7aba2ef6b07458167934e2cbcc5e8bbdb991177
77257dcb5f1146e99982c3d0d0a3a97d062c74e4aceb719ea92ff1e8c441759e
a760cd4374e7d03a22713cdf0fec70d1e996a94b754b3e46b5600e5fecd6f8e1
eb2463335cf89b5000e100c8bd8c70b6798be9c08b6f90af45d27f9b775fc7c1
219d148633d38df28323f818e0c340f3d9bb7a7490df0dd136395701ae2d5afd
f41bdc43b8d0f2498538c089a7c8d7acf03bdabc7e61167e5bd1d848dfc297e8
833f23175b9cb7bf83dd94e1d57db0eb958baa6a198a12578e26222c4b3f8e46
aeb5cc99aab7c79341786001702521687f92a7375bdaee351029512a10228269
d8a41ad43b68829507282f56ea2da9bdf1d637aeee1b0247d224993b959b7c0b
9cf849193914256f4df78ed359671344da7b40ad6ee5a687e6e3d4aaea8e23c9
0bcb6f1bd17bf4c5fa7dc53f0c722f3edb1474b347f2eef757e1b3e707562ca8
788d8dfbde85ca5f68e855d6608b9a33586a2c7a357e3943e859162b64bf4a30
1e6815bca534d3e10c95dfe60e197e9e2d5474378a06d0e831b274f10027759b
6b392614dcf438bbd5331cb64c839ee5f2b476fc24076f582f360f26d4662196
597b37b57025b6d92c0694db060d85f7c5dc26f3c2c0bc0845abb18d86d1093c
d33ec9b8ec1922fae3df4594e9e911c3608d0db1966287cd82b8f4b3b288ef04
88c262de37a715a12966a3660859ac28f7c3672a43b36ca18d051b21ac202760
e9173e1dbcaeb481f898b7f21e1b3af3febbbd7381e7495140fc7b38e61afa9a
5f174acbf572bc592801a433e667a8a797229b262adfcc8ac95f193eb93774d0
f884ad6b74387d97e474743379d4accba37cd91dbf4218f1fa54d24c197a3142
b8c660763b86155f2bf3c763ab98b88426b9cd8b32854f3d1395bfa08af5b4ce
655b50b6410ccfcba6df0469562d883a7e846c5905e0a0c9e67e541806fbc41e
28d39e5f9b3a04cc5e53bcf6df47f66315b99d4ef642e39de948decf9a7a152d
7071f903b194ffbadab41b6044a8ece63d9ae0b265b0f0db993edc8998b6c872
2d45fca71fbffefe99268d66402d22c1c4e89247db3ea999552fb23a5fcbe934
7ca56114dc7b988d0e3e396377a92ba2569b9db5deeb8906dc42611dffea8cfe
3cd5d9d61f8789ee359041342522f7379e171c3ff8e1687eb2ace7f54353cb7d
75e1e2451ef57a4d5ad9df0865b5fb64f20fafb6c1d180290a51dbb94a6ed47d
3ac04d77efeff7545c8dd9a677c07ff3a66907be76806ea78ace751626e8eaa0
c976942fe8f6f181c395c0dc5373bd4fc5b889f437d36156cc098c52a72676f8

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55150 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57571 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129938 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55150 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57571 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129938 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:827
cluster_stats_messages_pong_sent:830
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1658
cluster_stats_messages_ping_received:830
cluster_stats_messages_pong_received:828
cluster_stats_messages_received:1658
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:815
cluster_stats_messages_pong_sent:780
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1596
cluster_stats_messages_ping_received:780
cluster_stats_messages_pong_received:816
cluster_stats_messages_received:1596
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:803
cluster_stats_messages_pong_sent:793
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1597
cluster_stats_messages_ping_received:793
cluster_stats_messages_pong_received:804
cluster_stats_messages_received:1597
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 16.635ms, rate sampling interval: 130ms
  Thread calibration: mean lat.: 10.637ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 11.460ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 9.909ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 10.986ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 14.092ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 8.848ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 13.754ms, rate sampling interval: 83ms
  Thread calibration: mean lat.: 11.042ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 13.923ms, rate sampling interval: 85ms
  Thread calibration: mean lat.: 11.134ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.234ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 17.909ms, rate sampling interval: 140ms
  Thread calibration: mean lat.: 9.706ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 11.167ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 16.571ms, rate sampling interval: 102ms
  Thread calibration: mean lat.: 10.036ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 14.758ms, rate sampling interval: 109ms
  Thread calibration: mean lat.: 12.660ms, rate sampling interval: 113ms
  Thread calibration: mean lat.: 6.251ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 12.514ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 11.389ms, rate sampling interval: 56ms
  Thread calibration: mean lat.: 9.862ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 10.245ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 12.363ms, rate sampling interval: 49ms
  Thread calibration: mean lat.: 8.679ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 12.138ms, rate sampling interval: 56ms
  Thread calibration: mean lat.: 9.153ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 15.395ms, rate sampling interval: 100ms
  Thread calibration: mean lat.: 5.575ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 13.284ms, rate sampling interval: 51ms
  Thread calibration: mean lat.: 8.810ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 15.446ms, rate sampling interval: 93ms
  Thread calibration: mean lat.: 8.649ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 11.399ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.720ms, rate sampling interval: 55ms
  Thread calibration: mean lat.: 7.408ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 18.912ms, rate sampling interval: 146ms
  Thread calibration: mean lat.: 10.032ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.983ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 13.170ms, rate sampling interval: 44ms
  Thread calibration: mean lat.: 13.001ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 9.087ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 10.496ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 12.772ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 10.918ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 12.185ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.568ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.94ms    2.15ms   6.20ms   98.41%
    Req/Sec    20.52     35.86   153.00     83.82%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.76ms
 75.000%    3.01ms
 90.000%    3.41ms
 99.000%    6.20ms
 99.900%   37.50ms
 99.990%   80.06ms
 99.999%   91.46ms
100.000%   91.71ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.417     0.000000            1         1.00
       2.247     0.100000        10640         1.11
       2.459     0.200000        21240         1.25
       2.581     0.300000        31928         1.43
       2.673     0.400000        42346         1.67
       2.759     0.500000        53100         2.00
       2.801     0.550000        58305         2.22
       2.845     0.600000        63621         2.50
       2.893     0.650000        68880         2.86
       2.947     0.700000        74169         3.33
       3.009     0.750000        79390         4.00
       3.047     0.775000        82132         4.44
       3.089     0.800000        84777         5.00
       3.139     0.825000        87366         5.71
       3.203     0.850000        89965         6.67
       3.293     0.875000        92613         8.00
       3.347     0.887500        93953         8.89
       3.413     0.900000        95282        10.00
       3.487     0.912500        96572        11.43
       3.581     0.925000        97903        13.33
       3.697     0.937500        99219        16.00
       3.759     0.943750        99877        17.78
       3.833     0.950000       100544        20.00
       3.921     0.956250       101210        22.86
       4.039     0.962500       101866        26.67
       4.195     0.968750       102527        32.00
       4.295     0.971875       102865        35.56
       4.427     0.975000       103187        40.00
       4.611     0.978125       103514        45.71
       4.819     0.981250       103849        53.33
       5.111     0.984375       104176        64.00
       5.295     0.985938       104341        71.11
       5.555     0.987500       104509        80.00
       5.915     0.989062       104672        91.43
       6.459     0.990625       104837       106.67
       7.231     0.992188       105003       128.00
       7.735     0.992969       105085       142.22
       8.335     0.993750       105170       160.00
       8.887     0.994531       105252       182.86
       9.567     0.995313       105333       213.33
      10.575     0.996094       105416       256.00
      11.431     0.996484       105457       284.44
      12.343     0.996875       105499       320.00
      13.615     0.997266       105540       365.71
      15.903     0.997656       105582       426.67
      18.895     0.998047       105623       512.00
      20.895     0.998242       105643       568.89
      22.943     0.998437       105665       640.00
      26.303     0.998633       105686       731.43
      32.895     0.998828       105705       853.33
      38.111     0.999023       105726      1024.00
      40.959     0.999121       105736      1137.78
      45.567     0.999219       105747      1280.00
      48.319     0.999316       105757      1462.86
      52.607     0.999414       105767      1706.67
      58.015     0.999512       105778      2048.00
      61.055     0.999561       105783      2275.56
      66.047     0.999609       105789      2560.00
      67.583     0.999658       105793      2925.71
      69.247     0.999707       105798      3413.33
      70.783     0.999756       105805      4096.00
      71.103     0.999780       105806      4551.11
      72.383     0.999805       105809      5120.00
      73.663     0.999829       105811      5851.43
      75.967     0.999854       105814      6826.67
      78.719     0.999878       105817      8192.00
      80.063     0.999890       105818      9102.22
      80.319     0.999902       105819     10240.00
      82.303     0.999915       105820     11702.86
      84.287     0.999927       105822     13653.33
      84.863     0.999939       105823     16384.00
      85.759     0.999945       105824     18204.44
      85.759     0.999951       105824     20480.00
      86.079     0.999957       105825     23405.71
      86.847     0.999963       105826     27306.67
      86.847     0.999969       105826     32768.00
      90.879     0.999973       105827     36408.89
      90.879     0.999976       105827     40960.00
      90.879     0.999979       105827     46811.43
      91.455     0.999982       105828     54613.33
      91.455     0.999985       105828     65536.00
      91.455     0.999986       105828     72817.78
      91.455     0.999988       105828     81920.00
      91.455     0.999989       105828     93622.86
      91.711     0.999991       105829    109226.67
      91.711     1.000000       105829          inf
#[Mean    =        2.935, StdDeviation   =        2.146]
#[Max     =       91.648, Total count    =       105829]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115334 requests in 2.00m, 23.65MB read
Requests/sec:    961.07  
Transfer/sec:    201.79KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55043 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56237 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128169 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 55043 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56237 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128169 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 3300.038ms, rate sampling interval: 12738ms
  Thread calibration: mean lat.: 3506.468ms, rate sampling interval: 12722ms
  Thread calibration: mean lat.: 3796.550ms, rate sampling interval: 13434ms
  Thread calibration: mean lat.: 3301.782ms, rate sampling interval: 12738ms
  Thread calibration: mean lat.: 2949.671ms, rate sampling interval: 11968ms
  Thread calibration: mean lat.: 3414.965ms, rate sampling interval: 12812ms
  Thread calibration: mean lat.: 3155.900ms, rate sampling interval: 12664ms
  Thread calibration: mean lat.: 3094.487ms, rate sampling interval: 11886ms
  Thread calibration: mean lat.: 3047.229ms, rate sampling interval: 12058ms
  Thread calibration: mean lat.: 3266.611ms, rate sampling interval: 12558ms
  Thread calibration: mean lat.: 3322.562ms, rate sampling interval: 12722ms
  Thread calibration: mean lat.: 3362.805ms, rate sampling interval: 12812ms
  Thread calibration: mean lat.: 3256.702ms, rate sampling interval: 12378ms
  Thread calibration: mean lat.: 3402.407ms, rate sampling interval: 12066ms
  Thread calibration: mean lat.: 3085.615ms, rate sampling interval: 12378ms
  Thread calibration: mean lat.: 3160.119ms, rate sampling interval: 12165ms
  Thread calibration: mean lat.: 3206.236ms, rate sampling interval: 12632ms
  Thread calibration: mean lat.: 3583.396ms, rate sampling interval: 12754ms
  Thread calibration: mean lat.: 3379.700ms, rate sampling interval: 12869ms
  Thread calibration: mean lat.: 3625.177ms, rate sampling interval: 12976ms
  Thread calibration: mean lat.: 3377.432ms, rate sampling interval: 12443ms
  Thread calibration: mean lat.: 3356.627ms, rate sampling interval: 12181ms
  Thread calibration: mean lat.: 3455.396ms, rate sampling interval: 12812ms
  Thread calibration: mean lat.: 3553.115ms, rate sampling interval: 13000ms
  Thread calibration: mean lat.: 3088.406ms, rate sampling interval: 12091ms
  Thread calibration: mean lat.: 3503.677ms, rate sampling interval: 12656ms
  Thread calibration: mean lat.: 3626.211ms, rate sampling interval: 12640ms
  Thread calibration: mean lat.: 3790.894ms, rate sampling interval: 13025ms
  Thread calibration: mean lat.: 3859.041ms, rate sampling interval: 13287ms
  Thread calibration: mean lat.: 3867.691ms, rate sampling interval: 13475ms
  Thread calibration: mean lat.: 3809.648ms, rate sampling interval: 13631ms
  Thread calibration: mean lat.: 3785.956ms, rate sampling interval: 13377ms
  Thread calibration: mean lat.: 4146.405ms, rate sampling interval: 13410ms
  Thread calibration: mean lat.: 3757.916ms, rate sampling interval: 12845ms
  Thread calibration: mean lat.: 3811.441ms, rate sampling interval: 13295ms
  Thread calibration: mean lat.: 3699.993ms, rate sampling interval: 13066ms
  Thread calibration: mean lat.: 3981.373ms, rate sampling interval: 13287ms
  Thread calibration: mean lat.: 3834.954ms, rate sampling interval: 13197ms
  Thread calibration: mean lat.: 3954.521ms, rate sampling interval: 13541ms
  Thread calibration: mean lat.: 4165.623ms, rate sampling interval: 13934ms
  Thread calibration: mean lat.: 3898.494ms, rate sampling interval: 13139ms
  Thread calibration: mean lat.: 3886.617ms, rate sampling interval: 13197ms
  Thread calibration: mean lat.: 3981.011ms, rate sampling interval: 13189ms
  Thread calibration: mean lat.: 3847.245ms, rate sampling interval: 13123ms
  Thread calibration: mean lat.: 3923.754ms, rate sampling interval: 13123ms
  Thread calibration: mean lat.: 3743.178ms, rate sampling interval: 12828ms
  Thread calibration: mean lat.: 4059.283ms, rate sampling interval: 13361ms
  Thread calibration: mean lat.: 3857.290ms, rate sampling interval: 13221ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    47.18s    23.04s    1.45m    57.77%
    Req/Sec    27.59      0.74    29.00     99.49%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   47.15s 
 75.000%    1.12m 
 90.000%    1.32m 
 99.000%    1.45m 
 99.900%    1.48m 
 99.990%    1.50m 
 99.999%    1.50m 
100.000%    1.51m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    5836.799     0.000000            1         1.00
   15425.535     0.100000        14821         1.11
   23134.207     0.200000        29638         1.25
   31309.823     0.300000        44435         1.43
   39419.903     0.400000        59283         1.67
   47153.151     0.500000        74045         2.00
   50954.239     0.550000        81450         2.22
   54853.631     0.600000        88864         2.50
   58949.631     0.650000        96269         2.86
   62914.559     0.700000       103645         3.33
   66945.023     0.750000       111061         4.00
   69009.407     0.775000       114779         4.44
   71041.023     0.800000       118515         5.00
   73007.103     0.825000       122204         5.71
   75104.255     0.850000       125933         6.67
   77135.871     0.875000       129568         8.00
   78184.447     0.887500       131456         8.89
   79233.023     0.900000       133332        10.00
   80281.599     0.912500       135130        11.43
   81330.175     0.925000       136950        13.33
   82378.751     0.937500       138804        16.00
   82903.039     0.943750       139729        17.78
   83492.863     0.950000       140758        20.00
   83951.615     0.956250       141569        22.86
   84475.903     0.962500       142500        26.67
   85000.191     0.968750       143447        32.00
   85262.335     0.971875       143911        35.56
   85524.479     0.975000       144392        40.00
   85786.623     0.978125       144838        45.71
   86048.767     0.981250       145293        53.33
   86376.447     0.984375       145784        64.00
   86507.519     0.985938       145984        71.11
   86704.127     0.987500       146264        80.00
   86835.199     0.989062       146442        91.43
   87031.807     0.990625       146701       106.67
   87228.415     0.992188       146931       128.00
   87359.487     0.992969       147066       142.22
   87425.023     0.993750       147122       160.00
   87556.095     0.994531       147254       182.86
   87687.167     0.995313       147362       213.33
   87883.775     0.996094       147512       256.00
   87949.311     0.996484       147560       284.44
   88014.847     0.996875       147595       320.00
   88145.919     0.997266       147670       365.71
   88211.455     0.997656       147708       426.67
   88342.527     0.998047       147773       512.00
   88408.063     0.998242       147792       568.89
   88473.599     0.998437       147822       640.00
   88539.135     0.998633       147843       731.43
   88670.207     0.998828       147887       853.33
   88735.743     0.999023       147911      1024.00
   88801.279     0.999121       147924      1137.78
   88866.815     0.999219       147936      1280.00
   88932.351     0.999316       147953      1462.86
   88997.887     0.999414       147963      1706.67
   89063.423     0.999512       147974      2048.00
   89128.959     0.999561       147982      2275.56
   89194.495     0.999609       147988      2560.00
   89260.031     0.999658       147995      2925.71
   89325.567     0.999707       148004      3413.33
   89391.103     0.999756       148008      4096.00
   89456.639     0.999780       148014      4551.11
   89522.175     0.999805       148020      5120.00
   89522.175     0.999829       148020      5851.43
   89587.711     0.999854       148025      6826.67
   89653.247     0.999878       148028      8192.00
   89653.247     0.999890       148028      9102.22
   89718.783     0.999902       148032     10240.00
   89718.783     0.999915       148032     11702.86
   89849.855     0.999927       148034     13653.33
   89915.391     0.999939       148038     16384.00
   89915.391     0.999945       148038     18204.44
   89915.391     0.999951       148038     20480.00
   89915.391     0.999957       148038     23405.71
   89980.927     0.999963       148039     27306.67
   90046.463     0.999969       148040     32768.00
   90046.463     0.999973       148040     36408.89
   90177.535     0.999976       148041     40960.00
   90177.535     0.999979       148041     46811.43
   90243.071     0.999982       148043     54613.33
   90243.071     0.999985       148043     65536.00
   90243.071     0.999986       148043     72817.78
   90243.071     0.999988       148043     81920.00
   90243.071     0.999989       148043     93622.86
   90243.071     0.999991       148043    109226.67
   90243.071     0.999992       148043    131072.00
   90243.071     0.999993       148043    145635.56
   90374.143     0.999994       148044    163840.00
   90374.143     1.000000       148044          inf
#[Mean    =    47184.034, StdDeviation   =    23038.769]
#[Max     =    90308.608, Total count    =       148044]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  161775 requests in 2.00m, 33.17MB read
Requests/sec:   1348.09  
Transfer/sec:    283.05KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54978 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54874 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 126075 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54978 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54874 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 126075 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4508.419ms, rate sampling interval: 16482ms
  Thread calibration: mean lat.: 4529.863ms, rate sampling interval: 16457ms
  Thread calibration: mean lat.: 4579.755ms, rate sampling interval: 16654ms
  Thread calibration: mean lat.: 4655.499ms, rate sampling interval: 16924ms
  Thread calibration: mean lat.: 4738.090ms, rate sampling interval: 17055ms
  Thread calibration: mean lat.: 4510.392ms, rate sampling interval: 16310ms
  Thread calibration: mean lat.: 4806.611ms, rate sampling interval: 17448ms
  Thread calibration: mean lat.: 4500.675ms, rate sampling interval: 16302ms
  Thread calibration: mean lat.: 4552.824ms, rate sampling interval: 16826ms
  Thread calibration: mean lat.: 4746.177ms, rate sampling interval: 16957ms
  Thread calibration: mean lat.: 4702.926ms, rate sampling interval: 16859ms
  Thread calibration: mean lat.: 4401.548ms, rate sampling interval: 14999ms
  Thread calibration: mean lat.: 4745.815ms, rate sampling interval: 17203ms
  Thread calibration: mean lat.: 4661.413ms, rate sampling interval: 16793ms
  Thread calibration: mean lat.: 4672.806ms, rate sampling interval: 16777ms
  Thread calibration: mean lat.: 4655.565ms, rate sampling interval: 16605ms
  Thread calibration: mean lat.: 4755.063ms, rate sampling interval: 17235ms
  Thread calibration: mean lat.: 4734.746ms, rate sampling interval: 16891ms
  Thread calibration: mean lat.: 4640.948ms, rate sampling interval: 16990ms
  Thread calibration: mean lat.: 4632.238ms, rate sampling interval: 16449ms
  Thread calibration: mean lat.: 4575.011ms, rate sampling interval: 16809ms
  Thread calibration: mean lat.: 4662.932ms, rate sampling interval: 17154ms
  Thread calibration: mean lat.: 4694.436ms, rate sampling interval: 17121ms
  Thread calibration: mean lat.: 4626.016ms, rate sampling interval: 16220ms
  Thread calibration: mean lat.: 4604.551ms, rate sampling interval: 16580ms
  Thread calibration: mean lat.: 4611.521ms, rate sampling interval: 16957ms
  Thread calibration: mean lat.: 4564.832ms, rate sampling interval: 17252ms
  Thread calibration: mean lat.: 4603.119ms, rate sampling interval: 16621ms
  Thread calibration: mean lat.: 4728.859ms, rate sampling interval: 16859ms
  Thread calibration: mean lat.: 4619.253ms, rate sampling interval: 16654ms
  Thread calibration: mean lat.: 4519.699ms, rate sampling interval: 16580ms
  Thread calibration: mean lat.: 4663.415ms, rate sampling interval: 16973ms
  Thread calibration: mean lat.: 4608.804ms, rate sampling interval: 16400ms
  Thread calibration: mean lat.: 4603.140ms, rate sampling interval: 16244ms
  Thread calibration: mean lat.: 4780.845ms, rate sampling interval: 16752ms
  Thread calibration: mean lat.: 4668.437ms, rate sampling interval: 17039ms
  Thread calibration: mean lat.: 4681.397ms, rate sampling interval: 16695ms
  Thread calibration: mean lat.: 4680.511ms, rate sampling interval: 16572ms
  Thread calibration: mean lat.: 4706.135ms, rate sampling interval: 16973ms
  Thread calibration: mean lat.: 4586.968ms, rate sampling interval: 16875ms
  Thread calibration: mean lat.: 4316.372ms, rate sampling interval: 15155ms
  Thread calibration: mean lat.: 4684.505ms, rate sampling interval: 17203ms
  Thread calibration: mean lat.: 4753.909ms, rate sampling interval: 17022ms
  Thread calibration: mean lat.: 4624.880ms, rate sampling interval: 16482ms
  Thread calibration: mean lat.: 4722.040ms, rate sampling interval: 16908ms
  Thread calibration: mean lat.: 4427.297ms, rate sampling interval: 15425ms
  Thread calibration: mean lat.: 4739.175ms, rate sampling interval: 16588ms
  Thread calibration: mean lat.: 4650.212ms, rate sampling interval: 16482ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     1.01m    29.62s    1.85m    57.87%
    Req/Sec    13.60      0.49    14.00    100.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.01m 
 75.000%    1.43m 
 90.000%    1.69m 
 99.000%    1.85m 
 99.900%    1.87m 
 99.990%    1.88m 
 99.999%    1.88m 
100.000%    1.88m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    8445.951     0.000000            1         1.00
   19415.039     0.100000         7446         1.11
   29687.807     0.200000        14893         1.25
   40042.495     0.300000        22347         1.43
   50200.575     0.400000        29767         1.67
   60588.031     0.500000        37206         2.00
   65732.607     0.550000        40939         2.22
   70713.343     0.600000        44660         2.50
   75628.543     0.650000        48391         2.86
   80674.815     0.700000        52093         3.33
   86048.767     0.750000        55810         4.00
   88670.207     0.775000        57658         4.44
   91160.575     0.800000        59517         5.00
   93847.551     0.825000        61412         5.71
   96534.527     0.850000        63265         6.67
   98959.359     0.875000        65118         8.00
  100270.079     0.887500        66039         8.89
  101646.335     0.900000        66995        10.00
  102891.519     0.912500        67909        11.43
  104202.239     0.925000        68855        13.33
  105447.423     0.937500        69762        16.00
  106102.783     0.943750        70218        17.78
  106758.143     0.950000        70707        20.00
  107347.967     0.956250        71173        22.86
  107937.791     0.962500        71608        26.67
  108593.151     0.968750        72069        32.00
  108920.831     0.971875        72317        35.56
  109248.511     0.975000        72592        40.00
  109510.655     0.978125        72795        45.71
  109772.799     0.981250        73001        53.33
  110100.479     0.984375        73244        64.00
  110297.087     0.985938        73373        71.11
  110428.159     0.987500        73477        80.00
  110624.767     0.989062        73605        91.43
  110821.375     0.990625        73734       106.67
  110952.447     0.992188        73813       128.00
  111083.519     0.992969        73898       142.22
  111149.055     0.993750        73936       160.00
  111280.127     0.994531        74017       182.86
  111345.663     0.995313        74053       213.33
  111476.735     0.996094        74122       256.00
  111542.271     0.996484        74153       284.44
  111607.807     0.996875        74181       320.00
  111673.343     0.997266        74213       365.71
  111738.879     0.997656        74240       426.67
  111804.415     0.998047        74257       512.00
  111869.951     0.998242        74286       568.89
  111869.951     0.998437        74286       640.00
  111935.487     0.998633        74302       731.43
  112001.023     0.998828        74316       853.33
  112066.559     0.999023        74335      1024.00
  112066.559     0.999121        74335      1137.78
  112066.559     0.999219        74335      1280.00
  112132.095     0.999316        74345      1462.86
  112197.631     0.999414        74355      1706.67
  112197.631     0.999512        74355      2048.00
  112263.167     0.999561        74365      2275.56
  112263.167     0.999609        74365      2560.00
  112328.703     0.999658        74372      2925.71
  112328.703     0.999707        74372      3413.33
  112394.239     0.999756        74380      4096.00
  112394.239     0.999780        74380      4551.11
  112394.239     0.999805        74380      5120.00
  112394.239     0.999829        74380      5851.43
  112459.775     0.999854        74383      6826.67
  112459.775     0.999878        74383      8192.00
  112459.775     0.999890        74383      9102.22
  112525.311     0.999902        74387     10240.00
  112525.311     0.999915        74387     11702.86
  112525.311     0.999927        74387     13653.33
  112525.311     0.999939        74387     16384.00
  112525.311     0.999945        74387     18204.44
  112590.847     0.999951        74388     20480.00
  112590.847     0.999957        74388     23405.71
  112656.383     0.999963        74389     27306.67
  112656.383     0.999969        74389     32768.00
  112656.383     0.999973        74389     36408.89
  112721.919     0.999976        74391     40960.00
  112721.919     1.000000        74391          inf
#[Mean    =    60427.609, StdDeviation   =    29620.601]
#[Max     =   112656.384, Total count    =        74391]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  80835 requests in 2.00m, 16.57MB read
Requests/sec:    673.56  
Transfer/sec:    141.42KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54863 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53034 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 124128 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54863 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 53034 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 124128 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 12.188ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.644ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 12.855ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 13.090ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 12.822ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.596ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 12.084ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.832ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.559ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 12.608ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.669ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.629ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.394ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.032ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.409ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.384ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.280ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 13.092ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.166ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 13.328ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 12.467ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 13.313ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.603ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.002ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.500ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.933ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.310ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.478ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 13.258ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.111ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.166ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.379ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.273ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.755ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.739ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 13.184ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 12.156ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.842ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.954ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 12.169ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.124ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 12.260ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.908ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 13.311ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.340ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.398ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 12.266ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.144ms, rate sampling interval: 32ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    12.43ms    5.35ms  34.78ms   90.07%
    Req/Sec    20.17     24.89    96.00     85.82%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.13ms
 75.000%   12.94ms
 90.000%   16.82ms
 99.000%   34.78ms
 99.900%   68.99ms
 99.990%   98.11ms
 99.999%  113.34ms
100.000%  116.35ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.865     0.000000            1         1.00
       9.239     0.100000        10658         1.11
       9.847     0.200000        21325         1.25
      10.295     0.300000        31865         1.43
      10.695     0.400000        42339         1.67
      11.127     0.500000        52968         2.00
      11.367     0.550000        58239         2.22
      11.655     0.600000        63567         2.50
      11.991     0.650000        68819         2.86
      12.399     0.700000        74153         3.33
      12.935     0.750000        79373         4.00
      13.271     0.775000        82049         4.44
      13.671     0.800000        84675         5.00
      14.159     0.825000        87299         5.71
      14.823     0.850000        89945         6.67
      15.719     0.875000        92599         8.00
      16.239     0.887500        93912         8.89
      16.815     0.900000        95255        10.00
      17.471     0.912500        96556        11.43
      18.239     0.925000        97894        13.33
      19.167     0.937500        99206        16.00
      19.711     0.943750        99863        17.78
      20.335     0.950000       100539        20.00
      21.007     0.956250       101187        22.86
      21.887     0.962500       101846        26.67
      23.023     0.968750       102514        32.00
      23.759     0.971875       102838        35.56
      24.607     0.975000       103169        40.00
      25.615     0.978125       103503        45.71
      27.071     0.981250       103830        53.33
      28.959     0.984375       104161        64.00
      30.143     0.985938       104327        71.11
      31.439     0.987500       104492        80.00
      33.375     0.989062       104659        91.43
      35.583     0.990625       104823       106.67
      38.143     0.992188       104989       128.00
      39.455     0.992969       105071       142.22
      41.343     0.993750       105155       160.00
      42.783     0.994531       105238       182.86
      45.247     0.995313       105318       213.33
      48.063     0.996094       105401       256.00
      49.343     0.996484       105442       284.44
      51.135     0.996875       105484       320.00
      53.023     0.997266       105525       365.71
      55.167     0.997656       105566       426.67
      58.399     0.998047       105609       512.00
      59.903     0.998242       105628       568.89
      61.471     0.998437       105649       640.00
      63.999     0.998633       105670       731.43
      66.623     0.998828       105690       853.33
      69.503     0.999023       105711      1024.00
      71.231     0.999121       105721      1137.78
      75.263     0.999219       105732      1280.00
      77.631     0.999316       105742      1462.86
      80.063     0.999414       105752      1706.67
      83.135     0.999512       105763      2048.00
      84.991     0.999561       105768      2275.56
      87.103     0.999609       105773      2560.00
      89.535     0.999658       105778      2925.71
      90.751     0.999707       105783      3413.33
      92.799     0.999756       105789      4096.00
      93.759     0.999780       105791      4551.11
      95.935     0.999805       105794      5120.00
      96.191     0.999829       105796      5851.43
      97.151     0.999854       105799      6826.67
      97.599     0.999878       105802      8192.00
      98.111     0.999890       105803      9102.22
      98.175     0.999902       105804     10240.00
      98.239     0.999915       105805     11702.86
     100.287     0.999927       105807     13653.33
     100.671     0.999939       105808     16384.00
     106.367     0.999945       105809     18204.44
     106.367     0.999951       105809     20480.00
     107.903     0.999957       105810     23405.71
     109.631     0.999963       105811     27306.67
     109.631     0.999969       105811     32768.00
     109.951     0.999973       105812     36408.89
     109.951     0.999976       105812     40960.00
     109.951     0.999979       105812     46811.43
     113.343     0.999982       105813     54613.33
     113.343     0.999985       105813     65536.00
     113.343     0.999986       105813     72817.78
     113.343     0.999988       105813     81920.00
     113.343     0.999989       105813     93622.86
     116.351     0.999991       105814    109226.67
     116.351     1.000000       105814          inf
#[Mean    =       12.434, StdDeviation   =        5.352]
#[Max     =      116.288, Total count    =       105814]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115286 requests in 2.00m, 1.56GB read
Requests/sec:    960.69  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54741 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50389 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122449 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54741 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50389 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122449 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3210.924ms, rate sampling interval: 12402ms
  Thread calibration: mean lat.: 3060.453ms, rate sampling interval: 12238ms
  Thread calibration: mean lat.: 3189.622ms, rate sampling interval: 13058ms
  Thread calibration: mean lat.: 2886.289ms, rate sampling interval: 11632ms
  Thread calibration: mean lat.: 3259.858ms, rate sampling interval: 13058ms
  Thread calibration: mean lat.: 3315.952ms, rate sampling interval: 12853ms
  Thread calibration: mean lat.: 2956.628ms, rate sampling interval: 11968ms
  Thread calibration: mean lat.: 2911.705ms, rate sampling interval: 11575ms
  Thread calibration: mean lat.: 3056.521ms, rate sampling interval: 12156ms
  Thread calibration: mean lat.: 3176.039ms, rate sampling interval: 11517ms
  Thread calibration: mean lat.: 2867.188ms, rate sampling interval: 11583ms
  Thread calibration: mean lat.: 3219.692ms, rate sampling interval: 12845ms
  Thread calibration: mean lat.: 3418.268ms, rate sampling interval: 13148ms
  Thread calibration: mean lat.: 3214.340ms, rate sampling interval: 12623ms
  Thread calibration: mean lat.: 3024.213ms, rate sampling interval: 12263ms
  Thread calibration: mean lat.: 3103.311ms, rate sampling interval: 12099ms
  Thread calibration: mean lat.: 3105.895ms, rate sampling interval: 12558ms
  Thread calibration: mean lat.: 3246.671ms, rate sampling interval: 12673ms
  Thread calibration: mean lat.: 3116.488ms, rate sampling interval: 12247ms
  Thread calibration: mean lat.: 3170.103ms, rate sampling interval: 12771ms
  Thread calibration: mean lat.: 3171.956ms, rate sampling interval: 12287ms
  Thread calibration: mean lat.: 2882.068ms, rate sampling interval: 11935ms
  Thread calibration: mean lat.: 3224.100ms, rate sampling interval: 12722ms
  Thread calibration: mean lat.: 3042.976ms, rate sampling interval: 12238ms
  Thread calibration: mean lat.: 3268.469ms, rate sampling interval: 12705ms
  Thread calibration: mean lat.: 3148.066ms, rate sampling interval: 12722ms
  Thread calibration: mean lat.: 3384.258ms, rate sampling interval: 13008ms
  Thread calibration: mean lat.: 3093.876ms, rate sampling interval: 12124ms
  Thread calibration: mean lat.: 3375.484ms, rate sampling interval: 13205ms
  Thread calibration: mean lat.: 3431.034ms, rate sampling interval: 12607ms
  Thread calibration: mean lat.: 3003.782ms, rate sampling interval: 11739ms
  Thread calibration: mean lat.: 3138.653ms, rate sampling interval: 12353ms
  Thread calibration: mean lat.: 3336.445ms, rate sampling interval: 12197ms
  Thread calibration: mean lat.: 3261.044ms, rate sampling interval: 12795ms
  Thread calibration: mean lat.: 3376.767ms, rate sampling interval: 12771ms
  Thread calibration: mean lat.: 3270.722ms, rate sampling interval: 12574ms
  Thread calibration: mean lat.: 3216.750ms, rate sampling interval: 12255ms
  Thread calibration: mean lat.: 3317.602ms, rate sampling interval: 12713ms
  Thread calibration: mean lat.: 3140.787ms, rate sampling interval: 12075ms
  Thread calibration: mean lat.: 3450.898ms, rate sampling interval: 13303ms
  Thread calibration: mean lat.: 3211.781ms, rate sampling interval: 12566ms
  Thread calibration: mean lat.: 3359.500ms, rate sampling interval: 12664ms
  Thread calibration: mean lat.: 3376.534ms, rate sampling interval: 12967ms
  Thread calibration: mean lat.: 3168.950ms, rate sampling interval: 11960ms
  Thread calibration: mean lat.: 3249.569ms, rate sampling interval: 12836ms
  Thread calibration: mean lat.: 3217.349ms, rate sampling interval: 12730ms
  Thread calibration: mean lat.: 3164.996ms, rate sampling interval: 12042ms
  Thread calibration: mean lat.: 3294.041ms, rate sampling interval: 12836ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    47.40s    21.84s    1.41m    58.59%
    Req/Sec    32.34      3.93    41.00     80.40%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   49.68s 
 75.000%    1.10m 
 90.000%    1.26m 
 99.000%    1.41m 
 99.900%    1.47m 
 99.990%    1.50m 
 99.999%    1.52m 
100.000%    1.53m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    5910.527     0.000000            1         1.00
   15777.791     0.100000        17462         1.11
   24297.471     0.200000        34910         1.25
   32767.999     0.300000        52387         1.43
   41484.287     0.400000        69867         1.67
   49676.287     0.500000        87337         2.00
   53051.391     0.550000        96002         2.22
   56393.727     0.600000       104815         2.50
   59899.903     0.650000       113526         2.86
   63209.471     0.700000       122259         3.33
   66289.663     0.750000       130922         4.00
   67829.759     0.775000       135310         4.44
   69337.087     0.800000       139833         5.00
   70844.415     0.825000       144176         5.71
   72286.207     0.850000       148401         6.67
   73859.071     0.875000       152819         8.00
   74645.503     0.887500       154931         8.89
   75497.471     0.900000       157153        10.00
   76349.439     0.912500       159319        11.43
   77266.943     0.925000       161528        13.33
   78184.447     0.937500       163641        16.00
   78708.735     0.943750       164818        17.78
   79233.023     0.950000       165878        20.00
   79757.311     0.956250       166913        22.86
   80412.671     0.962500       168098        26.67
   81068.031     0.968750       169186        32.00
   81395.711     0.971875       169659        35.56
   81788.927     0.975000       170238        40.00
   82247.679     0.978125       170813        45.71
   82706.431     0.981250       171351        53.33
   83230.719     0.984375       171858        64.00
   83558.399     0.985938       172137        71.11
   83886.079     0.987500       172417        80.00
   84213.759     0.989062       172674        91.43
   84606.975     0.990625       172922       106.67
   85065.727     0.992188       173220       128.00
   85262.335     0.992969       173325       142.22
   85590.015     0.993750       173485       160.00
   85852.159     0.994531       173616       182.86
   86179.839     0.995313       173751       213.33
   86441.983     0.996094       173872       256.00
   86638.591     0.996484       173958       284.44
   86769.663     0.996875       174024       320.00
   86900.735     0.997266       174079       365.71
   87097.343     0.997656       174155       426.67
   87293.951     0.998047       174219       512.00
   87359.487     0.998242       174242       568.89
   87556.095     0.998437       174293       640.00
   87621.631     0.998633       174311       731.43
   87883.775     0.998828       174353       853.33
   88014.847     0.999023       174383      1024.00
   88080.383     0.999121       174400      1137.78
   88211.455     0.999219       174413      1280.00
   88408.063     0.999316       174439      1462.86
   88473.599     0.999414       174446      1706.67
   88670.207     0.999512       174466      2048.00
   88801.279     0.999561       174478      2275.56
   88866.815     0.999609       174482      2560.00
   88932.351     0.999658       174490      2925.71
   89063.423     0.999707       174497      3413.33
   89260.031     0.999756       174508      4096.00
   89456.639     0.999780       174510      4551.11
   89587.711     0.999805       174514      5120.00
   89784.319     0.999829       174519      5851.43
   89849.855     0.999854       174523      6826.67
   89980.927     0.999878       174529      8192.00
   89980.927     0.999890       174529      9102.22
   90177.535     0.999902       174531     10240.00
   90439.679     0.999915       174534     11702.86
   90570.751     0.999927       174536     13653.33
   90636.287     0.999939       174538     16384.00
   90832.895     0.999945       174539     18204.44
   90963.967     0.999951       174540     20480.00
   91029.503     0.999957       174541     23405.71
   91095.039     0.999963       174542     27306.67
   91160.575     0.999969       174543     32768.00
   91291.647     0.999973       174544     36408.89
   91291.647     0.999976       174544     40960.00
   91357.183     0.999979       174545     46811.43
   91357.183     0.999982       174545     54613.33
   91422.719     0.999985       174546     65536.00
   91422.719     0.999986       174546     72817.78
   91422.719     0.999988       174546     81920.00
   91619.327     0.999989       174547     93622.86
   91619.327     0.999991       174547    109226.67
   91619.327     0.999992       174547    131072.00
   91619.327     0.999993       174547    145635.56
   91619.327     0.999994       174547    163840.00
   91815.935     0.999995       174548    187245.71
   91815.935     1.000000       174548          inf
#[Mean    =    47403.774, StdDeviation   =    21840.085]
#[Max     =    91750.400, Total count    =       174548]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  188565 requests in 2.00m, 2.55GB read
Requests/sec:   1571.30  
Transfer/sec:     21.72MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54246 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48571 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120404 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54246 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48571 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120404 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 4150.029ms, rate sampling interval: 14704ms
  Thread calibration: mean lat.: 3982.540ms, rate sampling interval: 14508ms
  Thread calibration: mean lat.: 4114.060ms, rate sampling interval: 14778ms
  Thread calibration: mean lat.: 4032.379ms, rate sampling interval: 14942ms
  Thread calibration: mean lat.: 4110.498ms, rate sampling interval: 15097ms
  Thread calibration: mean lat.: 4092.110ms, rate sampling interval: 14680ms
  Thread calibration: mean lat.: 4010.019ms, rate sampling interval: 14721ms
  Thread calibration: mean lat.: 4162.926ms, rate sampling interval: 14925ms
  Thread calibration: mean lat.: 4247.058ms, rate sampling interval: 15187ms
  Thread calibration: mean lat.: 4368.628ms, rate sampling interval: 15122ms
  Thread calibration: mean lat.: 4162.558ms, rate sampling interval: 14802ms
  Thread calibration: mean lat.: 4204.531ms, rate sampling interval: 15237ms
  Thread calibration: mean lat.: 4249.638ms, rate sampling interval: 15269ms
  Thread calibration: mean lat.: 4058.973ms, rate sampling interval: 14352ms
  Thread calibration: mean lat.: 4152.450ms, rate sampling interval: 14950ms
  Thread calibration: mean lat.: 4122.168ms, rate sampling interval: 15007ms
  Thread calibration: mean lat.: 4336.868ms, rate sampling interval: 15581ms
  Thread calibration: mean lat.: 4388.709ms, rate sampling interval: 15302ms
  Thread calibration: mean lat.: 4219.201ms, rate sampling interval: 14860ms
  Thread calibration: mean lat.: 4169.301ms, rate sampling interval: 14761ms
  Thread calibration: mean lat.: 4374.839ms, rate sampling interval: 15458ms
  Thread calibration: mean lat.: 4316.188ms, rate sampling interval: 15147ms
  Thread calibration: mean lat.: 4247.647ms, rate sampling interval: 14819ms
  Thread calibration: mean lat.: 4256.363ms, rate sampling interval: 15138ms
  Thread calibration: mean lat.: 4393.956ms, rate sampling interval: 15720ms
  Thread calibration: mean lat.: 4126.706ms, rate sampling interval: 14827ms
  Thread calibration: mean lat.: 4323.125ms, rate sampling interval: 15220ms
  Thread calibration: mean lat.: 4160.974ms, rate sampling interval: 14811ms
  Thread calibration: mean lat.: 4470.257ms, rate sampling interval: 15638ms
  Thread calibration: mean lat.: 4484.305ms, rate sampling interval: 15212ms
  Thread calibration: mean lat.: 4360.860ms, rate sampling interval: 15024ms
  Thread calibration: mean lat.: 4226.334ms, rate sampling interval: 15130ms
  Thread calibration: mean lat.: 4200.676ms, rate sampling interval: 14893ms
  Thread calibration: mean lat.: 4303.848ms, rate sampling interval: 14532ms
  Thread calibration: mean lat.: 4380.508ms, rate sampling interval: 15138ms
  Thread calibration: mean lat.: 4527.047ms, rate sampling interval: 15335ms
  Thread calibration: mean lat.: 4314.041ms, rate sampling interval: 14876ms
  Thread calibration: mean lat.: 4320.430ms, rate sampling interval: 15368ms
  Thread calibration: mean lat.: 4320.644ms, rate sampling interval: 14942ms
  Thread calibration: mean lat.: 4515.477ms, rate sampling interval: 15417ms
  Thread calibration: mean lat.: 4421.069ms, rate sampling interval: 15179ms
  Thread calibration: mean lat.: 4210.652ms, rate sampling interval: 14680ms
  Thread calibration: mean lat.: 4398.437ms, rate sampling interval: 14909ms
  Thread calibration: mean lat.: 4313.028ms, rate sampling interval: 14950ms
  Thread calibration: mean lat.: 4567.592ms, rate sampling interval: 15835ms
  Thread calibration: mean lat.: 4303.717ms, rate sampling interval: 14884ms
  Thread calibration: mean lat.: 4319.338ms, rate sampling interval: 15138ms
  Thread calibration: mean lat.: 4099.072ms, rate sampling interval: 14860ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.89m    25.94s    1.63m    57.70%
    Req/Sec    38.12      3.38    47.00     80.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.89m 
 75.000%    1.27m 
 90.000%    1.47m 
 99.000%    1.63m 
 99.900%    1.68m 
 99.990%    1.71m 
 99.999%    1.73m 
100.000%    1.73m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7831.551     0.000000            1         1.00
   16973.823     0.100000        20393         1.11
   26066.943     0.200000        40745         1.25
   36012.031     0.300000        61136         1.43
   44990.463     0.400000        81533         1.67
   53477.375     0.500000       101854         2.00
   57933.823     0.550000       112077         2.22
   62750.719     0.600000       122261         2.50
   67829.759     0.650000       132516         2.86
   72220.671     0.700000       142595         3.33
   76349.439     0.750000       152783         4.00
   78184.447     0.775000       157875         4.44
   80019.455     0.800000       162999         5.00
   81919.999     0.825000       168108         5.71
   83951.615     0.850000       173224         6.67
   86179.839     0.875000       178326         8.00
   87293.951     0.887500       180874         8.89
   88473.599     0.900000       183445        10.00
   89653.247     0.912500       185968        11.43
   90832.895     0.925000       188475        13.33
   92012.543     0.937500       190978        16.00
   92667.903     0.943750       192342        17.78
   93257.727     0.950000       193562        20.00
   93913.087     0.956250       194892        22.86
   94502.911     0.962500       196049        26.67
   95223.807     0.968750       197333        32.00
   95551.487     0.971875       197960        35.56
   95944.703     0.975000       198587        40.00
   96337.919     0.978125       199247        45.71
   96731.135     0.981250       199899        53.33
   97189.887     0.984375       200563        64.00
   97386.495     0.985938       200854        71.11
   97648.639     0.987500       201206        80.00
   97910.783     0.989062       201522        91.43
   98172.927     0.990625       201829       106.67
   98500.607     0.992188       202131       128.00
   98631.679     0.992969       202255       142.22
   98828.287     0.993750       202412       160.00
   99090.431     0.994531       202612       182.86
   99221.503     0.995313       202725       213.33
   99483.647     0.996094       202894       256.00
   99614.719     0.996484       202979       284.44
   99745.791     0.996875       203057       320.00
   99876.863     0.997266       203126       365.71
  100073.471     0.997656       203203       426.67
  100270.079     0.998047       203277       512.00
  100401.151     0.998242       203329       568.89
  100532.223     0.998437       203374       640.00
  100597.759     0.998633       203399       731.43
  100794.367     0.998828       203448       853.33
  100925.439     0.999023       203484      1024.00
  100990.975     0.999121       203503      1137.78
  101056.511     0.999219       203517      1280.00
  101187.583     0.999316       203545      1462.86
  101384.191     0.999414       203563      1706.67
  101580.799     0.999512       203580      2048.00
  101646.335     0.999561       203588      2275.56
  101777.407     0.999609       203599      2560.00
  101842.943     0.999658       203605      2925.71
  101974.015     0.999707       203615      3413.33
  102105.087     0.999756       203627      4096.00
  102170.623     0.999780       203633      4551.11
  102236.159     0.999805       203642      5120.00
  102236.159     0.999829       203642      5851.43
  102367.231     0.999854       203647      6826.67
  102432.767     0.999878       203652      8192.00
  102432.767     0.999890       203652      9102.22
  102629.375     0.999902       203656     10240.00
  102694.911     0.999915       203659     11702.86
  102891.519     0.999927       203661     13653.33
  102957.055     0.999939       203662     16384.00
  103022.591     0.999945       203663     18204.44
  103153.663     0.999951       203665     20480.00
  103219.199     0.999957       203666     23405.71
  103284.735     0.999963       203668     27306.67
  103284.735     0.999969       203668     32768.00
  103350.271     0.999973       203669     36408.89
  103415.807     0.999976       203670     40960.00
  103415.807     0.999979       203670     46811.43
  103546.879     0.999982       203671     54613.33
  103546.879     0.999985       203671     65536.00
  103677.951     0.999986       203672     72817.78
  103677.951     0.999988       203672     81920.00
  103677.951     0.999989       203672     93622.86
  103809.023     0.999991       203674    109226.67
  103809.023     1.000000       203674          inf
#[Mean    =    53430.179, StdDeviation   =    25939.624]
#[Max     =   103743.488, Total count    =       203674]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  219180 requests in 2.00m, 2.96GB read
Requests/sec:   1827.59  
Transfer/sec:     25.25MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53748 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46284 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 119305 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53748 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46284 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 119305 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 120.377ms, rate sampling interval: 852ms
  Thread calibration: mean lat.: 80.048ms, rate sampling interval: 613ms
  Thread calibration: mean lat.: 98.034ms, rate sampling interval: 734ms
  Thread calibration: mean lat.: 121.210ms, rate sampling interval: 877ms
  Thread calibration: mean lat.: 86.733ms, rate sampling interval: 589ms
  Thread calibration: mean lat.: 67.801ms, rate sampling interval: 521ms
  Thread calibration: mean lat.: 75.683ms, rate sampling interval: 565ms
  Thread calibration: mean lat.: 75.942ms, rate sampling interval: 528ms
  Thread calibration: mean lat.: 93.214ms, rate sampling interval: 598ms
  Thread calibration: mean lat.: 70.160ms, rate sampling interval: 567ms
  Thread calibration: mean lat.: 106.125ms, rate sampling interval: 767ms
  Thread calibration: mean lat.: 57.166ms, rate sampling interval: 411ms
  Thread calibration: mean lat.: 100.703ms, rate sampling interval: 674ms
  Thread calibration: mean lat.: 60.945ms, rate sampling interval: 463ms
  Thread calibration: mean lat.: 92.147ms, rate sampling interval: 712ms
  Thread calibration: mean lat.: 54.730ms, rate sampling interval: 394ms
  Thread calibration: mean lat.: 78.614ms, rate sampling interval: 648ms
  Thread calibration: mean lat.: 60.297ms, rate sampling interval: 532ms
  Thread calibration: mean lat.: 76.370ms, rate sampling interval: 571ms
  Thread calibration: mean lat.: 83.403ms, rate sampling interval: 624ms
  Thread calibration: mean lat.: 96.892ms, rate sampling interval: 781ms
  Thread calibration: mean lat.: 83.005ms, rate sampling interval: 637ms
  Thread calibration: mean lat.: 61.532ms, rate sampling interval: 419ms
  Thread calibration: mean lat.: 97.527ms, rate sampling interval: 715ms
  Thread calibration: mean lat.: 100.838ms, rate sampling interval: 774ms
  Thread calibration: mean lat.: 76.852ms, rate sampling interval: 532ms
  Thread calibration: mean lat.: 53.533ms, rate sampling interval: 259ms
  Thread calibration: mean lat.: 75.813ms, rate sampling interval: 574ms
  Thread calibration: mean lat.: 66.464ms, rate sampling interval: 628ms
  Thread calibration: mean lat.: 63.119ms, rate sampling interval: 478ms
  Thread calibration: mean lat.: 103.950ms, rate sampling interval: 768ms
  Thread calibration: mean lat.: 94.455ms, rate sampling interval: 687ms
  Thread calibration: mean lat.: 71.404ms, rate sampling interval: 543ms
  Thread calibration: mean lat.: 127.277ms, rate sampling interval: 889ms
  Thread calibration: mean lat.: 78.333ms, rate sampling interval: 624ms
  Thread calibration: mean lat.: 55.077ms, rate sampling interval: 433ms
  Thread calibration: mean lat.: 65.041ms, rate sampling interval: 545ms
  Thread calibration: mean lat.: 107.949ms, rate sampling interval: 750ms
  Thread calibration: mean lat.: 81.310ms, rate sampling interval: 634ms
  Thread calibration: mean lat.: 88.835ms, rate sampling interval: 639ms
  Thread calibration: mean lat.: 79.141ms, rate sampling interval: 617ms
  Thread calibration: mean lat.: 93.054ms, rate sampling interval: 623ms
  Thread calibration: mean lat.: 69.582ms, rate sampling interval: 626ms
  Thread calibration: mean lat.: 29.948ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 87.840ms, rate sampling interval: 621ms
  Thread calibration: mean lat.: 80.166ms, rate sampling interval: 560ms
  Thread calibration: mean lat.: 49.862ms, rate sampling interval: 301ms
  Thread calibration: mean lat.: 51.424ms, rate sampling interval: 422ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    57.23ms  111.00ms 503.55ms   87.24%
    Req/Sec    19.77     13.48    76.00     82.22%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.17ms
 75.000%   17.63ms
 90.000%  208.90ms
 99.000%  503.55ms
 99.900%  817.66ms
 99.990%    1.16s 
 99.999%    1.34s 
100.000%    1.40s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.825     0.000000            1         1.00
       9.039     0.100000        10619         1.11
       9.631     0.200000        21276         1.25
      10.103     0.300000        31941         1.43
      10.583     0.400000        42473         1.67
      11.167     0.500000        52942         2.00
      11.559     0.550000        58288         2.22
      12.079     0.600000        63528         2.50
      12.815     0.650000        68821         2.86
      14.175     0.700000        74106         3.33
      17.631     0.750000        79395         4.00
      21.759     0.775000        82031         4.44
      52.991     0.800000        84676         5.00
      97.855     0.825000        87323         5.71
     135.423     0.850000        89970         6.67
     172.159     0.875000        92621         8.00
     189.951     0.887500        93940         8.89
     208.895     0.900000        95266        10.00
     230.527     0.912500        96591        11.43
     254.079     0.925000        97909        13.33
     280.319     0.937500        99245        16.00
     294.655     0.943750        99893        17.78
     310.527     0.950000       100557        20.00
     327.167     0.956250       101216        22.86
     344.831     0.962500       101880        26.67
     366.079     0.968750       102544        32.00
     378.111     0.971875       102871        35.56
     391.935     0.975000       103200        40.00
     407.807     0.978125       103533        45.71
     425.983     0.981250       103860        53.33
     448.767     0.984375       104192        64.00
     460.799     0.985938       104359        71.11
     474.111     0.987500       104521        80.00
     492.031     0.989062       104687        91.43
     512.255     0.990625       104852       106.67
     534.015     0.992188       105019       128.00
     549.375     0.992969       105100       142.22
     565.759     0.993750       105185       160.00
     582.655     0.994531       105272       182.86
     604.159     0.995313       105349       213.33
     629.759     0.996094       105432       256.00
     645.119     0.996484       105473       284.44
     657.919     0.996875       105515       320.00
     672.255     0.997266       105555       365.71
     691.711     0.997656       105596       426.67
     715.263     0.998047       105638       512.00
     728.063     0.998242       105658       568.89
     741.375     0.998437       105680       640.00
     757.247     0.998633       105700       731.43
     786.943     0.998828       105720       853.33
     819.199     0.999023       105741      1024.00
     835.583     0.999121       105751      1137.78
     851.455     0.999219       105762      1280.00
     866.815     0.999316       105772      1462.86
     883.199     0.999414       105782      1706.67
     897.535     0.999512       105793      2048.00
     925.183     0.999561       105798      2275.56
     950.271     0.999609       105803      2560.00
     967.679     0.999658       105808      2925.71
    1000.959     0.999707       105813      3413.33
    1022.463     0.999756       105819      4096.00
    1030.655     0.999780       105821      4551.11
    1059.839     0.999805       105824      5120.00
    1070.079     0.999829       105827      5851.43
    1078.271     0.999854       105829      6826.67
    1153.023     0.999878       105832      8192.00
    1159.167     0.999890       105833      9102.22
    1181.695     0.999902       105834     10240.00
    1182.719     0.999915       105835     11702.86
    1220.607     0.999927       105837     13653.33
    1233.919     0.999939       105838     16384.00
    1261.567     0.999945       105839     18204.44
    1261.567     0.999951       105839     20480.00
    1275.903     0.999957       105840     23405.71
    1289.215     0.999963       105841     27306.67
    1289.215     0.999969       105841     32768.00
    1321.983     0.999973       105842     36408.89
    1321.983     0.999976       105842     40960.00
    1321.983     0.999979       105842     46811.43
    1340.415     0.999982       105843     54613.33
    1340.415     0.999985       105843     65536.00
    1340.415     0.999986       105843     72817.78
    1340.415     0.999988       105843     81920.00
    1340.415     0.999989       105843     93622.86
    1397.759     0.999991       105844    109226.67
    1397.759     1.000000       105844          inf
#[Mean    =       57.228, StdDeviation   =      110.996]
#[Max     =     1396.736, Total count    =       105844]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115285 requests in 2.00m, 1.41GB read
Requests/sec:    960.66  
Transfer/sec:     12.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54069 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45606 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 118209 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54069 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45606 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 118209 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 305.308ms, rate sampling interval: 1297ms
  Thread calibration: mean lat.: 286.123ms, rate sampling interval: 1402ms
  Thread calibration: mean lat.: 301.488ms, rate sampling interval: 1620ms
  Thread calibration: mean lat.: 357.582ms, rate sampling interval: 2740ms
  Thread calibration: mean lat.: 419.698ms, rate sampling interval: 2377ms
  Thread calibration: mean lat.: 287.789ms, rate sampling interval: 1637ms
  Thread calibration: mean lat.: 377.359ms, rate sampling interval: 1924ms
  Thread calibration: mean lat.: 440.117ms, rate sampling interval: 2205ms
  Thread calibration: mean lat.: 372.516ms, rate sampling interval: 2177ms
  Thread calibration: mean lat.: 340.436ms, rate sampling interval: 1407ms
  Thread calibration: mean lat.: 396.485ms, rate sampling interval: 2072ms
  Thread calibration: mean lat.: 274.658ms, rate sampling interval: 1306ms
  Thread calibration: mean lat.: 357.159ms, rate sampling interval: 2002ms
  Thread calibration: mean lat.: 267.955ms, rate sampling interval: 1414ms
  Thread calibration: mean lat.: 470.945ms, rate sampling interval: 2140ms
  Thread calibration: mean lat.: 317.701ms, rate sampling interval: 1628ms
  Thread calibration: mean lat.: 238.079ms, rate sampling interval: 1245ms
  Thread calibration: mean lat.: 280.313ms, rate sampling interval: 1498ms
  Thread calibration: mean lat.: 192.287ms, rate sampling interval: 880ms
  Thread calibration: mean lat.: 284.853ms, rate sampling interval: 1446ms
  Thread calibration: mean lat.: 304.126ms, rate sampling interval: 1588ms
  Thread calibration: mean lat.: 271.512ms, rate sampling interval: 1346ms
  Thread calibration: mean lat.: 215.107ms, rate sampling interval: 1181ms
  Thread calibration: mean lat.: 252.657ms, rate sampling interval: 1295ms
  Thread calibration: mean lat.: 167.865ms, rate sampling interval: 837ms
  Thread calibration: mean lat.: 284.333ms, rate sampling interval: 1337ms
  Thread calibration: mean lat.: 541.123ms, rate sampling interval: 2801ms
  Thread calibration: mean lat.: 373.719ms, rate sampling interval: 2332ms
  Thread calibration: mean lat.: 262.746ms, rate sampling interval: 1374ms
  Thread calibration: mean lat.: 316.874ms, rate sampling interval: 1636ms
  Thread calibration: mean lat.: 272.594ms, rate sampling interval: 1455ms
  Thread calibration: mean lat.: 428.031ms, rate sampling interval: 1949ms
  Thread calibration: mean lat.: 271.162ms, rate sampling interval: 1279ms
  Thread calibration: mean lat.: 217.841ms, rate sampling interval: 1116ms
  Thread calibration: mean lat.: 205.131ms, rate sampling interval: 1063ms
  Thread calibration: mean lat.: 288.223ms, rate sampling interval: 1522ms
  Thread calibration: mean lat.: 239.333ms, rate sampling interval: 1289ms
  Thread calibration: mean lat.: 374.092ms, rate sampling interval: 1941ms
  Thread calibration: mean lat.: 393.723ms, rate sampling interval: 2002ms
  Thread calibration: mean lat.: 362.069ms, rate sampling interval: 1820ms
  Thread calibration: mean lat.: 460.393ms, rate sampling interval: 1988ms
  Thread calibration: mean lat.: 321.105ms, rate sampling interval: 1530ms
  Thread calibration: mean lat.: 311.163ms, rate sampling interval: 1460ms
  Thread calibration: mean lat.: 225.899ms, rate sampling interval: 1219ms
  Thread calibration: mean lat.: 235.615ms, rate sampling interval: 1187ms
  Thread calibration: mean lat.: 397.343ms, rate sampling interval: 1555ms
  Thread calibration: mean lat.: 245.563ms, rate sampling interval: 1360ms
  Thread calibration: mean lat.: 208.230ms, rate sampling interval: 993ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.86s     2.66s   10.21s    68.14%
    Req/Sec   102.56     26.01   169.00     70.45%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.15s 
 75.000%    4.69s 
 90.000%    6.71s 
 99.000%   10.21s 
 99.900%   12.54s 
 99.990%   13.68s 
 99.999%   14.04s 
100.000%   14.17s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.553     0.000000            1         1.00
      97.087     0.100000        54418         1.11
     358.143     0.200000       108831         1.25
     712.703     0.300000       163261         1.43
    1287.167     0.400000       217656         1.67
    2146.303     0.500000       272047         2.00
    2625.535     0.550000       299281         2.22
    3110.911     0.600000       326509         2.50
    3641.343     0.650000       353662         2.86
    4163.583     0.700000       380885         3.33
    4694.015     0.750000       408124         4.00
    4964.351     0.775000       421828         4.44
    5242.879     0.800000       435484         5.00
    5554.175     0.825000       449000         5.71
    5898.239     0.850000       462514         6.67
    6283.263     0.875000       476182         8.00
    6488.063     0.887500       482887         8.89
    6709.247     0.900000       489758        10.00
    6950.911     0.912500       496495        11.43
    7225.343     0.925000       503306        13.33
    7536.639     0.937500       510145        16.00
    7712.767     0.943750       513487        17.78
    7925.759     0.950000       516948        20.00
    8171.519     0.956250       520338        22.86
    8421.375     0.962500       523693        26.67
    8708.095     0.968750       527093        32.00
    8863.743     0.971875       528839        35.56
    9027.583     0.975000       530538        40.00
    9207.807     0.978125       532204        45.71
    9412.607     0.981250       533909        53.33
    9641.983     0.984375       535588        64.00
    9789.439     0.985938       536441        71.11
    9945.087     0.987500       537319        80.00
   10100.735     0.989062       538155        91.43
   10280.959     0.990625       539005       106.67
   10469.375     0.992188       539871       128.00
   10567.679     0.992969       540303       142.22
   10682.367     0.993750       540699       160.00
   10870.783     0.994531       541132       182.86
   11051.007     0.995313       541547       213.33
   11239.423     0.996094       541985       256.00
   11329.535     0.996484       542191       284.44
   11427.839     0.996875       542391       320.00
   11558.911     0.997266       542618       365.71
   11681.791     0.997656       542819       426.67
   11804.671     0.998047       543030       512.00
   11894.783     0.998242       543137       568.89
   12001.279     0.998437       543239       640.00
   12124.159     0.998633       543349       731.43
   12337.151     0.998828       543452       853.33
   12566.527     0.999023       543560      1024.00
   12648.447     0.999121       543611      1137.78
   12771.327     0.999219       543667      1280.00
   12853.247     0.999316       543718      1462.86
   12984.319     0.999414       543775      1706.67
   13090.815     0.999512       543827      2048.00
   13180.927     0.999561       543851      2275.56
   13262.847     0.999609       543877      2560.00
   13328.383     0.999658       543907      2925.71
   13377.535     0.999707       543932      3413.33
   13451.263     0.999756       543959      4096.00
   13467.647     0.999780       543973      4551.11
   13508.607     0.999805       543983      5120.00
   13557.759     0.999829       543998      5851.43
   13598.719     0.999854       544011      6826.67
   13656.063     0.999878       544026      8192.00
   13672.447     0.999890       544034      9102.22
   13680.639     0.999902       544038     10240.00
   13697.023     0.999915       544045     11702.86
   13721.599     0.999927       544050     13653.33
   13787.135     0.999939       544056     16384.00
   13811.711     0.999945       544060     18204.44
   13828.095     0.999951       544064     20480.00
   13852.671     0.999957       544068     23405.71
   13877.247     0.999963       544072     27306.67
   13885.439     0.999969       544075     32768.00
   13885.439     0.999973       544075     36408.89
   13893.631     0.999976       544076     40960.00
   13918.207     0.999979       544078     46811.43
   13934.591     0.999982       544080     54613.33
   13942.783     0.999985       544081     65536.00
   13967.359     0.999986       544082     72817.78
   14000.127     0.999988       544083     81920.00
   14041.087     0.999989       544084     93622.86
   14065.663     0.999991       544086    109226.67
   14065.663     0.999992       544086    131072.00
   14065.663     0.999993       544086    145635.56
   14065.663     0.999994       544086    163840.00
   14106.623     0.999995       544087    187245.71
   14106.623     0.999995       544087    218453.33
   14106.623     0.999996       544087    262144.00
   14155.775     0.999997       544088    291271.11
   14155.775     0.999997       544088    327680.00
   14155.775     0.999997       544088    374491.43
   14155.775     0.999998       544088    436906.67
   14155.775     0.999998       544088    524288.00
   14172.159     0.999998       544089    582542.22
   14172.159     1.000000       544089          inf
#[Mean    =     2860.517, StdDeviation   =     2655.850]
#[Max     =    14163.968, Total count    =       544089]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  591924 requests in 2.00m, 7.25GB read
Requests/sec:   4932.70  
Transfer/sec:     61.88MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53650 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41498 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 115994 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53650 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41498 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 115994 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 2757.903ms, rate sampling interval: 10797ms
  Thread calibration: mean lat.: 3060.568ms, rate sampling interval: 9060ms
  Thread calibration: mean lat.: 2833.501ms, rate sampling interval: 9617ms
  Thread calibration: mean lat.: 3054.978ms, rate sampling interval: 10272ms
  Thread calibration: mean lat.: 2797.299ms, rate sampling interval: 9084ms
  Thread calibration: mean lat.: 3012.408ms, rate sampling interval: 10117ms
  Thread calibration: mean lat.: 2958.637ms, rate sampling interval: 9650ms
  Thread calibration: mean lat.: 2326.845ms, rate sampling interval: 7962ms
  Thread calibration: mean lat.: 2880.643ms, rate sampling interval: 8929ms
  Thread calibration: mean lat.: 2626.034ms, rate sampling interval: 8839ms
  Thread calibration: mean lat.: 2957.897ms, rate sampling interval: 9461ms
  Thread calibration: mean lat.: 2710.193ms, rate sampling interval: 8253ms
  Thread calibration: mean lat.: 2120.183ms, rate sampling interval: 8286ms
  Thread calibration: mean lat.: 2921.502ms, rate sampling interval: 9576ms
  Thread calibration: mean lat.: 2601.697ms, rate sampling interval: 8888ms
  Thread calibration: mean lat.: 2695.546ms, rate sampling interval: 9142ms
  Thread calibration: mean lat.: 2704.493ms, rate sampling interval: 10248ms
  Thread calibration: mean lat.: 3129.329ms, rate sampling interval: 9863ms
  Thread calibration: mean lat.: 2610.082ms, rate sampling interval: 8855ms
  Thread calibration: mean lat.: 2800.729ms, rate sampling interval: 9355ms
  Thread calibration: mean lat.: 2890.933ms, rate sampling interval: 10444ms
  Thread calibration: mean lat.: 3146.756ms, rate sampling interval: 9797ms
  Thread calibration: mean lat.: 2237.923ms, rate sampling interval: 7323ms
  Thread calibration: mean lat.: 2440.226ms, rate sampling interval: 8724ms
  Thread calibration: mean lat.: 3015.989ms, rate sampling interval: 9994ms
  Thread calibration: mean lat.: 3300.431ms, rate sampling interval: 10772ms
  Thread calibration: mean lat.: 2776.203ms, rate sampling interval: 9535ms
  Thread calibration: mean lat.: 2825.907ms, rate sampling interval: 8822ms
  Thread calibration: mean lat.: 2788.083ms, rate sampling interval: 8413ms
  Thread calibration: mean lat.: 2728.872ms, rate sampling interval: 9060ms
  Thread calibration: mean lat.: 3029.049ms, rate sampling interval: 10379ms
  Thread calibration: mean lat.: 2959.822ms, rate sampling interval: 9707ms
  Thread calibration: mean lat.: 2950.749ms, rate sampling interval: 9420ms
  Thread calibration: mean lat.: 2317.643ms, rate sampling interval: 7417ms
  Thread calibration: mean lat.: 3023.445ms, rate sampling interval: 9027ms
  Thread calibration: mean lat.: 2449.466ms, rate sampling interval: 9682ms
  Thread calibration: mean lat.: 3017.678ms, rate sampling interval: 9519ms
  Thread calibration: mean lat.: 2993.467ms, rate sampling interval: 9420ms
  Thread calibration: mean lat.: 3224.235ms, rate sampling interval: 10010ms
  Thread calibration: mean lat.: 2556.420ms, rate sampling interval: 8904ms
  Thread calibration: mean lat.: 2351.946ms, rate sampling interval: 8716ms
  Thread calibration: mean lat.: 2592.232ms, rate sampling interval: 8327ms
  Thread calibration: mean lat.: 3162.711ms, rate sampling interval: 10199ms
  Thread calibration: mean lat.: 2785.128ms, rate sampling interval: 9158ms
  Thread calibration: mean lat.: 2763.406ms, rate sampling interval: 9068ms
  Thread calibration: mean lat.: 3012.463ms, rate sampling interval: 9191ms
  Thread calibration: mean lat.: 2774.800ms, rate sampling interval: 9027ms
  Thread calibration: mean lat.: 2747.768ms, rate sampling interval: 9953ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    30.18s    15.79s    0.98m    56.74%
    Req/Sec   110.43     15.53   140.00     71.20%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   28.30s 
 75.000%   44.70s 
 90.000%    0.86m 
 99.000%    0.98m 
 99.900%    1.04m 
 99.990%    1.08m 
 99.999%    1.09m 
100.000%    1.09m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2306.047     0.000000            1         1.00
    9682.943     0.100000        58661         1.11
   13869.055     0.200000       117301         1.25
   18300.927     0.300000       175810         1.43
   22659.071     0.400000       234577         1.67
   28295.167     0.500000       293107         2.00
   32571.391     0.550000       322314         2.22
   36405.247     0.600000       351713         2.50
   39616.511     0.650000       381097         2.86
   42270.719     0.700000       410490         3.33
   44695.551     0.750000       439857         4.00
   45809.663     0.775000       454236         4.44
   46989.311     0.800000       469185         5.00
   48103.423     0.825000       483621         5.71
   49184.767     0.850000       498152         6.67
   50429.951     0.875000       512951         8.00
   51052.543     0.887500       520430         8.89
   51675.135     0.900000       527616        10.00
   52330.495     0.912500       534849        11.43
   53084.159     0.925000       542266        13.33
   53837.823     0.937500       549479        16.00
   54231.039     0.943750       553058        17.78
   54657.023     0.950000       556725        20.00
   55083.007     0.956250       560481        22.86
   55541.759     0.962500       564267        26.67
   56000.511     0.968750       567856        32.00
   56328.191     0.971875       569644        35.56
   56754.175     0.975000       571493        40.00
   57081.855     0.978125       573286        45.71
   57409.535     0.981250       575077        53.33
   57802.751     0.984375       576904        64.00
   58032.127     0.985938       577824        71.11
   58261.503     0.987500       578680        80.00
   58589.183     0.989062       579713        91.43
   58884.095     0.990625       580620       106.67
   59146.239     0.992188       581517       128.00
   59310.079     0.992969       581952       142.22
   59473.919     0.993750       582370       160.00
   59670.527     0.994531       582867       182.86
   59899.903     0.995313       583290       213.33
   60129.279     0.996094       583721       256.00
   60325.887     0.996484       583959       284.44
   60456.959     0.996875       584181       320.00
   60653.567     0.997266       584401       365.71
   60948.479     0.997656       584643       426.67
   61243.391     0.998047       584867       512.00
   61374.463     0.998242       584982       568.89
   61603.839     0.998437       585089       640.00
   61964.287     0.998633       585217       731.43
   62128.127     0.998828       585326       853.33
   62455.807     0.999023       585442      1024.00
   62586.879     0.999121       585498      1137.78
   62750.719     0.999219       585563      1280.00
   62849.023     0.999316       585618      1462.86
   62914.559     0.999414       585662      1706.67
   63176.703     0.999512       585719      2048.00
   63340.543     0.999561       585752      2275.56
   63471.615     0.999609       585786      2560.00
   63569.919     0.999658       585803      2925.71
   63930.367     0.999707       585838      3413.33
   64061.439     0.999756       585868      4096.00
   64126.975     0.999780       585875      4551.11
   64192.511     0.999805       585892      5120.00
   64225.279     0.999829       585905      5851.43
   64421.887     0.999854       585926      6826.67
   64487.423     0.999878       585937      8192.00
   64520.191     0.999890       585942      9102.22
   64552.959     0.999902       585954     10240.00
   64552.959     0.999915       585954     11702.86
   64618.495     0.999927       585961     13653.33
   64684.031     0.999939       585974     16384.00
   64684.031     0.999945       585974     18204.44
   65077.247     0.999951       585976     20480.00
   65175.551     0.999957       585979     23405.71
   65208.319     0.999963       585987     27306.67
   65208.319     0.999969       585987     32768.00
   65208.319     0.999973       585987     36408.89
   65437.695     0.999976       585991     40960.00
   65437.695     0.999979       585991     46811.43
   65470.463     0.999982       585994     54613.33
   65503.231     0.999985       585999     65536.00
   65503.231     0.999986       585999     72817.78
   65503.231     0.999988       585999     81920.00
   65503.231     0.999989       585999     93622.86
   65503.231     0.999991       585999    109226.67
   65503.231     0.999992       585999    131072.00
   65503.231     0.999993       585999    145635.56
   65535.999     0.999994       586003    163840.00
   65535.999     1.000000       586003          inf
#[Mean    =    30179.764, StdDeviation   =    15791.441]
#[Max     =    65503.232, Total count    =       586003]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  635625 requests in 2.00m, 7.78GB read
Requests/sec:   5296.43  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53242 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38056 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 116093 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53242 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38056 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 116093 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
a7e22e49ce3443cc22e47204601498ae0c2a98911dbff3db5bf7de67fb3f370f
cca9aaeca48a6161595123473cae488d943a9cd4074892a5eaac1a31310117e6
69b70077f157794305d4ab3ec06648d3ed9e7ea13cc2afe677d948b76e96ce7f
91b504f53d9394524705a98708ddfba1d162312c0fb9b0d61bb1b8da30af6b99
7fdc6a2a5ee9e40890e7b0776d010e2e2c074796a96ec294bc4f195b098c1881
0a5bf1d43054285a2397a6877adca89d38db39b6c0e466590d6e1ac3aab0fe4e
74e78065dce3521f0fcb7f5a37f59c2730e73e6e4a99adc21fc6c7000b43b9b2
57749852951e6689268811cfccaaa6482b3480d6d2a6e43cb4f2f727fdefa06e
5c8b1c6be69a1d41003eae5ac8ca838f85bf2fc5a0d8e4721251ee385951fa5f
e3f1193d3986747485abff9067ef8c3f25148b7cb5d96f4eff6ba085feae22a7
431490d7a130fde20ca074e9b2d1e86f8af50a9520b12a6b9a9601fc91aa3ded
37cb3223f7fe67d6bc98f45df23b32ebd6ca80248f857d9d56af3a5c3cce077e
f939f97aceecd158ae8686799e0d8536211438586a7784a7734fb118edcc3fe8
c427692640bba1a9741d5d979572cd637e31ad54dcf109d472900834f48bb50f
075af324b5783adbcf85018fd23023897c4afbbceace074f023720987e381d71
8e68a5d373d6b168311dfd557a86ea3bf95f0b3f91c03fee7052e7dab379804f
5e0f533b34eb7cc5dc1a3f8343c911ac43d48b0aa38b1eb11981dea0b7050462
592d25561a96c5f2d593b2eb021aa2ed6535ca7f6815ba57b6fb1fb96fec6012
2b16c99b23df3217f889127da947d5ee0591cb512fa9e6c2ac3c35586486daa2
d23d5c756256f79fb6bcc0481b49c5e3127bc3548b86f3348e84371a8f0e90be
0f98722f71719777f0e7e166a289e1a476c16bc5b4cb93efe08723588bf77d29
b950c328cfc5497769dc07d940f9c965c8560d2a0427670e5f8a37e20c75bb88
772a212e7d5f7196a1b2a76787d5d4060476afeeac157d5c6224c78313433679
06548f3a95a1d1c43d92d8b14d312915db238b27c3703d9e056c86e0d5c5825d
dcfab6dcc0fbf06ae82c6dbedbf551381a6f2ea48d87ae0c9ff07f54695ea290
22fdb89f89d18f7b448b69ce00cd710faf9ee52f19bfaa8f62f94658139570f7
d79ef7caad1f158a2619f486935cc2be7c0b2602528530df9bf1135468cb666e
c10bf016cc6a539ce54045d0285ca8321acf04f69db2ab40acbb13e8042c0b74
1996a457517a2e7b7cbec3a8dfe3d4222174241d06d7e7c4ee70cce39ccc6c9f
27a1d45e5ee13844ba7ec21bf67d37b43eba52e78eec845d8f05028bd8ba7cba
ee2b4511a06ebf53a26638de2589397f8448a79d89f27b789427b847d6abd7fd

Total reclaimed space: 3.836GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 18-22-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-1.log -b True -m i -M 0,1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 18-22-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-1.log', 'mode': 'i', 'memnode': '0,1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-1



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-interleave-node-0-1

Result: sha256:b174b6cb9bc66a10c2379f4a147b2a174cce6d87bf8c80390174e1799c347a94


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-1

Result: sha256:455fb993624f0ac2eb101e0360d21d12dfaa75c7050fc8966c41ee63a7337f44


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-1

Result: sha256:01ab69cf1302d427654360b12f4a83b7fc907be7c1693d110eab7cfe321d40f0


Install numactl tools on docker image: redis-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_home-timeline-redis_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_home-timeline-redis_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 11 01:23 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-1



CMD: docker commit socialnetwork_home-timeline-redis_1 redis-numa-interleave-node-0-1

Result: sha256:f6293e8ce19a762083c01100da458ff5e7c083004f5ab8e7390e38232b86dab8


Install numactl tools on docker image: mongo-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 01:23 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-1



CMD: docker commit socialnetwork_post-storage-mongodb_1 mongo-numa-interleave-node-0-1

Result: sha256:5adf6ba79e5ab873dc79d52cc6d9f2e74cf26b3de507723182d4e7484558b1c7


Install numactl tools on docker image: memcached-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 11 01:23 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-1



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-interleave-node-0-1

Result: sha256:ab2805a1b017ac182188dd0de5d96658a7f3c120ab825612e7847781ce7e2bf1


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
da3ef89fbfeabf2d3bf2cb7b5909ec15514252ba43a0b6d96aeb8d42d00547ec
338fbff83d15094d491ce28a7ceaed8422ed28c075b3a13303efd17082e77832
8fd69f4b8945727f7e95b101e48cdb522ace2cae91e16fea610ccbcd23e0d4e1
c37a2b2abeed64b2d27451f6eeb8c00fb26d5fa229d6590de866ec3d09c87aaf
bfbe43f8745e93d1ea427c83a0afe16bcc5ddf560fe18dff740343d98283f94f
a489bc3a4b7e5ffd97207a5dc6027819ab8776acafc1e6cb3de62b74220a0cf9
c7da9dfe634af8a97701153ad59ef86aa459e1e596a3848fc3c57d8ea56b45dc
da3631a3a86b8a6f46d367f3e1da8a5b0f9af9c09365272b58e0cfb9dc645697
a178bb4feb54142db8b246a427550107c241f55b8700e2cb181d97e93668250d
f7fbc4524a0b46f981a4e4e8df8ec9befbd2355bd4415eff4b638ad56706c960
a7c873733d71cde3a0b71f6f41e7736f17c9b201f54ac220bc504763c3dbc7a3
cd479f75d02b30b359d272ed14f94f1ed7205a566defdb50a6147289b045e4f5
a5d4358bed08fa23ae2983388cfb23d2142e2ded30adcda459a6ff81c6845cd4
d8f7f6a2cfd206f5b0d2e894e72822cf2d09fb8be7df22fd9eb69d79d5c5c753
00b43e3d7d38dcea209a1b066978b131ead373be29abb41c1b4093fc2dc2d2fc
44de1e929f046d8833e32d42a20deeffedb3b8bce31a61e112605c885cefe4c8
90467b72866d3d55daa4cd79f71e8b41045c681aa7fb0f5ee5817651184cd79a
9027ddf9e14fc7e2f0cd09e3225f3d0bf1e83b67364153b6aec0a90ac42c8e24
1708f7020d08aa0b069012f8aed2043856ea383f389b77de81b1d5bd8f392950
b12253ae97f51b86939ab7f0d7d833e62cffff7fcdb179a98a94d240889955a9
8eff78d7e343abdb5fe3c647ed6326db9afee63dfb8c310e29a15dc82fc3cc44
9e67944bce947d1abd5da69c9aad312235fb8e307f403379ca4e5ee1ed2c1621
4ae2a37473517e17771ed1eb877b6988530243d292006af5a2f705ad58c57ee1
d3c6006e52d70d112689e03ae80eab03c437bc71c9f598621846fed690d7b79d
d9f912092f8b49b2b8df4b22224d816d035a2850a502bcc1d30509a6c789e7cf
2e6dc40312c35f55ba3bb9a46bc01073e42a3360b530af2b39fd809ee569b8b4
f74f332966ee8d3d7f81a3ea8f785654fc5705dd76b01f076a474d09a7457414
e748851ea01a7062474bf9571bb882274cc7b198ca1ca4bb98a4e8077becd85e
4a3ba6184da675c9e4ac0689cc7973b9dce52e552658eb9261068c411b2ae48e
e7e4e0a8583c11548d2891af7c9245bd46f4ebb6f69e7d0b951bc5764a397ed6
089e74d7095b9eb88f653f118559c12ac3575ce1198050fde1c48510c990de90

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54645 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57401 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130582 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54645 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57401 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130582 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:669
cluster_stats_messages_pong_sent:673
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1343
cluster_stats_messages_ping_received:673
cluster_stats_messages_pong_received:670
cluster_stats_messages_received:1343
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:680
cluster_stats_messages_pong_sent:687
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1368
cluster_stats_messages_ping_received:687
cluster_stats_messages_pong_received:681
cluster_stats_messages_received:1368
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:691
cluster_stats_messages_pong_sent:687
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1379
cluster_stats_messages_ping_received:687
cluster_stats_messages_pong_received:692
cluster_stats_messages_received:1379
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 3.846ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.751ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.353ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.998ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.056ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.484ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.777ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.783ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.523ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.990ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.792ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.699ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.144ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.945ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.912ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.126ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.791ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.914ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.836ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.848ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.911ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.143ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.224ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.696ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.798ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.579ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.290ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.618ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.175ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.464ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.594ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.182ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.211ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.939ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.808ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.146ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.237ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.996ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.681ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.818ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.058ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.429ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.555ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.884ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.721ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 3.790ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.658ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.853ms, rate sampling interval: 11ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.72ms  817.65us   4.45ms   92.01%
    Req/Sec    20.89     44.02   181.00     79.71%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.66ms
 75.000%    2.90ms
 90.000%    3.19ms
 99.000%    4.45ms
 99.900%   13.53ms
 99.990%   26.11ms
 99.999%   46.94ms
100.000%   52.77ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.326     0.000000            1         1.00
       2.145     0.100000        10612         1.11
       2.365     0.200000        21184         1.25
       2.487     0.300000        31944         1.43
       2.581     0.400000        42494         1.67
       2.665     0.500000        53066         2.00
       2.707     0.550000        58423         2.22
       2.749     0.600000        63720         2.50
       2.793     0.650000        68898         2.86
       2.841     0.700000        74172         3.33
       2.897     0.750000        79482         4.00
       2.929     0.775000        82113         4.44
       2.965     0.800000        84768         5.00
       3.005     0.825000        87357         5.71
       3.055     0.850000        90009         6.67
       3.113     0.875000        92603         8.00
       3.149     0.887500        93937         8.89
       3.195     0.900000        95271        10.00
       3.253     0.912500        96583        11.43
       3.323     0.925000        97915        13.33
       3.407     0.937500        99236        16.00
       3.457     0.943750        99880        17.78
       3.511     0.950000       100543        20.00
       3.571     0.956250       101204        22.86
       3.649     0.962500       101861        26.67
       3.737     0.968750       102522        32.00
       3.787     0.971875       102856        35.56
       3.843     0.975000       103186        40.00
       3.911     0.978125       103510        45.71
       4.011     0.981250       103844        53.33
       4.123     0.984375       104172        64.00
       4.195     0.985938       104336        71.11
       4.283     0.987500       104505        80.00
       4.383     0.989062       104674        91.43
       4.491     0.990625       104839       106.67
       4.651     0.992188       104998       128.00
       4.763     0.992969       105080       142.22
       4.923     0.993750       105164       160.00
       5.099     0.994531       105247       182.86
       5.327     0.995313       105328       213.33
       5.695     0.996094       105411       256.00
       6.023     0.996484       105452       284.44
       6.511     0.996875       105494       320.00
       7.139     0.997266       105535       365.71
       7.647     0.997656       105577       426.67
       8.007     0.998047       105619       512.00
       8.343     0.998242       105640       568.89
       8.695     0.998437       105659       640.00
       9.599     0.998633       105680       731.43
      11.519     0.998828       105700       853.33
      13.783     0.999023       105721      1024.00
      14.695     0.999121       105731      1137.78
      15.735     0.999219       105742      1280.00
      16.751     0.999316       105752      1462.86
      19.151     0.999414       105762      1706.67
      20.751     0.999512       105773      2048.00
      21.087     0.999561       105778      2275.56
      21.343     0.999609       105783      2560.00
      21.711     0.999658       105788      2925.71
      22.367     0.999707       105793      3413.33
      22.799     0.999756       105799      4096.00
      22.847     0.999780       105801      4551.11
      22.959     0.999805       105804      5120.00
      23.503     0.999829       105806      5851.43
      24.975     0.999854       105809      6826.67
      26.031     0.999878       105812      8192.00
      26.111     0.999890       105813      9102.22
      26.479     0.999902       105814     10240.00
      27.967     0.999915       105815     11702.86
      29.407     0.999927       105817     13653.33
      32.143     0.999939       105818     16384.00
      33.695     0.999945       105819     18204.44
      33.695     0.999951       105819     20480.00
      33.855     0.999957       105820     23405.71
      42.239     0.999963       105821     27306.67
      42.239     0.999969       105821     32768.00
      46.751     0.999973       105822     36408.89
      46.751     0.999976       105822     40960.00
      46.751     0.999979       105822     46811.43
      46.943     0.999982       105823     54613.33
      46.943     0.999985       105823     65536.00
      46.943     0.999986       105823     72817.78
      46.943     0.999988       105823     81920.00
      46.943     0.999989       105823     93622.86
      52.767     0.999991       105824    109226.67
      52.767     1.000000       105824          inf
#[Mean    =        2.719, StdDeviation   =        0.818]
#[Max     =       52.736, Total count    =       105824]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115312 requests in 2.00m, 23.64MB read
Requests/sec:    960.97  
Transfer/sec:    201.77KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53585 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55430 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53585 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55430 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2221.107ms, rate sampling interval: 8015ms
  Thread calibration: mean lat.: 2423.662ms, rate sampling interval: 8626ms
  Thread calibration: mean lat.: 2001.400ms, rate sampling interval: 7155ms
  Thread calibration: mean lat.: 2023.712ms, rate sampling interval: 7659ms
  Thread calibration: mean lat.: 2482.704ms, rate sampling interval: 8650ms
  Thread calibration: mean lat.: 2378.957ms, rate sampling interval: 8310ms
  Thread calibration: mean lat.: 1976.945ms, rate sampling interval: 7749ms
  Thread calibration: mean lat.: 2324.998ms, rate sampling interval: 8404ms
  Thread calibration: mean lat.: 2271.001ms, rate sampling interval: 7553ms
  Thread calibration: mean lat.: 1987.212ms, rate sampling interval: 6930ms
  Thread calibration: mean lat.: 2414.215ms, rate sampling interval: 8626ms
  Thread calibration: mean lat.: 2345.932ms, rate sampling interval: 8511ms
  Thread calibration: mean lat.: 2278.663ms, rate sampling interval: 8658ms
  Thread calibration: mean lat.: 2271.131ms, rate sampling interval: 8384ms
  Thread calibration: mean lat.: 2146.242ms, rate sampling interval: 8024ms
  Thread calibration: mean lat.: 2212.898ms, rate sampling interval: 7868ms
  Thread calibration: mean lat.: 2300.010ms, rate sampling interval: 8245ms
  Thread calibration: mean lat.: 2176.319ms, rate sampling interval: 7884ms
  Thread calibration: mean lat.: 2400.190ms, rate sampling interval: 8667ms
  Thread calibration: mean lat.: 2232.328ms, rate sampling interval: 7802ms
  Thread calibration: mean lat.: 2538.908ms, rate sampling interval: 8814ms
  Thread calibration: mean lat.: 2425.201ms, rate sampling interval: 8437ms
  Thread calibration: mean lat.: 2561.830ms, rate sampling interval: 8699ms
  Thread calibration: mean lat.: 2298.287ms, rate sampling interval: 8380ms
  Thread calibration: mean lat.: 2548.353ms, rate sampling interval: 8871ms
  Thread calibration: mean lat.: 2228.356ms, rate sampling interval: 8011ms
  Thread calibration: mean lat.: 2394.136ms, rate sampling interval: 8327ms
  Thread calibration: mean lat.: 2743.541ms, rate sampling interval: 9510ms
  Thread calibration: mean lat.: 2273.820ms, rate sampling interval: 8372ms
  Thread calibration: mean lat.: 2519.291ms, rate sampling interval: 8962ms
  Thread calibration: mean lat.: 2740.884ms, rate sampling interval: 8822ms
  Thread calibration: mean lat.: 2572.747ms, rate sampling interval: 8773ms
  Thread calibration: mean lat.: 2520.139ms, rate sampling interval: 8708ms
  Thread calibration: mean lat.: 2682.563ms, rate sampling interval: 8781ms
  Thread calibration: mean lat.: 2591.940ms, rate sampling interval: 8187ms
  Thread calibration: mean lat.: 2898.750ms, rate sampling interval: 9412ms
  Thread calibration: mean lat.: 2336.381ms, rate sampling interval: 8003ms
  Thread calibration: mean lat.: 2757.625ms, rate sampling interval: 9379ms
  Thread calibration: mean lat.: 2717.344ms, rate sampling interval: 8773ms
  Thread calibration: mean lat.: 2768.477ms, rate sampling interval: 9019ms
  Thread calibration: mean lat.: 2528.548ms, rate sampling interval: 8577ms
  Thread calibration: mean lat.: 2499.641ms, rate sampling interval: 8519ms
  Thread calibration: mean lat.: 2630.597ms, rate sampling interval: 8593ms
  Thread calibration: mean lat.: 2560.957ms, rate sampling interval: 8773ms
  Thread calibration: mean lat.: 2675.190ms, rate sampling interval: 8699ms
  Thread calibration: mean lat.: 2401.202ms, rate sampling interval: 8617ms
  Thread calibration: mean lat.: 2674.096ms, rate sampling interval: 8724ms
  Thread calibration: mean lat.: 2727.074ms, rate sampling interval: 8830ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    29.30s    14.40s    0.91m    57.90%
    Req/Sec    56.83      1.23    59.00     95.35%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   29.05s 
 75.000%   41.81s 
 90.000%   49.35s 
 99.000%    0.91m 
 99.900%    0.95m 
 99.990%    0.97m 
 99.999%    0.98m 
100.000%    0.98m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3031.039     0.000000            1         1.00
    9510.911     0.100000        30292         1.11
   14409.727     0.200000        60568         1.25
   19300.351     0.300000        90797         1.43
   24182.783     0.400000       121117         1.67
   29048.831     0.500000       151379         2.00
   31490.047     0.550000       166481         2.22
   34045.951     0.600000       181633         2.50
   36732.927     0.650000       196759         2.86
   39387.135     0.700000       212027         3.33
   41811.967     0.750000       227144         4.00
   43024.383     0.775000       234603         4.44
   44269.567     0.800000       242229         5.00
   45547.519     0.825000       249686         5.71
   46825.471     0.850000       257403         6.67
   48103.423     0.875000       264998         8.00
   48726.015     0.887500       268811         8.89
   49348.607     0.900000       272578        10.00
   49905.663     0.912500       276265        11.43
   50528.255     0.925000       280137        13.33
   51118.079     0.937500       283777        16.00
   51445.759     0.943750       285729        17.78
   51773.439     0.950000       287620        20.00
   52101.119     0.956250       289457        22.86
   52461.567     0.962500       291322        26.67
   52854.783     0.968750       293332        32.00
   53051.391     0.971875       294225        35.56
   53280.767     0.975000       295197        40.00
   53510.143     0.978125       296133        45.71
   53739.519     0.981250       297122        53.33
   53968.895     0.984375       297973        64.00
   54132.735     0.985938       298457        71.11
   54296.575     0.987500       298946        80.00
   54460.415     0.989062       299400        91.43
   54657.023     0.990625       299883       106.67
   54853.631     0.992188       300327       128.00
   54951.935     0.992969       300537       142.22
   55083.007     0.993750       300766       160.00
   55214.079     0.994531       301006       182.86
   55377.919     0.995313       301251       213.33
   55574.527     0.996094       301500       256.00
   55640.063     0.996484       301598       284.44
   55738.367     0.996875       301704       320.00
   55869.439     0.997266       301843       365.71
   56000.511     0.997656       301945       426.67
   56164.351     0.998047       302074       512.00
   56262.655     0.998242       302136       568.89
   56328.191     0.998437       302179       640.00
   56459.263     0.998633       302241       731.43
   56590.335     0.998828       302297       853.33
   56754.175     0.999023       302360      1024.00
   56819.711     0.999121       302389      1137.78
   56918.015     0.999219       302418      1280.00
   57016.319     0.999316       302448      1462.86
   57114.623     0.999414       302479      1706.67
   57245.695     0.999512       302510      2048.00
   57278.463     0.999561       302521      2275.56
   57311.231     0.999609       302533      2560.00
   57376.767     0.999658       302549      2925.71
   57442.303     0.999707       302560      3413.33
   57540.607     0.999756       302579      4096.00
   57606.143     0.999780       302584      4551.11
   57737.215     0.999805       302590      5120.00
   57868.287     0.999829       302597      5851.43
   58032.127     0.999854       302608      6826.67
   58130.431     0.999878       302613      8192.00
   58228.735     0.999890       302617      9102.22
   58261.503     0.999902       302619     10240.00
   58359.807     0.999915       302623     11702.86
   58490.879     0.999927       302627     13653.33
   58523.647     0.999939       302630     16384.00
   58621.951     0.999945       302637     18204.44
   58621.951     0.999951       302637     20480.00
   58621.951     0.999957       302637     23405.71
   58621.951     0.999963       302637     27306.67
   58654.719     0.999969       302641     32768.00
   58654.719     0.999973       302641     36408.89
   58654.719     0.999976       302641     40960.00
   58687.487     0.999979       302643     46811.43
   58687.487     0.999982       302643     54613.33
   58720.255     0.999985       302645     65536.00
   58720.255     0.999986       302645     72817.78
   58720.255     0.999988       302645     81920.00
   58720.255     0.999989       302645     93622.86
   58753.023     0.999991       302646    109226.67
   58753.023     0.999992       302646    131072.00
   58753.023     0.999993       302646    145635.56
   58785.791     0.999994       302647    163840.00
   58785.791     0.999995       302647    187245.71
   58785.791     0.999995       302647    218453.33
   58785.791     0.999996       302647    262144.00
   58785.791     0.999997       302647    291271.11
   58818.559     0.999997       302648    327680.00
   58818.559     1.000000       302648          inf
#[Mean    =    29304.772, StdDeviation   =    14401.642]
#[Max     =    58785.792, Total count    =       302648]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  329169 requests in 2.00m, 67.49MB read
Requests/sec:   2744.18  
Transfer/sec:    576.17KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51610 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51356 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51610 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51356 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4150.797ms, rate sampling interval: 14835ms
  Thread calibration: mean lat.: 4367.738ms, rate sampling interval: 15237ms
  Thread calibration: mean lat.: 4333.180ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4297.788ms, rate sampling interval: 15310ms
  Thread calibration: mean lat.: 4286.976ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4433.685ms, rate sampling interval: 15491ms
  Thread calibration: mean lat.: 4241.509ms, rate sampling interval: 15261ms
  Thread calibration: mean lat.: 4484.730ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4494.977ms, rate sampling interval: 15777ms
  Thread calibration: mean lat.: 4287.173ms, rate sampling interval: 15237ms
  Thread calibration: mean lat.: 4287.664ms, rate sampling interval: 15245ms
  Thread calibration: mean lat.: 4159.760ms, rate sampling interval: 15237ms
  Thread calibration: mean lat.: 4325.803ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4071.876ms, rate sampling interval: 14811ms
  Thread calibration: mean lat.: 4316.926ms, rate sampling interval: 15622ms
  Thread calibration: mean lat.: 4328.591ms, rate sampling interval: 15294ms
  Thread calibration: mean lat.: 4319.726ms, rate sampling interval: 15646ms
  Thread calibration: mean lat.: 4182.392ms, rate sampling interval: 15130ms
  Thread calibration: mean lat.: 4307.941ms, rate sampling interval: 15417ms
  Thread calibration: mean lat.: 4353.550ms, rate sampling interval: 15335ms
  Thread calibration: mean lat.: 4366.748ms, rate sampling interval: 15343ms
  Thread calibration: mean lat.: 4257.240ms, rate sampling interval: 15253ms
  Thread calibration: mean lat.: 4239.268ms, rate sampling interval: 15179ms
  Thread calibration: mean lat.: 4301.994ms, rate sampling interval: 15335ms
  Thread calibration: mean lat.: 4395.494ms, rate sampling interval: 15671ms
  Thread calibration: mean lat.: 4479.466ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4369.962ms, rate sampling interval: 15482ms
  Thread calibration: mean lat.: 4349.459ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4458.505ms, rate sampling interval: 15572ms
  Thread calibration: mean lat.: 4430.056ms, rate sampling interval: 15351ms
  Thread calibration: mean lat.: 4457.101ms, rate sampling interval: 15261ms
  Thread calibration: mean lat.: 4512.484ms, rate sampling interval: 15343ms
  Thread calibration: mean lat.: 4344.707ms, rate sampling interval: 15450ms
  Thread calibration: mean lat.: 4620.757ms, rate sampling interval: 15581ms
  Thread calibration: mean lat.: 4539.958ms, rate sampling interval: 15400ms
  Thread calibration: mean lat.: 4541.355ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4269.168ms, rate sampling interval: 15032ms
  Thread calibration: mean lat.: 4387.322ms, rate sampling interval: 15433ms
  Thread calibration: mean lat.: 4365.162ms, rate sampling interval: 15302ms
  Thread calibration: mean lat.: 4414.580ms, rate sampling interval: 15384ms
  Thread calibration: mean lat.: 4489.812ms, rate sampling interval: 15663ms
  Thread calibration: mean lat.: 4476.668ms, rate sampling interval: 15400ms
  Thread calibration: mean lat.: 4549.368ms, rate sampling interval: 15605ms
  Thread calibration: mean lat.: 4465.747ms, rate sampling interval: 15646ms
  Thread calibration: mean lat.: 4536.227ms, rate sampling interval: 15646ms
  Thread calibration: mean lat.: 4542.852ms, rate sampling interval: 15532ms
  Thread calibration: mean lat.: 4562.010ms, rate sampling interval: 15597ms
  Thread calibration: mean lat.: 4403.870ms, rate sampling interval: 15261ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.94m    27.51s    1.71m    57.71%
    Req/Sec    27.90      0.67    30.00     97.31%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.94m 
 75.000%    1.34m 
 90.000%    1.58m 
 99.000%    1.71m 
 99.900%    1.73m 
 99.990%    1.74m 
 99.999%    1.75m 
100.000%    1.75m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    8187.903     0.000000            1         1.00
   18399.231     0.100000        15028         1.11
   27754.495     0.200000        30039         1.25
   36995.071     0.300000        45029         1.43
   46465.023     0.400000        60079         1.67
   56426.495     0.500000        75058         2.00
   61112.319     0.550000        82549         2.22
   65732.607     0.600000        90052         2.50
   70713.343     0.650000        97577         2.86
   75563.007     0.700000       105119         3.33
   80347.135     0.750000       112631         4.00
   82640.895     0.775000       116322         4.44
   85065.727     0.800000       120132         5.00
   87425.023     0.825000       123886         5.71
   89718.783     0.850000       127611         6.67
   92143.615     0.875000       131333         8.00
   93388.799     0.887500       133275         8.89
   94568.447     0.900000       135116        10.00
   95748.095     0.912500       136969        11.43
   96927.743     0.925000       138833        13.33
   98107.391     0.937500       140788        16.00
   98631.679     0.943750       141659        17.78
   99221.503     0.950000       142621        20.00
   99811.327     0.956250       143574        22.86
  100401.151     0.962500       144499        26.67
  100990.975     0.968750       145437        32.00
  101253.119     0.971875       145878        35.56
  101515.263     0.975000       146337        40.00
  101777.407     0.978125       146802        45.71
  102105.087     0.981250       147396        53.33
  102301.695     0.984375       147759        64.00
  102432.767     0.985938       147987        71.11
  102563.839     0.987500       148227        80.00
  102694.911     0.989062       148453        91.43
  102891.519     0.990625       148771       106.67
  103022.591     0.992188       148966       128.00
  103088.127     0.992969       149059       142.22
  103219.199     0.993750       149254       160.00
  103284.735     0.994531       149330       182.86
  103350.271     0.995313       149411       213.33
  103481.343     0.996094       149548       256.00
  103546.879     0.996484       149625       284.44
  103546.879     0.996875       149625       320.00
  103612.415     0.997266       149687       365.71
  103677.951     0.997656       149736       426.67
  103743.487     0.998047       149796       512.00
  103809.023     0.998242       149830       568.89
  103874.559     0.998437       149872       640.00
  103940.095     0.998633       149908       731.43
  103940.095     0.998828       149908       853.33
  104071.167     0.999023       149955      1024.00
  104071.167     0.999121       149955      1137.78
  104136.703     0.999219       149979      1280.00
  104202.239     0.999316       149993      1462.86
  104267.775     0.999414       150013      1706.67
  104267.775     0.999512       150013      2048.00
  104333.311     0.999561       150023      2275.56
  104398.847     0.999609       150040      2560.00
  104398.847     0.999658       150040      2925.71
  104398.847     0.999707       150040      3413.33
  104464.383     0.999756       150054      4096.00
  104464.383     0.999780       150054      4551.11
  104464.383     0.999805       150054      5120.00
  104529.919     0.999829       150063      5851.43
  104529.919     0.999854       150063      6826.67
  104595.455     0.999878       150069      8192.00
  104595.455     0.999890       150069      9102.22
  104595.455     0.999902       150069     10240.00
  104660.991     0.999915       150075     11702.86
  104660.991     0.999927       150075     13653.33
  104660.991     0.999939       150075     16384.00
  104660.991     0.999945       150075     18204.44
  104726.527     0.999951       150077     20480.00
  104726.527     0.999957       150077     23405.71
  104792.063     0.999963       150080     27306.67
  104792.063     0.999969       150080     32768.00
  104792.063     0.999973       150080     36408.89
  104792.063     0.999976       150080     40960.00
  104792.063     0.999979       150080     46811.43
  104857.599     0.999982       150083     54613.33
  104857.599     1.000000       150083          inf
#[Mean    =    56330.131, StdDeviation   =    27512.168]
#[Max     =   104792.064, Total count    =       150083]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  163308 requests in 2.00m, 33.48MB read
Requests/sec:   1361.13  
Transfer/sec:    285.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48559 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45891 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48559 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45891 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.345ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.319ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.656ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.955ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.689ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.512ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.639ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.850ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.750ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 11.255ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.554ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.745ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.418ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.738ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 10.959ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.015ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.422ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.562ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.866ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.965ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.352ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.336ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.425ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.920ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.076ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.555ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.328ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.438ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.420ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.069ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.622ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.482ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.163ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.090ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.708ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.755ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.350ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.136ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.519ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.086ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.838ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.550ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.814ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.976ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 12.265ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.383ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.222ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.514ms, rate sampling interval: 29ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.55ms    2.96ms  22.59ms   82.87%
    Req/Sec    20.19     25.98   103.00     87.97%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.94ms
 75.000%   12.32ms
 90.000%   14.83ms
 99.000%   22.59ms
 99.900%   30.29ms
 99.990%   37.85ms
 99.999%   46.75ms
100.000%   52.67ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.083     0.000000            1         1.00
       9.063     0.100000        10634         1.11
       9.719     0.200000        21232         1.25
      10.159     0.300000        31753         1.43
      10.551     0.400000        42485         1.67
      10.935     0.500000        53070         2.00
      11.143     0.550000        58396         2.22
      11.367     0.600000        63501         2.50
      11.631     0.650000        68912         2.86
      11.927     0.700000        74117         3.33
      12.319     0.750000        79421         4.00
      12.551     0.775000        82072         4.44
      12.831     0.800000        84717         5.00
      13.151     0.825000        87321         5.71
      13.551     0.850000        89987         6.67
      14.063     0.875000        92617         8.00
      14.399     0.887500        93944         8.89
      14.831     0.900000        95279        10.00
      15.367     0.912500        96579        11.43
      16.015     0.925000        97908        13.33
      16.767     0.937500        99245        16.00
      17.135     0.943750        99893        17.78
      17.567     0.950000       100560        20.00
      18.047     0.956250       101232        22.86
      18.527     0.962500       101872        26.67
      19.103     0.968750       102538        32.00
      19.423     0.971875       102860        35.56
      19.775     0.975000       103205        40.00
      20.159     0.978125       103526        45.71
      20.639     0.981250       103860        53.33
      21.151     0.984375       104193        64.00
      21.471     0.985938       104352        71.11
      21.855     0.987500       104515        80.00
      22.255     0.989062       104680        91.43
      22.815     0.990625       104851       106.67
      23.375     0.992188       105014       128.00
      23.695     0.992969       105093       142.22
      24.079     0.993750       105175       160.00
      24.639     0.994531       105258       182.86
      25.087     0.995313       105339       213.33
      25.599     0.996094       105423       256.00
      25.935     0.996484       105465       284.44
      26.303     0.996875       105506       320.00
      26.799     0.997266       105546       365.71
      27.279     0.997656       105587       426.67
      27.807     0.998047       105629       512.00
      28.159     0.998242       105650       568.89
      28.591     0.998437       105670       640.00
      29.135     0.998633       105691       731.43
      29.791     0.998828       105711       853.33
      30.351     0.999023       105732      1024.00
      30.575     0.999121       105742      1137.78
      30.879     0.999219       105754      1280.00
      31.295     0.999316       105763      1462.86
      31.759     0.999414       105773      1706.67
      32.367     0.999512       105784      2048.00
      32.543     0.999561       105789      2275.56
      33.055     0.999609       105794      2560.00
      33.183     0.999658       105799      2925.71
      33.695     0.999707       105804      3413.33
      34.239     0.999756       105810      4096.00
      35.039     0.999780       105812      4551.11
      35.551     0.999805       105815      5120.00
      36.351     0.999829       105817      5851.43
      37.087     0.999854       105820      6826.67
      37.375     0.999878       105823      8192.00
      37.855     0.999890       105824      9102.22
      37.951     0.999902       105825     10240.00
      38.527     0.999915       105826     11702.86
      39.455     0.999927       105828     13653.33
      39.903     0.999939       105829     16384.00
      41.759     0.999945       105830     18204.44
      41.759     0.999951       105830     20480.00
      44.159     0.999957       105831     23405.71
      44.383     0.999963       105832     27306.67
      44.383     0.999969       105832     32768.00
      45.791     0.999973       105833     36408.89
      45.791     0.999976       105833     40960.00
      45.791     0.999979       105833     46811.43
      46.751     0.999982       105834     54613.33
      46.751     0.999985       105834     65536.00
      46.751     0.999986       105834     72817.78
      46.751     0.999988       105834     81920.00
      46.751     0.999989       105834     93622.86
      52.671     0.999991       105835    109226.67
      52.671     1.000000       105835          inf
#[Mean    =       11.549, StdDeviation   =        2.958]
#[Max     =       52.640, Total count    =       105835]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115333 requests in 2.00m, 1.56GB read
Requests/sec:    961.06  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 47121 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40843 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 47121 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40843 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 1432.820ms, rate sampling interval: 5472ms
  Thread calibration: mean lat.: 1431.702ms, rate sampling interval: 5828ms
  Thread calibration: mean lat.: 1380.445ms, rate sampling interval: 5734ms
  Thread calibration: mean lat.: 1448.067ms, rate sampling interval: 6705ms
  Thread calibration: mean lat.: 1149.774ms, rate sampling interval: 4972ms
  Thread calibration: mean lat.: 1427.010ms, rate sampling interval: 5611ms
  Thread calibration: mean lat.: 1197.580ms, rate sampling interval: 5074ms
  Thread calibration: mean lat.: 1460.156ms, rate sampling interval: 5517ms
  Thread calibration: mean lat.: 1421.555ms, rate sampling interval: 5939ms
  Thread calibration: mean lat.: 1445.347ms, rate sampling interval: 5967ms
  Thread calibration: mean lat.: 1254.273ms, rate sampling interval: 5267ms
  Thread calibration: mean lat.: 1091.567ms, rate sampling interval: 4665ms
  Thread calibration: mean lat.: 1065.465ms, rate sampling interval: 4427ms
  Thread calibration: mean lat.: 1355.295ms, rate sampling interval: 5742ms
  Thread calibration: mean lat.: 1203.941ms, rate sampling interval: 4943ms
  Thread calibration: mean lat.: 1127.363ms, rate sampling interval: 4472ms
  Thread calibration: mean lat.: 1536.895ms, rate sampling interval: 5517ms
  Thread calibration: mean lat.: 1260.391ms, rate sampling interval: 4173ms
  Thread calibration: mean lat.: 1567.563ms, rate sampling interval: 5435ms
  Thread calibration: mean lat.: 1697.811ms, rate sampling interval: 5996ms
  Thread calibration: mean lat.: 1231.216ms, rate sampling interval: 4927ms
  Thread calibration: mean lat.: 1260.158ms, rate sampling interval: 4825ms
  Thread calibration: mean lat.: 1528.398ms, rate sampling interval: 5722ms
  Thread calibration: mean lat.: 1251.651ms, rate sampling interval: 4915ms
  Thread calibration: mean lat.: 1444.195ms, rate sampling interval: 5849ms
  Thread calibration: mean lat.: 1407.535ms, rate sampling interval: 5476ms
  Thread calibration: mean lat.: 1310.877ms, rate sampling interval: 5296ms
  Thread calibration: mean lat.: 1477.832ms, rate sampling interval: 5595ms
  Thread calibration: mean lat.: 1447.244ms, rate sampling interval: 6778ms
  Thread calibration: mean lat.: 1065.399ms, rate sampling interval: 3889ms
  Thread calibration: mean lat.: 1581.173ms, rate sampling interval: 6545ms
  Thread calibration: mean lat.: 1353.871ms, rate sampling interval: 5779ms
  Thread calibration: mean lat.: 1487.934ms, rate sampling interval: 5378ms
  Thread calibration: mean lat.: 1614.380ms, rate sampling interval: 6594ms
  Thread calibration: mean lat.: 1143.919ms, rate sampling interval: 4558ms
  Thread calibration: mean lat.: 1241.413ms, rate sampling interval: 4972ms
  Thread calibration: mean lat.: 1443.357ms, rate sampling interval: 5984ms
  Thread calibration: mean lat.: 1355.533ms, rate sampling interval: 5959ms
  Thread calibration: mean lat.: 1402.743ms, rate sampling interval: 5320ms
  Thread calibration: mean lat.: 1378.401ms, rate sampling interval: 5480ms
  Thread calibration: mean lat.: 1487.488ms, rate sampling interval: 6045ms
  Thread calibration: mean lat.: 1285.304ms, rate sampling interval: 4751ms
  Thread calibration: mean lat.: 1150.359ms, rate sampling interval: 4562ms
  Thread calibration: mean lat.: 1411.304ms, rate sampling interval: 5558ms
  Thread calibration: mean lat.: 1545.747ms, rate sampling interval: 5574ms
  Thread calibration: mean lat.: 1486.084ms, rate sampling interval: 5791ms
  Thread calibration: mean lat.: 1427.288ms, rate sampling interval: 5038ms
  Thread calibration: mean lat.: 1225.150ms, rate sampling interval: 4812ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    19.35s    10.57s   44.30s    62.54%
    Req/Sec    72.22      4.61    84.00     77.79%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.53s 
 75.000%   27.13s 
 90.000%   34.08s 
 99.000%   44.30s 
 99.900%   49.87s 
 99.990%    0.89m 
 99.999%    0.90m 
100.000%    0.90m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

     325.631     0.000000            1         1.00
    5804.031     0.100000        38276         1.11
    8994.815     0.200000        76471         1.25
   12173.311     0.300000       114726         1.43
   15368.191     0.400000       152939         1.67
   18530.303     0.500000       191365         2.00
   20168.703     0.550000       210437         2.22
   21725.183     0.600000       229532         2.50
   23478.271     0.650000       248591         2.86
   25264.127     0.700000       267701         3.33
   27131.903     0.750000       286827         4.00
   28114.943     0.775000       296330         4.44
   29179.903     0.800000       305989         5.00
   30212.095     0.825000       315445         5.71
   31293.439     0.850000       325023         6.67
   32571.391     0.875000       334548         8.00
   33308.671     0.887500       339384         8.89
   34078.719     0.900000       344193        10.00
   34897.919     0.912500       348962        11.43
   35749.887     0.925000       353690        13.33
   36700.159     0.937500       358475        16.00
   37224.447     0.943750       360855        17.78
   37814.271     0.950000       363244        20.00
   38436.863     0.956250       365651        22.86
   39092.223     0.962500       368038        26.67
   39813.119     0.968750       370389        32.00
   40239.103     0.971875       371577        35.56
   40763.391     0.975000       372775        40.00
   41353.215     0.978125       373991        45.71
   41975.807     0.981250       375199        53.33
   42663.935     0.984375       376385        64.00
   42991.615     0.985938       376954        71.11
   43417.599     0.987500       377559        80.00
   43941.887     0.989062       378160        91.43
   44531.711     0.990625       378749       106.67
   45055.999     0.992188       379334       128.00
   45383.679     0.992969       379649       142.22
   45744.127     0.993750       379929       160.00
   46071.807     0.994531       380258       182.86
   46399.487     0.995313       380555       213.33
   46825.471     0.996094       380842       256.00
   47054.847     0.996484       380980       284.44
   47349.759     0.996875       381128       320.00
   47677.439     0.997266       381279       365.71
   47972.351     0.997656       381423       426.67
   48300.031     0.998047       381572       512.00
   48594.943     0.998242       381651       568.89
   48889.855     0.998437       381725       640.00
   49217.535     0.998633       381801       731.43
   49545.215     0.998828       381874       853.33
   49971.199     0.999023       381949      1024.00
   50200.575     0.999121       381989      1137.78
   50364.415     0.999219       382023      1280.00
   50495.487     0.999316       382065      1462.86
   50724.863     0.999414       382094      1706.67
   50987.007     0.999512       382134      2048.00
   51150.847     0.999561       382150      2275.56
   51281.919     0.999609       382174      2560.00
   51380.223     0.999658       382189      2925.71
   51511.295     0.999707       382208      3413.33
   51806.207     0.999756       382224      4096.00
   51904.511     0.999780       382233      4551.11
   52068.351     0.999805       382243      5120.00
   52723.711     0.999829       382252      5851.43
   53051.391     0.999854       382262      6826.67
   53182.463     0.999878       382271      8192.00
   53280.767     0.999890       382276      9102.22
   53542.911     0.999902       382281     10240.00
   53673.983     0.999915       382286     11702.86
   53837.823     0.999927       382289     13653.33
   53968.895     0.999939       382294     16384.00
   54034.431     0.999945       382300     18204.44
   54034.431     0.999951       382300     20480.00
   54067.199     0.999957       382305     23405.71
   54067.199     0.999963       382305     27306.67
   54099.967     0.999969       382311     32768.00
   54099.967     0.999973       382311     36408.89
   54099.967     0.999976       382311     40960.00
   54099.967     0.999979       382311     46811.43
   54099.967     0.999982       382311     54613.33
   54132.735     0.999985       382315     65536.00
   54132.735     0.999986       382315     72817.78
   54132.735     0.999988       382315     81920.00
   54132.735     0.999989       382315     93622.86
   54132.735     0.999991       382315    109226.67
   54132.735     0.999992       382315    131072.00
   54132.735     0.999993       382315    145635.56
   54132.735     0.999994       382315    163840.00
   54132.735     0.999995       382315    187245.71
   54198.271     0.999995       382316    218453.33
   54198.271     0.999996       382316    262144.00
   54198.271     0.999997       382316    291271.11
   54198.271     0.999997       382316    327680.00
   54198.271     0.999997       382316    374491.43
   54296.575     0.999998       382317    436906.67
   54296.575     1.000000       382317          inf
#[Mean    =    19352.623, StdDeviation   =    10567.718]
#[Max     =    54263.808, Total count    =       382317]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  417928 requests in 2.00m, 5.64GB read
Requests/sec:   3484.12  
Transfer/sec:     48.14MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46050 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35916 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46050 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35916 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3264.918ms, rate sampling interval: 11575ms
  Thread calibration: mean lat.: 2926.798ms, rate sampling interval: 10715ms
  Thread calibration: mean lat.: 3034.052ms, rate sampling interval: 10919ms
  Thread calibration: mean lat.: 3110.723ms, rate sampling interval: 11280ms
  Thread calibration: mean lat.: 3027.872ms, rate sampling interval: 11608ms
  Thread calibration: mean lat.: 3104.040ms, rate sampling interval: 11362ms
  Thread calibration: mean lat.: 3172.626ms, rate sampling interval: 11837ms
  Thread calibration: mean lat.: 3232.667ms, rate sampling interval: 11436ms
  Thread calibration: mean lat.: 3078.938ms, rate sampling interval: 11640ms
  Thread calibration: mean lat.: 2981.536ms, rate sampling interval: 11124ms
  Thread calibration: mean lat.: 3052.171ms, rate sampling interval: 11124ms
  Thread calibration: mean lat.: 3155.565ms, rate sampling interval: 11591ms
  Thread calibration: mean lat.: 3083.243ms, rate sampling interval: 11493ms
  Thread calibration: mean lat.: 3116.699ms, rate sampling interval: 11116ms
  Thread calibration: mean lat.: 3108.567ms, rate sampling interval: 11313ms
  Thread calibration: mean lat.: 3089.396ms, rate sampling interval: 11362ms
  Thread calibration: mean lat.: 3164.102ms, rate sampling interval: 11567ms
  Thread calibration: mean lat.: 3196.639ms, rate sampling interval: 11870ms
  Thread calibration: mean lat.: 2998.254ms, rate sampling interval: 11272ms
  Thread calibration: mean lat.: 3001.351ms, rate sampling interval: 11288ms
  Thread calibration: mean lat.: 3333.009ms, rate sampling interval: 11984ms
  Thread calibration: mean lat.: 3200.978ms, rate sampling interval: 11444ms
  Thread calibration: mean lat.: 3164.742ms, rate sampling interval: 11632ms
  Thread calibration: mean lat.: 3070.423ms, rate sampling interval: 11411ms
  Thread calibration: mean lat.: 3418.879ms, rate sampling interval: 12320ms
  Thread calibration: mean lat.: 3362.706ms, rate sampling interval: 12001ms
  Thread calibration: mean lat.: 3306.237ms, rate sampling interval: 11534ms
  Thread calibration: mean lat.: 3370.935ms, rate sampling interval: 12001ms
  Thread calibration: mean lat.: 3212.345ms, rate sampling interval: 11673ms
  Thread calibration: mean lat.: 3265.503ms, rate sampling interval: 11673ms
  Thread calibration: mean lat.: 3316.037ms, rate sampling interval: 11632ms
  Thread calibration: mean lat.: 3325.333ms, rate sampling interval: 11878ms
  Thread calibration: mean lat.: 3238.240ms, rate sampling interval: 11214ms
  Thread calibration: mean lat.: 3314.177ms, rate sampling interval: 11886ms
  Thread calibration: mean lat.: 3432.289ms, rate sampling interval: 12075ms
  Thread calibration: mean lat.: 3211.788ms, rate sampling interval: 11419ms
  Thread calibration: mean lat.: 3138.230ms, rate sampling interval: 11116ms
  Thread calibration: mean lat.: 3292.467ms, rate sampling interval: 11698ms
  Thread calibration: mean lat.: 3391.026ms, rate sampling interval: 12132ms
  Thread calibration: mean lat.: 3397.158ms, rate sampling interval: 11960ms
  Thread calibration: mean lat.: 3470.217ms, rate sampling interval: 11943ms
  Thread calibration: mean lat.: 3376.188ms, rate sampling interval: 12255ms
  Thread calibration: mean lat.: 3370.354ms, rate sampling interval: 11968ms
  Thread calibration: mean lat.: 3502.313ms, rate sampling interval: 12419ms
  Thread calibration: mean lat.: 3338.586ms, rate sampling interval: 11714ms
  Thread calibration: mean lat.: 3488.761ms, rate sampling interval: 12312ms
  Thread calibration: mean lat.: 3407.222ms, rate sampling interval: 12042ms
  Thread calibration: mean lat.: 3406.563ms, rate sampling interval: 12058ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    42.11s    20.44s    1.30m    57.55%
    Req/Sec    74.15      3.72    83.00     79.77%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   42.11s 
 75.000%    1.00m 
 90.000%    1.17m 
 99.000%    1.30m 
 99.900%    1.34m 
 99.990%    1.37m 
 99.999%    1.38m 
100.000%    1.38m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    5443.583     0.000000            1         1.00
   13910.015     0.100000        39447         1.11
   20807.679     0.200000        78855         1.25
   28016.639     0.300000       118219         1.43
   34963.455     0.400000       157719         1.67
   42106.879     0.500000       197027         2.00
   45744.127     0.550000       216874         2.22
   49217.535     0.600000       236518         2.50
   52527.103     0.650000       256229         2.86
   56098.815     0.700000       275897         3.33
   59867.135     0.750000       295617         4.00
   61734.911     0.775000       305403         4.44
   63438.847     0.800000       315233         5.00
   65175.551     0.825000       325140         5.71
   66846.719     0.850000       334998         6.67
   68616.191     0.875000       345158         8.00
   69468.159     0.887500       349982         8.89
   70320.127     0.900000       354850        10.00
   71172.095     0.912500       359852        11.43
   72024.063     0.925000       364598        13.33
   72876.031     0.937500       369426        16.00
   73334.783     0.943750       371936        17.78
   73793.535     0.950000       374445        20.00
   74252.287     0.956250       376870        22.86
   74776.575     0.962500       379454        26.67
   75300.863     0.968750       381758        32.00
   75628.543     0.971875       383148        35.56
   75890.687     0.975000       384284        40.00
   76218.367     0.978125       385628        45.71
   76546.047     0.981250       386815        53.33
   76873.727     0.984375       387891        64.00
   77070.335     0.985938       388519        71.11
   77332.479     0.987500       389291        80.00
   77529.087     0.989062       389785        91.43
   77791.231     0.990625       390402       106.67
   78053.375     0.992188       390981       128.00
   78249.983     0.992969       391339       142.22
   78446.591     0.993750       391668       160.00
   78643.199     0.994531       391942       182.86
   78839.807     0.995313       392194       213.33
   79101.951     0.996094       392513       256.00
   79233.023     0.996484       392653       284.44
   79364.095     0.996875       392800       320.00
   79560.703     0.997266       392971       365.71
   79757.311     0.997656       393136       426.67
   79953.919     0.998047       393284       512.00
   80084.991     0.998242       393365       568.89
   80216.063     0.998437       393443       640.00
   80347.135     0.998633       393505       731.43
   80543.743     0.998828       393613       853.33
   80674.815     0.999023       393651      1024.00
   80805.887     0.999121       393699      1137.78
   80936.959     0.999219       393742      1280.00
   81002.495     0.999316       393762      1462.86
   81133.567     0.999414       393814      1706.67
   81264.639     0.999512       393844      2048.00
   81330.175     0.999561       393860      2275.56
   81395.711     0.999609       393879      2560.00
   81526.783     0.999658       393907      2925.71
   81592.319     0.999707       393918      3413.33
   81723.391     0.999756       393934      4096.00
   81854.463     0.999780       393951      4551.11
   81919.999     0.999805       393960      5120.00
   81985.535     0.999829       393970      5851.43
   82051.071     0.999854       393974      6826.67
   82116.607     0.999878       393983      8192.00
   82182.143     0.999890       393991      9102.22
   82247.679     0.999902       393997     10240.00
   82247.679     0.999915       393997     11702.86
   82313.215     0.999927       394004     13653.33
   82378.751     0.999939       394010     16384.00
   82378.751     0.999945       394010     18204.44
   82444.287     0.999951       394014     20480.00
   82444.287     0.999957       394014     23405.71
   82509.823     0.999963       394019     27306.67
   82509.823     0.999969       394019     32768.00
   82575.359     0.999973       394022     36408.89
   82575.359     0.999976       394022     40960.00
   82575.359     0.999979       394022     46811.43
   82640.895     0.999982       394023     54613.33
   82706.431     0.999985       394025     65536.00
   82706.431     0.999986       394025     72817.78
   82771.967     0.999988       394026     81920.00
   82771.967     0.999989       394026     93622.86
   82903.039     0.999991       394027    109226.67
   82903.039     0.999992       394027    131072.00
   82968.575     0.999993       394030    145635.56
   82968.575     1.000000       394030          inf
#[Mean    =    42106.027, StdDeviation   =    20443.848]
#[Max     =    82903.040, Total count    =       394030]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  428123 requests in 2.00m, 5.78GB read
Requests/sec:   3570.01  
Transfer/sec:     49.35MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43641 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 30253 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43641 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 30253 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.145ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 8.672ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.457ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 9.195ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.202ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.392ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.470ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.328ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.912ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.918ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.495ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.666ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 7.493ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.176ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.704ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.590ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.529ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.979ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.879ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.401ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.092ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.745ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.605ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.328ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.440ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.308ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.592ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.439ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.197ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.913ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.895ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.158ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.368ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.893ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.097ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.271ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.426ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.462ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.927ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.825ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.952ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.498ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.034ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.768ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.925ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.829ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.042ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.827ms, rate sampling interval: 25ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.98ms    3.54ms  20.86ms   70.85%
    Req/Sec    20.32     29.25   120.00     91.78%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.94ms
 75.000%   11.86ms
 90.000%   13.98ms
 99.000%   20.86ms
 99.900%   27.65ms
 99.990%   35.62ms
 99.999%   46.37ms
100.000%   48.77ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.335     0.000000            1         1.00
       5.183     0.100000        10599         1.11
       7.003     0.200000        21188         1.25
       8.503     0.300000        31841         1.43
       9.271     0.400000        42456         1.67
       9.943     0.500000        53021         2.00
      10.279     0.550000        58307         2.22
      10.623     0.600000        63554         2.50
      10.991     0.650000        68858         2.86
      11.407     0.700000        74201         3.33
      11.863     0.750000        79507         4.00
      12.111     0.775000        82104         4.44
      12.375     0.800000        84701         5.00
      12.679     0.825000        87388         5.71
      13.023     0.850000        89981         6.67
      13.447     0.875000        92659         8.00
      13.695     0.887500        93967         8.89
      13.975     0.900000        95284        10.00
      14.311     0.912500        96620        11.43
      14.711     0.925000        97936        13.33
      15.223     0.937500        99249        16.00
      15.535     0.943750        99905        17.78
      15.887     0.950000       100582        20.00
      16.295     0.956250       101239        22.86
      16.767     0.962500       101893        26.67
      17.343     0.968750       102566        32.00
      17.679     0.971875       102894        35.56
      18.031     0.975000       103219        40.00
      18.431     0.978125       103550        45.71
      18.927     0.981250       103877        53.33
      19.471     0.984375       104207        64.00
      19.823     0.985938       104379        71.11
      20.191     0.987500       104543        80.00
      20.591     0.989062       104703        91.43
      21.071     0.990625       104872       106.67
      21.567     0.992188       105033       128.00
      21.855     0.992969       105115       142.22
      22.223     0.993750       105198       160.00
      22.655     0.994531       105281       182.86
      23.087     0.995313       105365       213.33
      23.727     0.996094       105449       256.00
      23.983     0.996484       105487       284.44
      24.367     0.996875       105532       320.00
      24.719     0.997266       105571       365.71
      25.199     0.997656       105613       426.67
      25.711     0.998047       105653       512.00
      26.143     0.998242       105674       568.89
      26.527     0.998437       105694       640.00
      26.847     0.998633       105715       731.43
      27.327     0.998828       105735       853.33
      27.727     0.999023       105756      1024.00
      28.063     0.999121       105766      1137.78
      28.815     0.999219       105778      1280.00
      29.215     0.999316       105787      1462.86
      29.615     0.999414       105797      1706.67
      30.399     0.999512       105808      2048.00
      30.751     0.999561       105813      2275.56
      31.135     0.999609       105818      2560.00
      31.455     0.999658       105823      2925.71
      32.351     0.999707       105828      3413.33
      33.119     0.999756       105834      4096.00
      33.375     0.999780       105836      4551.11
      33.663     0.999805       105839      5120.00
      34.207     0.999829       105841      5851.43
      34.527     0.999854       105844      6826.67
      35.231     0.999878       105847      8192.00
      35.615     0.999890       105848      9102.22
      36.255     0.999902       105849     10240.00
      36.575     0.999915       105850     11702.86
      37.535     0.999927       105852     13653.33
      39.167     0.999939       105853     16384.00
      42.047     0.999945       105854     18204.44
      42.047     0.999951       105854     20480.00
      43.359     0.999957       105855     23405.71
      44.255     0.999963       105856     27306.67
      44.255     0.999969       105856     32768.00
      46.239     0.999973       105857     36408.89
      46.239     0.999976       105857     40960.00
      46.239     0.999979       105857     46811.43
      46.367     0.999982       105858     54613.33
      46.367     0.999985       105858     65536.00
      46.367     0.999986       105858     72817.78
      46.367     0.999988       105858     81920.00
      46.367     0.999989       105858     93622.86
      48.767     0.999991       105859    109226.67
      48.767     1.000000       105859          inf
#[Mean    =        9.983, StdDeviation   =        3.543]
#[Max     =       48.736, Total count    =       105859]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115366 requests in 2.00m, 1.41GB read
Requests/sec:    961.32  
Transfer/sec:     12.07MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46005 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 37043 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46005 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 37043 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.614ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.953ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.045ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.901ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.065ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.749ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.916ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.196ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.365ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.340ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.808ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 6.973ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.765ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.407ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.536ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.824ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.505ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.031ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.616ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.886ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.804ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.067ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.357ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.325ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.504ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.613ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.738ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.976ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.753ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.703ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.891ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.052ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.498ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.035ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.776ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.619ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.246ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.130ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.962ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.683ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.048ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.849ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.973ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.255ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.042ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.021ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.490ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.931ms, rate sampling interval: 22ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.51ms    3.60ms  20.51ms   85.28%
    Req/Sec   106.25     69.65   300.00     73.50%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.53ms
 75.000%    7.63ms
 90.000%   10.65ms
 99.000%   20.51ms
 99.900%   31.47ms
 99.990%   43.10ms
 99.999%   53.31ms
100.000%   56.42ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.574     0.000000            1         1.00
       3.355     0.100000        55039         1.11
       3.927     0.200000       109914         1.25
       4.463     0.300000       164875         1.43
       4.979     0.400000       219913         1.67
       5.535     0.500000       275087         2.00
       5.847     0.550000       302333         2.22
       6.199     0.600000       329789         2.50
       6.603     0.650000       357359         2.86
       7.067     0.700000       384703         3.33
       7.631     0.750000       412219         4.00
       7.959     0.775000       425977         4.44
       8.327     0.800000       439721         5.00
       8.751     0.825000       453410         5.71
       9.247     0.850000       467182         6.67
       9.863     0.875000       480906         8.00
      10.231     0.887500       487830         8.89
      10.655     0.900000       494696        10.00
      11.151     0.912500       501514        11.43
      11.735     0.925000       508374        13.33
      12.471     0.937500       515214        16.00
      12.903     0.943750       518673        17.78
      13.399     0.950000       522098        20.00
      13.959     0.956250       525531        22.86
      14.591     0.962500       528936        26.67
      15.359     0.968750       532371        32.00
      15.815     0.971875       534107        35.56
      16.319     0.975000       535803        40.00
      16.943     0.978125       537527        45.71
      17.631     0.981250       539242        53.33
      18.415     0.984375       540961        64.00
      18.927     0.985938       541837        71.11
      19.487     0.987500       542686        80.00
      20.095     0.989062       543540        91.43
      20.815     0.990625       544402       106.67
      21.647     0.992188       545262       128.00
      22.095     0.992969       545678       142.22
      22.671     0.993750       546113       160.00
      23.263     0.994531       546542       182.86
      23.967     0.995313       546974       213.33
      24.799     0.996094       547395       256.00
      25.279     0.996484       547614       284.44
      25.855     0.996875       547824       320.00
      26.559     0.997266       548040       365.71
      27.279     0.997656       548255       426.67
      28.223     0.998047       548468       512.00
      28.687     0.998242       548577       568.89
      29.295     0.998437       548683       640.00
      29.935     0.998633       548789       731.43
      30.671     0.998828       548897       853.33
      31.583     0.999023       549006      1024.00
      32.111     0.999121       549059      1137.78
      32.703     0.999219       549111      1280.00
      33.503     0.999316       549165      1462.86
      34.239     0.999414       549219      1706.67
      35.007     0.999512       549274      2048.00
      35.583     0.999561       549301      2275.56
      36.031     0.999609       549326      2560.00
      36.799     0.999658       549354      2925.71
      37.471     0.999707       549381      3413.33
      38.143     0.999756       549407      4096.00
      38.495     0.999780       549420      4551.11
      39.103     0.999805       549433      5120.00
      39.999     0.999829       549447      5851.43
      40.383     0.999854       549460      6826.67
      41.567     0.999878       549473      8192.00
      42.399     0.999890       549480      9102.22
      43.167     0.999902       549488     10240.00
      43.647     0.999915       549494     11702.86
      44.095     0.999927       549500     13653.33
      45.183     0.999939       549507     16384.00
      45.343     0.999945       549510     18204.44
      46.495     0.999951       549514     20480.00
      47.615     0.999957       549517     23405.71
      48.159     0.999963       549520     27306.67
      48.895     0.999969       549524     32768.00
      49.535     0.999973       549525     36408.89
      50.175     0.999976       549527     40960.00
      50.559     0.999979       549529     46811.43
      50.591     0.999982       549530     54613.33
      50.943     0.999985       549532     65536.00
      51.327     0.999986       549533     72817.78
      51.807     0.999988       549534     81920.00
      53.311     0.999989       549535     93622.86
      53.311     0.999991       549535    109226.67
      53.951     0.999992       549536    131072.00
      54.239     0.999993       549537    145635.56
      54.239     0.999994       549537    163840.00
      54.847     0.999995       549538    187245.71
      54.847     0.999995       549538    218453.33
      54.847     0.999996       549538    262144.00
      55.967     0.999997       549539    291271.11
      55.967     0.999997       549539    327680.00
      55.967     0.999997       549539    374491.43
      55.967     0.999998       549539    436906.67
      55.967     0.999998       549539    524288.00
      56.415     0.999998       549540    582542.22
      56.415     1.000000       549540          inf
#[Mean    =        6.508, StdDeviation   =        3.604]
#[Max     =       56.384, Total count    =       549540]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599180 requests in 2.00m, 7.33GB read
Requests/sec:   4995.09  
Transfer/sec:     62.58MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45540 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36618 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45540 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36618 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 420.160ms, rate sampling interval: 2199ms
  Thread calibration: mean lat.: 48.422ms, rate sampling interval: 207ms
  Thread calibration: mean lat.: 1068.090ms, rate sampling interval: 4636ms
  Thread calibration: mean lat.: 1154.202ms, rate sampling interval: 6762ms
  Thread calibration: mean lat.: 61.993ms, rate sampling interval: 421ms
  Thread calibration: mean lat.: 392.277ms, rate sampling interval: 3823ms
  Thread calibration: mean lat.: 803.566ms, rate sampling interval: 5566ms
  Thread calibration: mean lat.: 429.617ms, rate sampling interval: 3590ms
  Thread calibration: mean lat.: 654.818ms, rate sampling interval: 4362ms
  Thread calibration: mean lat.: 32.224ms, rate sampling interval: 134ms
  Thread calibration: mean lat.: 1327.763ms, rate sampling interval: 6463ms
  Thread calibration: mean lat.: 381.503ms, rate sampling interval: 3534ms
  Thread calibration: mean lat.: 144.294ms, rate sampling interval: 1061ms
  Thread calibration: mean lat.: 256.373ms, rate sampling interval: 2361ms
  Thread calibration: mean lat.: 775.903ms, rate sampling interval: 5496ms
  Thread calibration: mean lat.: 597.426ms, rate sampling interval: 4085ms
  Thread calibration: mean lat.: 398.063ms, rate sampling interval: 3637ms
  Thread calibration: mean lat.: 640.570ms, rate sampling interval: 3586ms
  Thread calibration: mean lat.: 206.850ms, rate sampling interval: 1697ms
  Thread calibration: mean lat.: 701.682ms, rate sampling interval: 5074ms
  Thread calibration: mean lat.: 714.248ms, rate sampling interval: 4526ms
  Thread calibration: mean lat.: 51.693ms, rate sampling interval: 304ms
  Thread calibration: mean lat.: 529.076ms, rate sampling interval: 2347ms
  Thread calibration: mean lat.: 847.232ms, rate sampling interval: 5718ms
  Thread calibration: mean lat.: 733.597ms, rate sampling interval: 5099ms
  Thread calibration: mean lat.: 307.414ms, rate sampling interval: 2244ms
  Thread calibration: mean lat.: 1521.276ms, rate sampling interval: 8351ms
  Thread calibration: mean lat.: 399.112ms, rate sampling interval: 3041ms
  Thread calibration: mean lat.: 1022.130ms, rate sampling interval: 5844ms
  Thread calibration: mean lat.: 362.700ms, rate sampling interval: 2607ms
  Thread calibration: mean lat.: 868.711ms, rate sampling interval: 7151ms
  Thread calibration: mean lat.: 67.061ms, rate sampling interval: 443ms
  Thread calibration: mean lat.: 904.840ms, rate sampling interval: 7196ms
  Thread calibration: mean lat.: 25.578ms, rate sampling interval: 98ms
  Thread calibration: mean lat.: 860.969ms, rate sampling interval: 7278ms
  Thread calibration: mean lat.: 906.449ms, rate sampling interval: 4505ms
  Thread calibration: mean lat.: 43.724ms, rate sampling interval: 211ms
  Thread calibration: mean lat.: 418.570ms, rate sampling interval: 2570ms
  Thread calibration: mean lat.: 156.208ms, rate sampling interval: 1072ms
  Thread calibration: mean lat.: 371.291ms, rate sampling interval: 3620ms
  Thread calibration: mean lat.: 580.483ms, rate sampling interval: 3248ms
  Thread calibration: mean lat.: 942.262ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 999.468ms, rate sampling interval: 3452ms
  Thread calibration: mean lat.: 2005.349ms, rate sampling interval: 9043ms
  Thread calibration: mean lat.: 1448.297ms, rate sampling interval: 7589ms
  Thread calibration: mean lat.: 1702.809ms, rate sampling interval: 10027ms
  Thread calibration: mean lat.: 67.522ms, rate sampling interval: 417ms
  Thread calibration: mean lat.: 470.456ms, rate sampling interval: 4012ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.80s    13.88s    1.06m    86.66%
    Req/Sec   188.78     37.08   275.00     70.54%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%  541.70ms
 75.000%    9.36s 
 90.000%   27.92s 
 99.000%    1.06m 
 99.900%    1.32m 
 99.990%    1.38m 
 99.999%    1.41m 
100.000%    1.41m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.407     0.000000            1         1.00
      10.807     0.100000        86013         1.11
      16.879     0.200000       171891         1.25
      28.431     0.300000       257710         1.43
      68.223     0.400000       343599         1.67
     541.695     0.500000       429427         2.00
    1233.919     0.550000       472375         2.22
    2523.135     0.600000       515337         2.50
    4362.239     0.650000       558335         2.86
    6774.783     0.700000       601244         3.33
    9363.455     0.750000       644174         4.00
   10665.983     0.775000       665629         4.44
   12754.943     0.800000       687109         5.00
   15114.239     0.825000       708560         5.71
   18743.295     0.850000       730091         6.67
   23183.359     0.875000       751522         8.00
   25444.351     0.887500       762307         8.89
   27918.335     0.900000       773003        10.00
   30719.999     0.912500       783743        11.43
   32833.535     0.925000       794507        13.33
   35618.815     0.937500       805207        16.00
   37617.663     0.943750       810605        17.78
   39682.047     0.950000       815949        20.00
   41779.199     0.956250       821297        22.86
   44007.423     0.962500       826647        26.67
   46759.935     0.968750       832031        32.00
   48660.479     0.971875       834707        35.56
   50888.703     0.975000       837389        40.00
   53280.767     0.978125       840094        45.71
   55705.599     0.981250       842772        53.33
   58261.503     0.984375       845463        64.00
   59572.223     0.985938       846797        71.11
   61046.783     0.987500       848138        80.00
   62554.111     0.989062       849467        91.43
   64028.671     0.990625       850831       106.67
   65470.463     0.992188       852162       128.00
   66125.823     0.992969       852824       142.22
   66846.719     0.993750       853498       160.00
   67567.615     0.994531       854190       182.86
   68354.047     0.995313       854868       213.33
   69271.551     0.996094       855515       256.00
   69926.911     0.996484       855869       284.44
   70582.271     0.996875       856193       320.00
   71368.703     0.997266       856514       365.71
   73007.103     0.997656       856855       426.67
   74973.183     0.998047       857182       512.00
   75890.687     0.998242       857353       568.89
   76742.655     0.998437       857526       640.00
   77594.623     0.998633       857681       731.43
   78446.591     0.998828       857846       853.33
   79167.487     0.999023       858016      1024.00
   79626.239     0.999121       858098      1137.78
   80084.991     0.999219       858192      1280.00
   80412.671     0.999316       858269      1462.86
   80740.351     0.999414       858349      1706.67
   81133.567     0.999512       858437      2048.00
   81395.711     0.999561       858487      2275.56
   81526.783     0.999609       858519      2560.00
   81723.391     0.999658       858563      2925.71
   81985.535     0.999707       858613      3413.33
   82182.143     0.999756       858648      4096.00
   82313.215     0.999780       858668      4551.11
   82444.287     0.999805       858696      5120.00
   82575.359     0.999829       858716      5851.43
   82706.431     0.999854       858732      6826.67
   82837.503     0.999878       858748      8192.00
   82968.575     0.999890       858759      9102.22
   83099.647     0.999902       858771     10240.00
   83230.719     0.999915       858786     11702.86
   83296.255     0.999927       858791     13653.33
   83427.327     0.999939       858803     16384.00
   83492.863     0.999945       858806     18204.44
   83689.471     0.999951       858812     20480.00
   83755.007     0.999957       858816     23405.71
   83886.079     0.999963       858826     27306.67
   83886.079     0.999969       858826     32768.00
   84017.151     0.999973       858830     36408.89
   84082.687     0.999976       858834     40960.00
   84082.687     0.999979       858834     46811.43
   84213.759     0.999982       858837     54613.33
   84279.295     0.999985       858839     65536.00
   84344.831     0.999986       858844     72817.78
   84344.831     0.999988       858844     81920.00
   84344.831     0.999989       858844     93622.86
   84410.367     0.999991       858846    109226.67
   84410.367     0.999992       858846    131072.00
   84475.903     0.999993       858847    145635.56
   84475.903     0.999994       858847    163840.00
   84541.439     0.999995       858848    187245.71
   84606.975     0.999995       858849    218453.33
   84606.975     0.999996       858849    262144.00
   84672.511     0.999997       858850    291271.11
   84672.511     0.999997       858850    327680.00
   84672.511     0.999997       858850    374491.43
   84738.047     0.999998       858851    436906.67
   84738.047     0.999998       858851    524288.00
   84738.047     0.999998       858851    582542.22
   84738.047     0.999998       858851    655360.00
   84738.047     0.999999       858851    748982.86
   84803.583     0.999999       858852    873813.33
   84803.583     1.000000       858852          inf
#[Mean    =     7800.198, StdDeviation   =    13875.069]
#[Max     =    84738.048, Total count    =       858852]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  942625 requests in 2.00m, 11.55GB read
Requests/sec:   7861.89  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44756 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33447 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44756 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33447 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
55cee4b1e1cccf3f0f78d1fcf112ba5721781491a9b626cd5095986c6baf4cd3
6ce81ac7cbe23f0f5d2fdff4711cc7b6f25edf7adcce40a8204bcbea2add8acc
269f73d7d59d56bb5580135b98927636cdab3f1a69d2083714842e1061888b59
6b2619d25dbce9f5587fbbd959948c9edad2a7ee48554a316da997a8ce812f56
4ccfe6b3715faee45e4f44473fcba1a8d7d32f92a6e261b67a5e3455f9018013
3a7fe1da7b7efbe560d613098ae646ef1b9c7408eba3c4a42bc50622fe741468
c8f7d2756f189fc1acad437b189277e4926a1c918a903d76806cb153eb97d7f5
067d38b01b52ae1d09b371d3c53daac0e819138fa7f247d72435e50ea1c5fdd7
cb5c469fad5db48fa3a51047b42380a028d23407a5fddcf91e3b14385fe343df
7f95dc121e4437cd98d55fa7436fe9e150910ee816767cc722546d4bdabc80c5
79be61229427a9111eb9223bb5c5a950cd03e4aea1118908143a7002d5b3ee81
e9dcc03dd96adc544e1d688ab723f86710b3d73b294411b7987ca8e49e396881
9a7043b044fae62013412425d2ab3db11bd68e5c10cf8c43a96f4861ee85a852
1be3e1b851365ac53435d91c9abb2e67873430ce25443e976ac1819245c2a030
a7e1175b4c3d983f5e6c14263cd652a910498ee55083414543d78eccb941837e
c6b742864d8fa2492383726ddd1be9d022c221ac891c0dde7b024a27ffdb2f83
f7b1bef2c10088c2a58647f042254fd23b9b8537c83dd7b45187c9a7f84ac534
0e7800ce0d7060f7ee2b3a5e0035a85b528d0d6a8345605f697b21f7cde676b8
6678792b3889266c53589ca5ad8943a22f453d1a6f65f2cfd89e32d6339614a1
b6fa1edd3b99d1765af315947437be5354a2236006d19c5051071363336f3efd
d328a03e4497151493c7b9690e66e34e559aa20e405d9d0e97d6a4fc01db20b6
045d65f94534ba4882afdf7e4ccd8e998e2d9f5cec47ad6a8e851ca38e9e0bc9
73431cdffe9423b8308a41a80c8de70e3569c8c41d2337d3234edcaa802ad6da
807525f623b601176531a88c7a5b9881825717378c51de4d3f2e2507759edca8
40524ac428153cbe966abc6bc496ad1eea14cbe90b1a55904d3c6c8cdc07f39d
f98f41659845f95abb28f0ee3ed6e734fcd1317f9a17f4eb4f5a51cca0ccf07a
7f61e0bf8cafda0d89defaf26c33e311959485e658555eae830c3081e1c35f4a
c67f45c255735c06ba7bdb31ee868b1d38d20d65882772bd24a58246c06cbf16
131ac15e3c65c7ba1e3c8f1f4f029155530c9b691521b1c2aadf7d834fcea680
0036b7735222aae64d08d267cf16bd1e3f715212b99b6037d958733485e0a8a8
c3b894b1119199adc37ae5441bfec58b31bd61ab2df316ba540966185e938bfc

Total reclaimed space: 4.418GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 18-51-Oct-10
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-2.log -b True -m i -M 0,2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 18-51-Oct-10


CMD: whoami

Result: root


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-2.log', 'mode': 'i', 'memnode': '0,2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_social-graph-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-2



CMD: docker commit socialnetwork_social-graph-service_1 social-network-microservices-numa-interleave-node-0-2

Result: sha256:b9db6687abed76edf265df825c4b4b1363810b357257bbbaa309161df52805d2


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-2

Result: sha256:27061ef7afb4d288f4efd0ecd4f56b0745b885efbf3bd47a4bbe983e230297b1


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-2

Result: sha256:e9f84688956745737441fb243998636b577f6ad073fd68e5fa88d11fcf252901


Install numactl tools on docker image: memcached-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 11 01:51 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-2



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-interleave-node-0-2

Result: sha256:2b6229d3a7f949648ac2df0f4e6d43c6269190245c4c7e91ecb35735c5123654


Install numactl tools on docker image: mongo-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 01:52 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-2



CMD: docker commit socialnetwork_post-storage-mongodb_1 mongo-numa-interleave-node-0-2

Result: sha256:4b091c0e01045741f31b5e503ab109d960f17590fe845a2130715e641ba81567


Install numactl tools on docker image: redis-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_2:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 11 01:52 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_2 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-2



CMD: docker commit socialnetwork_user-timeline-redis_2 redis-numa-interleave-node-0-2

Result: sha256:53cc6fe033153985b4ac3a4970e51f10a85566cf90203811cc49a39f929965b4


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
4988603391edae4e60373dc99f1f1bfcbb07d35dd1734434aae35d264607a9e3
abb7552bec50c575edf506aaa9efca0da93307d7cb3366d3cdcdf227a5dc2406
d86735cfbb589606f6e1aba166fa0f85a5c88575a050cd4175847a3bd7d9652a
43db973587cdd2299dcf0d2ffb20b81602cf25893cb383613e6def46af500d43
da5037d79ab631e35b1df6c79e7610eabf31d73e8e0f2c5fa43c3aeeadf8cc30
9536acb72fa5a611c3ba810cdf71e61702b62b8e522e92a0d94e6466d0d369ac
cb4d76bfa727c414a1937102610f212831b7f2c88cc79415b07cf44e29e7b4af
130ec2d0ae68cfe6513e2919825d5cd091c3394c83c7d3ddcfb9e0b28fbd43bb
8ac8507bb6e212cdf49fa26683a34e40f3e175e2063ea4fb9ac366e7f3ca8f51
9a15caa7b2f8552cf9afabed391733840dcdaf6b08d7d99c09fa472b08118823
2dab9e0b7a50c9b31da341d4bbfdbe8ad304c7cd84a85b436512021626324cf5
a37375cdf42ddedc6aa7afd4f2c736fb4777cf9d6883e4151a331a76678533be
e7c5b593344136580b27c60a329dc62911d84c113ac211a2ba2fe9766a9503b0
5f2b4e25155b2592fbb9e89ffd88e906ce9941e099b01e38d201ed4c469c4861
a907dc924a70b1b84c5c25205624f644f4a1d6d11c6f3f31ceb0b86f1ea923be
9ccc0bf3644825140e1b5ad0eb4844319e25171f8a42aec0e3a013c4c34635f9
838f0d342b5baa7bfbedbb06a07289345e444555608f8f1337d2572f4962498c
1044a937b991c5c4fdced8e8aba5307c262eb4ec2918ceb9aaf7d4c2ff8ef9e3
2f2b1a2b986fc5e4955ddb7d4d604cd56f59c1b9a8bc16ea40c6d858761e3850
231029bd37e570b467ad70fd19b42d6ae64c21ae84ae74d4041c79f847d69830
adf899b38cddeebc8a702aebcc6c4e0a7b4f1ac35f4be702b5f51545fae4ba26
98c52a1279572a32d4936e8fb0480c3d1a244625664139ba53004c2bea071435
05b22b90ffd91a3eaa11fec8871f90c2cde4a4f4351a89443aec1be18132e14e
52d53e9021670d7b1be226c27bb69058dea64a392ade7262e881d15ecffeadff
eba1cd48537d578e7bc831b67e2078bd7b260234ff3ab25fc8276903fb4998a6
9d6238b69331e7173e4f44b113cbe8e8faf82eeecab97edb7151764e73e80a1c
08651b8534e87a96457db39ca043806e991500edd8b3bd508f2d0288704073a5
a718ff60b7b7f0285a0de1bb026a39d4a0d92f7c20af251d2be4ec0a34139c4d
371a5f5d7a218c59d42008607b0d6e47ead734bbc509ea9c4eda23e31907c357
582066ce6f78701d2e6bf81a425247498a9f7f16ce0b0e8fe6a364650930ce19
77a222d1e49642296ff4eaeaf0f2f8955892225af208909e68edb29118f57e25

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54577 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57879 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130238 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54577 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57879 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130238 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:703
cluster_stats_messages_pong_sent:729
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1433
cluster_stats_messages_ping_received:729
cluster_stats_messages_pong_received:704
cluster_stats_messages_received:1433
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:688
cluster_stats_messages_pong_sent:698
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1387
cluster_stats_messages_ping_received:698
cluster_stats_messages_pong_received:689
cluster_stats_messages_received:1387
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:705
cluster_stats_messages_pong_sent:679
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:1385
cluster_stats_messages_ping_received:679
cluster_stats_messages_pong_received:706
cluster_stats_messages_received:1385
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 3.931ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.996ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.963ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.458ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.960ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.134ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.958ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.112ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.253ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.322ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.108ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.007ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.737ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.646ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 3.810ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.508ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 3.714ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.216ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.737ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.152ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.290ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.038ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.833ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.148ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.783ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.983ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.248ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.095ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.709ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.105ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.046ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.048ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.092ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.239ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.138ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.489ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.385ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.158ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.003ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.886ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.680ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.605ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.583ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.251ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.818ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 3.720ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.067ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 3.954ms, rate sampling interval: 12ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     2.80ms  771.08us   4.60ms   90.61%
    Req/Sec    20.90     43.75   181.00     79.50%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    2.75ms
 75.000%    2.97ms
 90.000%    3.28ms
 99.000%    4.60ms
 99.900%   11.48ms
 99.990%   26.54ms
 99.999%   30.72ms
100.000%   32.40ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.384     0.000000            1         1.00
       2.215     0.100000        10640         1.11
       2.439     0.200000        21224         1.25
       2.571     0.300000        31851         1.43
       2.665     0.400000        42407         1.67
       2.747     0.500000        53163         2.00
       2.787     0.550000        58416         2.22
       2.827     0.600000        63523         2.50
       2.873     0.650000        68994         2.86
       2.921     0.700000        74208         3.33
       2.975     0.750000        79464         4.00
       3.007     0.775000        82058         4.44
       3.043     0.800000        84719         5.00
       3.085     0.825000        87384         5.71
       3.131     0.850000        90048         6.67
       3.193     0.875000        92620         8.00
       3.233     0.887500        93925         8.89
       3.281     0.900000        95247        10.00
       3.337     0.912500        96565        11.43
       3.409     0.925000        97896        13.33
       3.495     0.937500        99220        16.00
       3.543     0.943750        99879        17.78
       3.599     0.950000       100537        20.00
       3.663     0.956250       101192        22.86
       3.741     0.962500       101857        26.67
       3.821     0.968750       102514        32.00
       3.871     0.971875       102840        35.56
       3.937     0.975000       103183        40.00
       4.009     0.978125       103502        45.71
       4.103     0.981250       103831        53.33
       4.231     0.984375       104165        64.00
       4.315     0.985938       104332        71.11
       4.423     0.987500       104493        80.00
       4.527     0.989062       104661        91.43
       4.667     0.990625       104823       106.67
       4.835     0.992188       104991       128.00
       4.943     0.992969       105071       142.22
       5.067     0.993750       105155       160.00
       5.227     0.994531       105238       182.86
       5.471     0.995313       105319       213.33
       5.823     0.996094       105402       256.00
       6.187     0.996484       105443       284.44
       6.595     0.996875       105485       320.00
       7.155     0.997266       105526       365.71
       7.743     0.997656       105568       426.67
       8.143     0.998047       105609       512.00
       8.311     0.998242       105629       568.89
       8.719     0.998437       105650       640.00
       9.343     0.998633       105672       731.43
      10.719     0.998828       105691       853.33
      11.759     0.999023       105712      1024.00
      12.791     0.999121       105722      1137.78
      13.983     0.999219       105733      1280.00
      15.015     0.999316       105743      1462.86
      16.911     0.999414       105753      1706.67
      18.527     0.999512       105764      2048.00
      19.375     0.999561       105769      2275.56
      20.015     0.999609       105774      2560.00
      22.687     0.999658       105779      2925.71
      24.319     0.999707       105784      3413.33
      24.703     0.999756       105790      4096.00
      24.959     0.999780       105792      4551.11
      25.407     0.999805       105796      5120.00
      25.599     0.999829       105797      5851.43
      26.031     0.999854       105800      6826.67
      26.511     0.999878       105803      8192.00
      26.543     0.999890       105804      9102.22
      26.607     0.999902       105805     10240.00
      27.167     0.999915       105806     11702.86
      28.159     0.999927       105808     13653.33
      28.783     0.999939       105809     16384.00
      28.799     0.999945       105810     18204.44
      28.799     0.999951       105810     20480.00
      28.863     0.999957       105811     23405.71
      29.087     0.999963       105812     27306.67
      29.087     0.999969       105812     32768.00
      30.687     0.999973       105813     36408.89
      30.687     0.999976       105813     40960.00
      30.687     0.999979       105813     46811.43
      30.719     0.999982       105814     54613.33
      30.719     0.999985       105814     65536.00
      30.719     0.999986       105814     72817.78
      30.719     0.999988       105814     81920.00
      30.719     0.999989       105814     93622.86
      32.399     0.999991       105815    109226.67
      32.399     1.000000       105815          inf
#[Mean    =        2.798, StdDeviation   =        0.771]
#[Max     =       32.384, Total count    =       105815]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115334 requests in 2.00m, 23.65MB read
Requests/sec:    961.05  
Transfer/sec:    201.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53430 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56614 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129342 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53430 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56614 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129342 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 2407.331ms, rate sampling interval: 8224ms
  Thread calibration: mean lat.: 2357.271ms, rate sampling interval: 7921ms
  Thread calibration: mean lat.: 2489.715ms, rate sampling interval: 8765ms
  Thread calibration: mean lat.: 2141.577ms, rate sampling interval: 7651ms
  Thread calibration: mean lat.: 2411.137ms, rate sampling interval: 8290ms
  Thread calibration: mean lat.: 2324.274ms, rate sampling interval: 8101ms
  Thread calibration: mean lat.: 2012.877ms, rate sampling interval: 7237ms
  Thread calibration: mean lat.: 2514.754ms, rate sampling interval: 8806ms
  Thread calibration: mean lat.: 2514.872ms, rate sampling interval: 8740ms
  Thread calibration: mean lat.: 2405.870ms, rate sampling interval: 7999ms
  Thread calibration: mean lat.: 2326.802ms, rate sampling interval: 7774ms
  Thread calibration: mean lat.: 2546.302ms, rate sampling interval: 8962ms
  Thread calibration: mean lat.: 2607.772ms, rate sampling interval: 8634ms
  Thread calibration: mean lat.: 2488.672ms, rate sampling interval: 8962ms
  Thread calibration: mean lat.: 2584.200ms, rate sampling interval: 8790ms
  Thread calibration: mean lat.: 2518.775ms, rate sampling interval: 8519ms
  Thread calibration: mean lat.: 2517.342ms, rate sampling interval: 8822ms
  Thread calibration: mean lat.: 2587.607ms, rate sampling interval: 8642ms
  Thread calibration: mean lat.: 2360.704ms, rate sampling interval: 7987ms
  Thread calibration: mean lat.: 2559.454ms, rate sampling interval: 8298ms
  Thread calibration: mean lat.: 2384.423ms, rate sampling interval: 8437ms
  Thread calibration: mean lat.: 2548.730ms, rate sampling interval: 8495ms
  Thread calibration: mean lat.: 2692.104ms, rate sampling interval: 8970ms
  Thread calibration: mean lat.: 2546.534ms, rate sampling interval: 8847ms
  Thread calibration: mean lat.: 2710.355ms, rate sampling interval: 8724ms
  Thread calibration: mean lat.: 2610.640ms, rate sampling interval: 8478ms
  Thread calibration: mean lat.: 2839.448ms, rate sampling interval: 9314ms
  Thread calibration: mean lat.: 2351.816ms, rate sampling interval: 8151ms
  Thread calibration: mean lat.: 2614.105ms, rate sampling interval: 8839ms
  Thread calibration: mean lat.: 2501.005ms, rate sampling interval: 8314ms
  Thread calibration: mean lat.: 2345.798ms, rate sampling interval: 7876ms
  Thread calibration: mean lat.: 2713.877ms, rate sampling interval: 9109ms
  Thread calibration: mean lat.: 2530.164ms, rate sampling interval: 8593ms
  Thread calibration: mean lat.: 2881.245ms, rate sampling interval: 9371ms
  Thread calibration: mean lat.: 2524.224ms, rate sampling interval: 8708ms
  Thread calibration: mean lat.: 2349.517ms, rate sampling interval: 8069ms
  Thread calibration: mean lat.: 2923.165ms, rate sampling interval: 9396ms
  Thread calibration: mean lat.: 2618.989ms, rate sampling interval: 8462ms
  Thread calibration: mean lat.: 2593.069ms, rate sampling interval: 8658ms
  Thread calibration: mean lat.: 2685.104ms, rate sampling interval: 8355ms
  Thread calibration: mean lat.: 2623.766ms, rate sampling interval: 8519ms
  Thread calibration: mean lat.: 2485.568ms, rate sampling interval: 8806ms
  Thread calibration: mean lat.: 2861.199ms, rate sampling interval: 9478ms
  Thread calibration: mean lat.: 2411.225ms, rate sampling interval: 7950ms
  Thread calibration: mean lat.: 2885.190ms, rate sampling interval: 9297ms
  Thread calibration: mean lat.: 2771.791ms, rate sampling interval: 9297ms
  Thread calibration: mean lat.: 2502.977ms, rate sampling interval: 8634ms
  Thread calibration: mean lat.: 2555.370ms, rate sampling interval: 8421ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    29.54s    14.42s    0.91m    57.79%
    Req/Sec    56.57      1.18    59.00     91.89%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   29.57s 
 75.000%   41.94s 
 90.000%   49.48s 
 99.000%    0.91m 
 99.900%    0.95m 
 99.990%    0.97m 
 99.999%    0.98m 
100.000%    0.98m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    3092.479     0.000000            1         1.00
    9723.903     0.100000        30155         1.11
   14540.799     0.200000        60243         1.25
   19513.343     0.300000        90345         1.43
   24494.079     0.400000       120387         1.67
   29573.119     0.500000       150504         2.00
   32014.335     0.550000       165535         2.22
   34406.399     0.600000       180682         2.50
   36929.535     0.650000       195725         2.86
   39452.671     0.700000       210700         3.33
   41943.039     0.750000       225872         4.00
   43220.991     0.775000       233393         4.44
   44498.943     0.800000       240895         5.00
   45776.895     0.825000       248288         5.71
   47022.079     0.850000       255964         6.67
   48234.495     0.875000       263522         8.00
   48824.319     0.887500       267109         8.89
   49479.679     0.900000       271024        10.00
   50102.271     0.912500       274757        11.43
   50724.863     0.925000       278382        13.33
   51380.223     0.937500       282224        16.00
   51707.903     0.943750       284034        17.78
   52068.351     0.950000       286007        20.00
   52396.031     0.956250       287797        22.86
   52756.479     0.962500       289709        26.67
   53116.927     0.968750       291537        32.00
   53346.303     0.971875       292616        35.56
   53542.911     0.975000       293433        40.00
   53805.055     0.978125       294481        45.71
   54034.431     0.981250       295395        53.33
   54263.807     0.984375       296262        64.00
   54394.879     0.985938       296715        71.11
   54558.719     0.987500       297225        80.00
   54755.327     0.989062       297693        91.43
   54951.935     0.990625       298170       106.67
   55148.543     0.992188       298601       128.00
   55279.615     0.992969       298867       142.22
   55410.687     0.993750       299084       160.00
   55541.759     0.994531       299295       182.86
   55705.599     0.995313       299547       213.33
   55869.439     0.996094       299795       256.00
   55934.975     0.996484       299876       284.44
   56033.279     0.996875       300009       320.00
   56131.583     0.997266       300134       365.71
   56229.887     0.997656       300235       426.67
   56360.959     0.998047       300347       512.00
   56459.263     0.998242       300412       568.89
   56557.567     0.998437       300476       640.00
   56623.103     0.998633       300529       731.43
   56721.407     0.998828       300583       853.33
   56852.479     0.999023       300638      1024.00
   56950.783     0.999121       300687      1137.78
   57016.319     0.999219       300700      1280.00
   57114.623     0.999316       300730      1462.86
   57245.695     0.999414       300763      1706.67
   57376.767     0.999512       300789      2048.00
   57475.071     0.999561       300801      2275.56
   57606.143     0.999609       300815      2560.00
   57737.215     0.999658       300832      2925.71
   57802.751     0.999707       300845      3413.33
   57901.055     0.999756       300866      4096.00
   57901.055     0.999780       300866      4551.11
   57933.823     0.999805       300875      5120.00
   57999.359     0.999829       300882      5851.43
   58032.127     0.999854       300888      6826.67
   58130.431     0.999878       300899      8192.00
   58130.431     0.999890       300899      9102.22
   58195.967     0.999902       300903     10240.00
   58228.735     0.999915       300906     11702.86
   58261.503     0.999927       300911     13653.33
   58359.807     0.999939       300913     16384.00
   58425.343     0.999945       300915     18204.44
   58458.111     0.999951       300918     20480.00
   58490.879     0.999957       300919     23405.71
   58523.647     0.999963       300920     27306.67
   58556.415     0.999969       300923     32768.00
   58556.415     0.999973       300923     36408.89
   58654.719     0.999976       300925     40960.00
   58654.719     0.999979       300925     46811.43
   58687.487     0.999982       300926     54613.33
   58720.255     0.999985       300927     65536.00
   58720.255     0.999986       300927     72817.78
   58753.023     0.999988       300930     81920.00
   58753.023     0.999989       300930     93622.86
   58753.023     0.999991       300930    109226.67
   58753.023     0.999992       300930    131072.00
   58753.023     0.999993       300930    145635.56
   58753.023     0.999994       300930    163840.00
   58753.023     0.999995       300930    187245.71
   58753.023     0.999995       300930    218453.33
   58753.023     0.999996       300930    262144.00
   58753.023     0.999997       300930    291271.11
   58785.791     0.999997       300931    327680.00
   58785.791     1.000000       300931          inf
#[Mean    =    29539.881, StdDeviation   =    14424.289]
#[Max     =    58753.024, Total count    =       300931]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  326935 requests in 2.00m, 67.03MB read
Requests/sec:   2725.52  
Transfer/sec:    572.25KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51281 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54425 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 127537 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51281 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54425 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 127537 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4232.213ms, rate sampling interval: 15695ms
  Thread calibration: mean lat.: 4278.738ms, rate sampling interval: 15826ms
  Thread calibration: mean lat.: 4266.372ms, rate sampling interval: 15638ms
  Thread calibration: mean lat.: 4168.861ms, rate sampling interval: 15564ms
  Thread calibration: mean lat.: 4256.200ms, rate sampling interval: 15679ms
  Thread calibration: mean lat.: 4182.168ms, rate sampling interval: 15327ms
  Thread calibration: mean lat.: 4376.620ms, rate sampling interval: 15564ms
  Thread calibration: mean lat.: 4206.705ms, rate sampling interval: 15507ms
  Thread calibration: mean lat.: 4338.105ms, rate sampling interval: 15671ms
  Thread calibration: mean lat.: 3880.825ms, rate sampling interval: 14041ms
  Thread calibration: mean lat.: 4113.006ms, rate sampling interval: 15171ms
  Thread calibration: mean lat.: 4281.927ms, rate sampling interval: 15458ms
  Thread calibration: mean lat.: 4147.997ms, rate sampling interval: 15147ms
  Thread calibration: mean lat.: 4291.176ms, rate sampling interval: 15613ms
  Thread calibration: mean lat.: 4275.607ms, rate sampling interval: 15138ms
  Thread calibration: mean lat.: 4222.212ms, rate sampling interval: 15261ms
  Thread calibration: mean lat.: 4079.869ms, rate sampling interval: 15081ms
  Thread calibration: mean lat.: 4252.105ms, rate sampling interval: 15704ms
  Thread calibration: mean lat.: 4204.526ms, rate sampling interval: 15269ms
  Thread calibration: mean lat.: 4362.857ms, rate sampling interval: 15728ms
  Thread calibration: mean lat.: 4425.200ms, rate sampling interval: 15736ms
  Thread calibration: mean lat.: 4499.209ms, rate sampling interval: 15540ms
  Thread calibration: mean lat.: 4461.458ms, rate sampling interval: 15794ms
  Thread calibration: mean lat.: 4461.067ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4584.289ms, rate sampling interval: 15622ms
  Thread calibration: mean lat.: 3875.137ms, rate sampling interval: 13967ms
  Thread calibration: mean lat.: 4477.806ms, rate sampling interval: 15597ms
  Thread calibration: mean lat.: 4377.230ms, rate sampling interval: 15540ms
  Thread calibration: mean lat.: 4369.234ms, rate sampling interval: 15597ms
  Thread calibration: mean lat.: 4498.162ms, rate sampling interval: 15826ms
  Thread calibration: mean lat.: 4439.591ms, rate sampling interval: 15720ms
  Thread calibration: mean lat.: 4439.940ms, rate sampling interval: 15523ms
  Thread calibration: mean lat.: 4466.468ms, rate sampling interval: 15810ms
  Thread calibration: mean lat.: 4496.153ms, rate sampling interval: 15720ms
  Thread calibration: mean lat.: 3926.666ms, rate sampling interval: 13967ms
  Thread calibration: mean lat.: 4353.803ms, rate sampling interval: 15310ms
  Thread calibration: mean lat.: 4387.615ms, rate sampling interval: 15720ms
  Thread calibration: mean lat.: 4378.568ms, rate sampling interval: 15687ms
  Thread calibration: mean lat.: 4457.427ms, rate sampling interval: 15630ms
  Thread calibration: mean lat.: 4395.284ms, rate sampling interval: 15548ms
  Thread calibration: mean lat.: 4379.471ms, rate sampling interval: 15900ms
  Thread calibration: mean lat.: 4380.988ms, rate sampling interval: 15679ms
  Thread calibration: mean lat.: 3852.045ms, rate sampling interval: 13721ms
  Thread calibration: mean lat.: 4378.106ms, rate sampling interval: 15450ms
  Thread calibration: mean lat.: 4411.904ms, rate sampling interval: 15441ms
  Thread calibration: mean lat.: 4480.999ms, rate sampling interval: 15736ms
  Thread calibration: mean lat.: 4494.479ms, rate sampling interval: 15646ms
  Thread calibration: mean lat.: 4353.121ms, rate sampling interval: 15441ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     0.94m    27.52s    1.72m    57.57%
    Req/Sec    27.28      0.59    28.00     99.08%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.94m 
 75.000%    1.33m 
 90.000%    1.57m 
 99.000%    1.72m 
 99.900%    1.74m 
 99.990%    1.75m 
 99.999%    1.76m 
100.000%    1.76m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    7540.735     0.000000            1         1.00
   18087.935     0.100000        14668         1.11
   27410.431     0.200000        29334         1.25
   37093.375     0.300000        43990         1.43
   46792.703     0.400000        58672         1.67
   56328.191     0.500000        73314         2.00
   61014.015     0.550000        80678         2.22
   65798.143     0.600000        87964         2.50
   70582.271     0.650000        95295         2.86
   75366.399     0.700000       102697         3.33
   79953.919     0.750000       109989         4.00
   82378.751     0.775000       113665         4.44
   84869.119     0.800000       117322         5.00
   87162.879     0.825000       120999         5.71
   89522.175     0.850000       124647         6.67
   91881.471     0.875000       128279         8.00
   93061.119     0.887500       130110         8.89
   94306.303     0.900000       132003        10.00
   95485.951     0.912500       133787        11.43
   96731.135     0.925000       135607        13.33
   98041.855     0.937500       137511        16.00
   98631.679     0.943750       138411        17.78
   99221.503     0.950000       139310        20.00
   99811.327     0.956250       140256        22.86
  100335.615     0.962500       141105        26.67
  100925.439     0.968750       142027        32.00
  101253.119     0.971875       142505        35.56
  101515.263     0.975000       142931        40.00
  101842.943     0.978125       143433        45.71
  102105.087     0.981250       143841        53.33
  102432.767     0.984375       144337        64.00
  102563.839     0.985938       144539        71.11
  102694.911     0.987500       144755        80.00
  102891.519     0.989062       145063        91.43
  103022.591     0.990625       145259       106.67
  103219.199     0.992188       145507       128.00
  103284.735     0.992969       145603       142.22
  103350.271     0.993750       145683       160.00
  103481.343     0.994531       145836       182.86
  103546.879     0.995313       145915       213.33
  103677.951     0.996094       146047       256.00
  103743.487     0.996484       146106       284.44
  103809.023     0.996875       146157       320.00
  103874.559     0.997266       146211       365.71
  103940.095     0.997656       146259       426.67
  104005.631     0.998047       146306       512.00
  104071.167     0.998242       146338       568.89
  104136.703     0.998437       146374       640.00
  104202.239     0.998633       146406       731.43
  104267.775     0.998828       146430       853.33
  104333.311     0.999023       146455      1024.00
  104398.847     0.999121       146476      1137.78
  104398.847     0.999219       146476      1280.00
  104464.383     0.999316       146498      1462.86
  104529.919     0.999414       146520      1706.67
  104529.919     0.999512       146520      2048.00
  104595.455     0.999561       146531      2275.56
  104595.455     0.999609       146531      2560.00
  104660.991     0.999658       146538      2925.71
  104726.527     0.999707       146547      3413.33
  104792.063     0.999756       146552      4096.00
  104857.599     0.999780       146557      4551.11
  104857.599     0.999805       146557      5120.00
  104923.135     0.999829       146563      5851.43
  104988.671     0.999854       146567      6826.67
  105054.207     0.999878       146571      8192.00
  105054.207     0.999890       146571      9102.22
  105054.207     0.999902       146571     10240.00
  105119.743     0.999915       146576     11702.86
  105119.743     0.999927       146576     13653.33
  105185.279     0.999939       146579     16384.00
  105185.279     0.999945       146579     18204.44
  105185.279     0.999951       146579     20480.00
  105185.279     0.999957       146579     23405.71
  105250.815     0.999963       146580     27306.67
  105316.351     0.999969       146581     32768.00
  105316.351     0.999973       146581     36408.89
  105447.423     0.999976       146582     40960.00
  105447.423     0.999979       146582     46811.43
  105709.567     0.999982       146584     54613.33
  105709.567     0.999985       146584     65536.00
  105709.567     0.999986       146584     72817.78
  105709.567     0.999988       146584     81920.00
  105709.567     0.999989       146584     93622.86
  105709.567     0.999991       146584    109226.67
  105709.567     0.999992       146584    131072.00
  105709.567     0.999993       146584    145635.56
  105840.639     0.999994       146585    163840.00
  105840.639     1.000000       146585          inf
#[Mean    =    56218.276, StdDeviation   =    27518.213]
#[Max     =   105775.104, Total count    =       146585]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  159380 requests in 2.00m, 32.68MB read
Requests/sec:   1328.64  
Transfer/sec:    278.96KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48596 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51755 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125624 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48596 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 51755 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125624 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 11.865ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.500ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.487ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.454ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.903ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.198ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.725ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.648ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.586ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.915ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.642ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.805ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.523ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.566ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.698ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.734ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.739ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.161ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.788ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.568ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 11.651ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.121ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.692ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 11.186ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.262ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.870ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.495ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.796ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.859ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.848ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.710ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.623ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.433ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.583ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.949ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.661ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.879ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 11.585ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.653ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.389ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.422ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.860ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.883ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.268ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.350ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.847ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.428ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.619ms, rate sampling interval: 30ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    11.40ms    2.97ms  22.62ms   83.34%
    Req/Sec    20.21     26.16   103.00     88.07%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.81ms
 75.000%   12.14ms
 90.000%   14.61ms
 99.000%   22.62ms
 99.900%   30.88ms
 99.990%   37.66ms
 99.999%   48.93ms
100.000%   50.85ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.295     0.000000            1         1.00
       8.975     0.100000        10662         1.11
       9.623     0.200000        21195         1.25
      10.055     0.300000        31888         1.43
      10.431     0.400000        42414         1.67
      10.807     0.500000        53050         2.00
      10.999     0.550000        58259         2.22
      11.215     0.600000        63625         2.50
      11.455     0.650000        68808         2.86
      11.751     0.700000        74117         3.33
      12.135     0.750000        79411         4.00
      12.367     0.775000        82104         4.44
      12.639     0.800000        84706         5.00
      12.951     0.825000        87369         5.71
      13.335     0.850000        89959         6.67
      13.839     0.875000        92628         8.00
      14.175     0.887500        93933         8.89
      14.607     0.900000        95267        10.00
      15.127     0.912500        96573        11.43
      15.759     0.925000        97902        13.33
      16.479     0.937500        99221        16.00
      16.911     0.943750        99892        17.78
      17.327     0.950000       100548        20.00
      17.791     0.956250       101229        22.86
      18.287     0.962500       101868        26.67
      18.895     0.968750       102533        32.00
      19.247     0.971875       102868        35.56
      19.647     0.975000       103190        40.00
      20.079     0.978125       103519        45.71
      20.575     0.981250       103856        53.33
      21.167     0.984375       104183        64.00
      21.487     0.985938       104351        71.11
      21.919     0.987500       104519        80.00
      22.303     0.989062       104676        91.43
      22.831     0.990625       104843       106.67
      23.455     0.992188       105009       128.00
      23.807     0.992969       105091       142.22
      24.175     0.993750       105172       160.00
      24.639     0.994531       105255       182.86
      25.199     0.995313       105341       213.33
      25.839     0.996094       105420       256.00
      26.255     0.996484       105465       284.44
      26.703     0.996875       105504       320.00
      27.295     0.997266       105544       365.71
      27.839     0.997656       105586       426.67
      28.383     0.998047       105627       512.00
      28.831     0.998242       105648       568.89
      29.183     0.998437       105670       640.00
      29.535     0.998633       105689       731.43
      30.271     0.998828       105710       853.33
      31.023     0.999023       105731      1024.00
      31.359     0.999121       105740      1137.78
      31.695     0.999219       105751      1280.00
      31.999     0.999316       105761      1462.86
      32.703     0.999414       105771      1706.67
      33.215     0.999512       105782      2048.00
      33.343     0.999561       105787      2275.56
      33.631     0.999609       105793      2560.00
      33.951     0.999658       105797      2925.71
      34.751     0.999707       105802      3413.33
      35.039     0.999756       105808      4096.00
      35.871     0.999780       105811      4551.11
      36.031     0.999805       105813      5120.00
      36.255     0.999829       105815      5851.43
      36.415     0.999854       105818      6826.67
      37.183     0.999878       105821      8192.00
      37.663     0.999890       105822      9102.22
      37.919     0.999902       105823     10240.00
      38.431     0.999915       105824     11702.86
      39.423     0.999927       105826     13653.33
      39.647     0.999939       105827     16384.00
      40.287     0.999945       105828     18204.44
      40.287     0.999951       105828     20480.00
      40.895     0.999957       105829     23405.71
      44.127     0.999963       105830     27306.67
      44.127     0.999969       105830     32768.00
      44.383     0.999973       105831     36408.89
      44.383     0.999976       105831     40960.00
      44.383     0.999979       105831     46811.43
      48.927     0.999982       105832     54613.33
      48.927     0.999985       105832     65536.00
      48.927     0.999986       105832     72817.78
      48.927     0.999988       105832     81920.00
      48.927     0.999989       105832     93622.86
      50.847     0.999991       105833    109226.67
      50.847     1.000000       105833          inf
#[Mean    =       11.396, StdDeviation   =        2.973]
#[Max     =       50.816, Total count    =       105833]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115370 requests in 2.00m, 1.56GB read
Requests/sec:    961.38  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48139 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48133 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 124864 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48139 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48133 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 124864 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 1377.709ms, rate sampling interval: 5709ms
  Thread calibration: mean lat.: 1134.167ms, rate sampling interval: 4526ms
  Thread calibration: mean lat.: 1606.034ms, rate sampling interval: 6672ms
  Thread calibration: mean lat.: 1333.051ms, rate sampling interval: 5312ms
  Thread calibration: mean lat.: 1334.610ms, rate sampling interval: 5140ms
  Thread calibration: mean lat.: 1452.389ms, rate sampling interval: 5705ms
  Thread calibration: mean lat.: 1166.897ms, rate sampling interval: 5025ms
  Thread calibration: mean lat.: 1507.330ms, rate sampling interval: 5251ms
  Thread calibration: mean lat.: 1239.612ms, rate sampling interval: 4780ms
  Thread calibration: mean lat.: 1371.142ms, rate sampling interval: 5242ms
  Thread calibration: mean lat.: 878.453ms, rate sampling interval: 3880ms
  Thread calibration: mean lat.: 1300.208ms, rate sampling interval: 5091ms
  Thread calibration: mean lat.: 1493.470ms, rate sampling interval: 6344ms
  Thread calibration: mean lat.: 1036.800ms, rate sampling interval: 4300ms
  Thread calibration: mean lat.: 1298.304ms, rate sampling interval: 5271ms
  Thread calibration: mean lat.: 1404.701ms, rate sampling interval: 5672ms
  Thread calibration: mean lat.: 1663.733ms, rate sampling interval: 6098ms
  Thread calibration: mean lat.: 1535.364ms, rate sampling interval: 5697ms
  Thread calibration: mean lat.: 1526.524ms, rate sampling interval: 5951ms
  Thread calibration: mean lat.: 1463.938ms, rate sampling interval: 5406ms
  Thread calibration: mean lat.: 1346.441ms, rate sampling interval: 5812ms
  Thread calibration: mean lat.: 1354.287ms, rate sampling interval: 4866ms
  Thread calibration: mean lat.: 1497.402ms, rate sampling interval: 6062ms
  Thread calibration: mean lat.: 1188.354ms, rate sampling interval: 4849ms
  Thread calibration: mean lat.: 1737.062ms, rate sampling interval: 6959ms
  Thread calibration: mean lat.: 1325.485ms, rate sampling interval: 5115ms
  Thread calibration: mean lat.: 1391.238ms, rate sampling interval: 4780ms
  Thread calibration: mean lat.: 1623.643ms, rate sampling interval: 5804ms
  Thread calibration: mean lat.: 1454.060ms, rate sampling interval: 5402ms
  Thread calibration: mean lat.: 1370.749ms, rate sampling interval: 5750ms
  Thread calibration: mean lat.: 1321.148ms, rate sampling interval: 5488ms
  Thread calibration: mean lat.: 1429.530ms, rate sampling interval: 5423ms
  Thread calibration: mean lat.: 1264.295ms, rate sampling interval: 5550ms
  Thread calibration: mean lat.: 1454.383ms, rate sampling interval: 6057ms
  Thread calibration: mean lat.: 1265.178ms, rate sampling interval: 5300ms
  Thread calibration: mean lat.: 1625.872ms, rate sampling interval: 6086ms
  Thread calibration: mean lat.: 1300.072ms, rate sampling interval: 5558ms
  Thread calibration: mean lat.: 1196.467ms, rate sampling interval: 4763ms
  Thread calibration: mean lat.: 1222.395ms, rate sampling interval: 4689ms
  Thread calibration: mean lat.: 1013.643ms, rate sampling interval: 3407ms
  Thread calibration: mean lat.: 1463.102ms, rate sampling interval: 5386ms
  Thread calibration: mean lat.: 866.478ms, rate sampling interval: 4296ms
  Thread calibration: mean lat.: 1328.938ms, rate sampling interval: 4976ms
  Thread calibration: mean lat.: 1321.889ms, rate sampling interval: 5566ms
  Thread calibration: mean lat.: 1398.783ms, rate sampling interval: 5480ms
  Thread calibration: mean lat.: 1157.590ms, rate sampling interval: 4337ms
  Thread calibration: mean lat.: 1105.151ms, rate sampling interval: 4141ms
  Thread calibration: mean lat.: 1288.757ms, rate sampling interval: 5496ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    19.08s    10.38s   42.60s    62.05%
    Req/Sec    73.07      4.93    84.00     77.44%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   18.02s 
 75.000%   27.08s 
 90.000%   33.55s 
 99.000%   42.60s 
 99.900%   47.61s 
 99.990%    0.86m 
 99.999%    0.87m 
100.000%    0.87m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

     654.847     0.000000            1         1.00
    5718.015     0.100000        38659         1.11
    8962.047     0.200000        77369         1.25
   11853.823     0.300000       115986         1.43
   14737.407     0.400000       154635         1.67
   18022.399     0.500000       193285         2.00
   19857.407     0.550000       212742         2.22
   21692.415     0.600000       232008         2.50
   23478.271     0.650000       251396         2.86
   25264.127     0.700000       270614         3.33
   27082.751     0.750000       289949         4.00
   28049.407     0.775000       299651         4.44
   28999.679     0.800000       309423         5.00
   29982.719     0.825000       318988         5.71
   31031.295     0.850000       328626         6.67
   32178.175     0.875000       338331         8.00
   32866.303     0.887500       343094         8.89
   33554.431     0.900000       348005        10.00
   34308.095     0.912500       352816        11.43
   35192.831     0.925000       357660        13.33
   36044.799     0.937500       362487        16.00
   36536.319     0.943750       364873        17.78
   37027.839     0.950000       367305        20.00
   37552.127     0.956250       369666        22.86
   38141.951     0.962500       372095        26.67
   38830.079     0.968750       374546        32.00
   39223.295     0.971875       375768        35.56
   39649.279     0.975000       376991        40.00
   40140.799     0.978125       378112        45.71
   40730.623     0.981250       379381        53.33
   41254.911     0.984375       380555        64.00
   41582.591     0.985938       381133        71.11
   41975.807     0.987500       381744        80.00
   42369.023     0.989062       382364        91.43
   42827.775     0.990625       382980       106.67
   43319.295     0.992188       383571       128.00
   43614.207     0.992969       383876       142.22
   43974.655     0.993750       384160       160.00
   44335.103     0.994531       384470       182.86
   44761.087     0.995313       384763       213.33
   45252.607     0.996094       385077       256.00
   45481.983     0.996484       385222       284.44
   45744.127     0.996875       385364       320.00
   46006.271     0.997266       385516       365.71
   46268.415     0.997656       385662       426.67
   46661.631     0.998047       385826       512.00
   46858.239     0.998242       385895       568.89
   47022.079     0.998437       385964       640.00
   47284.223     0.998633       386051       731.43
   47448.063     0.998828       386124       853.33
   47644.671     0.999023       386192      1024.00
   47775.743     0.999121       386231      1137.78
   47939.583     0.999219       386268      1280.00
   48300.031     0.999316       386305      1462.86
   48791.551     0.999414       386340      1706.67
   49053.695     0.999512       386382      2048.00
   49217.535     0.999561       386401      2275.56
   49348.607     0.999609       386415      2560.00
   49610.751     0.999658       386439      2925.71
   49676.287     0.999707       386456      3413.33
   49840.127     0.999756       386472      4096.00
   50200.575     0.999780       386483      4551.11
   50397.183     0.999805       386491      5120.00
   50659.327     0.999829       386500      5851.43
   50921.471     0.999854       386512      6826.67
   51118.079     0.999878       386520      8192.00
   51183.615     0.999890       386524      9102.22
   51347.455     0.999902       386529     10240.00
   51609.599     0.999915       386533     11702.86
   51773.439     0.999927       386538     13653.33
   51904.511     0.999939       386544     16384.00
   51937.279     0.999945       386547     18204.44
   51970.047     0.999951       386550     20480.00
   51970.047     0.999957       386550     23405.71
   52068.351     0.999963       386553     27306.67
   52133.887     0.999969       386559     32768.00
   52133.887     0.999973       386559     36408.89
   52133.887     0.999976       386559     40960.00
   52133.887     0.999979       386559     46811.43
   52133.887     0.999982       386559     54613.33
   52166.655     0.999985       386563     65536.00
   52166.655     0.999986       386563     72817.78
   52166.655     0.999988       386563     81920.00
   52166.655     0.999989       386563     93622.86
   52166.655     0.999991       386563    109226.67
   52199.423     0.999992       386566    131072.00
   52199.423     1.000000       386566          inf
#[Mean    =    19081.417, StdDeviation   =    10377.935]
#[Max     =    52166.656, Total count    =       386566]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  421661 requests in 2.00m, 5.69GB read
Requests/sec:   3514.75  
Transfer/sec:     48.55MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46103 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44423 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 123449 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46103 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44423 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 123449 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 3037.085ms, rate sampling interval: 11517ms
  Thread calibration: mean lat.: 3203.010ms, rate sampling interval: 12042ms
  Thread calibration: mean lat.: 2914.222ms, rate sampling interval: 10616ms
  Thread calibration: mean lat.: 3206.096ms, rate sampling interval: 11935ms
  Thread calibration: mean lat.: 2905.409ms, rate sampling interval: 11116ms
  Thread calibration: mean lat.: 2835.053ms, rate sampling interval: 11042ms
  Thread calibration: mean lat.: 3031.539ms, rate sampling interval: 11829ms
  Thread calibration: mean lat.: 3292.221ms, rate sampling interval: 12017ms
  Thread calibration: mean lat.: 2977.375ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 2963.883ms, rate sampling interval: 11239ms
  Thread calibration: mean lat.: 2975.800ms, rate sampling interval: 10952ms
  Thread calibration: mean lat.: 3186.796ms, rate sampling interval: 11845ms
  Thread calibration: mean lat.: 3166.917ms, rate sampling interval: 11501ms
  Thread calibration: mean lat.: 2865.942ms, rate sampling interval: 10739ms
  Thread calibration: mean lat.: 3112.608ms, rate sampling interval: 11550ms
  Thread calibration: mean lat.: 2930.875ms, rate sampling interval: 11223ms
  Thread calibration: mean lat.: 3022.449ms, rate sampling interval: 11788ms
  Thread calibration: mean lat.: 3145.092ms, rate sampling interval: 11583ms
  Thread calibration: mean lat.: 3199.345ms, rate sampling interval: 11886ms
  Thread calibration: mean lat.: 3014.280ms, rate sampling interval: 11116ms
  Thread calibration: mean lat.: 3137.256ms, rate sampling interval: 11649ms
  Thread calibration: mean lat.: 3132.865ms, rate sampling interval: 11272ms
  Thread calibration: mean lat.: 3131.324ms, rate sampling interval: 11681ms
  Thread calibration: mean lat.: 3240.496ms, rate sampling interval: 11853ms
  Thread calibration: mean lat.: 3273.684ms, rate sampling interval: 11665ms
  Thread calibration: mean lat.: 2897.998ms, rate sampling interval: 10838ms
  Thread calibration: mean lat.: 3222.058ms, rate sampling interval: 11640ms
  Thread calibration: mean lat.: 3034.749ms, rate sampling interval: 11378ms
  Thread calibration: mean lat.: 2825.901ms, rate sampling interval: 10084ms
  Thread calibration: mean lat.: 3243.511ms, rate sampling interval: 11689ms
  Thread calibration: mean lat.: 3113.687ms, rate sampling interval: 11550ms
  Thread calibration: mean lat.: 3204.143ms, rate sampling interval: 11698ms
  Thread calibration: mean lat.: 3182.992ms, rate sampling interval: 11567ms
  Thread calibration: mean lat.: 3048.052ms, rate sampling interval: 11255ms
  Thread calibration: mean lat.: 2992.717ms, rate sampling interval: 11026ms
  Thread calibration: mean lat.: 3084.370ms, rate sampling interval: 11575ms
  Thread calibration: mean lat.: 3281.330ms, rate sampling interval: 11845ms
  Thread calibration: mean lat.: 3213.953ms, rate sampling interval: 11821ms
  Thread calibration: mean lat.: 3208.120ms, rate sampling interval: 11706ms
  Thread calibration: mean lat.: 3392.639ms, rate sampling interval: 12484ms
  Thread calibration: mean lat.: 3229.768ms, rate sampling interval: 11665ms
  Thread calibration: mean lat.: 3077.763ms, rate sampling interval: 11214ms
  Thread calibration: mean lat.: 3015.000ms, rate sampling interval: 11321ms
  Thread calibration: mean lat.: 3366.793ms, rate sampling interval: 12173ms
  Thread calibration: mean lat.: 3363.314ms, rate sampling interval: 12140ms
  Thread calibration: mean lat.: 3036.984ms, rate sampling interval: 11034ms
  Thread calibration: mean lat.: 3089.668ms, rate sampling interval: 11321ms
  Thread calibration: mean lat.: 3414.903ms, rate sampling interval: 12099ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    42.31s    20.35s    1.31m    58.35%
    Req/Sec    73.68      4.09    85.00     80.50%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   42.43s 
 75.000%    1.00m 
 90.000%    1.17m 
 99.000%    1.31m 
 99.900%    1.36m 
 99.990%    1.38m 
 99.999%    1.39m 
100.000%    1.39m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    5230.591     0.000000            1         1.00
   13852.671     0.100000        39140         1.11
   21282.815     0.200000        78307         1.25
   28622.847     0.300000       117480         1.43
   35487.743     0.400000       156566         1.67
   42434.559     0.500000       195815         2.00
   45875.199     0.550000       215375         2.22
   49381.375     0.600000       234908         2.50
   52920.319     0.650000       254372         2.86
   56360.959     0.700000       274095         3.33
   59703.295     0.750000       293631         4.00
   61407.231     0.775000       303382         4.44
   63143.935     0.800000       313151         5.00
   64880.639     0.825000       322911         5.71
   66617.343     0.850000       332802         6.67
   68354.047     0.875000       342650         8.00
   69206.015     0.887500       347415         8.89
   70057.983     0.900000       352200        10.00
   70975.487     0.912500       357224        11.43
   71892.991     0.925000       362092        13.33
   72876.031     0.937500       367089        16.00
   73334.783     0.943750       369392        17.78
   73859.071     0.950000       371944        20.00
   74383.359     0.956250       374481        22.86
   74907.647     0.962500       376774        26.67
   75497.471     0.968750       379106        32.00
   75890.687     0.971875       380508        35.56
   76218.367     0.975000       381580        40.00
   76611.583     0.978125       382778        45.71
   77070.335     0.981250       384050        53.33
   77529.087     0.984375       385222        64.00
   77791.231     0.985938       385867        71.11
   78053.375     0.987500       386434        80.00
   78381.055     0.989062       387171        91.43
   78643.199     0.990625       387724       106.67
   78970.879     0.992188       388353       128.00
   79101.951     0.992969       388576       142.22
   79298.559     0.993750       388912       160.00
   79495.167     0.994531       389233       182.86
   79691.775     0.995313       389495       213.33
   79953.919     0.996094       389809       256.00
   80150.527     0.996484       390005       284.44
   80281.599     0.996875       390146       320.00
   80412.671     0.997266       390271       365.71
   80609.279     0.997656       390417       426.67
   80805.887     0.998047       390555       512.00
   80936.959     0.998242       390654       568.89
   81068.031     0.998437       390737       640.00
   81199.103     0.998633       390792       731.43
   81395.711     0.998828       390886       853.33
   81526.783     0.999023       390948      1024.00
   81592.319     0.999121       390987      1137.78
   81657.855     0.999219       391026      1280.00
   81723.391     0.999316       391051      1462.86
   81854.463     0.999414       391091      1706.67
   81985.535     0.999512       391138      2048.00
   82051.071     0.999561       391155      2275.56
   82116.607     0.999609       391182      2560.00
   82182.143     0.999658       391200      2925.71
   82247.679     0.999707       391210      3413.33
   82378.751     0.999756       391232      4096.00
   82378.751     0.999780       391232      4551.11
   82444.287     0.999805       391243      5120.00
   82509.823     0.999829       391251      5851.43
   82575.359     0.999854       391261      6826.67
   82640.895     0.999878       391270      8192.00
   82706.431     0.999890       391275      9102.22
   82771.967     0.999902       391280     10240.00
   82903.039     0.999915       391291     11702.86
   82903.039     0.999927       391291     13653.33
   83034.111     0.999939       391300     16384.00
   83034.111     0.999945       391300     18204.44
   83034.111     0.999951       391300     20480.00
   83099.647     0.999957       391301     23405.71
   83230.719     0.999963       391304     27306.67
   83296.255     0.999969       391307     32768.00
   83296.255     0.999973       391307     36408.89
   83361.791     0.999976       391309     40960.00
   83361.791     0.999979       391309     46811.43
   83427.327     0.999982       391313     54613.33
   83427.327     0.999985       391313     65536.00
   83427.327     0.999986       391313     72817.78
   83427.327     0.999988       391313     81920.00
   83427.327     0.999989       391313     93622.86
   83492.863     0.999991       391317    109226.67
   83492.863     1.000000       391317          inf
#[Mean    =    42309.039, StdDeviation   =    20353.262]
#[Max     =    83427.328, Total count    =       391317]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  426873 requests in 2.00m, 5.76GB read
Requests/sec:   3559.32  
Transfer/sec:     49.16MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44330 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39930 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122183 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44330 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39930 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122183 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 16.354ms, rate sampling interval: 69ms
  Thread calibration: mean lat.: 19.812ms, rate sampling interval: 110ms
  Thread calibration: mean lat.: 18.370ms, rate sampling interval: 79ms
  Thread calibration: mean lat.: 17.381ms, rate sampling interval: 79ms
  Thread calibration: mean lat.: 16.629ms, rate sampling interval: 78ms
  Thread calibration: mean lat.: 19.031ms, rate sampling interval: 83ms
  Thread calibration: mean lat.: 19.693ms, rate sampling interval: 96ms
  Thread calibration: mean lat.: 16.548ms, rate sampling interval: 63ms
  Thread calibration: mean lat.: 15.843ms, rate sampling interval: 44ms
  Thread calibration: mean lat.: 15.998ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 16.737ms, rate sampling interval: 79ms
  Thread calibration: mean lat.: 16.177ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 17.523ms, rate sampling interval: 68ms
  Thread calibration: mean lat.: 20.563ms, rate sampling interval: 107ms
  Thread calibration: mean lat.: 15.690ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 16.138ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 16.457ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 15.720ms, rate sampling interval: 54ms
  Thread calibration: mean lat.: 16.460ms, rate sampling interval: 81ms
  Thread calibration: mean lat.: 18.907ms, rate sampling interval: 107ms
  Thread calibration: mean lat.: 15.661ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 18.093ms, rate sampling interval: 85ms
  Thread calibration: mean lat.: 16.337ms, rate sampling interval: 53ms
  Thread calibration: mean lat.: 17.144ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 16.495ms, rate sampling interval: 44ms
  Thread calibration: mean lat.: 18.554ms, rate sampling interval: 74ms
  Thread calibration: mean lat.: 14.515ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 16.782ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 18.101ms, rate sampling interval: 86ms
  Thread calibration: mean lat.: 17.124ms, rate sampling interval: 63ms
  Thread calibration: mean lat.: 19.154ms, rate sampling interval: 83ms
  Thread calibration: mean lat.: 19.425ms, rate sampling interval: 104ms
  Thread calibration: mean lat.: 14.996ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 16.819ms, rate sampling interval: 49ms
  Thread calibration: mean lat.: 18.715ms, rate sampling interval: 68ms
  Thread calibration: mean lat.: 17.184ms, rate sampling interval: 57ms
  Thread calibration: mean lat.: 14.152ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 15.812ms, rate sampling interval: 56ms
  Thread calibration: mean lat.: 15.484ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 16.349ms, rate sampling interval: 51ms
  Thread calibration: mean lat.: 17.773ms, rate sampling interval: 94ms
  Thread calibration: mean lat.: 16.939ms, rate sampling interval: 50ms
  Thread calibration: mean lat.: 14.851ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 16.863ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 17.225ms, rate sampling interval: 84ms
  Thread calibration: mean lat.: 17.695ms, rate sampling interval: 62ms
  Thread calibration: mean lat.: 22.580ms, rate sampling interval: 126ms
  Thread calibration: mean lat.: 16.008ms, rate sampling interval: 41ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    10.01ms    3.51ms  21.01ms   71.50%
    Req/Sec    19.91     19.82    81.00     85.58%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.90ms
 75.000%   11.70ms
 90.000%   14.01ms
 99.000%   21.01ms
 99.900%   28.29ms
 99.990%   36.99ms
 99.999%   40.42ms
100.000%   40.80ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.451     0.000000            1         1.00
       5.343     0.100000        10603         1.11
       7.275     0.200000        21169         1.25
       8.623     0.300000        31804         1.43
       9.319     0.400000        42403         1.67
       9.903     0.500000        52976         2.00
      10.199     0.550000        58246         2.22
      10.511     0.600000        63554         2.50
      10.855     0.650000        68808         2.86
      11.255     0.700000        74198         3.33
      11.703     0.750000        79396         4.00
      11.959     0.775000        82030         4.44
      12.247     0.800000        84705         5.00
      12.575     0.825000        87355         5.71
      12.959     0.850000        90002         6.67
      13.415     0.875000        92610         8.00
      13.687     0.887500        93941         8.89
      14.007     0.900000        95259        10.00
      14.383     0.912500        96593        11.43
      14.823     0.925000        97916        13.33
      15.375     0.937500        99237        16.00
      15.711     0.943750        99898        17.78
      16.047     0.950000       100552        20.00
      16.463     0.956250       101216        22.86
      16.927     0.962500       101886        26.67
      17.487     0.968750       102539        32.00
      17.839     0.971875       102865        35.56
      18.239     0.975000       103208        40.00
      18.607     0.978125       103523        45.71
      19.071     0.981250       103861        53.33
      19.647     0.984375       104185        64.00
      19.967     0.985938       104355        71.11
      20.319     0.987500       104519        80.00
      20.735     0.989062       104683        91.43
      21.247     0.990625       104849       106.67
      21.759     0.992188       105018       128.00
      22.047     0.992969       105100       142.22
      22.415     0.993750       105178       160.00
      22.815     0.994531       105261       182.86
      23.375     0.995313       105344       213.33
      24.031     0.996094       105426       256.00
      24.303     0.996484       105468       284.44
      24.703     0.996875       105508       320.00
      25.119     0.997266       105549       365.71
      25.663     0.997656       105590       426.67
      26.415     0.998047       105632       512.00
      26.639     0.998242       105653       568.89
      26.991     0.998437       105673       640.00
      27.519     0.998633       105694       731.43
      28.015     0.998828       105714       853.33
      28.383     0.999023       105735      1024.00
      28.735     0.999121       105745      1137.78
      29.119     0.999219       105756      1280.00
      29.599     0.999316       105766      1462.86
      29.967     0.999414       105776      1706.67
      30.543     0.999512       105787      2048.00
      31.487     0.999561       105793      2275.56
      31.775     0.999609       105797      2560.00
      32.319     0.999658       105802      2925.71
      33.183     0.999707       105807      3413.33
      33.759     0.999756       105813      4096.00
      34.399     0.999780       105815      4551.11
      34.559     0.999805       105818      5120.00
      34.623     0.999829       105820      5851.43
      34.975     0.999854       105823      6826.67
      36.799     0.999878       105826      8192.00
      36.991     0.999890       105827      9102.22
      37.311     0.999902       105828     10240.00
      37.343     0.999915       105829     11702.86
      37.951     0.999927       105831     13653.33
      38.047     0.999939       105832     16384.00
      38.335     0.999945       105833     18204.44
      38.335     0.999951       105833     20480.00
      39.199     0.999957       105834     23405.71
      39.423     0.999963       105835     27306.67
      39.423     0.999969       105835     32768.00
      39.903     0.999973       105836     36408.89
      39.903     0.999976       105836     40960.00
      39.903     0.999979       105836     46811.43
      40.415     0.999982       105837     54613.33
      40.415     0.999985       105837     65536.00
      40.415     0.999986       105837     72817.78
      40.415     0.999988       105837     81920.00
      40.415     0.999989       105837     93622.86
      40.799     0.999991       105838    109226.67
      40.799     1.000000       105838          inf
#[Mean    =       10.014, StdDeviation   =        3.511]
#[Max     =       40.768, Total count    =       105838]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115379 requests in 2.00m, 1.41GB read
Requests/sec:    961.41  
Transfer/sec:     12.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46094 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44987 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122480 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 46094 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44987 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122480 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.976ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.683ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.232ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.441ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.896ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.248ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.043ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.019ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.593ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.659ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.785ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.824ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.599ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.658ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.292ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.276ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.005ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.801ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.880ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.291ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.475ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 6.646ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.186ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.767ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.105ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.116ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.529ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.557ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.750ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.480ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.738ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.276ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.894ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.043ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.751ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.229ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.117ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.513ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.106ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.117ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.958ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.428ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.683ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 6.662ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.478ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.658ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.672ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.711ms, rate sampling interval: 22ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.48ms    3.56ms  20.29ms   85.58%
    Req/Sec   106.32     70.08   300.00     73.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.53ms
 75.000%    7.57ms
 90.000%   10.56ms
 99.000%   20.29ms
 99.900%   31.17ms
 99.990%   41.69ms
 99.999%   50.01ms
100.000%   63.39ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.550     0.000000            1         1.00
       3.389     0.100000        54977         1.11
       3.951     0.200000       109963         1.25
       4.471     0.300000       164917         1.43
       4.983     0.400000       220205         1.67
       5.527     0.500000       274855         2.00
       5.835     0.550000       302528         2.22
       6.175     0.600000       330004         2.50
       6.563     0.650000       357348         2.86
       7.019     0.700000       384813         3.33
       7.571     0.750000       412242         4.00
       7.887     0.775000       425917         4.44
       8.247     0.800000       439646         5.00
       8.663     0.825000       453560         5.71
       9.159     0.850000       467200         6.67
       9.759     0.875000       480830         8.00
      10.135     0.887500       487783         8.89
      10.559     0.900000       494588        10.00
      11.055     0.912500       501450        11.43
      11.639     0.925000       508383        13.33
      12.343     0.937500       515183        16.00
      12.775     0.943750       518631        17.78
      13.255     0.950000       522064        20.00
      13.823     0.956250       525477        22.86
      14.479     0.962500       528913        26.67
      15.247     0.968750       532357        32.00
      15.687     0.971875       534058        35.56
      16.199     0.975000       535792        40.00
      16.783     0.978125       537519        45.71
      17.455     0.981250       539222        53.33
      18.255     0.984375       540930        64.00
      18.735     0.985938       541794        71.11
      19.279     0.987500       542661        80.00
      19.887     0.989062       543519        91.43
      20.607     0.990625       544373       106.67
      21.471     0.992188       545225       128.00
      21.983     0.992969       545651       142.22
      22.559     0.993750       546086       160.00
      23.183     0.994531       546508       182.86
      23.935     0.995313       546943       213.33
      24.831     0.996094       547368       256.00
      25.279     0.996484       547581       284.44
      25.871     0.996875       547798       320.00
      26.527     0.997266       548010       365.71
      27.215     0.997656       548223       426.67
      28.127     0.998047       548437       512.00
      28.527     0.998242       548544       568.89
      29.103     0.998437       548655       640.00
      29.711     0.998633       548758       731.43
      30.447     0.998828       548868       853.33
      31.359     0.999023       548973      1024.00
      31.903     0.999121       549028      1137.78
      32.447     0.999219       549081      1280.00
      33.055     0.999316       549135      1462.86
      33.919     0.999414       549188      1706.67
      34.911     0.999512       549241      2048.00
      35.583     0.999561       549269      2275.56
      36.095     0.999609       549295      2560.00
      36.959     0.999658       549324      2925.71
      37.471     0.999707       549351      3413.33
      38.367     0.999756       549377      4096.00
      38.751     0.999780       549389      4551.11
      39.327     0.999805       549402      5120.00
      39.807     0.999829       549416      5851.43
      40.479     0.999854       549429      6826.67
      41.247     0.999878       549442      8192.00
      41.503     0.999890       549449      9102.22
      41.791     0.999902       549456     10240.00
      43.263     0.999915       549463     11702.86
      43.711     0.999927       549469     13653.33
      44.287     0.999939       549476     16384.00
      44.543     0.999945       549479     18204.44
      45.375     0.999951       549483     20480.00
      45.855     0.999957       549486     23405.71
      46.335     0.999963       549489     27306.67
      47.519     0.999969       549493     32768.00
      47.711     0.999973       549494     36408.89
      48.095     0.999976       549496     40960.00
      48.927     0.999979       549498     46811.43
      49.311     0.999982       549499     54613.33
      49.631     0.999985       549501     65536.00
      49.727     0.999986       549502     72817.78
      49.951     0.999988       549503     81920.00
      50.015     0.999989       549504     93622.86
      50.015     0.999991       549504    109226.67
      50.239     0.999992       549505    131072.00
      52.639     0.999993       549506    145635.56
      52.639     0.999994       549506    163840.00
      57.023     0.999995       549507    187245.71
      57.023     0.999995       549507    218453.33
      57.023     0.999996       549507    262144.00
      59.455     0.999997       549508    291271.11
      59.455     0.999997       549508    327680.00
      59.455     0.999997       549508    374491.43
      59.455     0.999998       549508    436906.67
      59.455     0.999998       549508    524288.00
      63.391     0.999998       549509    582542.22
      63.391     1.000000       549509          inf
#[Mean    =        6.483, StdDeviation   =        3.557]
#[Max     =       63.360, Total count    =       549509]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599131 requests in 2.00m, 7.32GB read
Requests/sec:   4995.21  
Transfer/sec:     62.52MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45638 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44688 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122069 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 45638 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44688 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122069 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 641.088ms, rate sampling interval: 4509ms
  Thread calibration: mean lat.: 1332.832ms, rate sampling interval: 8351ms
  Thread calibration: mean lat.: 436.714ms, rate sampling interval: 2265ms
  Thread calibration: mean lat.: 794.029ms, rate sampling interval: 5541ms
  Thread calibration: mean lat.: 118.889ms, rate sampling interval: 451ms
  Thread calibration: mean lat.: 1133.831ms, rate sampling interval: 5804ms
  Thread calibration: mean lat.: 332.806ms, rate sampling interval: 1314ms
  Thread calibration: mean lat.: 668.291ms, rate sampling interval: 3381ms
  Thread calibration: mean lat.: 757.989ms, rate sampling interval: 4472ms
  Thread calibration: mean lat.: 1016.897ms, rate sampling interval: 5390ms
  Thread calibration: mean lat.: 774.986ms, rate sampling interval: 3698ms
  Thread calibration: mean lat.: 394.480ms, rate sampling interval: 2594ms
  Thread calibration: mean lat.: 315.784ms, rate sampling interval: 2717ms
  Thread calibration: mean lat.: 1114.962ms, rate sampling interval: 5656ms
  Thread calibration: mean lat.: 749.558ms, rate sampling interval: 5611ms
  Thread calibration: mean lat.: 474.417ms, rate sampling interval: 2531ms
  Thread calibration: mean lat.: 756.665ms, rate sampling interval: 4143ms
  Thread calibration: mean lat.: 817.282ms, rate sampling interval: 6303ms
  Thread calibration: mean lat.: 928.744ms, rate sampling interval: 5943ms
  Thread calibration: mean lat.: 657.085ms, rate sampling interval: 4726ms
  Thread calibration: mean lat.: 737.887ms, rate sampling interval: 5689ms
  Thread calibration: mean lat.: 140.228ms, rate sampling interval: 1078ms
  Thread calibration: mean lat.: 389.523ms, rate sampling interval: 2363ms
  Thread calibration: mean lat.: 492.578ms, rate sampling interval: 2559ms
  Thread calibration: mean lat.: 455.149ms, rate sampling interval: 2545ms
  Thread calibration: mean lat.: 862.507ms, rate sampling interval: 4612ms
  Thread calibration: mean lat.: 823.685ms, rate sampling interval: 4853ms
  Thread calibration: mean lat.: 339.162ms, rate sampling interval: 2349ms
  Thread calibration: mean lat.: 437.358ms, rate sampling interval: 2326ms
  Thread calibration: mean lat.: 698.049ms, rate sampling interval: 3446ms
  Thread calibration: mean lat.: 487.087ms, rate sampling interval: 3559ms
  Thread calibration: mean lat.: 214.639ms, rate sampling interval: 1207ms
  Thread calibration: mean lat.: 1051.083ms, rate sampling interval: 5812ms
  Thread calibration: mean lat.: 220.285ms, rate sampling interval: 1119ms
  Thread calibration: mean lat.: 1717.116ms, rate sampling interval: 7204ms
  Thread calibration: mean lat.: 506.042ms, rate sampling interval: 2910ms
  Thread calibration: mean lat.: 878.691ms, rate sampling interval: 5750ms
  Thread calibration: mean lat.: 263.691ms, rate sampling interval: 1308ms
  Thread calibration: mean lat.: 667.753ms, rate sampling interval: 4894ms
  Thread calibration: mean lat.: 526.640ms, rate sampling interval: 3291ms
  Thread calibration: mean lat.: 1187.477ms, rate sampling interval: 6221ms
  Thread calibration: mean lat.: 488.980ms, rate sampling interval: 3332ms
  Thread calibration: mean lat.: 682.879ms, rate sampling interval: 3850ms
  Thread calibration: mean lat.: 1264.578ms, rate sampling interval: 6971ms
  Thread calibration: mean lat.: 187.143ms, rate sampling interval: 1270ms
  Thread calibration: mean lat.: 122.062ms, rate sampling interval: 646ms
  Thread calibration: mean lat.: 1362.060ms, rate sampling interval: 6254ms
  Thread calibration: mean lat.: 390.620ms, rate sampling interval: 3033ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    12.90s    14.39s    0.93m    83.56%
    Req/Sec   168.26     28.13   233.00     68.70%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    7.56s 
 75.000%   20.68s 
 90.000%   34.70s 
 99.000%    0.93m 
 99.900%    1.10m 
 99.990%    1.15m 
 99.999%    1.16m 
100.000%    1.17m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.437     0.000000            1         1.00
      40.639     0.100000        82158         1.11
     291.839     0.200000       164281         1.25
    1825.791     0.300000       246449         1.43
    4370.431     0.400000       328619         1.67
    7561.215     0.500000       410759         2.00
    9658.367     0.550000       451844         2.22
   12042.239     0.600000       492904         2.50
   14458.879     0.650000       533883         2.86
   16924.671     0.700000       574950         3.33
   20676.607     0.750000       616059         4.00
   22577.151     0.775000       636600         4.44
   24477.695     0.800000       657282         5.00
   26296.319     0.825000       677645         5.71
   28770.303     0.850000       698194         6.67
   31522.815     0.875000       718679         8.00
   32915.455     0.887500       729029         8.89
   34701.311     0.900000       739220        10.00
   36700.159     0.912500       749584        11.43
   39223.295     0.925000       759824        13.33
   41615.359     0.937500       770110        16.00
   42827.775     0.943750       775271        17.78
   44072.959     0.950000       780330        20.00
   45416.447     0.956250       785452        22.86
   46792.703     0.962500       790557        26.67
   48234.495     0.968750       795732        32.00
   49086.463     0.971875       798335        35.56
   49872.895     0.975000       800809        40.00
   50888.703     0.978125       803426        45.71
   52002.815     0.981250       805989        53.33
   53116.927     0.984375       808544        64.00
   53739.519     0.985938       809792        71.11
   54525.951     0.987500       811116        80.00
   55312.383     0.989062       812373        91.43
   56328.191     0.990625       813669       106.67
   57409.535     0.992188       814927       128.00
   58032.127     0.992969       815589       142.22
   58720.255     0.993750       816215       160.00
   59342.847     0.994531       816864       182.86
   59998.207     0.995313       817500       213.33
   60784.639     0.996094       818144       256.00
   61210.623     0.996484       818472       284.44
   61734.911     0.996875       818776       320.00
   62324.735     0.997266       819097       365.71
   63012.863     0.997656       819428       426.67
   63635.455     0.998047       819741       512.00
   64028.671     0.998242       819907       568.89
   64356.351     0.998437       820061       640.00
   64815.103     0.998633       820220       731.43
   65372.159     0.998828       820383       853.33
   65929.215     0.999023       820541      1024.00
   66289.663     0.999121       820633      1137.78
   66584.575     0.999219       820711      1280.00
   66879.487     0.999316       820788      1462.86
   67174.399     0.999414       820875      1706.67
   67436.543     0.999512       820944      2048.00
   67567.615     0.999561       820987      2275.56
   67698.687     0.999609       821025      2560.00
   67895.295     0.999658       821068      2925.71
   68091.903     0.999707       821106      3413.33
   68288.511     0.999756       821148      4096.00
   68419.583     0.999780       821179      4551.11
   68485.119     0.999805       821198      5120.00
   68550.655     0.999829       821208      5851.43
   68681.727     0.999854       821230      6826.67
   68747.263     0.999878       821243      8192.00
   68812.799     0.999890       821257      9102.22
   68878.335     0.999902       821263     10240.00
   68943.871     0.999915       821275     11702.86
   69009.407     0.999927       821284     13653.33
   69074.943     0.999939       821292     16384.00
   69140.479     0.999945       821300     18204.44
   69206.015     0.999951       821306     20480.00
   69271.551     0.999957       821317     23405.71
   69271.551     0.999963       821317     27306.67
   69271.551     0.999969       821317     32768.00
   69337.087     0.999973       821320     36408.89
   69402.623     0.999976       821324     40960.00
   69468.159     0.999979       821328     46811.43
   69468.159     0.999982       821328     54613.33
   69533.695     0.999985       821332     65536.00
   69533.695     0.999986       821332     72817.78
   69533.695     0.999988       821332     81920.00
   69664.767     0.999989       821334     93622.86
   69730.303     0.999991       821339    109226.67
   69730.303     0.999992       821339    131072.00
   69730.303     0.999993       821339    145635.56
   69730.303     0.999994       821339    163840.00
   69730.303     0.999995       821339    187245.71
   69730.303     0.999995       821339    218453.33
   69730.303     0.999996       821339    262144.00
   69795.839     0.999997       821341    291271.11
   69795.839     0.999997       821341    327680.00
   69795.839     0.999997       821341    374491.43
   69795.839     0.999998       821341    436906.67
   69795.839     0.999998       821341    524288.00
   69795.839     0.999998       821341    582542.22
   69795.839     0.999998       821341    655360.00
   69795.839     0.999999       821341    748982.86
   69926.911     0.999999       821342    873813.33
   69926.911     1.000000       821342          inf
#[Mean    =    12899.241, StdDeviation   =    14388.430]
#[Max     =    69861.376, Total count    =       821342]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  900687 requests in 2.00m, 11.04GB read
Requests/sec:   7512.13  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44479 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41474 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121481 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44479 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 41474 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121481 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
0b85d5e3c539d8edf2beda0d573e86405ac22db6625deb6eb23b2813607db81c
5bcdc78432c2da36418fb8b77f7d9ce9e684e72f0b31fea13ab7f408a84b9482
1eb9580232023419eb5be5948574220bc09cb20530f61df5ee51f85eb9d3fa1e
4bb0e30a2482355826d02bfe0a6b393b9ac41ca256e3f0aa3dde2310a4462e04
4c510a5d869a325abd3637ae0eb5e4c81a75c403008fa967a4ecb017f17db8f1
3220bdcdccec262b86bc726e261c21f7c13fa3b38a478c89e0c628396a237a31
7d91100dce7c042b59c0df057d4980cf805e9c02784895ce5f2ac2310d5dc63b
abfa6a8b28f55bce84efbe6256dde8dc1e6b4e45d8efe49fbdb6cedfbf9aa3a9
0a0e1778cd1191bb1124b90270cf515e8696440b42fd2975022130c7d2b3604a
43bb6e66df2131080c75fd140f78e4cf35700ec9fb39a3089a143bb3898759fe
3c39fb755d1c0cfa289abc06ebe7d3288643593cc894c96a7bb1539e05b5eb56
76e4a33727dbbee327adfb3cdf5150a1968a1e9e1c9a269efa77c69509a64551
71c5c1eb08a2d3af8fb3c9036a7cb6fe549d88ea5107bb9ffd43db847e1989bf
0da5df394fc904dc5d2491f87b83b9040b387182fd2190a9486d348e6a128827
2bb6472229675046ba28d0f3d1577ed92d6b3ccda749656a3d7c4594d08db1eb
baefa5502c0925074e3f4a0df3f7a36d8d34c9369de4255b0337843749d7c75d
da952315b83bdfe54ba5910e1f6b85a39656f84f6af3884d021af8df9b5eabdd
d3c209d8bdaa3ae6d476a40a196e626d2d4f8e4d61a7bc8b1f583e9016e291b2
351350b5ac16c8f2ca055ea4149dcb9c2fa4018a10afd090898d2149dbc342e4
8a06767cb85acb90020824dcd6f3b8290bc2c2de2d3b370be59b18845da8c43f
da6c61dc87bf26ff68ede3989ddfef6d95a8eb3a8c46e5a244bea35ad294009e
259f46cf873b4945581521ec29b4ad726ab13d7d99ac069986dace27589aece3
f526cbdf7c765984487e71d0f1afcccd4b490deada929051e0130f952977022d
39a4351390245d054adab1a0d269684b3af4c3493f8f155f32f48b2082a3f2f8
e6eccc1da90744a893a1b3673b8ebcaf0fd34be4648903f0feea309cf26226d4
aa5726d56f4c639fa17227053eb52648d07f2cf0fd1b0cc822cfae5080d12547
fa494243cdb44a935f7f803f6ce6cbcd04fd78142ef3f2461cf19a10a76e02f1
abcc77c285a35af865bdd97e154ba4ec07b61cd029fe3fe289ba3e62b4935934
711b04e4dc1f04df277e65a0f1182681f1d5ead8d724f90ca6415e2884a9c0d2
ab6ba7122c2350b4ac9aefa886dcadbbf6b772970a37620a929edb87dc427cfb
be28e2a80415f1f1c109c9f25c2b1eda9947408ff6e5f4483bfec7e845c720e4

Total reclaimed space: 4.413GB
