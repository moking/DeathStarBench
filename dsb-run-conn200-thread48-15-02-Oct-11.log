python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 0 -t 48 -c 200
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 15-02-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-0.log -b True -m m -M 0
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 15-02-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-0.log', 'mode': 'm', 'memnode': '0'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-0
CMD: docker exec -u root -it socialnetwork_user-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-0



CMD: docker commit socialnetwork_user-timeline-service_1 social-network-microservices-numa-membind-0

Result: sha256:9eb1851f298815e9faf0b8913e57a87b56e6886961ce1037291c3d707a916e9f


Install numactl tools on docker image: openresty-thrift-numa-membind-0
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-0



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-0

Result: sha256:7cfbd1931e50b749c23737ae75d784ee1f0b044848215af11d40b07daca8d037


Install numactl tools on docker image: media-frontend-numa-membind-0
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-0



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-0

Result: sha256:356a62bc0cfffcdb436ecc9dc76f3426d584487e68f3dab394bc31b0f8b2e4bc


Install numactl tools on docker image: redis-numa-membind-0
CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-redis_5:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-redis_5:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 11 22:03 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-0



CMD: docker commit socialnetwork_social-graph-redis_5 redis-numa-membind-0

Result: sha256:dd040480acbe4574431ff791eeecbd5c3242c1b3d2284817dc583ef16c1df98b


Install numactl tools on docker image: mongo-numa-membind-0
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 22:03 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=0'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-0



CMD: docker commit socialnetwork_user-mongodb_1 mongo-numa-membind-0

Result: sha256:628cd0776f96bbfc7aff35ff413b17fd534a39edf35505ea8bc5ec736697a5a8


Install numactl tools on docker image: memcached-numa-membind-0
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 11 22:04 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-0



CMD: docker commit socialnetwork_url-shorten-memcached_1 memcached-numa-membind-0

Result: sha256:db4c10d2186fcd8df1352c76d45f1d3265faaa5bfdf5f4a5dc67dcf52b8f6434


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
a77495cd12f0d6ad58b414ecb3038f1260445cc1f6cf7c019ff7f6fc904beaf3
cc47af770fc1314bf24b77828d6c10626c07691f30ce6d7c66689f5939458f23
15f9f46d6454e86d4a6c601e504daaa0210d3642d23c4898c5fcb67b4a74367d
683f5325e2e4839a1c3b74a5725da5277bf9f22d0dd3d7cdffdc1a7b692a8d59
2a83df18d8928ac00160c658410629f4836841071f5a13adc8726c3920cfa2b9
2b71118aafe149c130fcd1c38373c4dde91aaba3f4371001e4978b02ee8efaa8
003a87176def1db9e983139e7379a1bc2042236bb9f43456844fc54353039e6b
dc2c53a9474f1f61b284bd79633dc5ffe651c53bdfb7e43375d443054b723a3b
9f876d1b2e95e4dc36f4ae6cfe203a67d1d96984788e28798ff09f3dbfdf8f5a
e7997b3876c5df72a980a268e938f7674c3234b2a90db6ea400dabefab7c86da
0fde188c10a55ad257955fbd0b4a908986e12e66fa90782418589c76a20e75ec
47460dba12ba8c8dad16b5780fb246da346b506f29178d8a46f49ddbb10a083b
e5a26207c78789ca7566f8eb9b1076d8c7e6cc5710d4e1228f99ebe8aa8d0f3c
2bc2c1972c4322d35fdcf77e524ab2dd485c89ea87e61d34a7117c5b9c9cc135
47db1d564974d26d55f7e763dc786f8221d02c71a78302eeef90b2a205c5eff8
468f711eb82d9108b45348454f82584d040a0d41bffe5075d89cd47d330481f9
cf894a8379c22153a6a9af19a4d137612a0e8eb233f292bd16fca412a8cc5673
ab573798dfbcbe173505de6cb7798b0aa1dfca4bfefd9275f83e6c6fb467a545
bce3cc23fa3312a6e120c3f4068ac204153191fb6d15f8ccd1b14c9ee47d2482
b78dc97493187ba1575ccd3fd3607d5348571166262609d7a0af02f07f689e66
8fd6054eb454b1531aadd6d7f0840a4b4977fa0e375237c0c63b9e2331167d6f
5b102587c61e448f027030f4586006cbd30324d92a4d56d88d607caed88b85b8
63c95b1df3c297103a51dae3d004f6432676fcf540fa22abb804a9e7f9983a1d
979ba3c95c12267f8d617360e6e634805d911678a91986bff160dd2bddd1ee79
2f850d600a62bb63db662527ccfcf5ea592f145bdc3ea103f60cf76e2dcb2a49
15eb1b9ebe15b0d00ae2198069e78480202946ac541aa375da66d3ce3f4d8c54
d33e272ba7143292fbd04107d98463377f8847f273151594c8870838c9d51a8f
2d09c15a31f5de8023dcabf4dc9bb4323b6630693f371c32415d2022fd0150eb
27bacb23e32050b2aa01a46df8049782adf5cbbed8a897493784bd76bca8e7b4
92e65510879c2818175ca6f76ea46c14960ab0330226d645c239154771bd7d1c
f1849e0665b5b1f0e3180a05f7a64e314d06783dde01d52316ffa01215ebc223
2e3cb8ef7a3e034553168030bc11c81adfcd91e74f5b0cd8e34fffc48253debe
c5a011f92667fbbaad94cd53d11b360d7076ea5c59d16bf0c58a5d6b7de68017
d56c984d962e4fb13ffd8a4f70ffded6225465eb01b1b533b7cb942ec5dedbb5
3b6aaf6ba068f7840206d0cb92581b34a06a030bcdea0f22ac9f5c4750796d87
dba494e2e1408206f9a919d1fb28758e1c07e2395bd05c7572c629cd7ea5db3d
cf31487e65f8abacafd300e133f3c2bd15c94892a23a1c96af1e063bc6b2dc74
7271316ab39ba7b8f209f10a48df86088ed1baaec85ea04322139cb417089665
5c4a58fdf57b52d93371cd7a1217c7e2eb0389ea8d38aa7b052bf97aad14994c
695326ff4f8424236d51524853773f90551ed7a5e03c53f83d551643f1ea6141
2332eaabca8e179eaa61dd227921460549c07b06ee9351703f1bcc09b5d50031
b82cd4d2fbd70ab76fcc4617b65f58e302b85adf52d22fe5c738af5602e3026e
8eb9cc8606963ffa467c55acc85a70585dad4850bef2fc4e0917b223d29199c2
b6b76b50a0cfbe94f5f522548db84b1b5c873fb4efa30145ea6db7d3a7183dfc
c77f18a5eb92117cfd1ba41e995898cd94bbe1cf9ad3a14e52eea9974a97cea1
8333eb68df830877538a23041375ad40d0fd26f57d7cb5c611fc95844f4bb853
86a9411fe0320f1ddaea035bf1f8fe4c6fa1f4535719df4b0caad2eab445cf62
76b3c595df0b361da60bbb8c6f4e10d869063ec93486d4d63920efdc6873f476
76fbe2634f1e84ab8bb2c3d746d1a25ef25bce061a6ac608b582556c2343975b
6fb48666e8e40ab497d112ecf1a0815278dec4d238b23f433acbcb85d34fc68a
7d0c48d68fb772973146ac8bbf371da7702218cbb7482fd698c3c75966167b8d
060643588f6f291313f2dd52e670d855e6eb2b94a1d018728cd53332afa1f904
d2d70b7ad09be9b721125d115f3fd3a5ec748f63912be20fb385446c3e483049
d24cee7f19fc7197793b18cbf3a9fd5659d913828b6ff1b2500b501bf9c3d3f5
8915b4584ba3f43e3ec84092b214d4b2fd7a5155c83976cc761f756dd5122e00
10c4d062c41926f9e056f21ed164404b95e31b5fc71e8ede733f08c6ebffca0e
6392dc9433fbc6b11588ce1b27e724e5910572d86822f0c946e609ed01fc856a
de3c70194a3dfe61d8ec94d4bea839b6eb373946c49719652b988ba1d7b1200d
a6ae975c4644f959ac367faa0af3ceb880d39c46f279752f5c9d71dc69a42d24
3f0dfa81c56f739f792bf66a91bc4f8f8ddb2953201439c1c89486f6a483e0ac
75e38bad4b676742abb39ca7b9f0dd58f8a2ea9581daee20227306411b9f83fd
803eb87c21033aa0b8b91345ee9b0d049b1b05b2df6fb480fbb5db1cb97d62a6
27edcb81f249cd95375a50500d5886cb6b32a82ed272835bf1cf9237ab4da741
31b15ea86958b17f39ddd3354ee3ae0cb762ed7a866cbc8abf5176304e9b5761
4edb4e7ee9775382ab32d414ddb0497ce24b41c7afe5f397ab0da08b615f8e3c
b148359c723dcc99c63e645f8ae27611ef8fd6192f6f024e84812783e9f4cd7b
6d0770d77e7427f1f996861bfc03efd420db53dec20617d17c9105da47c25a6a
6a5cac50cd34035c04cf80f548a089abc650555ec5bafdf91baa78f987fb4de3
92e586b50cb678bbadf39f3acb7cc60664d49ef1c42365281f7fc064fe52d371
3d0a1a4b84d70b887c45bbb01641288ebed7011c357042ee5b0e8c74a1795922
8adb860a0e229f2dcf9b4fcb9994006f5c58073c1f612e1b59fc6d00bad7f496
230cdc9135ea0cbd1e3be24e2c012aabf4ac77a3f73bf094fbc83995454dc86b
f79bf7c496b35aa07cc644a67a335df0fbce0ca6e2a96e1ff99178ff6f85812e
8139f2912a1a12b9af835651f0db40e94d3fc5f2384703634341e0091b9ff72d
69cd76dfc893a4196da53fb5caf586a2b9af51067753201d315d54d5af481987
db894c83ea8f57aef3804091c62e85db79b3d4e1971e5d97312b41b21387551d
c73f7d34b3bb7836c3f3a28bef083294aacd7c2b25e94a0a387b5074ba57e2d1
bb41a89c2a51764451d048eb425a75fcca2204bd237aca80ea31682a1a84da80
316144da555c39316dc14b25dbd28a805e7bad66da32a8af84885819f4f28e90
67b65e501eb4251bbbf8c6d8b36cd9042b01a982db66e1f0434e15cf17cd5674
12b2acad3f45f2ed6567bc1abbe0333ed37e19dec0aa4068b54336502a9452a8
b7c659cd718c64efc783d489596919417e8720df25909255e13fcebb688f6cb3
fc104e41462c125ecb1e497a178fe057191fad5a8cd987050d1c1f9c81ee3c28
16d981a38383a3643932e58e822ed55894536c51eab471b27643a7c9b96eda8d
9fe9c8e107196213dc8ad71edbbe8ba6721e8d6081ae4d9ff9aa875879e85ec6
df75dd705f3f0e37cbde79fd4279e726413424d2a787c719200486e158df991b
81fb31547c7710d47eba708695b97717b24e058f1abb025d0cffde74f270d800
72d1dfe0ca0bbbb5d6fbb2ba213824cfe947fa4b674bf96795959d1e027b92ce
9e235847f4c04132e6f24c831960de9505059aaf22d47741c9573556b7d30116
107318d3c4144c27262caba1fd09a4627fcbc21928acf3bc63a1d152568e2bbe
3e870b7af534d63ad01eca7be85cde28aa41e493629651f82ef3864f71f3cfd5
1b5579df90fa18b5ffd9cfc757792c11ec9af5a642a8a2d4205908486ac466ba
433583c1e95eae40ee3f58268abce93330b0369e0e03547d69c769047441a7b7

Total reclaimed space: 5.668GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-0.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54377 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57934 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54377 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57934 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Failed: 2120 Error: Follow Failed: CLUSTERDOWN The cluster is down
Succeeded: 35504


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:43
cluster_stats_messages_pong_sent:42
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:86
cluster_stats_messages_ping_received:42
cluster_stats_messages_pong_received:44
cluster_stats_messages_received:86
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:43
cluster_stats_messages_pong_sent:45
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:89
cluster_stats_messages_ping_received:45
cluster_stats_messages_pong_received:44
cluster_stats_messages_received:89
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:44
cluster_stats_messages_pong_sent:46
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:91
cluster_stats_messages_ping_received:46
cluster_stats_messages_pong_received:45
cluster_stats_messages_received:91
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.497ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.541ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.461ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.355ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.363ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.385ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.440ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.733ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.470ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.513ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.404ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.352ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.551ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.374ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.504ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.500ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.346ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.660ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.594ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.951ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.279ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.646ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.769ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.882ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.433ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.809ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.247ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.223ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.315ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.940ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.390ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.689ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.729ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.131ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.520ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.792ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.729ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.511ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.411ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.528ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.605ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.440ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.350ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.558ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.430ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.561ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.615ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.616ms, rate sampling interval: 14ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.11ms    1.06ms   8.49ms   77.69%
    Req/Sec    20.68     40.37   166.00     76.77%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.96ms
 75.000%    5.59ms
 90.000%    6.30ms
 99.000%    8.49ms
 99.900%   11.85ms
 99.990%   25.44ms
 99.999%   29.36ms
100.000%   30.99ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.183     0.000000            1         1.00
       4.029     0.100000        10602         1.11
       4.323     0.200000        21181         1.25
       4.551     0.300000        31879         1.43
       4.755     0.400000        42353         1.67
       4.963     0.500000        52986         2.00
       5.071     0.550000        58317         2.22
       5.183     0.600000        63561         2.50
       5.307     0.650000        68822         2.86
       5.439     0.700000        74125         3.33
       5.587     0.750000        79434         4.00
       5.671     0.775000        82073         4.44
       5.767     0.800000        84730         5.00
       5.867     0.825000        87340         5.71
       5.987     0.850000        90002         6.67
       6.123     0.875000        92649         8.00
       6.203     0.887500        93963         8.89
       6.295     0.900000        95267        10.00
       6.395     0.912500        96584        11.43
       6.515     0.925000        97927        13.33
       6.651     0.937500        99216        16.00
       6.735     0.943750        99882        17.78
       6.827     0.950000       100538        20.00
       6.939     0.956250       101205        22.86
       7.067     0.962500       101877        26.67
       7.223     0.968750       102537        32.00
       7.331     0.971875       102855        35.56
       7.451     0.975000       103198        40.00
       7.591     0.978125       103521        45.71
       7.747     0.981250       103845        53.33
       7.963     0.984375       104179        64.00
       8.087     0.985938       104341        71.11
       8.231     0.987500       104510        80.00
       8.391     0.989062       104678        91.43
       8.583     0.990625       104841       106.67
       8.863     0.992188       105010       128.00
       9.007     0.992969       105087       142.22
       9.159     0.993750       105169       160.00
       9.335     0.994531       105252       182.86
       9.527     0.995313       105334       213.33
       9.775     0.996094       105417       256.00
       9.887     0.996484       105457       284.44
      10.063     0.996875       105499       320.00
      10.223     0.997266       105540       365.71
      10.479     0.997656       105582       426.67
      10.775     0.998047       105624       512.00
      10.935     0.998242       105643       568.89
      11.095     0.998437       105664       640.00
      11.287     0.998633       105685       731.43
      11.519     0.998828       105705       853.33
      11.927     0.999023       105726      1024.00
      12.199     0.999121       105736      1137.78
      12.575     0.999219       105747      1280.00
      13.175     0.999316       105757      1462.86
      13.999     0.999414       105767      1706.67
      15.319     0.999512       105778      2048.00
      15.863     0.999561       105783      2275.56
      16.911     0.999609       105789      2560.00
      18.175     0.999658       105793      2925.71
      18.415     0.999707       105798      3413.33
      19.743     0.999756       105804      4096.00
      20.879     0.999780       105806      4551.11
      21.743     0.999805       105809      5120.00
      21.999     0.999829       105811      5851.43
      23.471     0.999854       105814      6826.67
      25.167     0.999878       105817      8192.00
      25.439     0.999890       105818      9102.22
      25.887     0.999902       105819     10240.00
      26.063     0.999915       105820     11702.86
      26.143     0.999927       105822     13653.33
      26.639     0.999939       105823     16384.00
      26.991     0.999945       105824     18204.44
      26.991     0.999951       105824     20480.00
      27.215     0.999957       105825     23405.71
      27.775     0.999963       105826     27306.67
      27.775     0.999969       105826     32768.00
      28.111     0.999973       105827     36408.89
      28.111     0.999976       105827     40960.00
      28.111     0.999979       105827     46811.43
      29.359     0.999982       105828     54613.33
      29.359     0.999985       105828     65536.00
      29.359     0.999986       105828     72817.78
      29.359     0.999988       105828     81920.00
      29.359     0.999989       105828     93622.86
      30.991     0.999991       105829    109226.67
      30.991     1.000000       105829          inf
#[Mean    =        5.110, StdDeviation   =        1.059]
#[Max     =       30.976, Total count    =       105829]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115372 requests in 2.00m, 23.66MB read
Requests/sec:    961.35  
Transfer/sec:    201.85KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52548 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57294 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52548 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57294 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 8.506ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.469ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.786ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 9.676ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 8.341ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 10.966ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 13.082ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 13.084ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 11.993ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 10.529ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 9.364ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 13.464ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 14.933ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 11.551ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 12.320ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 4.444ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 9.511ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 11.786ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.874ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 11.163ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 12.795ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 13.389ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 8.977ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 9.333ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 13.752ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 9.371ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 10.115ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 14.523ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 10.005ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 10.779ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 9.577ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.350ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.641ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 9.278ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.954ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.171ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.619ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.416ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 11.448ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.179ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 9.782ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.137ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 9.312ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 10.949ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 11.054ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 10.641ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.170ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 9.821ms, rate sampling interval: 14ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     4.93ms    6.85ms  18.66ms   98.66%
    Req/Sec   107.40     85.61   357.00     62.11%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.03ms
 75.000%    4.71ms
 90.000%    5.93ms
 99.000%   18.66ms
 99.900%  115.39ms
 99.990%  158.72ms
 99.999%  202.88ms
100.000%  222.08ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.139     0.000000            1         1.00
       3.283     0.100000        55127         1.11
       3.493     0.200000       109906         1.25
       3.673     0.300000       165457         1.43
       3.845     0.400000       220399         1.67
       4.027     0.500000       275042         2.00
       4.131     0.550000       302621         2.22
       4.247     0.600000       329778         2.50
       4.379     0.650000       357743         2.86
       4.527     0.700000       385260         3.33
       4.711     0.750000       412612         4.00
       4.819     0.775000       425902         4.44
       4.955     0.800000       439881         5.00
       5.115     0.825000       453487         5.71
       5.319     0.850000       467207         6.67
       5.575     0.875000       480934         8.00
       5.739     0.887500       487718         8.89
       5.935     0.900000       494554        10.00
       6.171     0.912500       501463        11.43
       6.459     0.925000       508310        13.33
       6.811     0.937500       515153        16.00
       7.011     0.943750       518571        17.78
       7.239     0.950000       522048        20.00
       7.495     0.956250       525468        22.86
       7.807     0.962500       528887        26.67
       8.199     0.968750       532328        32.00
       8.447     0.971875       534055        35.56
       8.743     0.975000       535739        40.00
       9.135     0.978125       537461        45.71
       9.687     0.981250       539173        53.33
      10.575     0.984375       540901        64.00
      11.327     0.985938       541758        71.11
      12.647     0.987500       542607        80.00
      15.463     0.989062       543466        91.43
      21.199     0.990625       544325       106.67
      30.047     0.992188       545183       128.00
      34.879     0.992969       545612       142.22
      41.279     0.993750       546041       160.00
      48.479     0.994531       546471       182.86
      55.231     0.995313       546900       213.33
      63.423     0.996094       547330       256.00
      68.479     0.996484       547544       284.44
      73.343     0.996875       547758       320.00
      79.359     0.997266       547974       365.71
      85.823     0.997656       548190       426.67
      92.671     0.998047       548405       512.00
      97.599     0.998242       548510       568.89
     102.079     0.998437       548618       640.00
     106.559     0.998633       548724       731.43
     110.847     0.998828       548832       853.33
     116.159     0.999023       548939      1024.00
     118.591     0.999121       548993      1137.78
     121.599     0.999219       549046      1280.00
     125.567     0.999316       549100      1462.86
     129.407     0.999414       549155      1706.67
     133.887     0.999512       549207      2048.00
     136.191     0.999561       549235      2275.56
     138.111     0.999609       549261      2560.00
     140.159     0.999658       549288      2925.71
     143.103     0.999707       549315      3413.33
     145.407     0.999756       549341      4096.00
     146.943     0.999780       549355      4551.11
     148.735     0.999805       549369      5120.00
     150.783     0.999829       549383      5851.43
     152.959     0.999854       549395      6826.67
     156.799     0.999878       549408      8192.00
     157.823     0.999890       549415      9102.22
     159.487     0.999902       549422     10240.00
     161.663     0.999915       549429     11702.86
     163.967     0.999927       549435     13653.33
     165.887     0.999939       549443     16384.00
     166.655     0.999945       549445     18204.44
     168.575     0.999951       549449     20480.00
     172.159     0.999957       549452     23405.71
     174.847     0.999963       549456     27306.67
     177.919     0.999969       549459     32768.00
     178.047     0.999973       549460     36408.89
     184.831     0.999976       549462     40960.00
     187.647     0.999979       549464     46811.43
     191.103     0.999982       549465     54613.33
     197.375     0.999985       549467     65536.00
     199.167     0.999986       549468     72817.78
     199.807     0.999988       549469     81920.00
     202.879     0.999989       549470     93622.86
     202.879     0.999991       549470    109226.67
     204.159     0.999992       549471    131072.00
     207.231     0.999993       549472    145635.56
     207.231     0.999994       549472    163840.00
     208.895     0.999995       549473    187245.71
     208.895     0.999995       549473    218453.33
     208.895     0.999996       549473    262144.00
     209.151     0.999997       549474    291271.11
     209.151     0.999997       549474    327680.00
     209.151     0.999997       549474    374491.43
     209.151     0.999998       549474    436906.67
     209.151     0.999998       549474    524288.00
     222.079     0.999998       549475    582542.22
     222.079     1.000000       549475          inf
#[Mean    =        4.933, StdDeviation   =        6.849]
#[Max     =      221.952, Total count    =       549475]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599006 requests in 2.00m, 122.82MB read
Requests/sec:   4995.55  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43985 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54122 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43985 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54122 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1654.696ms, rate sampling interval: 5992ms
  Thread calibration: mean lat.: 1730.966ms, rate sampling interval: 6336ms
  Thread calibration: mean lat.: 1644.201ms, rate sampling interval: 5959ms
  Thread calibration: mean lat.: 1611.931ms, rate sampling interval: 6127ms
  Thread calibration: mean lat.: 1692.869ms, rate sampling interval: 6045ms
  Thread calibration: mean lat.: 1751.543ms, rate sampling interval: 6512ms
  Thread calibration: mean lat.: 1632.778ms, rate sampling interval: 5894ms
  Thread calibration: mean lat.: 1625.133ms, rate sampling interval: 6057ms
  Thread calibration: mean lat.: 1734.810ms, rate sampling interval: 6369ms
  Thread calibration: mean lat.: 1593.296ms, rate sampling interval: 5550ms
  Thread calibration: mean lat.: 1511.739ms, rate sampling interval: 5496ms
  Thread calibration: mean lat.: 1597.418ms, rate sampling interval: 6180ms
  Thread calibration: mean lat.: 1441.390ms, rate sampling interval: 5058ms
  Thread calibration: mean lat.: 1689.647ms, rate sampling interval: 6184ms
  Thread calibration: mean lat.: 1395.360ms, rate sampling interval: 5394ms
  Thread calibration: mean lat.: 1570.438ms, rate sampling interval: 5607ms
  Thread calibration: mean lat.: 1302.657ms, rate sampling interval: 4751ms
  Thread calibration: mean lat.: 1410.018ms, rate sampling interval: 5455ms
  Thread calibration: mean lat.: 1393.716ms, rate sampling interval: 5296ms
  Thread calibration: mean lat.: 1796.271ms, rate sampling interval: 6529ms
  Thread calibration: mean lat.: 1467.532ms, rate sampling interval: 5701ms
  Thread calibration: mean lat.: 1540.380ms, rate sampling interval: 5693ms
  Thread calibration: mean lat.: 1639.484ms, rate sampling interval: 5828ms
  Thread calibration: mean lat.: 1551.238ms, rate sampling interval: 5668ms
  Thread calibration: mean lat.: 1601.241ms, rate sampling interval: 6115ms
  Thread calibration: mean lat.: 1658.881ms, rate sampling interval: 5836ms
  Thread calibration: mean lat.: 1557.686ms, rate sampling interval: 5783ms
  Thread calibration: mean lat.: 1568.715ms, rate sampling interval: 5668ms
  Thread calibration: mean lat.: 1579.315ms, rate sampling interval: 6029ms
  Thread calibration: mean lat.: 1798.664ms, rate sampling interval: 6516ms
  Thread calibration: mean lat.: 1828.793ms, rate sampling interval: 6049ms
  Thread calibration: mean lat.: 1594.930ms, rate sampling interval: 5496ms
  Thread calibration: mean lat.: 1708.121ms, rate sampling interval: 6123ms
  Thread calibration: mean lat.: 1588.384ms, rate sampling interval: 5799ms
  Thread calibration: mean lat.: 1515.053ms, rate sampling interval: 5885ms
  Thread calibration: mean lat.: 1699.650ms, rate sampling interval: 6189ms
  Thread calibration: mean lat.: 1691.790ms, rate sampling interval: 6017ms
  Thread calibration: mean lat.: 1627.929ms, rate sampling interval: 5566ms
  Thread calibration: mean lat.: 1775.647ms, rate sampling interval: 6324ms
  Thread calibration: mean lat.: 1651.746ms, rate sampling interval: 6365ms
  Thread calibration: mean lat.: 1797.220ms, rate sampling interval: 6299ms
  Thread calibration: mean lat.: 1556.888ms, rate sampling interval: 5787ms
  Thread calibration: mean lat.: 1858.862ms, rate sampling interval: 6569ms
  Thread calibration: mean lat.: 1724.764ms, rate sampling interval: 6148ms
  Thread calibration: mean lat.: 1618.613ms, rate sampling interval: 5976ms
  Thread calibration: mean lat.: 1717.590ms, rate sampling interval: 6447ms
  Thread calibration: mean lat.: 1643.817ms, rate sampling interval: 5640ms
  Thread calibration: mean lat.: 1803.693ms, rate sampling interval: 6090ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    21.57s    10.57s   40.01s    58.11%
    Req/Sec   138.81      2.69   143.00     83.08%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   21.69s 
 75.000%   30.61s 
 90.000%   36.14s 
 99.000%   40.01s 
 99.900%   41.45s 
 99.990%   42.27s 
 99.999%   42.70s 
100.000%   42.80s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2283.519     0.000000            1         1.00
    6922.239     0.100000        73594         1.11
   10616.831     0.200000       147140         1.25
   14196.735     0.300000       220623         1.43
   17891.327     0.400000       294258         1.67
   21692.415     0.500000       367816         2.00
   23527.423     0.550000       404445         2.22
   25329.663     0.600000       441156         2.50
   27099.135     0.650000       478017         2.86
   28852.223     0.700000       514686         3.33
   30605.311     0.750000       551698         4.00
   31506.431     0.775000       570043         4.44
   32423.935     0.800000       588253         5.00
   33390.591     0.825000       606626         5.71
   34340.863     0.850000       624973         6.67
   35258.367     0.875000       643771         8.00
   35717.119     0.887500       653257         8.89
   36143.103     0.900000       661949        10.00
   36569.087     0.912500       671090        11.43
   36995.071     0.925000       680127        13.33
   37453.823     0.937500       689432        16.00
   37683.199     0.943750       693901        17.78
   37945.343     0.950000       699102        20.00
   38141.951     0.956250       703165        22.86
   38404.095     0.962500       707692        26.67
   38699.007     0.968750       712492        32.00
   38862.847     0.971875       715029        35.56
   39026.687     0.975000       717269        40.00
   39190.527     0.978125       719337        45.71
   39387.135     0.981250       721801        53.33
   39583.743     0.984375       723985        64.00
   39682.047     0.985938       724953        71.11
   39813.119     0.987500       726142        80.00
   39944.191     0.989062       727457        91.43
   40075.263     0.990625       728388       106.67
   40239.103     0.992188       729586       128.00
   40304.639     0.992969       730088       142.22
   40402.943     0.993750       730739       160.00
   40501.247     0.994531       731338       182.86
   40599.551     0.995313       731862       213.33
   40730.623     0.996094       732449       256.00
   40796.159     0.996484       732679       284.44
   40894.463     0.996875       733061       320.00
   40959.999     0.997266       733284       365.71
   41058.303     0.997656       733600       426.67
   41123.839     0.998047       733836       512.00
   41189.375     0.998242       734003       568.89
   41254.911     0.998437       734178       640.00
   41287.679     0.998633       734262       731.43
   41385.983     0.998828       734446       853.33
   41451.519     0.999023       734542      1024.00
   41517.055     0.999121       734651      1137.78
   41549.823     0.999219       734685      1280.00
   41648.127     0.999316       734771      1462.86
   41713.663     0.999414       734849      1706.67
   41779.199     0.999512       734914      2048.00
   41811.967     0.999561       734947      2275.56
   41844.735     0.999609       734971      2560.00
   41910.271     0.999658       735016      2925.71
   41975.807     0.999707       735060      3413.33
   42041.343     0.999756       735096      4096.00
   42041.343     0.999780       735096      4551.11
   42074.111     0.999805       735119      5120.00
   42106.879     0.999829       735135      5851.43
   42172.415     0.999854       735157      6826.67
   42237.951     0.999878       735174      8192.00
   42270.719     0.999890       735183      9102.22
   42303.487     0.999902       735193     10240.00
   42336.255     0.999915       735204     11702.86
   42336.255     0.999927       735204     13653.33
   42401.791     0.999939       735214     16384.00
   42434.559     0.999945       735226     18204.44
   42434.559     0.999951       735226     20480.00
   42434.559     0.999957       735226     23405.71
   42467.327     0.999963       735231     27306.67
   42500.095     0.999969       735236     32768.00
   42532.863     0.999973       735238     36408.89
   42565.631     0.999976       735242     40960.00
   42565.631     0.999979       735242     46811.43
   42598.399     0.999982       735244     54613.33
   42631.167     0.999985       735246     65536.00
   42663.935     0.999986       735248     72817.78
   42696.703     0.999988       735250     81920.00
   42696.703     0.999989       735250     93622.86
   42729.471     0.999991       735252    109226.67
   42729.471     0.999992       735252    131072.00
   42729.471     0.999993       735252    145635.56
   42762.239     0.999994       735255    163840.00
   42762.239     0.999995       735255    187245.71
   42762.239     0.999995       735255    218453.33
   42762.239     0.999996       735255    262144.00
   42762.239     0.999997       735255    291271.11
   42762.239     0.999997       735255    327680.00
   42795.007     0.999997       735257    374491.43
   42795.007     1.000000       735257          inf
#[Mean    =    21568.315, StdDeviation   =    10566.412]
#[Max     =    42762.240, Total count    =       735257]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  801666 requests in 2.00m, 164.37MB read
Requests/sec:   6685.28  
Transfer/sec:      1.37MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 29770 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50533 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 29770 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50533 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.833ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.624ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.679ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.740ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.451ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.575ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.687ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.577ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.644ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.531ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.860ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.629ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.629ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.568ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.505ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.689ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.693ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.522ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.699ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.735ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.757ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.642ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.526ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.670ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.607ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.774ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.441ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.687ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.570ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.829ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.615ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.655ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.540ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.578ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.721ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.799ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.622ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.443ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.808ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.657ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.657ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.616ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.599ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.595ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.709ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.424ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.550ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.487ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.33ms    2.72ms  17.01ms   66.89%
    Req/Sec    20.61     37.52   142.00     73.92%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.27ms
 75.000%   11.09ms
 90.000%   12.64ms
 99.000%   17.01ms
 99.900%   23.26ms
 99.990%   33.57ms
 99.999%   39.71ms
100.000%   41.66ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.299     0.000000            1         1.00
       6.071     0.100000        10589         1.11
       6.695     0.200000        21234         1.25
       7.431     0.300000        31753         1.43
       8.423     0.400000        42330         1.67
       9.271     0.500000        53025         2.00
       9.639     0.550000        58242         2.22
       9.991     0.600000        63524         2.50
      10.343     0.650000        68849         2.86
      10.703     0.700000        74161         3.33
      11.087     0.750000        79471         4.00
      11.287     0.775000        82057         4.44
      11.511     0.800000        84744         5.00
      11.743     0.825000        87350         5.71
      11.999     0.850000        89952         6.67
      12.295     0.875000        92640         8.00
      12.455     0.887500        93945         8.89
      12.639     0.900000        95254        10.00
      12.831     0.912500        96583        11.43
      13.071     0.925000        97913        13.33
      13.351     0.937500        99226        16.00
      13.511     0.943750        99872        17.78
      13.695     0.950000       100544        20.00
      13.919     0.956250       101214        22.86
      14.175     0.962500       101868        26.67
      14.495     0.968750       102526        32.00
      14.671     0.971875       102853        35.56
      14.911     0.975000       103176        40.00
      15.199     0.978125       103509        45.71
      15.543     0.981250       103846        53.33
      15.927     0.984375       104171        64.00
      16.175     0.985938       104338        71.11
      16.479     0.987500       104502        80.00
      16.799     0.989062       104666        91.43
      17.183     0.990625       104829       106.67
      17.647     0.992188       104997       128.00
      17.919     0.992969       105078       142.22
      18.287     0.993750       105162       160.00
      18.591     0.994531       105245       182.86
      18.959     0.995313       105325       213.33
      19.567     0.996094       105409       256.00
      19.855     0.996484       105449       284.44
      20.271     0.996875       105496       320.00
      20.591     0.997266       105533       365.71
      20.943     0.997656       105574       426.67
      21.359     0.998047       105615       512.00
      21.647     0.998242       105637       568.89
      22.063     0.998437       105656       640.00
      22.303     0.998633       105677       731.43
      22.703     0.998828       105697       853.33
      23.343     0.999023       105720      1024.00
      23.631     0.999121       105728      1137.78
      23.935     0.999219       105741      1280.00
      24.399     0.999316       105750      1462.86
      24.927     0.999414       105759      1706.67
      25.599     0.999512       105770      2048.00
      26.527     0.999561       105776      2275.56
      26.655     0.999609       105780      2560.00
      27.615     0.999658       105785      2925.71
      28.431     0.999707       105790      3413.33
      28.831     0.999756       105796      4096.00
      28.975     0.999780       105798      4551.11
      30.031     0.999805       105801      5120.00
      30.159     0.999829       105803      5851.43
      31.263     0.999854       105806      6826.67
      32.607     0.999878       105809      8192.00
      33.567     0.999890       105810      9102.22
      33.599     0.999902       105811     10240.00
      34.079     0.999915       105812     11702.86
      34.687     0.999927       105814     13653.33
      34.847     0.999939       105815     16384.00
      36.479     0.999945       105816     18204.44
      36.479     0.999951       105816     20480.00
      36.639     0.999957       105817     23405.71
      38.303     0.999963       105818     27306.67
      38.303     0.999969       105818     32768.00
      38.431     0.999973       105819     36408.89
      38.431     0.999976       105819     40960.00
      38.431     0.999979       105819     46811.43
      39.711     0.999982       105820     54613.33
      39.711     0.999985       105820     65536.00
      39.711     0.999986       105820     72817.78
      39.711     0.999988       105820     81920.00
      39.711     0.999989       105820     93622.86
      41.663     0.999991       105821    109226.67
      41.663     1.000000       105821          inf
#[Mean    =        9.328, StdDeviation   =        2.721]
#[Max     =       41.632, Total count    =       105821]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115348 requests in 2.00m, 1.56GB read
Requests/sec:    961.16  
Transfer/sec:     13.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33842 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49086 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33842 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49086 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.291ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.945ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.980ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.268ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.209ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.982ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.387ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.161ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.414ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.424ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.224ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.208ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.900ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.252ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.073ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.899ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.209ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.083ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.304ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.103ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.095ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.187ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.401ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.113ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.807ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.302ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.510ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.151ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.062ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.382ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.183ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.253ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.066ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.399ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.003ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.959ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.899ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.520ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.462ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.036ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.246ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.078ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.187ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.849ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.128ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.008ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.394ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.322ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.14ms    2.25ms  15.24ms   80.68%
    Req/Sec   106.60     73.13   315.00     72.67%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.53ms
 75.000%    7.90ms
 90.000%   10.07ms
 99.000%   15.24ms
 99.900%   20.53ms
 99.990%   26.06ms
 99.999%   32.77ms
100.000%   45.50ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.803     0.000000            1         1.00
       5.119     0.100000        55068         1.11
       5.527     0.200000       110434         1.25
       5.855     0.300000       165420         1.43
       6.175     0.400000       220153         1.67
       6.527     0.500000       275247         2.00
       6.727     0.550000       302758         2.22
       6.947     0.600000       329855         2.50
       7.203     0.650000       357225         2.86
       7.515     0.700000       384911         3.33
       7.899     0.750000       412255         4.00
       8.127     0.775000       425951         4.44
       8.399     0.800000       439908         5.00
       8.711     0.825000       453611         5.71
       9.079     0.850000       467252         6.67
       9.527     0.875000       481038         8.00
       9.783     0.887500       487886         8.89
      10.071     0.900000       494758        10.00
      10.391     0.912500       501543        11.43
      10.759     0.925000       508448        13.33
      11.175     0.937500       515248        16.00
      11.415     0.943750       518731        17.78
      11.671     0.950000       522063        20.00
      11.967     0.956250       525537        22.86
      12.303     0.962500       528943        26.67
      12.703     0.968750       532372        32.00
      12.935     0.971875       534095        35.56
      13.191     0.975000       535834        40.00
      13.479     0.978125       537522        45.71
      13.823     0.981250       539263        53.33
      14.239     0.984375       540964        64.00
      14.471     0.985938       541814        71.11
      14.735     0.987500       542682        80.00
      15.031     0.989062       543541        91.43
      15.383     0.990625       544385       106.67
      15.807     0.992188       545251       128.00
      16.047     0.992969       545679       142.22
      16.311     0.993750       546104       160.00
      16.655     0.994531       546539       182.86
      17.023     0.995313       546969       213.33
      17.455     0.996094       547388       256.00
      17.711     0.996484       547607       284.44
      17.967     0.996875       547827       320.00
      18.303     0.997266       548030       365.71
      18.639     0.997656       548250       426.67
      19.007     0.998047       548464       512.00
      19.279     0.998242       548572       568.89
      19.503     0.998437       548674       640.00
      19.807     0.998633       548787       731.43
      20.143     0.998828       548890       853.33
      20.575     0.999023       548999      1024.00
      20.815     0.999121       549051      1137.78
      21.087     0.999219       549104      1280.00
      21.407     0.999316       549158      1462.86
      21.727     0.999414       549214      1706.67
      22.063     0.999512       549266      2048.00
      22.335     0.999561       549292      2275.56
      22.767     0.999609       549318      2560.00
      23.023     0.999658       549345      2925.71
      23.375     0.999707       549372      3413.33
      23.967     0.999756       549398      4096.00
      24.223     0.999780       549413      4551.11
      24.511     0.999805       549425      5120.00
      24.927     0.999829       549440      5851.43
      25.151     0.999854       549452      6826.67
      25.471     0.999878       549465      8192.00
      25.951     0.999890       549472      9102.22
      26.207     0.999902       549480     10240.00
      26.591     0.999915       549486     11702.86
      26.783     0.999927       549492     13653.33
      27.151     0.999939       549499     16384.00
      27.551     0.999945       549502     18204.44
      28.223     0.999951       549506     20480.00
      28.575     0.999957       549510     23405.71
      29.311     0.999963       549512     27306.67
      29.759     0.999969       549516     32768.00
      30.127     0.999973       549517     36408.89
      30.191     0.999976       549519     40960.00
      30.447     0.999979       549521     46811.43
      30.559     0.999982       549522     54613.33
      31.311     0.999985       549524     65536.00
      31.375     0.999986       549525     72817.78
      32.719     0.999988       549526     81920.00
      32.767     0.999989       549527     93622.86
      32.767     0.999991       549527    109226.67
      35.071     0.999992       549528    131072.00
      37.471     0.999993       549529    145635.56
      37.471     0.999994       549529    163840.00
      39.199     0.999995       549530    187245.71
      39.199     0.999995       549530    218453.33
      39.199     0.999996       549530    262144.00
      43.551     0.999997       549531    291271.11
      43.551     0.999997       549531    327680.00
      43.551     0.999997       549531    374491.43
      43.551     0.999998       549531    436906.67
      43.551     0.999998       549531    524288.00
      45.503     0.999998       549532    582542.22
      45.503     1.000000       549532          inf
#[Mean    =        7.143, StdDeviation   =        2.249]
#[Max     =       45.472, Total count    =       549532]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599154 requests in 2.00m, 8.10GB read
Requests/sec:   4995.83  
Transfer/sec:     69.12MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33747 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48185 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33747 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48185 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 578.340ms, rate sampling interval: 2242ms
  Thread calibration: mean lat.: 690.745ms, rate sampling interval: 2437ms
  Thread calibration: mean lat.: 613.144ms, rate sampling interval: 2375ms
  Thread calibration: mean lat.: 378.352ms, rate sampling interval: 1377ms
  Thread calibration: mean lat.: 676.115ms, rate sampling interval: 2662ms
  Thread calibration: mean lat.: 567.513ms, rate sampling interval: 2861ms
  Thread calibration: mean lat.: 709.075ms, rate sampling interval: 2140ms
  Thread calibration: mean lat.: 869.685ms, rate sampling interval: 3256ms
  Thread calibration: mean lat.: 1096.065ms, rate sampling interval: 4057ms
  Thread calibration: mean lat.: 1152.854ms, rate sampling interval: 3594ms
  Thread calibration: mean lat.: 505.293ms, rate sampling interval: 1994ms
  Thread calibration: mean lat.: 344.694ms, rate sampling interval: 1480ms
  Thread calibration: mean lat.: 476.714ms, rate sampling interval: 1912ms
  Thread calibration: mean lat.: 467.409ms, rate sampling interval: 2154ms
  Thread calibration: mean lat.: 622.097ms, rate sampling interval: 2686ms
  Thread calibration: mean lat.: 606.896ms, rate sampling interval: 2357ms
  Thread calibration: mean lat.: 667.059ms, rate sampling interval: 2783ms
  Thread calibration: mean lat.: 732.832ms, rate sampling interval: 2539ms
  Thread calibration: mean lat.: 895.921ms, rate sampling interval: 4091ms
  Thread calibration: mean lat.: 1146.446ms, rate sampling interval: 4218ms
  Thread calibration: mean lat.: 603.525ms, rate sampling interval: 3155ms
  Thread calibration: mean lat.: 980.015ms, rate sampling interval: 4007ms
  Thread calibration: mean lat.: 539.395ms, rate sampling interval: 2779ms
  Thread calibration: mean lat.: 544.778ms, rate sampling interval: 2199ms
  Thread calibration: mean lat.: 342.980ms, rate sampling interval: 1525ms
  Thread calibration: mean lat.: 423.999ms, rate sampling interval: 1701ms
  Thread calibration: mean lat.: 505.814ms, rate sampling interval: 1983ms
  Thread calibration: mean lat.: 499.238ms, rate sampling interval: 1564ms
  Thread calibration: mean lat.: 734.769ms, rate sampling interval: 3024ms
  Thread calibration: mean lat.: 504.188ms, rate sampling interval: 3115ms
  Thread calibration: mean lat.: 856.879ms, rate sampling interval: 3588ms
  Thread calibration: mean lat.: 1513.655ms, rate sampling interval: 6971ms
  Thread calibration: mean lat.: 968.196ms, rate sampling interval: 3575ms
  Thread calibration: mean lat.: 875.523ms, rate sampling interval: 3784ms
  Thread calibration: mean lat.: 574.918ms, rate sampling interval: 2373ms
  Thread calibration: mean lat.: 650.719ms, rate sampling interval: 3350ms
  Thread calibration: mean lat.: 695.887ms, rate sampling interval: 3016ms
  Thread calibration: mean lat.: 1000.205ms, rate sampling interval: 4722ms
  Thread calibration: mean lat.: 603.066ms, rate sampling interval: 2615ms
  Thread calibration: mean lat.: 484.949ms, rate sampling interval: 1534ms
  Thread calibration: mean lat.: 810.613ms, rate sampling interval: 3719ms
  Thread calibration: mean lat.: 622.065ms, rate sampling interval: 2746ms
  Thread calibration: mean lat.: 840.703ms, rate sampling interval: 2885ms
  Thread calibration: mean lat.: 1306.857ms, rate sampling interval: 6836ms
  Thread calibration: mean lat.: 421.561ms, rate sampling interval: 1835ms
  Thread calibration: mean lat.: 476.345ms, rate sampling interval: 1695ms
  Thread calibration: mean lat.: 574.645ms, rate sampling interval: 2115ms
  Thread calibration: mean lat.: 526.444ms, rate sampling interval: 1883ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     4.19s     6.43s   32.41s    88.37%
    Req/Sec   196.60     13.39   217.00     78.67%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.43s 
 75.000%    5.66s 
 90.000%   11.67s 
 99.000%   32.41s 
 99.900%   44.60s 
 99.990%   47.28s 
 99.999%   47.78s 
100.000%   47.81s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       4.375     0.000000            1         1.00
      86.207     0.100000       102181         1.11
     199.039     0.200000       204438         1.25
     403.199     0.300000       306599         1.43
     787.967     0.400000       408711         1.67
    1425.407     0.500000       510986         2.00
    1873.919     0.550000       562063         2.22
    2473.983     0.600000       613129         2.50
    3264.511     0.650000       664157         2.86
    4358.143     0.700000       715345         3.33
    5664.767     0.750000       766412         4.00
    6397.951     0.775000       791926         4.44
    7106.559     0.800000       817512         5.00
    7983.103     0.825000       843057         5.71
    9003.007     0.850000       868524         6.67
   10149.887     0.875000       894086         8.00
   10821.631     0.887500       906824         8.89
   11665.407     0.900000       919595        10.00
   12656.639     0.912500       932388        11.43
   13762.559     0.925000       945132        13.33
   15138.815     0.937500       957933        16.00
   15974.399     0.943750       964305        17.78
   16908.287     0.950000       970754        20.00
   17858.559     0.956250       977114        22.86
   19120.127     0.962500       983458        26.67
   20709.375     0.968750       989847        32.00
   21839.871     0.971875       993077        35.56
   22970.367     0.975000       996220        40.00
   24313.855     0.978125       999419        45.71
   26017.791     0.981250      1002604        53.33
   28114.943     0.984375      1005810        64.00
   29229.055     0.985938      1007405        71.11
   30310.399     0.987500      1009006        80.00
   31621.119     0.989062      1010600        91.43
   32915.455     0.990625      1012190       106.67
   34504.703     0.992188      1013827       128.00
   35389.439     0.992969      1014582       142.22
   36438.015     0.993750      1015379       160.00
   37486.591     0.994531      1016179       182.86
   38666.239     0.995313      1016985       213.33
   40009.727     0.996094      1017780       256.00
   40534.015     0.996484      1018188       284.44
   41189.375     0.996875      1018586       320.00
   41811.967     0.997266      1018983       365.71
   42401.791     0.997656      1019384       426.67
   42991.615     0.998047      1019773       512.00
   43253.759     0.998242      1019971       568.89
   43614.207     0.998437      1020169       640.00
   44007.423     0.998633      1020370       731.43
   44302.335     0.998828      1020565       853.33
   44597.247     0.999023      1020765      1024.00
   44761.087     0.999121      1020871      1137.78
   44892.159     0.999219      1020972      1280.00
   45088.767     0.999316      1021065      1462.86
   45449.215     0.999414      1021171      1706.67
   45776.895     0.999512      1021269      2048.00
   45875.199     0.999561      1021325      2275.56
   45973.503     0.999609      1021372      2560.00
   46071.807     0.999658      1021416      2925.71
   46235.647     0.999707      1021471      3413.33
   46366.719     0.999756      1021514      4096.00
   46563.327     0.999780      1021540      4551.11
   46759.935     0.999805      1021562      5120.00
   46923.775     0.999829      1021591      5851.43
   47054.847     0.999854      1021622      6826.67
   47153.151     0.999878      1021640      8192.00
   47251.455     0.999890      1021654      9102.22
   47316.991     0.999902      1021667     10240.00
   47382.527     0.999915      1021680     11702.86
   47415.295     0.999927      1021690     13653.33
   47480.831     0.999939      1021704     16384.00
   47513.599     0.999945      1021714     18204.44
   47513.599     0.999951      1021714     20480.00
   47546.367     0.999957      1021726     23405.71
   47546.367     0.999963      1021726     27306.67
   47579.135     0.999969      1021733     32768.00
   47579.135     0.999973      1021733     36408.89
   47611.903     0.999976      1021739     40960.00
   47644.671     0.999979      1021741     46811.43
   47677.439     0.999982      1021743     54613.33
   47710.207     0.999985      1021746     65536.00
   47742.975     0.999986      1021747     72817.78
   47775.743     0.999988      1021752     81920.00
   47775.743     0.999989      1021752     93622.86
   47775.743     0.999991      1021752    109226.67
   47808.511     0.999992      1021761    131072.00
   47808.511     1.000000      1021761          inf
#[Mean    =     4186.806, StdDeviation   =     6432.760]
#[Max     =    47775.744, Total count    =      1021761]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1109854 requests in 2.00m, 15.00GB read
Requests/sec:   9255.06  
Transfer/sec:    128.06MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 31936 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45268 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 31936 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45268 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.705ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.424ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.804ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.568ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.693ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.910ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.522ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.763ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.957ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.582ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.963ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.859ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.805ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.578ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.680ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.952ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.736ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.553ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.782ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.529ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.342ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.632ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.942ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.139ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.492ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.620ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.724ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.854ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.825ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.821ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.503ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 10.053ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.564ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.547ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.932ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.328ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.596ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.451ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.831ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.296ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.656ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.526ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.465ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.741ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.592ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.466ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.861ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.993ms, rate sampling interval: 26ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.17ms    2.41ms  16.11ms   71.44%
    Req/Sec    20.32     28.90   120.00     91.07%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.01ms
 75.000%   10.55ms
 90.000%   12.16ms
 99.000%   16.11ms
 99.900%   20.98ms
 99.990%   26.03ms
 99.999%   30.93ms
100.000%   36.00ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.919     0.000000            1         1.00
       6.243     0.100000        10608         1.11
       7.227     0.200000        21207         1.25
       7.895     0.300000        31786         1.43
       8.471     0.400000        42474         1.67
       9.007     0.500000        52927         2.00
       9.279     0.550000        58256         2.22
       9.559     0.600000        63510         2.50
       9.863     0.650000        68828         2.86
      10.183     0.700000        74141         3.33
      10.551     0.750000        79435         4.00
      10.751     0.775000        82069         4.44
      10.967     0.800000        84675         5.00
      11.207     0.825000        87337         5.71
      11.479     0.850000        89971         6.67
      11.783     0.875000        92614         8.00
      11.959     0.887500        93929         8.89
      12.159     0.900000        95266        10.00
      12.367     0.912500        96573        11.43
      12.623     0.925000        97891        13.33
      12.903     0.937500        99239        16.00
      13.063     0.943750        99877        17.78
      13.263     0.950000       100559        20.00
      13.463     0.956250       101197        22.86
      13.711     0.962500       101869        26.67
      14.015     0.968750       102524        32.00
      14.207     0.971875       102856        35.56
      14.399     0.975000       103177        40.00
      14.647     0.978125       103524        45.71
      14.919     0.981250       103840        53.33
      15.239     0.984375       104167        64.00
      15.423     0.985938       104332        71.11
      15.663     0.987500       104501        80.00
      15.935     0.989062       104666        91.43
      16.247     0.990625       104828       106.67
      16.623     0.992188       104996       128.00
      16.911     0.992969       105076       142.22
      17.167     0.993750       105159       160.00
      17.487     0.994531       105243       182.86
      17.775     0.995313       105325       213.33
      18.095     0.996094       105408       256.00
      18.399     0.996484       105452       284.44
      18.655     0.996875       105490       320.00
      18.959     0.997266       105531       365.71
      19.343     0.997656       105573       426.67
      19.743     0.998047       105614       512.00
      19.919     0.998242       105634       568.89
      20.143     0.998437       105655       640.00
      20.367     0.998633       105676       731.43
      20.591     0.998828       105696       853.33
      21.023     0.999023       105717      1024.00
      21.359     0.999121       105727      1137.78
      21.775     0.999219       105738      1280.00
      22.095     0.999316       105749      1462.86
      22.559     0.999414       105759      1706.67
      23.071     0.999512       105769      2048.00
      23.391     0.999561       105774      2275.56
      23.551     0.999609       105779      2560.00
      23.807     0.999658       105784      2925.71
      24.015     0.999707       105790      3413.33
      24.479     0.999756       105795      4096.00
      24.671     0.999780       105797      4551.11
      25.135     0.999805       105800      5120.00
      25.231     0.999829       105803      5851.43
      25.327     0.999854       105805      6826.67
      25.935     0.999878       105808      8192.00
      26.031     0.999890       105809      9102.22
      26.095     0.999902       105810     10240.00
      26.191     0.999915       105811     11702.86
      26.335     0.999927       105813     13653.33
      26.399     0.999939       105814     16384.00
      26.623     0.999945       105815     18204.44
      26.623     0.999951       105815     20480.00
      26.719     0.999957       105816     23405.71
      27.199     0.999963       105817     27306.67
      27.199     0.999969       105817     32768.00
      27.519     0.999973       105818     36408.89
      27.519     0.999976       105818     40960.00
      27.519     0.999979       105818     46811.43
      30.927     0.999982       105819     54613.33
      30.927     0.999985       105819     65536.00
      30.927     0.999986       105819     72817.78
      30.927     0.999988       105819     81920.00
      30.927     0.999989       105819     93622.86
      35.999     0.999991       105820    109226.67
      35.999     1.000000       105820          inf
#[Mean    =        9.166, StdDeviation   =        2.415]
#[Max     =       35.968, Total count    =       105820]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115367 requests in 2.00m, 1.41GB read
Requests/sec:    961.42  
Transfer/sec:     12.04MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 32880 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46994 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 32880 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46994 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.327ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.028ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.497ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.395ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.155ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.510ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.092ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.789ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.790ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.949ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.444ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.515ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.460ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.272ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.447ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.598ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.539ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.410ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.946ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.025ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.454ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.885ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.317ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.544ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.774ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.388ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.807ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.435ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.615ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.856ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.403ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.446ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.421ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.449ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.529ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.548ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.546ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.539ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.482ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.220ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.329ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.590ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.606ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.331ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.437ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.481ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.398ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.347ms, rate sampling interval: 17ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.56ms    2.28ms  14.61ms   79.16%
    Req/Sec   106.75     76.97   315.00     70.42%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.02ms
 75.000%    7.41ms
 90.000%    9.39ms
 99.000%   14.61ms
 99.900%   21.02ms
 99.990%   30.64ms
 99.999%   37.50ms
100.000%   43.39ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.447     0.000000            1         1.00
       4.399     0.100000        55260         1.11
       4.863     0.200000       110054         1.25
       5.255     0.300000       165303         1.43
       5.627     0.400000       219915         1.67
       6.023     0.500000       274894         2.00
       6.243     0.550000       302626         2.22
       6.479     0.600000       329931         2.50
       6.747     0.650000       357410         2.86
       7.051     0.700000       384879         3.33
       7.415     0.750000       412310         4.00
       7.631     0.775000       425909         4.44
       7.875     0.800000       439606         5.00
       8.163     0.825000       453431         5.71
       8.495     0.850000       467217         6.67
       8.903     0.875000       481041         8.00
       9.135     0.887500       487872         8.89
       9.391     0.900000       494542        10.00
       9.695     0.912500       501485        11.43
      10.039     0.925000       508289        13.33
      10.447     0.937500       515151        16.00
      10.695     0.943750       518699        17.78
      10.951     0.950000       522058        20.00
      11.247     0.956250       525483        22.86
      11.599     0.962500       528959        26.67
      11.999     0.968750       532334        32.00
      12.247     0.971875       534080        35.56
      12.503     0.975000       535775        40.00
      12.799     0.978125       537479        45.71
      13.151     0.981250       539209        53.33
      13.575     0.984375       540922        64.00
      13.807     0.985938       541792        71.11
      14.071     0.987500       542637        80.00
      14.391     0.989062       543501        91.43
      14.759     0.990625       544341       106.67
      15.199     0.992188       545209       128.00
      15.455     0.992969       545638       142.22
      15.759     0.993750       546065       160.00
      16.087     0.994531       546493       182.86
      16.495     0.995313       546929       213.33
      16.959     0.996094       547350       256.00
      17.247     0.996484       547564       284.44
      17.583     0.996875       547775       320.00
      17.951     0.997266       547992       365.71
      18.399     0.997656       548205       426.67
      18.927     0.998047       548418       512.00
      19.231     0.998242       548528       568.89
      19.631     0.998437       548633       640.00
      19.999     0.998633       548743       731.43
      20.511     0.998828       548848       853.33
      21.119     0.999023       548957      1024.00
      21.535     0.999121       549009      1137.78
      21.935     0.999219       549062      1280.00
      22.415     0.999316       549118      1462.86
      22.959     0.999414       549170      1706.67
      23.695     0.999512       549223      2048.00
      24.191     0.999561       549250      2275.56
      24.671     0.999609       549277      2560.00
      25.231     0.999658       549304      2925.71
      25.855     0.999707       549332      3413.33
      26.463     0.999756       549357      4096.00
      27.039     0.999780       549371      4551.11
      27.759     0.999805       549385      5120.00
      28.159     0.999829       549398      5851.43
      28.623     0.999854       549411      6826.67
      29.503     0.999878       549424      8192.00
      30.287     0.999890       549431      9102.22
      30.687     0.999902       549439     10240.00
      31.135     0.999915       549445     11702.86
      31.807     0.999927       549451     13653.33
      32.335     0.999939       549458     16384.00
      32.671     0.999945       549461     18204.44
      33.183     0.999951       549465     20480.00
      33.951     0.999957       549469     23405.71
      34.111     0.999963       549471     27306.67
      34.591     0.999969       549475     32768.00
      34.975     0.999973       549476     36408.89
      36.127     0.999976       549478     40960.00
      36.671     0.999979       549480     46811.43
      36.863     0.999982       549481     54613.33
      36.959     0.999985       549483     65536.00
      36.991     0.999986       549484     72817.78
      37.247     0.999988       549485     81920.00
      37.503     0.999989       549486     93622.86
      37.503     0.999991       549486    109226.67
      38.271     0.999992       549487    131072.00
      38.655     0.999993       549488    145635.56
      38.655     0.999994       549488    163840.00
      39.167     0.999995       549489    187245.71
      39.167     0.999995       549489    218453.33
      39.167     0.999996       549489    262144.00
      40.767     0.999997       549490    291271.11
      40.767     0.999997       549490    327680.00
      40.767     0.999997       549490    374491.43
      40.767     0.999998       549490    436906.67
      40.767     0.999998       549490    524288.00
      43.391     0.999998       549491    582542.22
      43.391     1.000000       549491          inf
#[Mean    =        6.563, StdDeviation   =        2.280]
#[Max     =       43.360, Total count    =       549491]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599230 requests in 2.00m, 7.32GB read
Requests/sec:   4996.84  
Transfer/sec:     62.54MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 31959 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45753 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 31959 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45753 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1422.924ms, rate sampling interval: 5591ms
  Thread calibration: mean lat.: 1953.967ms, rate sampling interval: 7102ms
  Thread calibration: mean lat.: 1382.190ms, rate sampling interval: 6737ms
  Thread calibration: mean lat.: 844.713ms, rate sampling interval: 5398ms
  Thread calibration: mean lat.: 1306.520ms, rate sampling interval: 5910ms
  Thread calibration: mean lat.: 2158.837ms, rate sampling interval: 8216ms
  Thread calibration: mean lat.: 1986.119ms, rate sampling interval: 7086ms
  Thread calibration: mean lat.: 1737.992ms, rate sampling interval: 7426ms
  Thread calibration: mean lat.: 2004.547ms, rate sampling interval: 7655ms
  Thread calibration: mean lat.: 1177.491ms, rate sampling interval: 5062ms
  Thread calibration: mean lat.: 1385.865ms, rate sampling interval: 5509ms
  Thread calibration: mean lat.: 1394.915ms, rate sampling interval: 7987ms
  Thread calibration: mean lat.: 1574.144ms, rate sampling interval: 7135ms
  Thread calibration: mean lat.: 894.621ms, rate sampling interval: 4534ms
  Thread calibration: mean lat.: 1829.906ms, rate sampling interval: 8204ms
  Thread calibration: mean lat.: 1891.416ms, rate sampling interval: 7167ms
  Thread calibration: mean lat.: 847.225ms, rate sampling interval: 3813ms
  Thread calibration: mean lat.: 1604.600ms, rate sampling interval: 7041ms
  Thread calibration: mean lat.: 1256.600ms, rate sampling interval: 6172ms
  Thread calibration: mean lat.: 846.656ms, rate sampling interval: 3745ms
  Thread calibration: mean lat.: 1366.637ms, rate sampling interval: 6205ms
  Thread calibration: mean lat.: 1630.475ms, rate sampling interval: 7811ms
  Thread calibration: mean lat.: 1087.068ms, rate sampling interval: 3930ms
  Thread calibration: mean lat.: 811.938ms, rate sampling interval: 3645ms
  Thread calibration: mean lat.: 2043.535ms, rate sampling interval: 7405ms
  Thread calibration: mean lat.: 1431.876ms, rate sampling interval: 7708ms
  Thread calibration: mean lat.: 1299.544ms, rate sampling interval: 6201ms
  Thread calibration: mean lat.: 1712.705ms, rate sampling interval: 7512ms
  Thread calibration: mean lat.: 1124.035ms, rate sampling interval: 6180ms
  Thread calibration: mean lat.: 1349.405ms, rate sampling interval: 6877ms
  Thread calibration: mean lat.: 1218.640ms, rate sampling interval: 6103ms
  Thread calibration: mean lat.: 1447.428ms, rate sampling interval: 6922ms
  Thread calibration: mean lat.: 1579.570ms, rate sampling interval: 6127ms
  Thread calibration: mean lat.: 1434.151ms, rate sampling interval: 7041ms
  Thread calibration: mean lat.: 1713.780ms, rate sampling interval: 6803ms
  Thread calibration: mean lat.: 1358.286ms, rate sampling interval: 6389ms
  Thread calibration: mean lat.: 1136.008ms, rate sampling interval: 4567ms
  Thread calibration: mean lat.: 2171.315ms, rate sampling interval: 9469ms
  Thread calibration: mean lat.: 1792.950ms, rate sampling interval: 7045ms
  Thread calibration: mean lat.: 1597.313ms, rate sampling interval: 6832ms
  Thread calibration: mean lat.: 1290.389ms, rate sampling interval: 5521ms
  Thread calibration: mean lat.: 1400.635ms, rate sampling interval: 5103ms
  Thread calibration: mean lat.: 1556.797ms, rate sampling interval: 5824ms
  Thread calibration: mean lat.: 2075.907ms, rate sampling interval: 8798ms
  Thread calibration: mean lat.: 1002.919ms, rate sampling interval: 4071ms
  Thread calibration: mean lat.: 773.547ms, rate sampling interval: 3762ms
  Thread calibration: mean lat.: 1534.319ms, rate sampling interval: 6643ms
  Thread calibration: mean lat.: 1060.994ms, rate sampling interval: 5836ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    17.99s    15.40s    1.05m    71.29%
    Req/Sec   143.67     17.92   177.00     66.90%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   13.53s 
 75.000%   26.41s 
 90.000%   41.19s 
 99.000%    1.05m 
 99.900%    1.34m 
 99.990%    1.49m 
 99.999%    1.51m 
100.000%    1.52m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       6.939     0.000000            1         1.00
    2136.063     0.100000        74112         1.11
    4763.647     0.200000       148206         1.25
    7266.303     0.300000       222330         1.43
   10239.999     0.400000       296472         1.67
   13533.183     0.500000       370516         2.00
   15425.535     0.550000       407520         2.22
   17694.719     0.600000       444508         2.50
   20348.927     0.650000       481601         2.86
   23248.895     0.700000       518629         3.33
   26411.007     0.750000       555672         4.00
   28377.087     0.775000       574203         4.44
   30490.623     0.800000       592682         5.00
   32784.383     0.825000       611268         5.71
   35356.671     0.850000       629783         6.67
   38109.183     0.875000       648420         8.00
   39583.743     0.887500       657546         8.89
   41189.375     0.900000       666939        10.00
   42795.007     0.912500       676154        11.43
   44728.319     0.925000       685362        13.33
   46792.703     0.937500       694670        16.00
   47906.815     0.943750       699181        17.78
   49119.231     0.950000       703829        20.00
   50462.719     0.956250       708508        22.86
   51838.975     0.962500       713121        26.67
   53542.911     0.968750       717748        32.00
   54493.183     0.971875       720093        35.56
   55476.223     0.975000       722351        40.00
   56655.871     0.978125       724639        45.71
   57933.823     0.981250       726976        53.33
   59408.383     0.984375       729271        64.00
   60129.279     0.985938       730450        71.11
   60915.711     0.987500       731599        80.00
   62128.127     0.989062       732749        91.43
   64028.671     0.990625       733913       106.67
   65896.447     0.992188       735071       128.00
   66715.647     0.992969       735651       142.22
   67633.151     0.993750       736227       160.00
   68550.655     0.994531       736827       182.86
   69337.087     0.995313       737391       213.33
   70189.055     0.996094       737981       256.00
   70778.879     0.996484       738265       284.44
   71434.239     0.996875       738548       320.00
   72089.599     0.997266       738827       365.71
   73203.711     0.997656       739115       426.67
   74252.287     0.998047       739405       512.00
   74907.647     0.998242       739553       568.89
   75628.543     0.998437       739688       640.00
   76677.119     0.998633       739833       731.43
   78512.127     0.998828       739974       853.33
   80609.279     0.999023       740121      1024.00
   81592.319     0.999121       740193      1137.78
   82444.287     0.999219       740270      1280.00
   83099.647     0.999316       740336      1462.86
   84213.759     0.999414       740409      1706.67
   85327.871     0.999512       740482      2048.00
   85917.695     0.999561       740518      2275.56
   86441.983     0.999609       740554      2560.00
   86966.271     0.999658       740590      2925.71
   87556.095     0.999707       740625      3413.33
   88080.383     0.999756       740665      4096.00
   88342.527     0.999780       740680      4551.11
   88539.135     0.999805       740698      5120.00
   88735.743     0.999829       740717      5851.43
   88997.887     0.999854       740735      6826.67
   89260.031     0.999878       740756      8192.00
   89391.103     0.999890       740766      9102.22
   89456.639     0.999902       740772     10240.00
   89587.711     0.999915       740780     11702.86
   89718.783     0.999927       740791     13653.33
   89849.855     0.999939       740798     16384.00
   89915.391     0.999945       740802     18204.44
   90046.463     0.999951       740808     20480.00
   90111.999     0.999957       740813     23405.71
   90243.071     0.999963       740816     27306.67
   90439.679     0.999969       740823     32768.00
   90439.679     0.999973       740823     36408.89
   90505.215     0.999976       740824     40960.00
   90636.287     0.999979       740829     46811.43
   90636.287     0.999982       740829     54613.33
   90701.823     0.999985       740832     65536.00
   90701.823     0.999986       740832     72817.78
   90767.359     0.999988       740833     81920.00
   90898.431     0.999989       740836     93622.86
   90898.431     0.999991       740836    109226.67
   90963.967     0.999992       740838    131072.00
   90963.967     0.999993       740838    145635.56
   90963.967     0.999994       740838    163840.00
   91029.503     0.999995       740839    187245.71
   91029.503     0.999995       740839    218453.33
   91160.575     0.999996       740840    262144.00
   91160.575     0.999997       740840    291271.11
   91160.575     0.999997       740840    327680.00
   91291.647     0.999997       740841    374491.43
   91291.647     0.999998       740841    436906.67
   91291.647     0.999998       740841    524288.00
   91291.647     0.999998       740841    582542.22
   91291.647     0.999998       740841    655360.00
   91357.183     0.999999       740842    748982.86
   91357.183     1.000000       740842          inf
#[Mean    =    17985.370, StdDeviation   =    15403.055]
#[Max     =    91291.648, Total count    =       740842]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  807618 requests in 2.00m, 9.87GB read
Requests/sec:   6735.52  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 30666 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43429 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 30666 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43429 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
6f7995b9413d025bbf3fa44197f77bdb1788797d75145f953991828cd036d971
01fdf55c12bafe55fbc34bb4fe1a48a471ee76407d6bfa048e9afdb300b739df
79b60a3c2516c085e8b4b884e17b3706c5496662d2d267fabb1b40ffbd8b4126
0456129128f4321e3ebd4c26c6e2eb5334fc1490dcc42c4c5ebb419944be3dbc
5fb0cb28db9931ce0f461d19bd0875c7d5782ad19cea98566275f10e03df6301
5d6a494882c0c42086c63d5b755764070d3434d7c57d4789ffd27bc7aa3d90d9
b3be78ac308fb2157e94bbe54fff6f044c35236082ef8894fa54dcad66c3f1b8
2844d21d9e9b4dde264fc8a53cef7fff276df24c96f09dc5af90f812c2c1b280
f6f60da6e80b58ea4c57a21bec216a9452aa34ee10372ca5a0c1d41ba94647ec
be5d3335f0f648be9505c90b2a7d05efa5ee4bbf8ea727c08645540f069e52c5
59733a7f0d5c828f30ff31c6cb0d426586ac2688bd1b8ec4b3760a0413555823
b5a80e350c1ef4d91a3b83619e51aafe500cc645c169bf869d08b40605c1fcbe
f544e3d82a221a73f6957b021f14c3ad7d512ca783e3893536853f2cb54733c4
18a7f33ce37ee77de80e5903e507b4b46a2773cbc04c5f2a071a4adaef3083e9
e28fe8d228e59f0a3c0cbff58aa3e23136166c37ae97ae57fd3f3851d80929ee
591d043677f145511a2f1073363eccc12b58a60f5c0df986cc1ac58de3b202c5
6959d90048094ddfee4eabfccf2a13fe6ef79a68f8faab19fb1cfb62a270b826
08c916b413e3ca3fdd90a1360658544532597782a24fd518dfdca5c7c463b1da
903120c67aeb3f07907c512e88832c5285ad610599c33777c8db7d6df7177275
0567da575e0b7f20919d44a68ec77be411517fa5b8a1195f51a72f4ec28b942d
281a6e0ee3177c83cd4ca37148b3b1be1b7490992783e5d9a8c7c136da814fb5
71a275df7f6b1ad2c560eac73ecd4eecac8f0a3a492465d3a9a96894c64da3b4
fbf1b4626bb0acad4d56daeeb6671c4cb239ab1a415ca8aca85341fc0dffe8f8
ebfd101dce5aab02bb4c36021d28006b3d45e5f6a2a6fd8db30974108ab635db
ca2fef697895d8e7c3fd8f943754fc927dd6946706d6e336e1e9dc10763e6e99
75a04ef42927b29ee8d9c19a5560829c2fb5ee0d75d37f05366448acb153dce8
47daea1d9926cdebb8efb57c126e7b026a3bafa01f42a2836ead26ead6c7ee22
77f4a348b93b1d20a155a238c1e3ea887ec0091cddf9762817c82e85829e2327
562bee02fc465b8c71cafaa4492bf054eb92d07e4ca661b77ae9be062837ece7
a7cdee51b83f294181e13af0c3d4992a90b010f62ddb7236b86fcfd496aec3f7
335dd1479658839292aafee30316934da9947a42d3ca98094b27eafbe4d71a9d

Total reclaimed space: 4.578GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 15-24-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-1.log -b True -m m -M 1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 15-24-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-1.log', 'mode': 'm', 'memnode': '1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-1
CMD: docker exec -u root -it socialnetwork_social-graph-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-1



CMD: docker commit socialnetwork_social-graph-service_1 social-network-microservices-numa-membind-1

Result: sha256:c6ac35483869bfb06f25109b8f720aa84bde4b564dcf28618d6d4ef7e797c4c3


Install numactl tools on docker image: openresty-thrift-numa-membind-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-1

Result: sha256:ceddf05cc3a412fde0f834f9d800e6255c6110364825cbd5db8593d0fe02630c


Install numactl tools on docker image: media-frontend-numa-membind-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-1

Result: sha256:1ad0e4e9138fb8160f5da6eaf79d8001e3f54d707f12c1e276197fa2cc97caef


Install numactl tools on docker image: redis-numa-membind-1
CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-redis_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-redis_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 11 22:25 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-1



CMD: docker commit socialnetwork_social-graph-redis_1 redis-numa-membind-1

Result: sha256:25006065dae1cf77dfe2c2dc878b049c45ad66fa0e08b4ad6431f00dde75a568


Install numactl tools on docker image: memcached-numa-membind-1
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 11 22:25 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-1



CMD: docker commit socialnetwork_media-memcached_1 memcached-numa-membind-1

Result: sha256:af6d810b3c0c2a00983284f769460c73da84598eb003d57612c25d119ecd1842


Install numactl tools on docker image: mongo-numa-membind-1
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 22:25 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-1



CMD: docker commit socialnetwork_user-mongodb_1 mongo-numa-membind-1

Result: sha256:61de44774626a35770784967440e50631fd581a33c1727043570f351f3c1f4e9


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
49f876cbf328bfe475013befd2a093cf78aa4914faa6ba01b938e34686be9708
0f4f43ce5c1c403e969a40e1be9de0912314954cc3381d0b7a7283203012a55b
4443b5b2a97dae56d1a026e25cb8ff08d0353807a34ffdab0a843ebe31cf2bca
f4d07782aae02f4a3a1d42eecfb234773ef31ed4cdbd2250eac91a75be24dc8b
ac2b120f6ad34f78652e48e8f286069d913ff11103d0abb5a753004d424c3367
09bb95d6ae096b688dc9541b0e5fb63b8d3f5a96639c3fba603235f1f1b74af5
3e4fbc58dc015a7cb7554aacec04225df663f697ccfebc0baf3f6244c0970268
6f30c2a0ebf22755cd084c52289a12baddd409d14f5d1ac1dc49ad1006038d67
b88e0ce08899fd23e27e063b4b0fbeb0cee11629c09d01f125e31267846f7e3a
3fd4271f608fa420c8c668eb5ba6c64e723f84151fafc7eae2d7ea3035c35c4a
11755c28597f063102dc25f892dd1a62e9e5786964a5bfdd8cff231a955ca98a
ceaea8393948234549bd2dd9ca99b8a58ae796c1c90a55d897a1254001c5a17b
9e7fca165642ce5c751c701df5e3c419a924e480b3267a0c88aca4be507a7d9a
85a2835d70ca2cf6508479df6b62667669c7a6bb612a020965717dcc4b5964ba
977b91c181c39aa3adb4c179c68c9683720f72b0e0df108c122ecea95273e75c
80f6700256b78d905daccd179c36e19840011250cab0c0b083ed6dd17eb41f37
c2ec47b97ce7f9eeffe23e1eca077d2bc4a17405c7947434da58bb37ecb95f61
8cd968460f544bce67a7f5461da4200f48add97102657bc02378b6873d26826e
4d5b945fdde7b6a7a7aebb3688dfe11d6cb90a1ac2f667812601f5a771e01f82
d6cc374eda22b87f107dd0279d5e0f8969ca651503e1a3fa4407688fcbcec632
daaaa2fe3293f9f56474edef2e404ff129cd5bef66907f9f20e844b5489c0085
102d312ffd749b504eeea257ccacb959d36610c4bfe3bb67c2202cb1f235ec02
6b690e3eeaac59ea015032a3e229e98961d3842d6877164fbdf888b0130b755e
fbe3db9fd369397b92867c91c27b03fcdbf04541cd3eb078683f4deb44805621
a68e1ed1efde6f2e3e749217365a6aa068ba88e64c1f8d273105d8b792fbe7db
aa4efc39fccb36211eb6547bb20e18263e1d974a0e71f1cacafd3c11fbf0b2f8
410c7ea7d09de7d3a1d2d1ef6582796162ad521723715bb7b2ef43b5a4d187d8
b6469bfb83abc2396923f69ca61a02e001a8c9584e1746cd95774ea19c6bf72f
9e7206bf956d03c0a05caded8650bc7e67ace8cf0a77f7725ee17c6ff7bec9a2
a1525ed8f3ec6116ccfa5f99e39ee65880021ba4660a18afb98f980516d049c2
d5aee96cb3a7a4f2c960c0973b94babc6f31aa7eda617110a41728e438ee105a

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54545 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57712 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54545 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57712 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Succeeded: 37624


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:45
cluster_stats_messages_pong_sent:51
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:97
cluster_stats_messages_ping_received:51
cluster_stats_messages_pong_received:46
cluster_stats_messages_received:97
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:44
cluster_stats_messages_pong_sent:41
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:86
cluster_stats_messages_ping_received:41
cluster_stats_messages_pong_received:45
cluster_stats_messages_received:86
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:45
cluster_stats_messages_pong_sent:46
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:92
cluster_stats_messages_ping_received:46
cluster_stats_messages_pong_received:46
cluster_stats_messages_received:92
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.408ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.362ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.906ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.360ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.633ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.297ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.351ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.325ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.573ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.553ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.230ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.346ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.670ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.695ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.388ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.506ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.499ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.075ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.614ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.962ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.456ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.215ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.504ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.387ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.317ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.113ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.511ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.852ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.549ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.978ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.360ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.765ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.378ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.514ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.551ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.437ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.457ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.446ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.093ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.607ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.554ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.259ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.310ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.264ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.304ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.197ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 5.176ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.017ms, rate sampling interval: 14ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.15ms    1.38ms   8.65ms   88.47%
    Req/Sec    20.70     40.62   166.00     76.98%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.99ms
 75.000%    5.60ms
 90.000%    6.31ms
 99.000%    8.65ms
 99.900%   14.56ms
 99.990%   57.76ms
 99.999%   67.26ms
100.000%   69.31ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.443     0.000000            2         1.00
       4.045     0.100000        10609         1.11
       4.343     0.200000        21242         1.25
       4.571     0.300000        31855         1.43
       4.779     0.400000        42524         1.67
       4.987     0.500000        53104         2.00
       5.091     0.550000        58230         2.22
       5.207     0.600000        63667         2.50
       5.327     0.650000        68903         2.86
       5.455     0.700000        74149         3.33
       5.603     0.750000        79384         4.00
       5.691     0.775000        82119         4.44
       5.783     0.800000        84740         5.00
       5.887     0.825000        87412         5.71
       6.003     0.850000        90030         6.67
       6.139     0.875000        92660         8.00
       6.219     0.887500        93947         8.89
       6.311     0.900000        95262        10.00
       6.415     0.912500        96615        11.43
       6.527     0.925000        97909        13.33
       6.667     0.937500        99246        16.00
       6.755     0.943750        99920        17.78
       6.847     0.950000       100555        20.00
       6.955     0.956250       101220        22.86
       7.087     0.962500       101892        26.67
       7.263     0.968750       102534        32.00
       7.363     0.971875       102864        35.56
       7.475     0.975000       103201        40.00
       7.599     0.978125       103531        45.71
       7.779     0.981250       103856        53.33
       8.027     0.984375       104187        64.00
       8.163     0.985938       104354        71.11
       8.327     0.987500       104519        80.00
       8.527     0.989062       104683        91.43
       8.743     0.990625       104856       106.67
       8.991     0.992188       105014       128.00
       9.143     0.992969       105096       142.22
       9.343     0.993750       105179       160.00
       9.519     0.994531       105263       182.86
       9.719     0.995313       105346       213.33
      10.007     0.996094       105427       256.00
      10.167     0.996484       105468       284.44
      10.343     0.996875       105512       320.00
      10.631     0.997266       105552       365.71
      10.927     0.997656       105592       426.67
      11.335     0.998047       105637       512.00
      11.543     0.998242       105654       568.89
      11.863     0.998437       105675       640.00
      12.423     0.998633       105696       731.43
      12.911     0.998828       105716       853.33
      14.871     0.999023       105737      1024.00
      16.111     0.999121       105747      1137.78
      17.679     0.999219       105758      1280.00
      19.519     0.999316       105768      1462.86
      22.159     0.999414       105778      1706.67
      28.575     0.999512       105789      2048.00
      30.575     0.999561       105794      2275.56
      31.679     0.999609       105799      2560.00
      32.479     0.999658       105804      2925.71
      34.719     0.999707       105809      3413.33
      40.095     0.999756       105815      4096.00
      41.471     0.999780       105817      4551.11
      44.383     0.999805       105820      5120.00
      47.007     0.999829       105822      5851.43
      53.983     0.999854       105825      6826.67
      56.991     0.999878       105828      8192.00
      57.759     0.999890       105829      9102.22
      58.463     0.999902       105830     10240.00
      60.223     0.999915       105831     11702.86
      61.311     0.999927       105833     13653.33
      61.823     0.999939       105834     16384.00
      64.191     0.999945       105835     18204.44
      64.191     0.999951       105835     20480.00
      64.383     0.999957       105836     23405.71
      64.447     0.999963       105837     27306.67
      64.447     0.999969       105837     32768.00
      65.471     0.999973       105838     36408.89
      65.471     0.999976       105838     40960.00
      65.471     0.999979       105838     46811.43
      67.263     0.999982       105839     54613.33
      67.263     0.999985       105839     65536.00
      67.263     0.999986       105839     72817.78
      67.263     0.999988       105839     81920.00
      67.263     0.999989       105839     93622.86
      69.311     0.999991       105840    109226.67
      69.311     1.000000       105840          inf
#[Mean    =        5.146, StdDeviation   =        1.379]
#[Max     =       69.248, Total count    =       105840]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115375 requests in 2.00m, 23.66MB read
Requests/sec:    961.39  
Transfer/sec:    201.85KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54334 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55396 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54334 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55396 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.325ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.236ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.640ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.776ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.527ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.637ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.493ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.528ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.647ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.549ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.436ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.471ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.548ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.556ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.680ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.540ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.420ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.486ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.517ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.430ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.414ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.287ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.473ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.528ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.435ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.692ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.357ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.434ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.530ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.445ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.429ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.384ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.518ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.842ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.629ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.591ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.597ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.340ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.634ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.466ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.507ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.473ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.731ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.404ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.378ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.454ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.648ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.394ms, rate sampling interval: 11ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.95ms   14.65ms  57.57ms   98.27%
    Req/Sec   108.76     99.69   400.00     57.78%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.09ms
 75.000%    4.82ms
 90.000%    6.18ms
 99.000%   57.57ms
 99.900%  234.75ms
 99.990%  326.40ms
 99.999%  362.75ms
100.000%  401.15ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.149     0.000000            1         1.00
       3.311     0.100000        55100         1.11
       3.531     0.200000       110147         1.25
       3.717     0.300000       164907         1.43
       3.899     0.400000       220147         1.67
       4.091     0.500000       275027         2.00
       4.203     0.550000       302379         2.22
       4.327     0.600000       330206         2.50
       4.459     0.650000       357420         2.86
       4.619     0.700000       385175         3.33
       4.815     0.750000       412576         4.00
       4.935     0.775000       426294         4.44
       5.075     0.800000       439843         5.00
       5.251     0.825000       453415         5.71
       5.471     0.850000       467205         6.67
       5.763     0.875000       480983         8.00
       5.951     0.887500       487735         8.89
       6.179     0.900000       494603        10.00
       6.447     0.912500       501490        11.43
       6.775     0.925000       508364        13.33
       7.183     0.937500       515180        16.00
       7.427     0.943750       518629        17.78
       7.703     0.950000       522064        20.00
       8.043     0.956250       525502        22.86
       8.487     0.962500       528917        26.67
       9.135     0.968750       532344        32.00
       9.639     0.971875       534071        35.56
      10.407     0.975000       535780        40.00
      11.839     0.978125       537491        45.71
      16.447     0.981250       539204        53.33
      26.463     0.984375       540921        64.00
      33.663     0.985938       541780        71.11
      41.599     0.987500       542639        80.00
      51.103     0.989062       543500        91.43
      62.591     0.990625       544359       106.67
      75.583     0.992188       545214       128.00
      83.647     0.992969       545644       142.22
      93.375     0.993750       546076       160.00
     104.063     0.994531       546504       182.86
     115.775     0.995313       546933       213.33
     130.623     0.996094       547363       256.00
     140.671     0.996484       547577       284.44
     150.655     0.996875       547790       320.00
     163.455     0.997266       548006       365.71
     178.431     0.997656       548220       426.67
     193.407     0.998047       548435       512.00
     202.111     0.998242       548543       568.89
     210.815     0.998437       548650       640.00
     217.471     0.998633       548758       731.43
     226.943     0.998828       548865       853.33
     235.903     0.999023       548971      1024.00
     240.511     0.999121       549025      1137.78
     244.351     0.999219       549078      1280.00
     250.239     0.999316       549132      1462.86
     255.871     0.999414       549186      1706.67
     261.759     0.999512       549240      2048.00
     265.983     0.999561       549267      2275.56
     270.591     0.999609       549293      2560.00
     274.943     0.999658       549320      2925.71
     281.855     0.999707       549347      3413.33
     291.071     0.999756       549373      4096.00
     293.887     0.999780       549387      4551.11
     297.215     0.999805       549400      5120.00
     301.823     0.999829       549414      5851.43
     307.199     0.999854       549427      6826.67
     316.927     0.999878       549440      8192.00
     323.327     0.999890       549448      9102.22
     327.679     0.999902       549454     10240.00
     332.287     0.999915       549461     11702.86
     335.359     0.999927       549467     13653.33
     339.455     0.999939       549474     16384.00
     341.247     0.999945       549477     18204.44
     343.807     0.999951       549481     20480.00
     346.879     0.999957       549484     23405.71
     348.159     0.999963       549488     27306.67
     350.463     0.999969       549491     32768.00
     351.487     0.999973       549492     36408.89
     353.791     0.999976       549494     40960.00
     357.631     0.999979       549496     46811.43
     358.911     0.999982       549497     54613.33
     361.471     0.999985       549499     65536.00
     361.983     0.999986       549500     72817.78
     362.239     0.999988       549501     81920.00
     362.751     0.999989       549502     93622.86
     362.751     0.999991       549502    109226.67
     363.007     0.999992       549503    131072.00
     373.503     0.999993       549504    145635.56
     373.503     0.999994       549504    163840.00
     378.111     0.999995       549505    187245.71
     378.111     0.999995       549505    218453.33
     378.111     0.999996       549505    262144.00
     400.639     0.999997       549506    291271.11
     400.639     0.999997       549506    327680.00
     400.639     0.999997       549506    374491.43
     400.639     0.999998       549506    436906.67
     400.639     0.999998       549506    524288.00
     401.151     0.999998       549507    582542.22
     401.151     1.000000       549507          inf
#[Mean    =        5.946, StdDeviation   =       14.650]
#[Max     =      400.896, Total count    =       549507]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599256 requests in 2.00m, 122.87MB read
Requests/sec:   4996.61  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53782 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44105 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53782 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44105 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1635.320ms, rate sampling interval: 5615ms
  Thread calibration: mean lat.: 1488.895ms, rate sampling interval: 5459ms
  Thread calibration: mean lat.: 1557.732ms, rate sampling interval: 5779ms
  Thread calibration: mean lat.: 1555.244ms, rate sampling interval: 5738ms
  Thread calibration: mean lat.: 1760.644ms, rate sampling interval: 6266ms
  Thread calibration: mean lat.: 1574.351ms, rate sampling interval: 5804ms
  Thread calibration: mean lat.: 1666.993ms, rate sampling interval: 5971ms
  Thread calibration: mean lat.: 1564.228ms, rate sampling interval: 5787ms
  Thread calibration: mean lat.: 1657.712ms, rate sampling interval: 6295ms
  Thread calibration: mean lat.: 1731.959ms, rate sampling interval: 6139ms
  Thread calibration: mean lat.: 1639.694ms, rate sampling interval: 5742ms
  Thread calibration: mean lat.: 1700.789ms, rate sampling interval: 6197ms
  Thread calibration: mean lat.: 1708.449ms, rate sampling interval: 6139ms
  Thread calibration: mean lat.: 1540.698ms, rate sampling interval: 5718ms
  Thread calibration: mean lat.: 1572.018ms, rate sampling interval: 5824ms
  Thread calibration: mean lat.: 1757.328ms, rate sampling interval: 6610ms
  Thread calibration: mean lat.: 1627.308ms, rate sampling interval: 6250ms
  Thread calibration: mean lat.: 1706.660ms, rate sampling interval: 6557ms
  Thread calibration: mean lat.: 1560.088ms, rate sampling interval: 5844ms
  Thread calibration: mean lat.: 1701.747ms, rate sampling interval: 6062ms
  Thread calibration: mean lat.: 1523.254ms, rate sampling interval: 5529ms
  Thread calibration: mean lat.: 1615.581ms, rate sampling interval: 6307ms
  Thread calibration: mean lat.: 1764.074ms, rate sampling interval: 6234ms
  Thread calibration: mean lat.: 1639.411ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 1642.688ms, rate sampling interval: 5869ms
  Thread calibration: mean lat.: 1549.431ms, rate sampling interval: 5644ms
  Thread calibration: mean lat.: 1862.781ms, rate sampling interval: 6676ms
  Thread calibration: mean lat.: 1643.946ms, rate sampling interval: 6074ms
  Thread calibration: mean lat.: 1627.070ms, rate sampling interval: 6000ms
  Thread calibration: mean lat.: 1774.770ms, rate sampling interval: 6492ms
  Thread calibration: mean lat.: 1634.463ms, rate sampling interval: 5890ms
  Thread calibration: mean lat.: 1600.818ms, rate sampling interval: 5861ms
  Thread calibration: mean lat.: 1715.631ms, rate sampling interval: 6143ms
  Thread calibration: mean lat.: 1782.322ms, rate sampling interval: 6090ms
  Thread calibration: mean lat.: 1762.259ms, rate sampling interval: 6606ms
  Thread calibration: mean lat.: 1934.572ms, rate sampling interval: 6979ms
  Thread calibration: mean lat.: 1775.302ms, rate sampling interval: 6189ms
  Thread calibration: mean lat.: 1510.648ms, rate sampling interval: 5636ms
  Thread calibration: mean lat.: 1812.182ms, rate sampling interval: 6090ms
  Thread calibration: mean lat.: 1751.566ms, rate sampling interval: 6397ms
  Thread calibration: mean lat.: 1765.530ms, rate sampling interval: 5799ms
  Thread calibration: mean lat.: 1629.988ms, rate sampling interval: 5599ms
  Thread calibration: mean lat.: 1625.585ms, rate sampling interval: 5722ms
  Thread calibration: mean lat.: 1860.381ms, rate sampling interval: 6438ms
  Thread calibration: mean lat.: 1749.573ms, rate sampling interval: 6242ms
  Thread calibration: mean lat.: 1587.400ms, rate sampling interval: 5550ms
  Thread calibration: mean lat.: 2153.403ms, rate sampling interval: 7446ms
  Thread calibration: mean lat.: 2030.158ms, rate sampling interval: 6545ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    21.73s    10.62s   40.34s    58.32%
    Req/Sec   138.34      2.70   143.00     85.93%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   21.73s 
 75.000%   30.85s 
 90.000%   36.37s 
 99.000%   40.34s 
 99.900%   41.84s 
 99.990%   42.73s 
 99.999%   43.02s 
100.000%   43.06s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2101.247     0.000000            1         1.00
    7000.063     0.100000        73282         1.11
   10788.863     0.200000       146712         1.25
   14426.111     0.300000       220011         1.43
   18022.399     0.400000       293221         1.67
   21725.183     0.500000       366613         2.00
   23642.111     0.550000       403351         2.22
   25493.503     0.600000       439908         2.50
   27312.127     0.650000       476461         2.86
   29114.367     0.700000       513192         3.33
   30851.071     0.750000       549789         4.00
   31752.191     0.775000       568020         4.44
   32620.543     0.800000       586406         5.00
   33538.047     0.825000       604902         5.71
   34504.703     0.850000       623494         6.67
   35422.207     0.875000       641241         8.00
   35913.727     0.887500       650619         8.89
   36372.479     0.900000       659741        10.00
   36863.999     0.912500       669225        11.43
   37322.751     0.925000       678415        13.33
   37781.503     0.937500       687542        16.00
   38010.879     0.943750       692158        17.78
   38240.255     0.950000       696744        20.00
   38469.631     0.956250       701029        22.86
   38731.775     0.962500       705751        26.67
   38993.919     0.968750       709963        32.00
   39157.759     0.971875       712601        35.56
   39321.599     0.975000       714899        40.00
   39485.439     0.978125       716998        45.71
   39682.047     0.981250       719283        53.33
   39878.655     0.984375       721560        64.00
   40009.727     0.985938       722794        71.11
   40108.031     0.987500       723695        80.00
   40271.871     0.989062       724990        91.43
   40402.943     0.990625       726125       106.67
   40566.783     0.992188       727262       128.00
   40632.319     0.992969       727686       142.22
   40730.623     0.993750       728293       160.00
   40828.927     0.994531       728838       182.86
   40959.999     0.995313       729551       213.33
   41058.303     0.996094       730014       256.00
   41123.839     0.996484       730293       284.44
   41189.375     0.996875       730580       320.00
   41254.911     0.997266       730842       365.71
   41353.215     0.997656       731122       426.67
   41451.519     0.998047       731382       512.00
   41517.055     0.998242       731554       568.89
   41582.591     0.998437       731666       640.00
   41680.895     0.998633       731818       731.43
   41746.431     0.998828       731956       853.33
   41844.735     0.999023       732116      1024.00
   41877.503     0.999121       732167      1137.78
   41943.039     0.999219       732260      1280.00
   41975.807     0.999316       732306      1462.86
   42074.111     0.999414       732386      1706.67
   42172.415     0.999512       732466      2048.00
   42237.951     0.999561       732512      2275.56
   42270.719     0.999609       732533      2560.00
   42336.255     0.999658       732563      2925.71
   42401.791     0.999707       732595      3413.33
   42467.327     0.999756       732630      4096.00
   42500.095     0.999780       732652      4551.11
   42532.863     0.999805       732664      5120.00
   42598.399     0.999829       732690      5851.43
   42631.167     0.999854       732706      6826.67
   42663.935     0.999878       732721      8192.00
   42696.703     0.999890       732727      9102.22
   42762.239     0.999902       732749     10240.00
   42762.239     0.999915       732749     11702.86
   42795.007     0.999927       732755     13653.33
   42827.775     0.999939       732763     16384.00
   42860.543     0.999945       732768     18204.44
   42893.311     0.999951       732772     20480.00
   42926.079     0.999957       732777     23405.71
   42958.847     0.999963       732784     27306.67
   42958.847     0.999969       732784     32768.00
   42991.615     0.999973       732794     36408.89
   42991.615     0.999976       732794     40960.00
   42991.615     0.999979       732794     46811.43
   42991.615     0.999982       732794     54613.33
   43024.383     0.999985       732799     65536.00
   43024.383     0.999986       732799     72817.78
   43024.383     0.999988       732799     81920.00
   43024.383     0.999989       732799     93622.86
   43057.151     0.999991       732806    109226.67
   43057.151     1.000000       732806          inf
#[Mean    =    21730.348, StdDeviation   =    10619.737]
#[Max     =    43024.384, Total count    =       732806]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  798535 requests in 2.00m, 163.73MB read
Requests/sec:   6659.85  
Transfer/sec:      1.37MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52875 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26775 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52875 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26775 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.847ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.869ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.911ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.722ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.802ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.963ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.762ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.788ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.852ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.546ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.968ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.781ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.648ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.866ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.892ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.834ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.962ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.849ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.682ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.843ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.930ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.929ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.764ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.733ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.032ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.873ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.733ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.686ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.853ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.992ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.732ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.857ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.829ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.745ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.663ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.981ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.959ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.806ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.961ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.818ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.773ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.044ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.771ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.959ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.791ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.601ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.848ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.883ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.44ms    2.76ms  17.31ms   67.10%
    Req/Sec    20.58     36.85   142.00     73.94%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.35ms
 75.000%   11.24ms
 90.000%   12.83ms
 99.000%   17.31ms
 99.900%   23.20ms
 99.990%   30.77ms
 99.999%   36.67ms
100.000%   37.22ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.259     0.000000            1         1.00
       6.183     0.100000        10624         1.11
       6.803     0.200000        21192         1.25
       7.487     0.300000        31792         1.43
       8.487     0.400000        42426         1.67
       9.351     0.500000        52939         2.00
       9.735     0.550000        58304         2.22
      10.103     0.600000        63506         2.50
      10.471     0.650000        68884         2.86
      10.839     0.700000        74149         3.33
      11.239     0.750000        79440         4.00
      11.447     0.775000        82067         4.44
      11.671     0.800000        84708         5.00
      11.919     0.825000        87388         5.71
      12.183     0.850000        89983         6.67
      12.479     0.875000        92606         8.00
      12.647     0.887500        93971         8.89
      12.831     0.900000        95288        10.00
      13.031     0.912500        96592        11.43
      13.271     0.925000        97921        13.33
      13.559     0.937500        99231        16.00
      13.711     0.943750        99880        17.78
      13.903     0.950000       100562        20.00
      14.127     0.956250       101213        22.86
      14.399     0.962500       101864        26.67
      14.719     0.968750       102527        32.00
      14.935     0.971875       102858        35.56
      15.151     0.975000       103187        40.00
      15.423     0.978125       103516        45.71
      15.775     0.981250       103855        53.33
      16.215     0.984375       104182        64.00
      16.447     0.985938       104354        71.11
      16.751     0.987500       104513        80.00
      17.087     0.989062       104674        91.43
      17.503     0.990625       104844       106.67
      17.951     0.992188       105005       128.00
      18.255     0.992969       105088       142.22
      18.575     0.993750       105175       160.00
      18.847     0.994531       105253       182.86
      19.231     0.995313       105338       213.33
      19.791     0.996094       105418       256.00
      20.111     0.996484       105461       284.44
      20.399     0.996875       105503       320.00
      20.719     0.997266       105543       365.71
      21.119     0.997656       105583       426.67
      21.583     0.998047       105626       512.00
      21.791     0.998242       105645       568.89
      22.111     0.998437       105666       640.00
      22.399     0.998633       105687       731.43
      22.895     0.998828       105707       853.33
      23.327     0.999023       105729      1024.00
      23.679     0.999121       105738      1137.78
      24.079     0.999219       105749      1280.00
      24.271     0.999316       105759      1462.86
      24.799     0.999414       105769      1706.67
      25.647     0.999512       105780      2048.00
      25.951     0.999561       105785      2275.56
      26.511     0.999609       105790      2560.00
      26.783     0.999658       105796      2925.71
      26.991     0.999707       105800      3413.33
      28.175     0.999756       105806      4096.00
      28.495     0.999780       105808      4551.11
      28.879     0.999805       105811      5120.00
      29.823     0.999829       105813      5851.43
      30.031     0.999854       105816      6826.67
      30.687     0.999878       105819      8192.00
      30.767     0.999890       105820      9102.22
      31.135     0.999902       105821     10240.00
      31.471     0.999915       105822     11702.86
      31.935     0.999927       105824     13653.33
      32.095     0.999939       105825     16384.00
      32.543     0.999945       105826     18204.44
      32.543     0.999951       105826     20480.00
      32.623     0.999957       105827     23405.71
      32.959     0.999963       105828     27306.67
      32.959     0.999969       105828     32768.00
      34.143     0.999973       105829     36408.89
      34.143     0.999976       105829     40960.00
      34.143     0.999979       105829     46811.43
      36.671     0.999982       105830     54613.33
      36.671     0.999985       105830     65536.00
      36.671     0.999986       105830     72817.78
      36.671     0.999988       105830     81920.00
      36.671     0.999989       105830     93622.86
      37.215     0.999991       105831    109226.67
      37.215     1.000000       105831          inf
#[Mean    =        9.444, StdDeviation   =        2.755]
#[Max     =       37.184, Total count    =       105831]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115372 requests in 2.00m, 1.56GB read
Requests/sec:    961.43  
Transfer/sec:     13.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52479 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29517 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52479 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29517 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.379ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.125ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.358ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.276ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.446ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.184ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.062ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.471ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.472ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.537ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.169ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.078ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.474ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.341ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.096ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.021ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.346ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.300ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.309ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.407ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.101ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.115ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.668ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.490ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.241ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.178ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.110ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.664ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.163ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.294ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.579ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.159ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.973ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.328ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.417ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.196ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.286ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.487ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.193ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.335ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.278ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.140ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.337ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.084ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.148ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.291ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.217ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.058ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.22ms    2.28ms  15.49ms   80.77%
    Req/Sec   106.55     72.29   300.00     72.32%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.60ms
 75.000%    7.99ms
 90.000%   10.18ms
 99.000%   15.49ms
 99.900%   20.86ms
 99.990%   26.59ms
 99.999%   33.06ms
100.000%   38.46ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.825     0.000000            1         1.00
       5.171     0.100000        55339         1.11
       5.579     0.200000       109907         1.25
       5.915     0.300000       164980         1.43
       6.243     0.400000       220273         1.67
       6.599     0.500000       275004         2.00
       6.799     0.550000       302534         2.22
       7.023     0.600000       329939         2.50
       7.283     0.650000       357249         2.86
       7.599     0.700000       384876         3.33
       7.991     0.750000       412375         4.00
       8.231     0.775000       426320         4.44
       8.495     0.800000       439839         5.00
       8.815     0.825000       453672         5.71
       9.183     0.850000       467288         6.67
       9.631     0.875000       480962         8.00
       9.895     0.887500       487803         8.89
      10.183     0.900000       494647        10.00
      10.511     0.912500       501502        11.43
      10.887     0.925000       508386        13.33
      11.311     0.937500       515231        16.00
      11.551     0.943750       518694        17.78
      11.815     0.950000       522113        20.00
      12.119     0.956250       525509        22.86
      12.463     0.962500       528941        26.67
      12.871     0.968750       532391        32.00
      13.103     0.971875       534104        35.56
      13.359     0.975000       535811        40.00
      13.663     0.978125       537536        45.71
      13.999     0.981250       539239        53.33
      14.431     0.984375       540959        64.00
      14.679     0.985938       541809        71.11
      14.951     0.987500       542663        80.00
      15.271     0.989062       543537        91.43
      15.631     0.990625       544391       106.67
      16.063     0.992188       545245       128.00
      16.287     0.992969       545668       142.22
      16.559     0.993750       546109       160.00
      16.863     0.994531       546526       182.86
      17.247     0.995313       546963       213.33
      17.663     0.996094       547388       256.00
      17.935     0.996484       547600       284.44
      18.223     0.996875       547819       320.00
      18.559     0.997266       548036       365.71
      18.911     0.997656       548254       426.67
      19.327     0.998047       548460       512.00
      19.567     0.998242       548567       568.89
      19.839     0.998437       548681       640.00
      20.095     0.998633       548781       731.43
      20.511     0.998828       548892       853.33
      20.927     0.999023       548999      1024.00
      21.087     0.999121       549052      1137.78
      21.375     0.999219       549102      1280.00
      21.775     0.999316       549159      1462.86
      22.159     0.999414       549211      1706.67
      22.655     0.999512       549263      2048.00
      22.911     0.999561       549293      2275.56
      23.151     0.999609       549318      2560.00
      23.535     0.999658       549345      2925.71
      23.983     0.999707       549372      3413.33
      24.527     0.999756       549397      4096.00
      24.751     0.999780       549411      4551.11
      24.991     0.999805       549424      5120.00
      25.423     0.999829       549438      5851.43
      25.775     0.999854       549452      6826.67
      26.031     0.999878       549464      8192.00
      26.511     0.999890       549471      9102.22
      26.671     0.999902       549478     10240.00
      27.007     0.999915       549485     11702.86
      27.599     0.999927       549491     13653.33
      28.127     0.999939       549499     16384.00
      28.143     0.999945       549501     18204.44
      28.767     0.999951       549505     20480.00
      29.071     0.999957       549508     23405.71
      29.663     0.999963       549511     27306.67
      29.903     0.999969       549515     32768.00
      30.079     0.999973       549516     36408.89
      30.111     0.999976       549518     40960.00
      30.959     0.999979       549520     46811.43
      31.583     0.999982       549521     54613.33
      32.559     0.999985       549523     65536.00
      32.591     0.999986       549524     72817.78
      32.959     0.999988       549525     81920.00
      33.055     0.999989       549526     93622.86
      33.055     0.999991       549526    109226.67
      33.535     0.999992       549527    131072.00
      34.175     0.999993       549528    145635.56
      34.175     0.999994       549528    163840.00
      34.943     0.999995       549529    187245.71
      34.943     0.999995       549529    218453.33
      34.943     0.999996       549529    262144.00
      35.647     0.999997       549530    291271.11
      35.647     0.999997       549530    327680.00
      35.647     0.999997       549530    374491.43
      35.647     0.999998       549530    436906.67
      35.647     0.999998       549530    524288.00
      38.463     0.999998       549531    582542.22
      38.463     1.000000       549531          inf
#[Mean    =        7.223, StdDeviation   =        2.283]
#[Max     =       38.432, Total count    =       549531]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599250 requests in 2.00m, 8.09GB read
Requests/sec:   4996.79  
Transfer/sec:     69.09MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52424 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29428 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52424 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29428 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 231.159ms, rate sampling interval: 1511ms
  Thread calibration: mean lat.: 109.210ms, rate sampling interval: 810ms
  Thread calibration: mean lat.: 81.528ms, rate sampling interval: 620ms
  Thread calibration: mean lat.: 81.744ms, rate sampling interval: 633ms
  Thread calibration: mean lat.: 79.297ms, rate sampling interval: 595ms
  Thread calibration: mean lat.: 87.968ms, rate sampling interval: 700ms
  Thread calibration: mean lat.: 108.233ms, rate sampling interval: 955ms
  Thread calibration: mean lat.: 92.509ms, rate sampling interval: 779ms
  Thread calibration: mean lat.: 80.374ms, rate sampling interval: 636ms
  Thread calibration: mean lat.: 79.724ms, rate sampling interval: 649ms
  Thread calibration: mean lat.: 86.865ms, rate sampling interval: 628ms
  Thread calibration: mean lat.: 259.918ms, rate sampling interval: 1874ms
  Thread calibration: mean lat.: 124.478ms, rate sampling interval: 1028ms
  Thread calibration: mean lat.: 104.263ms, rate sampling interval: 818ms
  Thread calibration: mean lat.: 93.163ms, rate sampling interval: 847ms
  Thread calibration: mean lat.: 103.451ms, rate sampling interval: 781ms
  Thread calibration: mean lat.: 104.473ms, rate sampling interval: 888ms
  Thread calibration: mean lat.: 87.040ms, rate sampling interval: 672ms
  Thread calibration: mean lat.: 93.116ms, rate sampling interval: 757ms
  Thread calibration: mean lat.: 76.749ms, rate sampling interval: 619ms
  Thread calibration: mean lat.: 93.292ms, rate sampling interval: 825ms
  Thread calibration: mean lat.: 109.989ms, rate sampling interval: 785ms
  Thread calibration: mean lat.: 80.031ms, rate sampling interval: 648ms
  Thread calibration: mean lat.: 73.363ms, rate sampling interval: 574ms
  Thread calibration: mean lat.: 75.435ms, rate sampling interval: 562ms
  Thread calibration: mean lat.: 296.819ms, rate sampling interval: 1932ms
  Thread calibration: mean lat.: 74.346ms, rate sampling interval: 532ms
  Thread calibration: mean lat.: 80.555ms, rate sampling interval: 649ms
  Thread calibration: mean lat.: 87.804ms, rate sampling interval: 766ms
  Thread calibration: mean lat.: 109.725ms, rate sampling interval: 805ms
  Thread calibration: mean lat.: 96.118ms, rate sampling interval: 695ms
  Thread calibration: mean lat.: 96.998ms, rate sampling interval: 778ms
  Thread calibration: mean lat.: 121.667ms, rate sampling interval: 1073ms
  Thread calibration: mean lat.: 118.339ms, rate sampling interval: 895ms
  Thread calibration: mean lat.: 277.166ms, rate sampling interval: 2232ms
  Thread calibration: mean lat.: 256.765ms, rate sampling interval: 1400ms
  Thread calibration: mean lat.: 121.518ms, rate sampling interval: 911ms
  Thread calibration: mean lat.: 93.120ms, rate sampling interval: 585ms
  Thread calibration: mean lat.: 106.895ms, rate sampling interval: 808ms
  Thread calibration: mean lat.: 62.962ms, rate sampling interval: 456ms
  Thread calibration: mean lat.: 89.428ms, rate sampling interval: 585ms
  Thread calibration: mean lat.: 63.383ms, rate sampling interval: 328ms
  Thread calibration: mean lat.: 84.443ms, rate sampling interval: 593ms
  Thread calibration: mean lat.: 78.944ms, rate sampling interval: 528ms
  Thread calibration: mean lat.: 66.791ms, rate sampling interval: 456ms
  Thread calibration: mean lat.: 83.931ms, rate sampling interval: 682ms
  Thread calibration: mean lat.: 142.755ms, rate sampling interval: 822ms
  Thread calibration: mean lat.: 265.990ms, rate sampling interval: 1434ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.96s     6.53s   31.03s    85.10%
    Req/Sec   184.17     10.97   208.00     71.68%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.06s 
 75.000%    9.37s 
 90.000%   15.07s 
 99.000%   31.03s 
 99.900%   41.58s 
 99.990%   43.48s 
 99.999%   44.14s 
100.000%   44.34s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       6.499     0.000000            1         1.00
    1074.175     0.100000        96695         1.11
    1874.943     0.200000       193276         1.25
    2775.039     0.300000       289917         1.43
    3866.623     0.400000       386515         1.67
    5062.655     0.500000       483257         2.00
    5742.591     0.550000       531511         2.22
    6483.967     0.600000       579735         2.50
    7389.183     0.650000       627989         2.86
    8286.207     0.700000       676291         3.33
    9371.647     0.750000       724865         4.00
    9994.239     0.775000       748751         4.44
   10682.367     0.800000       772926         5.00
   11476.991     0.825000       797154         5.71
   12410.879     0.850000       821269         6.67
   13549.567     0.875000       845308         8.00
   14237.695     0.887500       857423         8.89
   15073.279     0.900000       869503        10.00
   16236.543     0.912500       881583        11.43
   17661.951     0.925000       893724        13.33
   19415.039     0.937500       905757        16.00
   20234.239     0.943750       911755        17.78
   21135.359     0.950000       917765        20.00
   22085.631     0.956250       923834        22.86
   23035.903     0.962500       929879        26.67
   23920.639     0.968750       935937        32.00
   24428.543     0.971875       939000        35.56
   24952.831     0.975000       941992        40.00
   25640.959     0.978125       944934        45.71
   26411.007     0.981250       947943        53.33
   27459.583     0.984375       950978        64.00
   28180.479     0.985938       952496        71.11
   29065.215     0.987500       953998        80.00
   30375.935     0.989062       955512        91.43
   31490.047     0.990625       957003       106.67
   32899.071     0.992188       958520       128.00
   33554.431     0.992969       959272       142.22
   34340.863     0.993750       960022       160.00
   35225.599     0.994531       960784       182.86
   36175.871     0.995313       961529       213.33
   37289.983     0.996094       962307       256.00
   37748.735     0.996484       962660       284.44
   38305.791     0.996875       963045       320.00
   38797.311     0.997266       963417       365.71
   39288.831     0.997656       963808       426.67
   39813.119     0.998047       964193       512.00
   40075.263     0.998242       964368       568.89
   40468.479     0.998437       964551       640.00
   40927.231     0.998633       964742       731.43
   41320.447     0.998828       964949       853.33
   41615.359     0.999023       965139      1024.00
   41713.663     0.999121       965213      1137.78
   41844.735     0.999219       965323      1280.00
   41975.807     0.999316       965401      1462.86
   42205.183     0.999414       965503      1706.67
   42369.023     0.999512       965591      2048.00
   42467.327     0.999561       965648      2275.56
   42532.863     0.999609       965690      2560.00
   42631.167     0.999658       965732      2925.71
   42762.239     0.999707       965784      3413.33
   42893.311     0.999756       965826      4096.00
   43024.383     0.999780       965847      4551.11
   43155.455     0.999805       965883      5120.00
   43188.223     0.999829       965893      5851.43
   43286.527     0.999854       965918      6826.67
   43384.831     0.999878       965941      8192.00
   43450.367     0.999890       965951      9102.22
   43515.903     0.999902       965966     10240.00
   43614.207     0.999915       965977     11702.86
   43679.743     0.999927       965989     13653.33
   43745.279     0.999939       966005     16384.00
   43745.279     0.999945       966005     18204.44
   43778.047     0.999951       966012     20480.00
   43810.815     0.999957       966018     23405.71
   43843.583     0.999963       966022     27306.67
   43909.119     0.999969       966027     32768.00
   43974.655     0.999973       966031     36408.89
   44007.423     0.999976       966034     40960.00
   44040.191     0.999979       966040     46811.43
   44040.191     0.999982       966040     54613.33
   44072.959     0.999985       966043     65536.00
   44072.959     0.999986       966043     72817.78
   44105.727     0.999988       966045     81920.00
   44138.495     0.999989       966046     93622.86
   44171.263     0.999991       966048    109226.67
   44204.031     0.999992       966050    131072.00
   44204.031     0.999993       966050    145635.56
   44236.799     0.999994       966051    163840.00
   44236.799     0.999995       966051    187245.71
   44269.567     0.999995       966053    218453.33
   44269.567     0.999996       966053    262144.00
   44269.567     0.999997       966053    291271.11
   44302.335     0.999997       966055    327680.00
   44302.335     0.999997       966055    374491.43
   44302.335     0.999998       966055    436906.67
   44302.335     0.999998       966055    524288.00
   44302.335     0.999998       966055    582542.22
   44302.335     0.999998       966055    655360.00
   44302.335     0.999999       966055    748982.86
   44302.335     0.999999       966055    873813.33
   44335.103     0.999999       966056   1048576.00
   44335.103     1.000000       966056          inf
#[Mean    =     6964.016, StdDeviation   =     6534.531]
#[Max     =    44302.336, Total count    =       966056]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1059087 requests in 2.00m, 14.30GB read
Requests/sec:   8834.09  
Transfer/sec:    122.15MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50758 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26671 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50758 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26671 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.635ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.454ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.717ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.591ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.734ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.675ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.475ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.755ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.484ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.463ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.297ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.549ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.668ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.280ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.084ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.371ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.304ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.530ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.360ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.678ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.444ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.521ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.386ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.851ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.288ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.483ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.677ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.631ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.817ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.422ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.341ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.164ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.630ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.399ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.452ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.496ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.583ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.775ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.745ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.163ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.505ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.372ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.324ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.732ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.252ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.281ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.438ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.620ms, rate sampling interval: 25ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.25ms    2.43ms  16.27ms   71.02%
    Req/Sec    20.30     29.10   120.00     91.10%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.10ms
 75.000%   10.66ms
 90.000%   12.28ms
 99.000%   16.27ms
 99.900%   21.14ms
 99.990%   26.05ms
 99.999%   29.01ms
100.000%   29.15ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.771     0.000000            1         1.00
       6.291     0.100000        10597         1.11
       7.275     0.200000        21184         1.25
       7.955     0.300000        31800         1.43
       8.543     0.400000        42362         1.67
       9.103     0.500000        53055         2.00
       9.383     0.550000        58301         2.22
       9.671     0.600000        63551         2.50
       9.967     0.650000        68851         2.86
      10.295     0.700000        74178         3.33
      10.663     0.750000        79421         4.00
      10.863     0.775000        82071         4.44
      11.071     0.800000        84667         5.00
      11.311     0.825000        87325         5.71
      11.591     0.850000        89998         6.67
      11.911     0.875000        92609         8.00
      12.087     0.887500        93984         8.89
      12.279     0.900000        95307        10.00
      12.487     0.912500        96597        11.43
      12.735     0.925000        97931        13.33
      13.023     0.937500        99242        16.00
      13.183     0.943750        99910        17.78
      13.367     0.950000       100557        20.00
      13.567     0.956250       101220        22.86
      13.799     0.962500       101882        26.67
      14.103     0.968750       102534        32.00
      14.271     0.971875       102863        35.56
      14.471     0.975000       103199        40.00
      14.711     0.978125       103527        45.71
      15.015     0.981250       103849        53.33
      15.383     0.984375       104182        64.00
      15.599     0.985938       104345        71.11
      15.871     0.987500       104514        80.00
      16.111     0.989062       104679        91.43
      16.399     0.990625       104846       106.67
      16.719     0.992188       105009       128.00
      16.927     0.992969       105089       142.22
      17.183     0.993750       105173       160.00
      17.423     0.994531       105257       182.86
      17.791     0.995313       105339       213.33
      18.191     0.996094       105425       256.00
      18.383     0.996484       105463       284.44
      18.591     0.996875       105503       320.00
      18.943     0.997266       105545       365.71
      19.375     0.997656       105585       426.67
      19.711     0.998047       105627       512.00
      19.951     0.998242       105648       568.89
      20.111     0.998437       105669       640.00
      20.415     0.998633       105690       731.43
      20.815     0.998828       105709       853.33
      21.231     0.999023       105730      1024.00
      21.391     0.999121       105740      1137.78
      21.679     0.999219       105751      1280.00
      22.015     0.999316       105761      1462.86
      22.399     0.999414       105771      1706.67
      22.751     0.999512       105782      2048.00
      22.831     0.999561       105787      2275.56
      23.135     0.999609       105792      2560.00
      23.455     0.999658       105797      2925.71
      23.743     0.999707       105802      3413.33
      24.015     0.999756       105808      4096.00
      24.175     0.999780       105810      4551.11
      24.207     0.999805       105813      5120.00
      24.735     0.999829       105815      5851.43
      25.519     0.999854       105818      6826.67
      26.047     0.999878       105822      8192.00
      26.047     0.999890       105822      9102.22
      26.239     0.999902       105823     10240.00
      26.719     0.999915       105824     11702.86
      27.279     0.999927       105826     13653.33
      27.471     0.999939       105827     16384.00
      27.887     0.999945       105829     18204.44
      27.887     0.999951       105829     20480.00
      27.887     0.999957       105829     23405.71
      28.287     0.999963       105830     27306.67
      28.287     0.999969       105830     32768.00
      28.431     0.999973       105831     36408.89
      28.431     0.999976       105831     40960.00
      28.431     0.999979       105831     46811.43
      29.007     0.999982       105832     54613.33
      29.007     0.999985       105832     65536.00
      29.007     0.999986       105832     72817.78
      29.007     0.999988       105832     81920.00
      29.007     0.999989       105832     93622.86
      29.151     0.999991       105833    109226.67
      29.151     1.000000       105833          inf
#[Mean    =        9.249, StdDeviation   =        2.434]
#[Max     =       29.136, Total count    =       105833]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115372 requests in 2.00m, 1.41GB read
Requests/sec:    961.38  
Transfer/sec:     12.06MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50720 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26421 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50720 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 26421 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.686ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.046ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.523ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.884ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.559ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.561ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.774ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.042ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.028ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.786ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.744ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.809ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.789ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.421ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.468ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.503ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.676ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.772ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.666ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.782ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.682ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.402ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.743ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.728ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.481ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.649ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.840ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.431ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.559ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.526ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.589ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.741ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.653ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.702ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.675ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.790ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.598ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.677ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.926ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.535ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.602ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.636ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.434ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.669ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.479ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.772ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.496ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.727ms, rate sampling interval: 19ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.63ms    2.26ms  14.47ms   77.49%
    Req/Sec   106.68     75.61   315.00     72.43%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.11ms
 75.000%    7.54ms
 90.000%    9.53ms
 99.000%   14.47ms
 99.900%   19.68ms
 99.990%   26.17ms
 99.999%   34.11ms
100.000%   48.93ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.371     0.000000            1         1.00
       4.419     0.100000        55192         1.11
       4.903     0.200000       110349         1.25
       5.311     0.300000       165194         1.43
       5.699     0.400000       219968         1.67
       6.107     0.500000       274966         2.00
       6.331     0.550000       302279         2.22
       6.575     0.600000       329777         2.50
       6.851     0.650000       357321         2.86
       7.163     0.700000       384748         3.33
       7.539     0.750000       412327         4.00
       7.755     0.775000       425954         4.44
       8.003     0.800000       439669         5.00
       8.295     0.825000       453597         5.71
       8.623     0.850000       467184         6.67
       9.023     0.875000       480924         8.00
       9.263     0.887500       487853         8.89
       9.527     0.900000       494662        10.00
       9.823     0.912500       501510        11.43
      10.167     0.925000       508426        13.33
      10.559     0.937500       515187        16.00
      10.791     0.943750       518657        17.78
      11.047     0.950000       522062        20.00
      11.335     0.956250       525486        22.86
      11.663     0.962500       528933        26.67
      12.047     0.968750       532345        32.00
      12.279     0.971875       534093        35.56
      12.527     0.975000       535782        40.00
      12.799     0.978125       537485        45.71
      13.119     0.981250       539203        53.33
      13.527     0.984375       540934        64.00
      13.743     0.985938       541793        71.11
      13.999     0.987500       542645        80.00
      14.263     0.989062       543494        91.43
      14.607     0.990625       544355       106.67
      15.023     0.992188       545215       128.00
      15.239     0.992969       545637       142.22
      15.503     0.993750       546078       160.00
      15.799     0.994531       546500       182.86
      16.103     0.995313       546930       213.33
      16.463     0.996094       547369       256.00
      16.703     0.996484       547585       284.44
      16.959     0.996875       547787       320.00
      17.263     0.997266       547999       365.71
      17.599     0.997656       548223       426.67
      18.079     0.998047       548428       512.00
      18.367     0.998242       548540       568.89
      18.655     0.998437       548648       640.00
      18.943     0.998633       548751       731.43
      19.295     0.998828       548858       853.33
      19.743     0.999023       548964      1024.00
      19.967     0.999121       549021      1137.78
      20.319     0.999219       549071      1280.00
      20.735     0.999316       549127      1462.86
      21.199     0.999414       549180      1706.67
      21.647     0.999512       549233      2048.00
      21.951     0.999561       549260      2275.56
      22.303     0.999609       549286      2560.00
      22.655     0.999658       549313      2925.71
      23.135     0.999707       549340      3413.33
      23.551     0.999756       549366      4096.00
      23.855     0.999780       549380      4551.11
      24.015     0.999805       549393      5120.00
      24.559     0.999829       549407      5851.43
      24.783     0.999854       549421      6826.67
      25.535     0.999878       549433      8192.00
      25.679     0.999890       549440      9102.22
      26.351     0.999902       549448     10240.00
      26.847     0.999915       549454     11702.86
      27.375     0.999927       549460     13653.33
      27.935     0.999939       549467     16384.00
      28.015     0.999945       549471     18204.44
      28.191     0.999951       549474     20480.00
      28.751     0.999957       549477     23405.71
      28.975     0.999963       549480     27306.67
      29.887     0.999969       549484     32768.00
      29.967     0.999973       549485     36408.89
      30.431     0.999976       549487     40960.00
      31.167     0.999979       549489     46811.43
      31.455     0.999982       549490     54613.33
      31.919     0.999985       549492     65536.00
      32.287     0.999986       549493     72817.78
      33.631     0.999988       549494     81920.00
      34.111     0.999989       549495     93622.86
      34.111     0.999991       549495    109226.67
      34.239     0.999992       549496    131072.00
      35.039     0.999993       549497    145635.56
      35.039     0.999994       549497    163840.00
      37.919     0.999995       549498    187245.71
      37.919     0.999995       549498    218453.33
      37.919     0.999996       549498    262144.00
      38.751     0.999997       549499    291271.11
      38.751     0.999997       549499    327680.00
      38.751     0.999997       549499    374491.43
      38.751     0.999998       549499    436906.67
      38.751     0.999998       549499    524288.00
      48.927     0.999998       549500    582542.22
      48.927     1.000000       549500          inf
#[Mean    =        6.632, StdDeviation   =        2.256]
#[Max     =       48.896, Total count    =       549500]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599237 requests in 2.00m, 7.30GB read
Requests/sec:   4995.90  
Transfer/sec:     62.36MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51609 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 25462 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51609 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 25462 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1759.727ms, rate sampling interval: 7487ms
  Thread calibration: mean lat.: 1346.937ms, rate sampling interval: 5001ms
  Thread calibration: mean lat.: 1387.627ms, rate sampling interval: 5988ms
  Thread calibration: mean lat.: 1203.934ms, rate sampling interval: 5644ms
  Thread calibration: mean lat.: 976.068ms, rate sampling interval: 4415ms
  Thread calibration: mean lat.: 1897.859ms, rate sampling interval: 7651ms
  Thread calibration: mean lat.: 1330.879ms, rate sampling interval: 5042ms
  Thread calibration: mean lat.: 959.911ms, rate sampling interval: 3960ms
  Thread calibration: mean lat.: 1339.941ms, rate sampling interval: 6725ms
  Thread calibration: mean lat.: 1967.165ms, rate sampling interval: 8552ms
  Thread calibration: mean lat.: 1956.977ms, rate sampling interval: 8003ms
  Thread calibration: mean lat.: 1147.308ms, rate sampling interval: 5079ms
  Thread calibration: mean lat.: 906.620ms, rate sampling interval: 4689ms
  Thread calibration: mean lat.: 966.695ms, rate sampling interval: 5144ms
  Thread calibration: mean lat.: 1240.647ms, rate sampling interval: 6270ms
  Thread calibration: mean lat.: 1445.839ms, rate sampling interval: 6770ms
  Thread calibration: mean lat.: 1239.619ms, rate sampling interval: 5537ms
  Thread calibration: mean lat.: 1413.144ms, rate sampling interval: 6909ms
  Thread calibration: mean lat.: 1382.947ms, rate sampling interval: 6639ms
  Thread calibration: mean lat.: 1703.642ms, rate sampling interval: 6385ms
  Thread calibration: mean lat.: 1356.934ms, rate sampling interval: 5386ms
  Thread calibration: mean lat.: 1080.765ms, rate sampling interval: 5369ms
  Thread calibration: mean lat.: 549.328ms, rate sampling interval: 2152ms
  Thread calibration: mean lat.: 1743.281ms, rate sampling interval: 6815ms
  Thread calibration: mean lat.: 1053.075ms, rate sampling interval: 5193ms
  Thread calibration: mean lat.: 976.526ms, rate sampling interval: 4214ms
  Thread calibration: mean lat.: 1009.299ms, rate sampling interval: 4644ms
  Thread calibration: mean lat.: 689.879ms, rate sampling interval: 3145ms
  Thread calibration: mean lat.: 1082.327ms, rate sampling interval: 4607ms
  Thread calibration: mean lat.: 1318.714ms, rate sampling interval: 5419ms
  Thread calibration: mean lat.: 774.101ms, rate sampling interval: 3350ms
  Thread calibration: mean lat.: 1219.949ms, rate sampling interval: 8519ms
  Thread calibration: mean lat.: 1582.725ms, rate sampling interval: 5955ms
  Thread calibration: mean lat.: 1764.777ms, rate sampling interval: 5976ms
  Thread calibration: mean lat.: 936.604ms, rate sampling interval: 6295ms
  Thread calibration: mean lat.: 1473.230ms, rate sampling interval: 5242ms
  Thread calibration: mean lat.: 1338.135ms, rate sampling interval: 6352ms
  Thread calibration: mean lat.: 2454.186ms, rate sampling interval: 8839ms
  Thread calibration: mean lat.: 1562.192ms, rate sampling interval: 6103ms
  Thread calibration: mean lat.: 1693.890ms, rate sampling interval: 8028ms
  Thread calibration: mean lat.: 1574.530ms, rate sampling interval: 6504ms
  Thread calibration: mean lat.: 1268.313ms, rate sampling interval: 5300ms
  Thread calibration: mean lat.: 1240.731ms, rate sampling interval: 4972ms
  Thread calibration: mean lat.: 2175.804ms, rate sampling interval: 8601ms
  Thread calibration: mean lat.: 1396.536ms, rate sampling interval: 5431ms
  Thread calibration: mean lat.: 1383.443ms, rate sampling interval: 5017ms
  Thread calibration: mean lat.: 1685.498ms, rate sampling interval: 7159ms
  Thread calibration: mean lat.: 1953.586ms, rate sampling interval: 7909ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    18.00s    14.90s    1.11m    71.05%
    Req/Sec   152.08     23.68   215.00     70.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   14.63s 
 75.000%   24.95s 
 90.000%   38.76s 
 99.000%    1.11m 
 99.900%    1.34m 
 99.990%    1.43m 
 99.999%    1.45m 
100.000%    1.45m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       6.651     0.000000            1         1.00
    2113.535     0.100000        78508         1.11
    4943.871     0.200000       157029         1.25
    8007.679     0.300000       235533         1.43
   11452.415     0.400000       314164         1.67
   14630.911     0.500000       392574         2.00
   16367.615     0.550000       431920         2.22
   18415.615     0.600000       471289         2.50
   20529.151     0.650000       510537         2.86
   22593.535     0.700000       549650         3.33
   24952.831     0.750000       588856         4.00
   26509.311     0.775000       608491         4.44
   28966.911     0.800000       628165         5.00
   31178.751     0.825000       647790         5.71
   33406.975     0.850000       667405         6.67
   36143.103     0.875000       686989         8.00
   37388.287     0.887500       696776         8.89
   38764.543     0.900000       706826        10.00
   40304.639     0.912500       716574        11.43
   42631.167     0.925000       726328        13.33
   45219.839     0.937500       736087        16.00
   46497.791     0.943750       740977        17.78
   47710.207     0.950000       745850        20.00
   48922.623     0.956250       750819        22.86
   50495.487     0.962500       755640        26.67
   52658.175     0.968750       760550        32.00
   54099.967     0.971875       763030        35.56
   56033.279     0.975000       765475        40.00
   58458.111     0.978125       767931        45.71
   60882.943     0.981250       770410        53.33
   62783.487     0.984375       772837        64.00
   63832.063     0.985938       774079        71.11
   64684.031     0.987500       775285        80.00
   65830.911     0.989062       776504        91.43
   67010.559     0.990625       777723       106.67
   68288.511     0.992188       778998       128.00
   69009.407     0.992969       779595       142.22
   69730.303     0.993750       780190       160.00
   70582.271     0.994531       780792       182.86
   71761.919     0.995313       781397       213.33
   73138.175     0.996094       782017       256.00
   73924.607     0.996484       782319       284.44
   74776.575     0.996875       782641       320.00
   75563.007     0.997266       782940       365.71
   76283.903     0.997656       783247       426.67
   77004.799     0.998047       783565       512.00
   77398.015     0.998242       783719       568.89
   77791.231     0.998437       783854       640.00
   78315.519     0.998633       784006       731.43
   79036.415     0.998828       784165       853.33
   80412.671     0.999023       784312      1024.00
   80936.959     0.999121       784393      1137.78
   81461.247     0.999219       784466      1280.00
   82051.071     0.999316       784546      1462.86
   82509.823     0.999414       784623      1706.67
   83296.255     0.999512       784701      2048.00
   83689.471     0.999561       784739      2275.56
   84017.151     0.999609       784772      2560.00
   84475.903     0.999658       784814      2925.71
   84738.047     0.999707       784855      3413.33
   85000.191     0.999756       784891      4096.00
   85131.263     0.999780       784908      4551.11
   85327.871     0.999805       784926      5120.00
   85458.943     0.999829       784946      5851.43
   85655.551     0.999854       784963      6826.67
   85852.159     0.999878       784982      8192.00
   85917.695     0.999890       784995      9102.22
   85983.231     0.999902       785001     10240.00
   86048.767     0.999915       785011     11702.86
   86179.839     0.999927       785027     13653.33
   86245.375     0.999939       785035     16384.00
   86245.375     0.999945       785035     18204.44
   86310.911     0.999951       785040     20480.00
   86376.447     0.999957       785047     23405.71
   86441.983     0.999963       785054     27306.67
   86441.983     0.999969       785054     32768.00
   86507.519     0.999973       785057     36408.89
   86573.055     0.999976       785059     40960.00
   86638.591     0.999979       785062     46811.43
   86704.127     0.999982       785064     54613.33
   86835.199     0.999985       785068     65536.00
   86835.199     0.999986       785068     72817.78
   86835.199     0.999988       785068     81920.00
   86900.735     0.999989       785070     93622.86
   86900.735     0.999991       785070    109226.67
   86966.271     0.999992       785073    131072.00
   86966.271     0.999993       785073    145635.56
   86966.271     0.999994       785073    163840.00
   86966.271     0.999995       785073    187245.71
   87031.807     0.999995       785075    218453.33
   87031.807     0.999996       785075    262144.00
   87031.807     0.999997       785075    291271.11
   87031.807     0.999997       785075    327680.00
   87031.807     0.999997       785075    374491.43
   87097.343     0.999998       785077    436906.67
   87097.343     1.000000       785077          inf
#[Mean    =    17995.567, StdDeviation   =    14900.434]
#[Max     =    87031.808, Total count    =       785077]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  853820 requests in 2.00m, 10.42GB read
Requests/sec:   7120.44  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 49096 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 22019 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 49096 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 22019 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
6f31cdb79dacac6b13acb13a151a97002b8dc434a783374d67954e81ff450435
6b138f9590967b2e7ad39183c8784dcf51fd13c0366f1d013e044805f4842df3
a2445183d11ee5355f29197d080aadfdcdda38a00283222cdf1a467172dab5c5
2005593f6a769ada6f777aea4e0bcf9ee008210c67367cc9535d889e75f138b8
a2ab6af829194003517550fbe46d791b93f407b7d7efab49428abb00cc0362d6
ec323f3ccc3c92b495040f33ba4b2c4cd9a8e3b7ffa464b35f9306bfab945bce
b81859ea61aaf9545aa11323a3a07bb4f9497def3163e2128ee6a93c5897884d
28d8c82804e8ebb7ca650768d6f572fa3dce1a67bcd8fb888a1b95b38c2b69a8
eae2557bdd304b11c35a53ec0c0a9b380d458e7426a5660c1127b8f42f4ea765
d8ab8c10f00d2e67ce904b6fc43b623d12a23c9c8237375b6f27c8d94d15e039
358fea56258cb1ccde4198cf9786ad935b6821ba66ab78aba3d106e8e4dabe81
8cced733d8b156f69d61b0fbce5b98fcd88900844a8b7f136deede30fe393cb4
55a71d0919166be3e1032c3d3a277a67ea3d296ca456a83ed86ec8705391819e
8847c54aa9edd78bde9e5f2d4d5cf136157e99173c15928b7ccbf9da6996a78c
668ffd3b68d38ec8bea6cbadac816a7441324b0b33ad95b01711759fa207272f
7d85d034da5dd00027c7004f167d740b1b8e7b29ab32aa6dada27d107086b2fe
df8703e8f0339abe80cbb222727aa2e40d1679210e9e2c9580cfc94a070f2a2d
1906b80b007c9a83fb1e9a7cd07b2bf2f8d6d1972fd8100f504e12ff9d821769
9de2ed7faccf599552ba475f672415ba447165bc5dfcdf274f8495f0d952db98
b4b33d2fc03f8254475dd17c36ae59e5fd2d9eaeb7a9c9ee1651fb4b52a75f26
bfc14f0a466995557dc42b786d9d1b29c117063818e78f9f4f788498f33da9ac
cb31b357cef9fcf676d6e93794808268914d859e56723258500e0aaf2dc1665c
4370a82cee573032d12e4a55171e8196f7665b6fb0dbef50a1c1bf2944185dd3
e45bcef82d82b710d855fcd440a2fa6fa6bb59735f64c52a1bb7a09b752863d6
cfe66212fcbc9cc7be0b1fb2ca73c45648b76ad5899fd1620b26740cd97b527c
2d14716d052fd83be5db069c64a72f19f17c5ec347641c67f9160a2d824f7280
6550b95bf51a7a0387ccc661955383846218b9847127a24fa69740a1b69d5de5
4c8a63d103d3e50bf8bd809c92ec6174b70b42cd777e42edcdf99ae45f7e88b8
b3e1579aed61d64a7f15e1840713c8a66eca354d0c4b99c3df91789b2624586b
9f3d46aaa99fcd7d6ac7ba10fc218b85ed511c933ce8f38c74d0ecc91e8c8081
93210cc9e69a9d2392c8976684d98d881ca3836f17c8ee573bf4bb6f158fb35c

Total reclaimed space: 4.591GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 15-46-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-2.log -b True -m m -M 2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 15-46-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-2.log', 'mode': 'm', 'memnode': '2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-2
CMD: docker exec -u root -it socialnetwork_social-graph-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-2



CMD: docker commit socialnetwork_social-graph-service_1 social-network-microservices-numa-membind-2

Result: sha256:214ee4fa5c5c511bff2830ffa149265cbe3b855a32eca0d33206555d81e006f3


Install numactl tools on docker image: media-frontend-numa-membind-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-2

Result: sha256:ab1503cf4efe16aacb992d31bb3f7a4dd14cce7897a295db30507ba15d48e46b


Install numactl tools on docker image: openresty-thrift-numa-membind-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-2

Result: sha256:825a96c49e0bdfa2280ef059472d04960230b40b4778180da0c45af37621808a


Install numactl tools on docker image: mongo-numa-membind-2
CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 22:46 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-2



CMD: docker commit socialnetwork_url-shorten-mongodb_1 mongo-numa-membind-2

Result: sha256:8966524c0ef436b4719744cad688facf8ba74908baf38b2afee8f78e611d93d6


Install numactl tools on docker image: redis-numa-membind-2
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_home-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_home-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 11 22:46 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-2



CMD: docker commit socialnetwork_home-timeline-redis_4 redis-numa-membind-2

Result: sha256:d14f548e38112b13bf0df8b81f48b92d0f66e8bc2d365390c3dd6499003f61d6


Install numactl tools on docker image: memcached-numa-membind-2
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_post-storage-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 11 22:47 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_post-storage-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-2



CMD: docker commit socialnetwork_post-storage-memcached_1 memcached-numa-membind-2

Result: sha256:ed90dbfec27f8db8bbe84a74e1faaecc8c49fc77274d5d8310ab2c8aa47e628b


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
259c9076e6fcbfcfa6c194a00b7d7900b9a7eabc0364ff65b60d0be5c83b0894
e5d7d7ecf299a79a4586faa7cf10e2ba975b4d0b250e308cc1cbdeca3bbf9e2f
5c1d8e14f3a30f797a3d7d22b41cca31e23e26aa1b80f0a65ae1567945ec377b
93a2d4fa296d826a0b22d59334f025b10b6b308d9d13b0f2e662a1e584f3af80
6a7d69e73982500747b7e92cf9cca161dc37ddbeb580e2178d65ac6f78493956
2e679d34820cd4e5c06415efadceddb6a1daf976c31f6df9a6a7aadf40932912
c16048a70567f986176a29805a1a2a74b017a8d3e1689efe3a0c80745acece78
e23730059d0434fcca2e81a7dfa2f77f91e7a8653ea3a10d7cb23089e42cb49f
2d6c64b3fd99eff7b20f98194806ea6259e73613b98864d77d8f26b5c4975f95
1fdc24fc71ae28082073a49c46dbc9ea27a1cea6271af17a52b784e2f90f0735
f9afde592b2059f4b569b803a3b60c2d39810c30be115062e104c5c9b32f91f3
5ad59f7d8681926d893f90c19ae43f8f2e621a87f9914fcc259955c0e2f09f2f
1c9a2a9b278fff2f878def16069f0a7bda47cfcb8f94d4bf2abee89e80e87511
163b5194b25b059cd76e49272f8908df10b8b071ec9d7badfeb4aee1ee7eef30
ba1fed088db9444a6c415ad99fd87d73a72fab2688083cd7729fc9a8d9092b56
cb365380d663409e2312cd716570bd882f5855df5e81c0fcb9340042719dcd06
de04b3ac572a0d7a0502bbc8b36a48c19347ee6e16810790390095d11aa38c94
c3f42f0e0f494b8bf6e0c7362376bb1f0b25525ce0bba4a38ef90c3299418389
a9b45114cbcf70452cae82ff94db97d7273e8d99d15790610408926f5cd1ed4c
fbc5a4014499c8b4ed201d3b71ab5eec3c6cc83e9d0fb41d4a687b74f1e7ed4d
5f1570311aae8ee2576575d22d460891d4d15a9cf60f5d72aa04b02c5a1cb62f
2d0ead868948ee4b33e75cd48ef9d6bdc1568ed6af7a5badd04b829cef5988d8
946f1649b3a7fa794ad5cf7a4eaa6f3cc7c429d3e9c1dec1ec9db5cbb657ed1a
447b1b59979f276a78a88153a0b034beccdb57a79de2322fe8216c7933c1d76e
12aa52d2b6d19342b9187c9e5f205b8b5737ec9e693c55d18c2838954aac095b
a454e54c1eb9825d4ce75964fe71cc9419d43c1d96f883b0429beda4f85994a8
6f8c30b1a467f0f0f8a04119ac85d63027beb079741680bf637c44354ab3d9b2
ed2023a2933dee3fdff9088d906281f580261a6bf08fda46b36669f5e41ec76f
689092f64d5eac95c04caaafcda9917b49d278273713f10d2f122540752cee82
f06fcd9d1885f88ebf3ccba8801f3555f96265f7e5d3e8e78b5db42453ca14fc
e03dee946ef696fbef535312b46f73ad31fe9aa0a6d6de924b889a902ac93eaa

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-membind-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54382 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58267 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130201 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54382 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58267 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130201 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Failed: 2593 Error: Follow Failed: CLUSTERDOWN The cluster is down
Succeeded: 35031


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:45
cluster_stats_messages_pong_sent:47
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:93
cluster_stats_messages_ping_received:47
cluster_stats_messages_pong_received:46
cluster_stats_messages_received:93
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:42
cluster_stats_messages_pong_sent:46
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:89
cluster_stats_messages_ping_received:46
cluster_stats_messages_pong_received:43
cluster_stats_messages_received:89
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:39
cluster_stats_messages_pong_sent:41
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:81
cluster_stats_messages_ping_received:41
cluster_stats_messages_pong_received:40
cluster_stats_messages_received:81
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.622ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.653ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.136ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.918ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.574ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.294ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.607ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.079ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.628ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.727ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.630ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.946ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.719ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.484ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.489ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.785ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.989ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.458ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.681ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.881ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.784ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.667ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.536ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.999ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.671ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.826ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.859ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.454ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.454ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.855ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.953ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.540ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.535ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.808ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.691ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.905ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.667ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.577ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.664ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.700ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.200ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.106ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.583ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.810ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.533ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.924ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.828ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.667ms, rate sampling interval: 14ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.20ms    1.24ms   8.71ms   83.19%
    Req/Sec    20.67     39.77   153.00     76.23%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.04ms
 75.000%    5.68ms
 90.000%    6.42ms
 99.000%    8.71ms
 99.900%   14.75ms
 99.990%   39.10ms
 99.999%   51.10ms
100.000%   54.49ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       1.999     0.000000            1         1.00
       4.081     0.100000        10585         1.11
       4.383     0.200000        21166         1.25
       4.619     0.300000        31896         1.43
       4.827     0.400000        42435         1.67
       5.039     0.500000        53032         2.00
       5.151     0.550000        58262         2.22
       5.271     0.600000        63635         2.50
       5.395     0.650000        68817         2.86
       5.531     0.700000        74129         3.33
       5.683     0.750000        79391         4.00
       5.771     0.775000        82077         4.44
       5.867     0.800000        84723         5.00
       5.971     0.825000        87341         5.71
       6.095     0.850000        89968         6.67
       6.239     0.875000        92635         8.00
       6.323     0.887500        93962         8.89
       6.419     0.900000        95288        10.00
       6.523     0.912500        96591        11.43
       6.643     0.925000        97933        13.33
       6.783     0.937500        99228        16.00
       6.863     0.943750        99872        17.78
       6.963     0.950000       100548        20.00
       7.075     0.956250       101211        22.86
       7.211     0.962500       101868        26.67
       7.379     0.968750       102517        32.00
       7.479     0.971875       102845        35.56
       7.595     0.975000       103180        40.00
       7.719     0.978125       103511        45.71
       7.883     0.981250       103839        53.33
       8.107     0.984375       104168        64.00
       8.271     0.985938       104341        71.11
       8.423     0.987500       104503        80.00
       8.575     0.989062       104666        91.43
       8.799     0.990625       104833       106.67
       9.047     0.992188       104996       128.00
       9.191     0.992969       105077       142.22
       9.407     0.993750       105161       160.00
       9.607     0.994531       105247       182.86
       9.887     0.995313       105328       213.33
      10.151     0.996094       105410       256.00
      10.343     0.996484       105450       284.44
      10.575     0.996875       105491       320.00
      10.767     0.997266       105534       365.71
      11.095     0.997656       105573       426.67
      11.447     0.998047       105616       512.00
      11.767     0.998242       105635       568.89
      12.119     0.998437       105656       640.00
      12.671     0.998633       105677       731.43
      13.687     0.998828       105697       853.33
      14.911     0.999023       105718      1024.00
      16.463     0.999121       105728      1137.78
      17.647     0.999219       105739      1280.00
      18.735     0.999316       105749      1462.86
      20.559     0.999414       105759      1706.67
      22.815     0.999512       105770      2048.00
      24.207     0.999561       105775      2275.56
      25.279     0.999609       105780      2560.00
      27.919     0.999658       105786      2925.71
      29.215     0.999707       105790      3413.33
      31.919     0.999756       105796      4096.00
      33.151     0.999780       105798      4551.11
      35.167     0.999805       105801      5120.00
      35.679     0.999829       105803      5851.43
      38.143     0.999854       105806      6826.67
      38.975     0.999878       105809      8192.00
      39.103     0.999890       105810      9102.22
      39.487     0.999902       105811     10240.00
      39.711     0.999915       105812     11702.86
      39.999     0.999927       105814     13653.33
      40.095     0.999939       105815     16384.00
      40.863     0.999945       105816     18204.44
      40.863     0.999951       105816     20480.00
      42.591     0.999957       105817     23405.71
      42.911     0.999963       105818     27306.67
      42.911     0.999969       105818     32768.00
      49.183     0.999973       105819     36408.89
      49.183     0.999976       105819     40960.00
      49.183     0.999979       105819     46811.43
      51.103     0.999982       105820     54613.33
      51.103     0.999985       105820     65536.00
      51.103     0.999986       105820     72817.78
      51.103     0.999988       105820     81920.00
      51.103     0.999989       105820     93622.86
      54.495     0.999991       105821    109226.67
      54.495     1.000000       105821          inf
#[Mean    =        5.203, StdDeviation   =        1.237]
#[Max     =       54.464, Total count    =       105821]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115332 requests in 2.00m, 23.65MB read
  Socket errors: connect 0, read 0, write 0, timeout 1
Requests/sec:    961.04  
Transfer/sec:    201.78KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54227 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57594 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128496 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54227 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57594 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128496 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.460ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.489ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.553ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.368ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.211ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.289ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.387ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.493ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.210ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.471ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.305ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.298ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.223ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.261ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.454ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.288ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.362ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.442ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.513ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.284ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.399ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.280ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.202ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.417ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.659ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.440ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.412ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.424ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.316ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.302ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.324ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.296ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.302ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.412ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.553ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.491ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.214ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.348ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.264ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.469ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.312ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.463ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.399ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.372ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.251ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.390ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.556ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.588ms, rate sampling interval: 11ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.58ms   10.77ms  46.30ms   98.21%
    Req/Sec   108.98    101.38   400.00     55.94%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.10ms
 75.000%    4.82ms
 90.000%    6.20ms
 99.000%   46.30ms
 99.900%  164.22ms
 99.990%  222.21ms
 99.999%  260.61ms
100.000%  283.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.227     0.000000            1         1.00
       3.319     0.100000        55274         1.11
       3.539     0.200000       109995         1.25
       3.725     0.300000       164852         1.43
       3.909     0.400000       220349         1.67
       4.103     0.500000       275544         2.00
       4.211     0.550000       302185         2.22
       4.335     0.600000       330280         2.50
       4.467     0.650000       357746         2.86
       4.627     0.700000       385103         3.33
       4.819     0.750000       412150         4.00
       4.939     0.775000       425907         4.44
       5.083     0.800000       439747         5.00
       5.259     0.825000       453401         5.71
       5.475     0.850000       467099         6.67
       5.771     0.875000       480780         8.00
       5.963     0.887500       487682         8.89
       6.195     0.900000       494552        10.00
       6.467     0.912500       501410        11.43
       6.799     0.925000       508228        13.33
       7.203     0.937500       515097        16.00
       7.443     0.943750       518502        17.78
       7.727     0.950000       521955        20.00
       8.059     0.956250       525374        22.86
       8.495     0.962500       528813        26.67
       9.151     0.968750       532231        32.00
       9.615     0.971875       533948        35.56
      10.319     0.975000       535679        40.00
      11.543     0.978125       537380        45.71
      14.759     0.981250       539102        53.33
      22.223     0.984375       540815        64.00
      27.135     0.985938       541673        71.11
      33.535     0.987500       542532        80.00
      41.183     0.989062       543392        91.43
      50.175     0.990625       544252       106.67
      61.663     0.992188       545106       128.00
      68.159     0.992969       545536       142.22
      76.223     0.993750       545965       160.00
      84.671     0.994531       546398       182.86
      93.823     0.995313       546826       213.33
     103.871     0.996094       547252       256.00
     109.887     0.996484       547467       284.44
     115.903     0.996875       547683       320.00
     122.879     0.997266       547896       365.71
     130.559     0.997656       548111       426.67
     139.647     0.998047       548325       512.00
     144.639     0.998242       548436       568.89
     148.735     0.998437       548540       640.00
     153.855     0.998633       548648       731.43
     158.847     0.998828       548756       853.33
     164.735     0.999023       548863      1024.00
     168.703     0.999121       548919      1137.78
     171.263     0.999219       548972      1280.00
     174.207     0.999316       549024      1462.86
     179.199     0.999414       549077      1706.67
     183.423     0.999512       549131      2048.00
     185.983     0.999561       549158      2275.56
     188.671     0.999609       549185      2560.00
     190.847     0.999658       549211      2925.71
     194.687     0.999707       549238      3413.33
     198.911     0.999756       549264      4096.00
     202.495     0.999780       549278      4551.11
     204.799     0.999805       549292      5120.00
     207.359     0.999829       549305      5851.43
     212.863     0.999854       549318      6826.67
     215.935     0.999878       549331      8192.00
     217.855     0.999890       549338      9102.22
     222.335     0.999902       549345     10240.00
     225.791     0.999915       549352     11702.86
     228.223     0.999927       549358     13653.33
     231.039     0.999939       549366     16384.00
     233.087     0.999945       549369     18204.44
     235.263     0.999951       549372     20480.00
     236.799     0.999957       549375     23405.71
     239.487     0.999963       549378     27306.67
     244.607     0.999969       549382     32768.00
     251.903     0.999973       549383     36408.89
     252.159     0.999976       549385     40960.00
     253.951     0.999979       549387     46811.43
     254.079     0.999982       549388     54613.33
     254.463     0.999985       549390     65536.00
     256.767     0.999986       549391     72817.78
     256.895     0.999988       549392     81920.00
     260.607     0.999989       549393     93622.86
     260.607     0.999991       549393    109226.67
     261.887     0.999992       549394    131072.00
     264.959     0.999993       549395    145635.56
     264.959     0.999994       549395    163840.00
     272.639     0.999995       549396    187245.71
     272.639     0.999995       549396    218453.33
     272.639     0.999996       549396    262144.00
     273.919     0.999997       549397    291271.11
     273.919     0.999997       549397    327680.00
     273.919     0.999997       549397    374491.43
     273.919     0.999998       549397    436906.67
     273.919     0.999998       549397    524288.00
     283.647     0.999998       549398    582542.22
     283.647     1.000000       549398          inf
#[Mean    =        5.580, StdDeviation   =       10.772]
#[Max     =      283.392, Total count    =       549398]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  598950 requests in 2.00m, 122.81MB read
Requests/sec:   4995.16  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53626 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54613 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120632 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53626 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54613 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120632 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1739.734ms, rate sampling interval: 6373ms
  Thread calibration: mean lat.: 1480.660ms, rate sampling interval: 5246ms
  Thread calibration: mean lat.: 1563.114ms, rate sampling interval: 5779ms
  Thread calibration: mean lat.: 1464.039ms, rate sampling interval: 5439ms
  Thread calibration: mean lat.: 1526.611ms, rate sampling interval: 5328ms
  Thread calibration: mean lat.: 1678.614ms, rate sampling interval: 6168ms
  Thread calibration: mean lat.: 1489.270ms, rate sampling interval: 5726ms
  Thread calibration: mean lat.: 1636.056ms, rate sampling interval: 6336ms
  Thread calibration: mean lat.: 1635.572ms, rate sampling interval: 6070ms
  Thread calibration: mean lat.: 1411.812ms, rate sampling interval: 5574ms
  Thread calibration: mean lat.: 1623.389ms, rate sampling interval: 5767ms
  Thread calibration: mean lat.: 1500.882ms, rate sampling interval: 5652ms
  Thread calibration: mean lat.: 1558.268ms, rate sampling interval: 5812ms
  Thread calibration: mean lat.: 1589.092ms, rate sampling interval: 5701ms
  Thread calibration: mean lat.: 1703.677ms, rate sampling interval: 6176ms
  Thread calibration: mean lat.: 1532.740ms, rate sampling interval: 5640ms
  Thread calibration: mean lat.: 1617.137ms, rate sampling interval: 5885ms
  Thread calibration: mean lat.: 1447.363ms, rate sampling interval: 5648ms
  Thread calibration: mean lat.: 1613.840ms, rate sampling interval: 6041ms
  Thread calibration: mean lat.: 1596.141ms, rate sampling interval: 5910ms
  Thread calibration: mean lat.: 1423.659ms, rate sampling interval: 5414ms
  Thread calibration: mean lat.: 1623.711ms, rate sampling interval: 5705ms
  Thread calibration: mean lat.: 1669.177ms, rate sampling interval: 6172ms
  Thread calibration: mean lat.: 1528.812ms, rate sampling interval: 5750ms
  Thread calibration: mean lat.: 1589.341ms, rate sampling interval: 5636ms
  Thread calibration: mean lat.: 1661.167ms, rate sampling interval: 5861ms
  Thread calibration: mean lat.: 1550.221ms, rate sampling interval: 5636ms
  Thread calibration: mean lat.: 1583.633ms, rate sampling interval: 5689ms
  Thread calibration: mean lat.: 1607.758ms, rate sampling interval: 5787ms
  Thread calibration: mean lat.: 1567.626ms, rate sampling interval: 5660ms
  Thread calibration: mean lat.: 1772.195ms, rate sampling interval: 6291ms
  Thread calibration: mean lat.: 1553.461ms, rate sampling interval: 5828ms
  Thread calibration: mean lat.: 1695.130ms, rate sampling interval: 5910ms
  Thread calibration: mean lat.: 1563.225ms, rate sampling interval: 5791ms
  Thread calibration: mean lat.: 1477.253ms, rate sampling interval: 5492ms
  Thread calibration: mean lat.: 1678.019ms, rate sampling interval: 5984ms
  Thread calibration: mean lat.: 1741.601ms, rate sampling interval: 6332ms
  Thread calibration: mean lat.: 1811.547ms, rate sampling interval: 6533ms
  Thread calibration: mean lat.: 1643.290ms, rate sampling interval: 5931ms
  Thread calibration: mean lat.: 1682.168ms, rate sampling interval: 5869ms
  Thread calibration: mean lat.: 1888.993ms, rate sampling interval: 6496ms
  Thread calibration: mean lat.: 1775.945ms, rate sampling interval: 6115ms
  Thread calibration: mean lat.: 1520.139ms, rate sampling interval: 5378ms
  Thread calibration: mean lat.: 1830.023ms, rate sampling interval: 6537ms
  Thread calibration: mean lat.: 1698.196ms, rate sampling interval: 5996ms
  Thread calibration: mean lat.: 1905.590ms, rate sampling interval: 6496ms
  Thread calibration: mean lat.: 1870.583ms, rate sampling interval: 6320ms
  Thread calibration: mean lat.: 1682.215ms, rate sampling interval: 5709ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    21.51s    10.48s   39.62s    57.58%
    Req/Sec   139.46      2.95   145.00     80.66%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   21.59s 
 75.000%   30.67s 
 90.000%   35.82s 
 99.000%   39.62s 
 99.900%   41.06s 
 99.990%   41.91s 
 99.999%   42.37s 
100.000%   42.47s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2441.215     0.000000            1         1.00
    7028.735     0.100000        73873         1.11
   10608.639     0.200000       147756         1.25
   14213.119     0.300000       221686         1.43
   18006.015     0.400000       295570         1.67
   21594.111     0.500000       369695         2.00
   23445.503     0.550000       406519         2.22
   25247.743     0.600000       443257         2.50
   26968.063     0.650000       480217         2.86
   28852.223     0.700000       517406         3.33
   30670.847     0.750000       554210         4.00
   31539.199     0.775000       572760         4.44
   32423.935     0.800000       591320         5.00
   33275.903     0.825000       609713         5.71
   34144.255     0.850000       628509         6.67
   34963.455     0.875000       646667         8.00
   35389.439     0.887500       655952         8.89
   35815.423     0.900000       665472        10.00
   36241.407     0.912500       674328        11.43
   36700.159     0.925000       683578        13.33
   37158.911     0.937500       692968        16.00
   37388.287     0.943750       697805        17.78
   37617.663     0.950000       702371        20.00
   37847.039     0.956250       706754        22.86
   38109.183     0.962500       711503        26.67
   38371.327     0.968750       715933        32.00
   38502.399     0.971875       718000        35.56
   38666.239     0.975000       720502        40.00
   38830.079     0.978125       723020        45.71
   38993.919     0.981250       725085        53.33
   39190.527     0.984375       727272        64.00
   39321.599     0.985938       728659        71.11
   39419.903     0.987500       729702        80.00
   39550.975     0.989062       730903        91.43
   39649.279     0.990625       731851       106.67
   39780.351     0.992188       732977       128.00
   39878.655     0.992969       733637       142.22
   39976.959     0.993750       734221       160.00
   40075.263     0.994531       734857       182.86
   40140.799     0.995313       735273       213.33
   40271.871     0.996094       735918       256.00
   40337.407     0.996484       736175       284.44
   40402.943     0.996875       736428       320.00
   40501.247     0.997266       736754       365.71
   40566.783     0.997656       736991       426.67
   40697.855     0.998047       737317       512.00
   40763.391     0.998242       737472       568.89
   40828.927     0.998437       737581       640.00
   40894.463     0.998633       737703       731.43
   40992.767     0.998828       737881       853.33
   41058.303     0.999023       737994      1024.00
   41123.839     0.999121       738096      1137.78
   41189.375     0.999219       738162      1280.00
   41222.143     0.999316       738210      1462.86
   41287.679     0.999414       738291      1706.67
   41353.215     0.999512       738359      2048.00
   41385.983     0.999561       738399      2275.56
   41418.751     0.999609       738430      2560.00
   41451.519     0.999658       738459      2925.71
   41549.823     0.999707       738501      3413.33
   41615.359     0.999756       738557      4096.00
   41615.359     0.999780       738557      4551.11
   41648.127     0.999805       738587      5120.00
   41648.127     0.999829       738587      5851.43
   41713.663     0.999854       738606      6826.67
   41844.735     0.999878       738622      8192.00
   41910.271     0.999890       738638      9102.22
   41943.039     0.999902       738643     10240.00
   42008.575     0.999915       738656     11702.86
   42041.343     0.999927       738667     13653.33
   42041.343     0.999939       738667     16384.00
   42074.111     0.999945       738676     18204.44
   42074.111     0.999951       738676     20480.00
   42106.879     0.999957       738680     23405.71
   42139.647     0.999963       738685     27306.67
   42172.415     0.999969       738689     32768.00
   42205.183     0.999973       738694     36408.89
   42205.183     0.999976       738694     40960.00
   42237.951     0.999979       738696     46811.43
   42270.719     0.999982       738698     54613.33
   42303.487     0.999985       738700     65536.00
   42336.255     0.999986       738703     72817.78
   42336.255     0.999988       738703     81920.00
   42369.023     0.999989       738707     93622.86
   42369.023     0.999991       738707    109226.67
   42369.023     0.999992       738707    131072.00
   42369.023     0.999993       738707    145635.56
   42369.023     0.999994       738707    163840.00
   42401.791     0.999995       738709    187245.71
   42401.791     0.999995       738709    218453.33
   42401.791     0.999996       738709    262144.00
   42401.791     0.999997       738709    291271.11
   42401.791     0.999997       738709    327680.00
   42434.559     0.999997       738710    374491.43
   42434.559     0.999998       738710    436906.67
   42434.559     0.999998       738710    524288.00
   42434.559     0.999998       738710    582542.22
   42434.559     0.999998       738710    655360.00
   42467.327     0.999999       738711    748982.86
   42467.327     1.000000       738711          inf
#[Mean    =    21513.919, StdDeviation   =    10479.183]
#[Max     =    42434.560, Total count    =       738711]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  805725 requests in 2.00m, 165.21MB read
Requests/sec:   6719.96  
Transfer/sec:      1.38MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52587 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50706 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 107577 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52587 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50706 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 107577 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.038ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.140ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.979ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.144ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.333ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.017ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.768ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.056ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.614ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.314ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.898ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.934ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.053ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.268ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.001ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.141ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.132ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.183ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.125ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.393ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.399ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.046ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.826ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.138ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.330ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.143ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.456ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.969ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.462ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.796ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.972ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.083ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.073ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.965ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.009ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.920ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.127ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.236ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.061ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.982ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.996ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.028ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.201ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.239ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.645ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.897ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.793ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.975ms, rate sampling interval: 16ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.31ms    2.64ms  16.64ms   65.98%
    Req/Sec    20.54     35.52   133.00     75.03%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.26ms
 75.000%   11.07ms
 90.000%   12.60ms
 99.000%   16.64ms
 99.900%   21.71ms
 99.990%   25.65ms
 99.999%   30.01ms
100.000%   32.29ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.563     0.000000            1         1.00
       6.107     0.100000        10615         1.11
       6.739     0.200000        21226         1.25
       7.455     0.300000        31799         1.43
       8.415     0.400000        42393         1.67
       9.255     0.500000        53018         2.00
       9.623     0.550000        58253         2.22
       9.975     0.600000        63525         2.50
      10.335     0.650000        68868         2.86
      10.695     0.700000        74192         3.33
      11.071     0.750000        79476         4.00
      11.271     0.775000        82115         4.44
      11.479     0.800000        84680         5.00
      11.719     0.825000        87363         5.71
      11.975     0.850000        90014         6.67
      12.263     0.875000        92639         8.00
      12.423     0.887500        93952         8.89
      12.599     0.900000        95269        10.00
      12.791     0.912500        96595        11.43
      13.023     0.925000        97908        13.33
      13.295     0.937500        99242        16.00
      13.447     0.943750        99891        17.78
      13.623     0.950000       100568        20.00
      13.815     0.956250       101222        22.86
      14.063     0.962500       101887        26.67
      14.367     0.968750       102538        32.00
      14.543     0.971875       102873        35.56
      14.759     0.975000       103201        40.00
      14.991     0.978125       103524        45.71
      15.271     0.981250       103861        53.33
      15.663     0.984375       104190        64.00
      15.879     0.985938       104351        71.11
      16.135     0.987500       104519        80.00
      16.447     0.989062       104684        91.43
      16.783     0.990625       104855       106.67
      17.183     0.992188       105014       128.00
      17.439     0.992969       105099       142.22
      17.711     0.993750       105183       160.00
      17.967     0.994531       105263       182.86
      18.287     0.995313       105343       213.33
      18.767     0.996094       105426       256.00
      19.039     0.996484       105470       284.44
      19.295     0.996875       105510       320.00
      19.599     0.997266       105550       365.71
      19.951     0.997656       105592       426.67
      20.271     0.998047       105633       512.00
      20.511     0.998242       105653       568.89
      20.671     0.998437       105674       640.00
      20.943     0.998633       105697       731.43
      21.359     0.998828       105715       853.33
      21.791     0.999023       105736      1024.00
      22.015     0.999121       105746      1137.78
      22.159     0.999219       105757      1280.00
      22.463     0.999316       105767      1462.86
      22.879     0.999414       105777      1706.67
      23.311     0.999512       105788      2048.00
      23.503     0.999561       105793      2275.56
      23.807     0.999609       105798      2560.00
      24.255     0.999658       105803      2925.71
      24.431     0.999707       105808      3413.33
      24.671     0.999756       105814      4096.00
      24.927     0.999780       105816      4551.11
      25.135     0.999805       105819      5120.00
      25.279     0.999829       105822      5851.43
      25.503     0.999854       105824      6826.67
      25.583     0.999878       105827      8192.00
      25.647     0.999890       105828      9102.22
      25.663     0.999902       105829     10240.00
      25.951     0.999915       105830     11702.86
      26.143     0.999927       105832     13653.33
      26.191     0.999939       105833     16384.00
      26.223     0.999945       105834     18204.44
      26.223     0.999951       105834     20480.00
      26.383     0.999957       105835     23405.71
      26.447     0.999963       105836     27306.67
      26.447     0.999969       105836     32768.00
      27.823     0.999973       105837     36408.89
      27.823     0.999976       105837     40960.00
      27.823     0.999979       105837     46811.43
      30.015     0.999982       105838     54613.33
      30.015     0.999985       105838     65536.00
      30.015     0.999986       105838     72817.78
      30.015     0.999988       105838     81920.00
      30.015     0.999989       105838     93622.86
      32.287     0.999991       105839    109226.67
      32.287     1.000000       105839          inf
#[Mean    =        9.309, StdDeviation   =        2.641]
#[Max     =       32.272, Total count    =       105839]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115382 requests in 2.00m, 1.56GB read
Requests/sec:    961.46  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52429 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49006 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111949 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52429 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49006 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111949 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.418ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.226ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.350ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.185ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.424ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.193ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.213ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.617ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 8.022ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 6.879ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.324ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.517ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.716ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.366ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.055ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.941ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.423ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.348ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.156ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.913ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.172ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.412ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.782ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.474ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.948ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.935ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.024ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.356ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.945ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.311ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.057ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.158ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.253ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.262ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.649ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.103ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.536ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.970ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.668ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.752ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.412ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.219ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.163ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.346ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.254ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.262ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.665ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.274ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.30ms    2.42ms  15.96ms   80.67%
    Req/Sec   106.48     71.87   300.00     72.52%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.63ms
 75.000%    8.14ms
 90.000%   10.42ms
 99.000%   15.96ms
 99.900%   22.27ms
 99.990%   28.80ms
 99.999%   35.46ms
100.000%   38.94ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.571     0.000000            1         1.00
       5.127     0.100000        54964         1.11
       5.563     0.200000       110495         1.25
       5.911     0.300000       165234         1.43
       6.255     0.400000       220040         1.67
       6.631     0.500000       274804         2.00
       6.847     0.550000       302356         2.22
       7.091     0.600000       329809         2.50
       7.375     0.650000       357308         2.86
       7.719     0.700000       384716         3.33
       8.139     0.750000       412288         4.00
       8.391     0.775000       426089         4.44
       8.679     0.800000       439763         5.00
       9.015     0.825000       453634         5.71
       9.399     0.850000       467309         6.67
       9.855     0.875000       480875         8.00
      10.119     0.887500       487714         8.89
      10.423     0.900000       494724        10.00
      10.751     0.912500       501449        11.43
      11.135     0.925000       508345        13.33
      11.559     0.937500       515194        16.00
      11.807     0.943750       518622        17.78
      12.095     0.950000       522081        20.00
      12.415     0.956250       525527        22.86
      12.775     0.962500       528986        26.67
      13.199     0.968750       532365        32.00
      13.447     0.971875       534117        35.56
      13.727     0.975000       535807        40.00
      14.039     0.978125       537512        45.71
      14.423     0.981250       539243        53.33
      14.871     0.984375       540962        64.00
      15.127     0.985938       541800        71.11
      15.415     0.987500       542672        80.00
      15.727     0.989062       543529        91.43
      16.127     0.990625       544392       106.67
      16.591     0.992188       545237       128.00
      16.863     0.992969       545671       142.22
      17.167     0.993750       546092       160.00
      17.535     0.994531       546536       182.86
      17.951     0.995313       546961       213.33
      18.431     0.996094       547389       256.00
      18.735     0.996484       547597       284.44
      19.039     0.996875       547818       320.00
      19.391     0.997266       548024       365.71
      19.839     0.997656       548238       426.67
      20.335     0.998047       548453       512.00
      20.655     0.998242       548561       568.89
      21.039     0.998437       548670       640.00
      21.423     0.998633       548774       731.43
      21.791     0.998828       548884       853.33
      22.319     0.999023       548990      1024.00
      22.655     0.999121       549046      1137.78
      23.039     0.999219       549101      1280.00
      23.391     0.999316       549150      1462.86
      23.839     0.999414       549207      1706.67
      24.287     0.999512       549257      2048.00
      24.527     0.999561       549284      2275.56
      24.783     0.999609       549313      2560.00
      25.135     0.999658       549339      2925.71
      25.567     0.999707       549365      3413.33
      25.983     0.999756       549392      4096.00
      26.287     0.999780       549405      4551.11
      26.575     0.999805       549418      5120.00
      27.119     0.999829       549433      5851.43
      27.471     0.999854       549445      6826.67
      27.967     0.999878       549458      8192.00
      28.335     0.999890       549465      9102.22
      28.847     0.999902       549472     10240.00
      29.439     0.999915       549479     11702.86
      30.015     0.999927       549485     13653.33
      30.335     0.999939       549492     16384.00
      30.879     0.999945       549495     18204.44
      31.327     0.999951       549499     20480.00
      31.519     0.999957       549502     23405.71
      32.143     0.999963       549505     27306.67
      32.671     0.999969       549509     32768.00
      32.831     0.999973       549510     36408.89
      33.759     0.999976       549512     40960.00
      33.887     0.999979       549514     46811.43
      34.175     0.999982       549515     54613.33
      34.911     0.999985       549517     65536.00
      34.943     0.999986       549518     72817.78
      35.263     0.999988       549519     81920.00
      35.455     0.999989       549520     93622.86
      35.455     0.999991       549520    109226.67
      36.959     0.999992       549521    131072.00
      37.023     0.999993       549522    145635.56
      37.023     0.999994       549522    163840.00
      37.471     0.999995       549523    187245.71
      37.471     0.999995       549523    218453.33
      37.471     0.999996       549523    262144.00
      38.527     0.999997       549524    291271.11
      38.527     0.999997       549524    327680.00
      38.527     0.999997       549524    374491.43
      38.527     0.999998       549524    436906.67
      38.527     0.999998       549524    524288.00
      38.943     0.999998       549525    582542.22
      38.943     1.000000       549525          inf
#[Mean    =        7.301, StdDeviation   =        2.415]
#[Max     =       38.912, Total count    =       549525]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599267 requests in 2.00m, 8.08GB read
Requests/sec:   4996.55  
Transfer/sec:     68.97MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52294 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48297 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111985 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52294 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48297 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111985 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.081ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 12.252ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 10.259ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 28.076ms, rate sampling interval: 172ms
  Thread calibration: mean lat.: 9.739ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 14.636ms, rate sampling interval: 52ms
  Thread calibration: mean lat.: 10.285ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 9.917ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 9.200ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.673ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 8.794ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.910ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 15.365ms, rate sampling interval: 58ms
  Thread calibration: mean lat.: 12.067ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 11.511ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 10.415ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 10.655ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 13.242ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 11.099ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.223ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 12.447ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 12.367ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 10.281ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 13.178ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 12.419ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 12.239ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 25.879ms, rate sampling interval: 124ms
  Thread calibration: mean lat.: 11.206ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 10.901ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 12.568ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 13.731ms, rate sampling interval: 49ms
  Thread calibration: mean lat.: 11.119ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.817ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 11.192ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 25.528ms, rate sampling interval: 124ms
  Thread calibration: mean lat.: 9.952ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 10.446ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 10.658ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 9.973ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 9.836ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 14.772ms, rate sampling interval: 54ms
  Thread calibration: mean lat.: 34.104ms, rate sampling interval: 206ms
  Thread calibration: mean lat.: 18.217ms, rate sampling interval: 79ms
  Thread calibration: mean lat.: 19.496ms, rate sampling interval: 92ms
  Thread calibration: mean lat.: 12.395ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 13.117ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 11.761ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 9.322ms, rate sampling interval: 28ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    97.34ms  325.63ms   1.72s    92.80%
    Req/Sec   209.02     67.93   384.00     70.83%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.31ms
 75.000%   17.09ms
 90.000%  173.44ms
 99.000%    1.72s 
 99.900%    3.28s 
 99.990%    4.33s 
 99.999%    4.65s 
100.000%    4.69s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.323     0.000000            1         1.00
       6.247     0.100000       108952         1.11
       6.931     0.200000       218033         1.25
       7.715     0.300000       326552         1.43
       8.855     0.400000       435798         1.67
      10.311     0.500000       544286         2.00
      11.175     0.550000       598751         2.22
      12.159     0.600000       653165         2.50
      13.327     0.650000       707451         2.86
      14.879     0.700000       761927         3.33
      17.087     0.750000       816379         4.00
      18.655     0.775000       843527         4.44
      20.767     0.800000       870707         5.00
      23.967     0.825000       897902         5.71
      29.903     0.850000       925154         6.67
      49.119     0.875000       952324         8.00
      91.071     0.887500       965926         8.89
     173.439     0.900000       979531        10.00
     276.735     0.912500       993136        11.43
     393.471     0.925000      1006757        13.33
     513.535     0.937500      1020364        16.00
     572.415     0.943750      1027150        17.78
     644.607     0.950000      1033965        20.00
     727.551     0.956250      1040764        22.86
     825.855     0.962500      1047543        26.67
     936.447     0.968750      1054363        32.00
    1001.471     0.971875      1057765        35.56
    1078.271     0.975000      1061158        40.00
    1173.503     0.978125      1064583        45.71
    1269.759     0.981250      1067954        53.33
    1393.663     0.984375      1071367        64.00
    1466.367     0.985938      1073075        71.11
    1563.647     0.987500      1074768        80.00
    1662.975     0.989062      1076463        91.43
    1765.375     0.990625      1078158       106.67
    1880.063     0.992188      1079861       128.00
    1949.695     0.992969      1080707       142.22
    2032.639     0.993750      1081560       160.00
    2131.967     0.994531      1082410       182.86
    2254.847     0.995313      1083257       213.33
    2394.111     0.996094      1084105       256.00
    2461.695     0.996484      1084543       284.44
    2525.183     0.996875      1084965       320.00
    2621.439     0.997266      1085383       365.71
    2736.127     0.997656      1085809       426.67
    2891.775     0.998047      1086238       512.00
    2955.263     0.998242      1086445       568.89
    3020.799     0.998437      1086656       640.00
    3129.343     0.998633      1086872       731.43
    3205.119     0.998828      1087081       853.33
    3289.087     0.999023      1087294      1024.00
    3334.143     0.999121      1087401      1137.78
    3411.967     0.999219      1087508      1280.00
    3491.839     0.999316      1087613      1462.86
    3557.375     0.999414      1087720      1706.67
    3682.303     0.999512      1087825      2048.00
    3764.223     0.999561      1087880      2275.56
    3799.039     0.999609      1087932      2560.00
    3842.047     0.999658      1087988      2925.71
    3885.055     0.999707      1088039      3413.33
    4018.175     0.999756      1088091      4096.00
    4069.375     0.999780      1088117      4551.11
    4120.575     0.999805      1088145      5120.00
    4173.823     0.999829      1088172      5851.43
    4231.167     0.999854      1088199      6826.67
    4259.839     0.999878      1088226      8192.00
    4296.703     0.999890      1088238      9102.22
    4341.759     0.999902      1088250     10240.00
    4382.719     0.999915      1088264     11702.86
    4431.871     0.999927      1088277     13653.33
    4521.983     0.999939      1088290     16384.00
    4558.847     0.999945      1088297     18204.44
    4579.327     0.999951      1088303     20480.00
    4595.711     0.999957      1088312     23405.71
    4607.999     0.999963      1088317     27306.67
    4624.383     0.999969      1088325     32768.00
    4628.479     0.999973      1088329     36408.89
    4632.575     0.999976      1088332     40960.00
    4636.671     0.999979      1088334     46811.43
    4640.767     0.999982      1088337     54613.33
    4644.863     0.999985      1088340     65536.00
    4653.055     0.999986      1088345     72817.78
    4653.055     0.999988      1088345     81920.00
    4653.055     0.999989      1088345     93622.86
    4657.151     0.999991      1088347    109226.67
    4661.247     0.999992      1088349    131072.00
    4661.247     0.999993      1088349    145635.56
    4665.343     0.999994      1088350    163840.00
    4669.439     0.999995      1088353    187245.71
    4669.439     0.999995      1088353    218453.33
    4669.439     0.999996      1088353    262144.00
    4669.439     0.999997      1088353    291271.11
    4669.439     0.999997      1088353    327680.00
    4673.535     0.999997      1088354    374491.43
    4673.535     0.999998      1088354    436906.67
    4673.535     0.999998      1088354    524288.00
    4677.631     0.999998      1088355    582542.22
    4677.631     0.999998      1088355    655360.00
    4677.631     0.999999      1088355    748982.86
    4677.631     0.999999      1088355    873813.33
    4677.631     0.999999      1088355   1048576.00
    4685.823     0.999999      1088356   1165084.44
    4685.823     1.000000      1088356          inf
#[Mean    =       97.338, StdDeviation   =      325.631]
#[Max     =     4681.728, Total count    =      1088356]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1188191 requests in 2.00m, 16.02GB read
Requests/sec:   9909.41  
Transfer/sec:    136.78MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51246 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44561 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 112055 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51246 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44561 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 112055 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 10.244ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.115ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.348ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.523ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.995ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.354ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.926ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.393ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.503ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.351ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.103ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.388ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.091ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.894ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.347ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.052ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.220ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.349ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.553ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.287ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.335ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.356ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.096ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.384ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.165ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.875ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.526ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.906ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.149ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.509ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.311ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.541ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.111ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.425ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.274ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.436ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.415ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.339ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.110ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.408ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.288ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.216ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.386ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.714ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.408ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.297ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.230ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.082ms, rate sampling interval: 26ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.25ms    2.42ms  16.23ms   71.23%
    Req/Sec    20.34     28.20   115.00     90.26%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.10ms
 75.000%   10.65ms
 90.000%   12.24ms
 99.000%   16.23ms
 99.900%   21.18ms
 99.990%   25.77ms
 99.999%   30.00ms
100.000%   33.18ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.537     0.000000            1         1.00
       6.315     0.100000        10610         1.11
       7.283     0.200000        21183         1.25
       7.967     0.300000        31814         1.43
       8.543     0.400000        42398         1.67
       9.095     0.500000        52934         2.00
       9.367     0.550000        58254         2.22
       9.655     0.600000        63572         2.50
       9.959     0.650000        68884         2.86
      10.279     0.700000        74092         3.33
      10.647     0.750000        79437         4.00
      10.847     0.775000        82048         4.44
      11.063     0.800000        84718         5.00
      11.295     0.825000        87331         5.71
      11.567     0.850000        89974         6.67
      11.879     0.875000        92658         8.00
      12.055     0.887500        93986         8.89
      12.239     0.900000        95288        10.00
      12.463     0.912500        96585        11.43
      12.695     0.925000        97916        13.33
      12.975     0.937500        99241        16.00
      13.143     0.943750        99926        17.78
      13.319     0.950000       100555        20.00
      13.551     0.956250       101225        22.86
      13.807     0.962500       101880        26.67
      14.111     0.968750       102536        32.00
      14.303     0.971875       102876        35.56
      14.511     0.975000       103204        40.00
      14.759     0.978125       103528        45.71
      15.047     0.981250       103863        53.33
      15.383     0.984375       104189        64.00
      15.599     0.985938       104359        71.11
      15.807     0.987500       104520        80.00
      16.047     0.989062       104689        91.43
      16.367     0.990625       104853       106.67
      16.751     0.992188       105016       128.00
      16.975     0.992969       105100       142.22
      17.215     0.993750       105181       160.00
      17.503     0.994531       105263       182.86
      17.839     0.995313       105346       213.33
      18.239     0.996094       105433       256.00
      18.463     0.996484       105471       284.44
      18.751     0.996875       105512       320.00
      19.007     0.997266       105552       365.71
      19.327     0.997656       105594       426.67
      19.711     0.998047       105636       512.00
      19.951     0.998242       105655       568.89
      20.207     0.998437       105676       640.00
      20.495     0.998633       105697       731.43
      20.719     0.998828       105717       853.33
      21.263     0.999023       105738      1024.00
      21.455     0.999121       105748      1137.78
      21.631     0.999219       105760      1280.00
      21.871     0.999316       105769      1462.86
      22.079     0.999414       105780      1706.67
      22.415     0.999512       105790      2048.00
      22.671     0.999561       105795      2275.56
      22.831     0.999609       105800      2560.00
      23.215     0.999658       105805      2925.71
      23.759     0.999707       105811      3413.33
      24.127     0.999756       105816      4096.00
      24.463     0.999780       105818      4551.11
      24.687     0.999805       105821      5120.00
      24.943     0.999829       105823      5851.43
      25.183     0.999854       105826      6826.67
      25.599     0.999878       105829      8192.00
      25.775     0.999890       105830      9102.22
      25.839     0.999902       105831     10240.00
      26.239     0.999915       105832     11702.86
      26.351     0.999927       105834     13653.33
      26.751     0.999939       105835     16384.00
      26.799     0.999945       105836     18204.44
      26.799     0.999951       105836     20480.00
      26.991     0.999957       105837     23405.71
      27.215     0.999963       105838     27306.67
      27.215     0.999969       105838     32768.00
      27.535     0.999973       105839     36408.89
      27.535     0.999976       105839     40960.00
      27.535     0.999979       105839     46811.43
      29.999     0.999982       105840     54613.33
      29.999     0.999985       105840     65536.00
      29.999     0.999986       105840     72817.78
      29.999     0.999988       105840     81920.00
      29.999     0.999989       105840     93622.86
      33.183     0.999991       105841    109226.67
      33.183     1.000000       105841          inf
#[Mean    =        9.247, StdDeviation   =        2.421]
#[Max     =       33.152, Total count    =       105841]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115373 requests in 2.00m, 1.41GB read
Requests/sec:    961.36  
Transfer/sec:     12.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51748 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46301 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111866 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51748 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46301 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111866 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.762ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.713ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.722ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.747ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.626ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.567ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.656ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.211ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.034ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.187ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.819ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.900ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.456ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.582ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.833ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.837ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.847ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.569ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.579ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.776ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.006ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.971ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.797ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.823ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.618ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.170ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.807ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.574ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.007ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.751ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.353ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.303ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.617ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.567ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.595ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.489ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.559ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.603ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.774ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.584ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.536ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.805ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.933ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.721ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.765ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.654ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.912ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.933ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.66ms    2.33ms  14.83ms   78.45%
    Req/Sec   106.63     75.08   315.00     72.65%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.11ms
 75.000%    7.54ms
 90.000%    9.61ms
 99.000%   14.83ms
 99.900%   20.64ms
 99.990%   28.17ms
 99.999%   54.43ms
100.000%   64.86ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.443     0.000000            1         1.00
       4.411     0.100000        55019         1.11
       4.903     0.200000       110320         1.25
       5.311     0.300000       165174         1.43
       5.703     0.400000       220221         1.67
       6.111     0.500000       274919         2.00
       6.339     0.550000       302617         2.22
       6.579     0.600000       329781         2.50
       6.851     0.650000       357299         2.86
       7.167     0.700000       384922         3.33
       7.543     0.750000       412218         4.00
       7.767     0.775000       425869         4.44
       8.027     0.800000       439711         5.00
       8.327     0.825000       453539         5.71
       8.671     0.850000       467355         6.67
       9.087     0.875000       481026         8.00
       9.335     0.887500       487859         8.89
       9.607     0.900000       494685        10.00
       9.911     0.912500       501444        11.43
      10.263     0.925000       508368        13.33
      10.679     0.937500       515202        16.00
      10.911     0.943750       518634        17.78
      11.183     0.950000       522079        20.00
      11.479     0.956250       525512        22.86
      11.823     0.962500       528918        26.67
      12.223     0.968750       532324        32.00
      12.463     0.971875       534056        35.56
      12.735     0.975000       535780        40.00
      13.039     0.978125       537486        45.71
      13.391     0.981250       539212        53.33
      13.799     0.984375       540905        64.00
      14.039     0.985938       541762        71.11
      14.311     0.987500       542628        80.00
      14.607     0.989062       543477        91.43
      14.991     0.990625       544338       106.67
      15.423     0.992188       545199       128.00
      15.671     0.992969       545632       142.22
      15.959     0.993750       546068       160.00
      16.255     0.994531       546484       182.86
      16.623     0.995313       546932       213.33
      17.087     0.996094       547357       256.00
      17.327     0.996484       547566       284.44
      17.647     0.996875       547777       320.00
      17.999     0.997266       547994       365.71
      18.383     0.997656       548200       426.67
      18.943     0.998047       548415       512.00
      19.247     0.998242       548526       568.89
      19.567     0.998437       548632       640.00
      19.903     0.998633       548740       731.43
      20.239     0.998828       548846       853.33
      20.703     0.999023       548951      1024.00
      21.007     0.999121       549006      1137.78
      21.423     0.999219       549059      1280.00
      21.823     0.999316       549114      1462.86
      22.223     0.999414       549166      1706.67
      22.799     0.999512       549219      2048.00
      23.087     0.999561       549246      2275.56
      23.503     0.999609       549274      2560.00
      23.951     0.999658       549301      2925.71
      24.543     0.999707       549328      3413.33
      25.215     0.999756       549353      4096.00
      25.535     0.999780       549367      4551.11
      25.839     0.999805       549381      5120.00
      26.191     0.999829       549394      5851.43
      26.847     0.999854       549408      6826.67
      27.327     0.999878       549420      8192.00
      27.823     0.999890       549427      9102.22
      28.703     0.999902       549434     10240.00
      29.567     0.999915       549441     11702.86
      30.655     0.999927       549447     13653.33
      31.791     0.999939       549454     16384.00
      32.703     0.999945       549457     18204.44
      34.463     0.999951       549461     20480.00
      35.135     0.999957       549464     23405.71
      36.639     0.999963       549467     27306.67
      38.399     0.999969       549471     32768.00
      38.591     0.999973       549472     36408.89
      39.583     0.999976       549474     40960.00
      41.951     0.999979       549476     46811.43
      50.143     0.999982       549477     54613.33
      53.247     0.999985       549479     65536.00
      54.079     0.999986       549480     72817.78
      54.175     0.999988       549481     81920.00
      54.431     0.999989       549482     93622.86
      54.431     0.999991       549482    109226.67
      56.095     0.999992       549483    131072.00
      57.951     0.999993       549484    145635.56
      57.951     0.999994       549484    163840.00
      59.263     0.999995       549485    187245.71
      59.263     0.999995       549485    218453.33
      59.263     0.999996       549485    262144.00
      59.391     0.999997       549486    291271.11
      59.391     0.999997       549486    327680.00
      59.391     0.999997       549486    374491.43
      59.391     0.999998       549486    436906.67
      59.391     0.999998       549486    524288.00
      64.863     0.999998       549487    582542.22
      64.863     1.000000       549487          inf
#[Mean    =        6.656, StdDeviation   =        2.334]
#[Max     =       64.832, Total count    =       549487]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599218 requests in 2.00m, 7.32GB read
Requests/sec:   4996.04  
Transfer/sec:     62.53MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51688 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45828 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111099 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51688 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45828 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 111099 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 997.802ms, rate sampling interval: 3790ms
  Thread calibration: mean lat.: 732.345ms, rate sampling interval: 3745ms
  Thread calibration: mean lat.: 971.407ms, rate sampling interval: 3522ms
  Thread calibration: mean lat.: 1134.389ms, rate sampling interval: 6856ms
  Thread calibration: mean lat.: 857.340ms, rate sampling interval: 4497ms
  Thread calibration: mean lat.: 1032.118ms, rate sampling interval: 4403ms
  Thread calibration: mean lat.: 802.779ms, rate sampling interval: 3936ms
  Thread calibration: mean lat.: 643.720ms, rate sampling interval: 4448ms
  Thread calibration: mean lat.: 1247.429ms, rate sampling interval: 5595ms
  Thread calibration: mean lat.: 1150.853ms, rate sampling interval: 4587ms
  Thread calibration: mean lat.: 684.113ms, rate sampling interval: 4489ms
  Thread calibration: mean lat.: 1412.772ms, rate sampling interval: 5382ms
  Thread calibration: mean lat.: 1205.901ms, rate sampling interval: 6918ms
  Thread calibration: mean lat.: 1045.435ms, rate sampling interval: 4911ms
  Thread calibration: mean lat.: 1176.329ms, rate sampling interval: 6230ms
  Thread calibration: mean lat.: 1171.883ms, rate sampling interval: 5775ms
  Thread calibration: mean lat.: 852.827ms, rate sampling interval: 5771ms
  Thread calibration: mean lat.: 1091.210ms, rate sampling interval: 5267ms
  Thread calibration: mean lat.: 1063.860ms, rate sampling interval: 5943ms
  Thread calibration: mean lat.: 1006.082ms, rate sampling interval: 4370ms
  Thread calibration: mean lat.: 1041.293ms, rate sampling interval: 5091ms
  Thread calibration: mean lat.: 754.287ms, rate sampling interval: 5337ms
  Thread calibration: mean lat.: 356.165ms, rate sampling interval: 657ms
  Thread calibration: mean lat.: 1806.429ms, rate sampling interval: 7204ms
  Thread calibration: mean lat.: 1073.945ms, rate sampling interval: 4947ms
  Thread calibration: mean lat.: 612.301ms, rate sampling interval: 2377ms
  Thread calibration: mean lat.: 1250.071ms, rate sampling interval: 5943ms
  Thread calibration: mean lat.: 1044.253ms, rate sampling interval: 5775ms
  Thread calibration: mean lat.: 1120.421ms, rate sampling interval: 7827ms
  Thread calibration: mean lat.: 1823.831ms, rate sampling interval: 8097ms
  Thread calibration: mean lat.: 1554.435ms, rate sampling interval: 5943ms
  Thread calibration: mean lat.: 622.326ms, rate sampling interval: 2813ms
  Thread calibration: mean lat.: 2396.274ms, rate sampling interval: 9420ms
  Thread calibration: mean lat.: 1367.151ms, rate sampling interval: 6713ms
  Thread calibration: mean lat.: 763.255ms, rate sampling interval: 4870ms
  Thread calibration: mean lat.: 769.450ms, rate sampling interval: 5185ms
  Thread calibration: mean lat.: 868.662ms, rate sampling interval: 4857ms
  Thread calibration: mean lat.: 1206.447ms, rate sampling interval: 4952ms
  Thread calibration: mean lat.: 674.506ms, rate sampling interval: 2439ms
  Thread calibration: mean lat.: 1130.755ms, rate sampling interval: 5136ms
  Thread calibration: mean lat.: 766.888ms, rate sampling interval: 4923ms
  Thread calibration: mean lat.: 1016.033ms, rate sampling interval: 5259ms
  Thread calibration: mean lat.: 1890.681ms, rate sampling interval: 7360ms
  Thread calibration: mean lat.: 948.937ms, rate sampling interval: 4751ms
  Thread calibration: mean lat.: 1285.498ms, rate sampling interval: 6291ms
  Thread calibration: mean lat.: 836.541ms, rate sampling interval: 4472ms
  Thread calibration: mean lat.: 670.016ms, rate sampling interval: 3512ms
  Thread calibration: mean lat.: 1076.617ms, rate sampling interval: 5058ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    13.33s    14.73s    1.06m    84.13%
    Req/Sec   156.42     15.65   188.00     75.27%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    8.36s 
 75.000%   20.71s 
 90.000%   33.88s 
 99.000%    1.06m 
 99.900%    1.43m 
 99.990%    1.57m 
 99.999%    1.60m 
100.000%    1.60m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       5.619     0.000000            1         1.00
      97.087     0.100000        80427         1.11
     511.743     0.200000       160844         1.25
    2523.135     0.300000       241272         1.43
    5222.399     0.400000       321715         1.67
    8359.935     0.500000       402137         2.00
   10199.039     0.550000       442409         2.22
   12533.759     0.600000       482615         2.50
   14925.823     0.650000       522763         2.86
   17645.567     0.700000       562963         3.33
   20709.375     0.750000       603185         4.00
   22413.311     0.775000       623304         4.44
   24477.695     0.800000       643420         5.00
   26607.615     0.825000       663512         5.71
   28884.991     0.850000       683587         6.67
   31342.591     0.875000       703748         8.00
   32620.543     0.887500       713719         8.89
   33882.111     0.900000       723842        10.00
   35323.903     0.912500       733823        11.43
   36962.303     0.925000       743954        13.33
   39026.687     0.937500       754051        16.00
   40402.943     0.943750       758990        17.78
   41877.503     0.950000       763973        20.00
   43974.655     0.956250       769011        22.86
   46366.719     0.962500       774027        26.67
   48824.319     0.968750       779070        32.00
   50298.879     0.971875       781559        35.56
   51871.743     0.975000       784107        40.00
   53608.447     0.978125       786613        45.71
   55607.295     0.981250       789102        53.33
   57671.679     0.984375       791611        64.00
   58785.791     0.985938       792896        71.11
   60129.279     0.987500       794138        80.00
   62062.591     0.989062       795386        91.43
   64454.655     0.990625       796639       106.67
   67239.935     0.992188       797896       128.00
   68681.727     0.992969       798544       142.22
   70057.983     0.993750       799180       160.00
   71368.703     0.994531       799784       182.86
   72744.959     0.995313       800434       213.33
   74055.679     0.996094       801062       256.00
   74711.039     0.996484       801356       284.44
   75431.935     0.996875       801680       320.00
   76152.831     0.997266       801994       365.71
   76939.263     0.997656       802295       426.67
   77987.839     0.998047       802616       512.00
   79101.951     0.998242       802763       568.89
   80674.815     0.998437       802921       640.00
   81919.999     0.998633       803079       731.43
   83755.007     0.998828       803235       853.33
   85852.159     0.999023       803391      1024.00
   86835.199     0.999121       803470      1137.78
   87752.703     0.999219       803549      1280.00
   88801.279     0.999316       803628      1462.86
   89718.783     0.999414       803709      1706.67
   90505.215     0.999512       803785      2048.00
   90963.967     0.999561       803829      2275.56
   91357.183     0.999609       803865      2560.00
   91750.399     0.999658       803904      2925.71
   92274.687     0.999707       803945      3413.33
   92733.439     0.999756       803980      4096.00
   93061.119     0.999780       804002      4551.11
   93323.263     0.999805       804018      5120.00
   93650.943     0.999829       804040      5851.43
   93913.087     0.999854       804061      6826.67
   94175.231     0.999878       804079      8192.00
   94306.303     0.999890       804087      9102.22
   94502.911     0.999902       804100     10240.00
   94633.983     0.999915       804108     11702.86
   94765.055     0.999927       804118     13653.33
   94896.127     0.999939       804129     16384.00
   94961.663     0.999945       804134     18204.44
   95027.199     0.999951       804137     20480.00
   95092.735     0.999957       804142     23405.71
   95158.271     0.999963       804146     27306.67
   95289.343     0.999969       804152     32768.00
   95354.879     0.999973       804153     36408.89
   95485.951     0.999976       804156     40960.00
   95551.487     0.999979       804159     46811.43
   95617.023     0.999982       804162     54613.33
   95682.559     0.999985       804163     65536.00
   95748.095     0.999986       804164     72817.78
   95879.167     0.999988       804168     81920.00
   95879.167     0.999989       804168     93622.86
   95879.167     0.999991       804168    109226.67
   95944.703     0.999992       804170    131072.00
   95944.703     0.999993       804170    145635.56
   96010.239     0.999994       804171    163840.00
   96010.239     0.999995       804171    187245.71
   96075.775     0.999995       804173    218453.33
   96075.775     0.999996       804173    262144.00
   96075.775     0.999997       804173    291271.11
   96075.775     0.999997       804173    327680.00
   96075.775     0.999997       804173    374491.43
   96141.311     0.999998       804174    436906.67
   96141.311     0.999998       804174    524288.00
   96141.311     0.999998       804174    582542.22
   96141.311     0.999998       804174    655360.00
   96141.311     0.999999       804174    748982.86
   96206.847     0.999999       804175    873813.33
   96206.847     1.000000       804175          inf
#[Mean    =    13331.389, StdDeviation   =    14731.447]
#[Max     =    96141.312, Total count    =       804175]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  877778 requests in 2.00m, 10.73GB read
Requests/sec:   7320.90  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51220 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43102 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 109959 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51220 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43102 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 109959 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
36092fc1a0e7d910eb7bd9e1d65b5ec4c133f0a617ecb565d30b02a6e90f1cb5
ca947ae3f5017a055fe8cf8eb8468c744512dd78d3306b45aafef72a6f4f64f1
1e79b9f975ad81b2b3ac87f41a5a6884d6d1c06fe26d3ec8d9a18e5aadcc053a
49675b11d1fbfba8a8695790a0ceaf2ce428f6ca411839614eb8477963d247e3
6379e806b4e4d1fbb34add8daf5c3d67cda2bec24fa9526eb8f322950030dff6
83f8d10f391935c8b58a8dafc800a93bc84b4e6d2a28b7485875b86cd59de248
1a1b54427d050eba76985d34f5bea3fef34e0e83a1246d265033e4eac23babb5
4d0d53b23425dc6c2ae32ae75d650168f8bae4d3ea2dc70a7a06683c8f129746
86f883c634063f88fe59f27b1652b0b345d1c4936cb5b080581d4c2af91f2331
0669c0e3d4db588833bbccfa48b4af6a9091f8fa69f3fe07bf3f3d6cdced34de
41fbc4b906a550f236a88f4bfe886c4af5518da8c45ab7b4e8116490675ef7ff
45e3def9ff9c8cd41ac82b03dda424de79f05f6ee74e09019526a29ba45fca6c
5b2f0928d5c1e5a86505da528c1ad96ef8d81564192f1a3232a0751199a96a91
c2a845d8f6a347d4c4ecceee2ebd84eb2bb58f637b9f28d6c0e0a04f3f1ff7e9
034ff5bcf554a9d4d36aa1e6380569bc739215ad106417c95868fcd54d67409e
158ba0914ac03f905736776e5680560af1030e01cebc005ad31253331cd0b135
57b8cbe245aee84d12a4dd6ebe972cb47fc8c957a835b7760768d6066af791a4
30c5bfa96a873bc33f9ad10cd3067b6314e5792f146c2bf3478307451e03d711
5d8c09fd951a693b947e9ce9254335f25bd292542861d52df9294683325262ec
2c0c8d5973deccd12fe1aaae0f8e16df52e3cc9f2633bfbc398fa12702dcf6c5
9600120eabf12613c8b1acc2880c51cfe027ce6b55d49e98cf2f2bc7bdaa9bd3
215d831caf74b3d295bc54f2c9767a3273fce5dd51696e671ac2617cb2545b2a
73f5a11ef56da57165b7b345afd09f168dd4dfeaeb87457f5757aafd111514e5
646b31d04fe8172008b6a432d1781d1a6f0752c4a994cd8e098a65bb508b65f5
75a2d1cb1630417f230d6d0959b5563ad6eebc6126bb9415c3ff141c3151094d
a945be2a1f300dc7236c8f0e5757a1002fcee771573575b8ce59020bc8f898bf
ef85a87e737000f0cef30afd075bb14bcb45cef1d801a3b2e33980f37b06d3df
f47c5168f7ca1ca533b6f26bdc49e8fa067172c8bb43b74c15c753f7e2e0bd37
97ac94f2aa2213d8ee6a6d9124b8eb57ae3c4b968f460643ead36663052636a9
16047bbd5c35aa7d8f977d44886bdb432be6070b3441f2a6c2c437688395a682
74897cfa435a449f23dac43cce44d3fd91531e605549998ac5dde134e5d248c0

Total reclaimed space: 4.59GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 16-07-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-1.log -b True -m i -M 0,1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 16-07-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-1.log', 'mode': 'i', 'memnode': '0,1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-1



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-interleave-node-0-1

Result: sha256:59f075cd7eb7483d9c7180bba92db599bbc9e1c3dca2b07283bb6e21bb576e72


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-1

Result: sha256:c7579280f3bae2c5f72aac51f21355cac07416469cbf3ab8cf2d11b202b1dce4


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-1

Result: sha256:1b7605f084088ebec34f92d1f14a00267fefc33e8fc0f2df9af1bbed2e689a5a


Install numactl tools on docker image: redis-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_3 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_3 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_3 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_3:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_3:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_3 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 11 23:08 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_3 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-timeline-redis_3 redis-numa-interleave-node-0-1

Result: sha256:dbdf181dcc8f723936518af7e50b453fd696c201fcbf9b46246c915571978636


Install numactl tools on docker image: mongo-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 23:08 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-1



CMD: docker commit socialnetwork_url-shorten-mongodb_1 mongo-numa-interleave-node-0-1

Result: sha256:4f91e8ebc40c6550754e5cfab68082359c712cce2390f331216752331e5a9905


Install numactl tools on docker image: memcached-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 11 23:08 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-1



CMD: docker commit socialnetwork_url-shorten-memcached_1 memcached-numa-interleave-node-0-1

Result: sha256:bd95263dbf5a4eb0aa30739e668c0a2117c7bdc79a7f93fa8ef8bdb2c15f4aa8


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
6191a2ef42320cffe6a6bef59a107a98517f0a82baa3e8da6984012e12d29441
744838989fe104a6cf05bad501c95c2166e9902b0f9f44382b0caa098ebd0fe7
975f45bc749c1ada94bfd81746fe6cf64aeedf36db6dcd08791970ea103a0f12
7ea8345553f1df0e413b3f812f0e23f7ae02b02ba1eae40f6ef1c16c9468531c
a5e9b289565d049666a5e1d596cb3fc71a7f94b22f1fc7d24758320a91866e90
20004a1875833dd2412465accbd65887e251f7562e20927314b50bfdd5c1fbc3
b9e002e4c71bcaccda4932a753a711107cb57f9821535f221da05ebb650d60a1
4c4aa85ecf257130bf5fa11386bac77fefd6eb1de551003f6f8a3d398a6a96a7
56ef222d53ea06d7b94ee4825c1d1fa7777d24966987a2b1f3a8aca52a28a5f1
ffab3cff33f0a021116bb0a652ae35feab6ac8bd69166927252cb7b3b9c50a7b
71baf60483ab719645e9cd3f33bbd808ab11573519e3fae1eaeaffae172346ca
ca313b5544fa3d50f53bcc0205b46d1761b8a6d1a578c63f4b9a45e54234d239
d10295f225a55297b9e008c7ecebab4b57197410cf4ce94cee0040589a914b62
4a778561a2f51857bc19a919799299300d0647c25b41a99c55690b6bc58c97e5
4f61fc25e70bffc7ffca89aeef046f6101c1a9f090c4c120011f2c22e7950e7b
b62ed48d1e51654e6e757aa673b8ca32ae9a4ee217145826783c9e9556887fa8
ed4cfb53de9256c7c02029db49b4e0bddea915425e13d7ca3328f09b4ad6f695
c91c6b9e1c1de913689e37f07c88f6eeb1f1981d23300c255370ba76fecbe32e
bba055636668f922dbf06a0f9ebeb7ae82bc03b837dada13f7796b95d100e7d1
9023e67aa8cfc391482bea954f2327ef64107df4d38ac0066a51318f85c54be5
723b826b015ffec6d6622a99f4dd65afd7e5da123b1157c3896bb77dbcd9ca32
e552b49e8092bc4bcc1ee130242d70a4620326a10339de60948b0dc6e242cd93
3e37dfd3dab7538e9825ab7c5f5e5cf560cbb0128e8fbd4a5c408aa818dcf08f
eec342f3d0fe2de9fde467c6dfd149f796e5642b356f35e2a7c2c68852dad6fd
8c96a4b2c6e9265a0c2776375719691d2a39906e6e76a770924171d69dcc8587
9bdd0ba6592c2d31d0952ab782f73ec5fd03d256687d88b39104f48506eec0d6
37f221bfe6ad2e26e541ade9d5c7594201bad0c5c2078730bad237f37c924beb
c72cd24c9bfa1a40d01110221f303ad34c285a28214c6a7b7f55d7c512d00047
1e719d987fb7fd16fb9c267c7f2be2ae1d9ff12e55e2ca8f3a3e5f8b4fa6a3e5
c9afe457be67a5d66c01a17280f88a317d1f7591abd002a721e8f3231c01968f
830fed14c86340343cee567b4a786a28ab940dbcda3b99f8808df929885b65ec

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54196 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57987 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54196 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57987 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Succeeded: 37624


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:1
cluster_stats_messages_ping_sent:42
cluster_stats_messages_pong_sent:51
cluster_stats_messages_sent:93
cluster_stats_messages_ping_received:47
cluster_stats_messages_pong_received:42
cluster_stats_messages_meet_received:4
cluster_stats_messages_received:93
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:45
cluster_stats_messages_pong_sent:45
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:91
cluster_stats_messages_ping_received:45
cluster_stats_messages_pong_received:46
cluster_stats_messages_received:91
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:1
cluster_stats_messages_ping_sent:46
cluster_stats_messages_pong_sent:48
cluster_stats_messages_sent:94
cluster_stats_messages_ping_received:44
cluster_stats_messages_pong_received:46
cluster_stats_messages_meet_received:4
cluster_stats_messages_received:94
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.997ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.785ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.626ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.614ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.630ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.835ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.705ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.179ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.901ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.486ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.816ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.823ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.760ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.635ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.121ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.804ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.065ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.756ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.909ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.814ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.030ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.806ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.927ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.365ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.192ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.240ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.553ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.378ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.844ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.678ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.184ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.361ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.464ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.902ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.326ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.867ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.379ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.862ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.763ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.455ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.402ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.516ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.249ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.149ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.328ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.433ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.673ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.552ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.15ms    1.14ms   8.63ms   80.87%
    Req/Sec    20.67     39.91   153.00     76.34%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.00ms
 75.000%    5.62ms
 90.000%    6.32ms
 99.000%    8.63ms
 99.900%   13.94ms
 99.990%   30.14ms
 99.999%   41.12ms
100.000%   42.56ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.493     0.000000            1         1.00
       4.063     0.100000        10612         1.11
       4.359     0.200000        21242         1.25
       4.583     0.300000        31796         1.43
       4.795     0.400000        42499         1.67
       4.999     0.500000        53058         2.00
       5.107     0.550000        58348         2.22
       5.219     0.600000        63526         2.50
       5.343     0.650000        68876         2.86
       5.475     0.700000        74102         3.33
       5.623     0.750000        79397         4.00
       5.707     0.775000        82109         4.44
       5.795     0.800000        84709         5.00
       5.899     0.825000        87351         5.71
       6.015     0.850000        90033         6.67
       6.151     0.875000        92647         8.00
       6.227     0.887500        93938         8.89
       6.319     0.900000        95275        10.00
       6.419     0.912500        96580        11.43
       6.535     0.925000        97917        13.33
       6.671     0.937500        99228        16.00
       6.751     0.943750        99883        17.78
       6.843     0.950000       100538        20.00
       6.955     0.956250       101197        22.86
       7.087     0.962500       101867        26.67
       7.243     0.968750       102517        32.00
       7.343     0.971875       102849        35.56
       7.467     0.975000       103179        40.00
       7.607     0.978125       103513        45.71
       7.779     0.981250       103840        53.33
       7.999     0.984375       104171        64.00
       8.143     0.985938       104339        71.11
       8.303     0.987500       104505        80.00
       8.487     0.989062       104670        91.43
       8.719     0.990625       104835       106.67
       8.967     0.992188       104998       128.00
       9.103     0.992969       105081       142.22
       9.311     0.993750       105162       160.00
       9.511     0.994531       105247       182.86
       9.767     0.995313       105330       213.33
      10.127     0.996094       105412       256.00
      10.319     0.996484       105451       284.44
      10.511     0.996875       105493       320.00
      10.703     0.997266       105535       365.71
      10.967     0.997656       105576       426.67
      11.343     0.998047       105617       512.00
      11.631     0.998242       105638       568.89
      12.095     0.998437       105658       640.00
      12.423     0.998633       105679       731.43
      13.143     0.998828       105699       853.33
      14.151     0.999023       105720      1024.00
      14.991     0.999121       105730      1137.78
      15.823     0.999219       105741      1280.00
      17.327     0.999316       105751      1462.86
      18.015     0.999414       105761      1706.67
      19.279     0.999512       105772      2048.00
      20.143     0.999561       105777      2275.56
      20.703     0.999609       105782      2560.00
      21.647     0.999658       105787      2925.71
      22.911     0.999707       105792      3413.33
      24.319     0.999756       105798      4096.00
      26.479     0.999780       105800      4551.11
      26.975     0.999805       105803      5120.00
      27.631     0.999829       105805      5851.43
      28.127     0.999854       105808      6826.67
      29.263     0.999878       105811      8192.00
      30.143     0.999890       105812      9102.22
      31.055     0.999902       105813     10240.00
      31.087     0.999915       105814     11702.86
      32.111     0.999927       105816     13653.33
      33.887     0.999939       105817     16384.00
      34.335     0.999945       105818     18204.44
      34.335     0.999951       105818     20480.00
      39.967     0.999957       105819     23405.71
      40.383     0.999963       105820     27306.67
      40.383     0.999969       105820     32768.00
      40.671     0.999973       105821     36408.89
      40.671     0.999976       105821     40960.00
      40.671     0.999979       105821     46811.43
      41.119     0.999982       105822     54613.33
      41.119     0.999985       105822     65536.00
      41.119     0.999986       105822     72817.78
      41.119     0.999988       105822     81920.00
      41.119     0.999989       105822     93622.86
      42.559     0.999991       105823    109226.67
      42.559     1.000000       105823          inf
#[Mean    =        5.151, StdDeviation   =        1.135]
#[Max     =       42.528, Total count    =       105823]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115347 requests in 2.00m, 23.65MB read
Requests/sec:    961.20  
Transfer/sec:    201.81KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53082 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56489 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53082 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56489 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.548ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.540ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.321ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.504ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.368ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.517ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.342ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.387ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.521ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.341ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.405ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.311ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.438ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.396ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.653ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.614ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.514ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.278ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.409ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.433ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.547ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.492ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.395ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.456ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.464ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.333ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.530ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.200ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.255ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.355ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.294ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.352ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.576ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.471ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.336ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.335ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.388ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.379ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.330ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.263ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.324ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.667ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.444ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.531ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.457ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.436ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.453ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.540ms, rate sampling interval: 11ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.45ms   10.15ms  43.42ms   98.31%
    Req/Sec   108.85    100.45   400.00     57.42%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.07ms
 75.000%    4.78ms
 90.000%    6.09ms
 99.000%   43.42ms
 99.900%  155.77ms
 99.990%  211.46ms
 99.999%  239.87ms
100.000%  249.60ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.231     0.000000            1         1.00
       3.305     0.100000        55092         1.11
       3.521     0.200000       110281         1.25
       3.701     0.300000       164909         1.43
       3.877     0.400000       219904         1.67
       4.067     0.500000       275097         2.00
       4.175     0.550000       302461         2.22
       4.295     0.600000       329875         2.50
       4.427     0.650000       357751         2.86
       4.579     0.700000       384746         3.33
       4.775     0.750000       412470         4.00
       4.891     0.775000       426097         4.44
       5.031     0.800000       439773         5.00
       5.199     0.825000       453360         5.71
       5.415     0.850000       467305         6.67
       5.699     0.875000       480941         8.00
       5.875     0.887500       487721         8.89
       6.095     0.900000       494597        10.00
       6.371     0.912500       501474        11.43
       6.695     0.925000       508298        13.33
       7.099     0.937500       515161        16.00
       7.331     0.943750       518617        17.78
       7.595     0.950000       522029        20.00
       7.915     0.956250       525502        22.86
       8.327     0.962500       528916        26.67
       8.903     0.968750       532359        32.00
       9.319     0.971875       534062        35.56
       9.927     0.975000       535771        40.00
      10.847     0.978125       537486        45.71
      12.975     0.981250       539203        53.33
      18.463     0.984375       540918        64.00
      23.567     0.985938       541777        71.11
      30.351     0.987500       542637        80.00
      38.399     0.989062       543495        91.43
      47.103     0.990625       544354       106.67
      57.887     0.992188       545212       128.00
      64.383     0.992969       545642       142.22
      71.295     0.993750       546071       160.00
      79.167     0.994531       546498       182.86
      88.127     0.995313       546930       213.33
      98.111     0.996094       547357       256.00
     104.191     0.996484       547573       284.44
     109.823     0.996875       547790       320.00
     116.479     0.997266       548002       365.71
     123.903     0.997656       548218       426.67
     132.735     0.998047       548434       512.00
     137.087     0.998242       548540       568.89
     141.311     0.998437       548645       640.00
     146.175     0.998633       548753       731.43
     150.911     0.998828       548860       853.33
     156.671     0.999023       548968      1024.00
     159.743     0.999121       549021      1137.78
     162.431     0.999219       549074      1280.00
     164.991     0.999316       549128      1462.86
     169.471     0.999414       549183      1706.67
     174.207     0.999512       549236      2048.00
     177.407     0.999561       549263      2275.56
     180.607     0.999609       549289      2560.00
     183.423     0.999658       549316      2925.71
     187.903     0.999707       549343      3413.33
     190.207     0.999756       549369      4096.00
     192.895     0.999780       549383      4551.11
     195.583     0.999805       549397      5120.00
     199.295     0.999829       549411      5851.43
     204.415     0.999854       549423      6826.67
     207.999     0.999878       549436      8192.00
     209.663     0.999890       549443      9102.22
     211.967     0.999902       549450     10240.00
     213.887     0.999915       549457     11702.86
     217.087     0.999927       549463     13653.33
     219.007     0.999939       549470     16384.00
     220.799     0.999945       549474     18204.44
     222.079     0.999951       549477     20480.00
     222.847     0.999957       549480     23405.71
     227.071     0.999963       549483     27306.67
     229.503     0.999969       549487     32768.00
     229.631     0.999973       549488     36408.89
     231.807     0.999976       549490     40960.00
     233.855     0.999979       549492     46811.43
     234.495     0.999982       549493     54613.33
     235.519     0.999985       549495     65536.00
     235.775     0.999986       549496     72817.78
     238.463     0.999988       549497     81920.00
     239.871     0.999989       549498     93622.86
     239.871     0.999991       549498    109226.67
     240.255     0.999992       549499    131072.00
     240.639     0.999993       549500    145635.56
     240.639     0.999994       549500    163840.00
     245.631     0.999995       549501    187245.71
     245.631     0.999995       549501    218453.33
     245.631     0.999996       549501    262144.00
     248.575     0.999997       549502    291271.11
     248.575     0.999997       549502    327680.00
     248.575     0.999997       549502    374491.43
     248.575     0.999998       549502    436906.67
     248.575     0.999998       549502    524288.00
     249.599     0.999998       549503    582542.22
     249.599     1.000000       549503          inf
#[Mean    =        5.452, StdDeviation   =       10.153]
#[Max     =      249.472, Total count    =       549503]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599259 requests in 2.00m, 122.87MB read
Requests/sec:   4996.52  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48419 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49381 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48419 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49381 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1387.489ms, rate sampling interval: 5394ms
  Thread calibration: mean lat.: 1533.071ms, rate sampling interval: 5447ms
  Thread calibration: mean lat.: 1434.124ms, rate sampling interval: 5406ms
  Thread calibration: mean lat.: 1524.856ms, rate sampling interval: 5963ms
  Thread calibration: mean lat.: 1589.991ms, rate sampling interval: 5824ms
  Thread calibration: mean lat.: 1592.905ms, rate sampling interval: 6053ms
  Thread calibration: mean lat.: 1685.439ms, rate sampling interval: 6385ms
  Thread calibration: mean lat.: 1437.266ms, rate sampling interval: 5394ms
  Thread calibration: mean lat.: 1667.483ms, rate sampling interval: 6213ms
  Thread calibration: mean lat.: 1651.039ms, rate sampling interval: 5869ms
  Thread calibration: mean lat.: 1484.122ms, rate sampling interval: 5427ms
  Thread calibration: mean lat.: 1617.585ms, rate sampling interval: 5804ms
  Thread calibration: mean lat.: 1513.150ms, rate sampling interval: 5644ms
  Thread calibration: mean lat.: 1830.616ms, rate sampling interval: 6516ms
  Thread calibration: mean lat.: 1696.347ms, rate sampling interval: 6180ms
  Thread calibration: mean lat.: 1592.543ms, rate sampling interval: 6045ms
  Thread calibration: mean lat.: 1444.651ms, rate sampling interval: 5193ms
  Thread calibration: mean lat.: 1678.453ms, rate sampling interval: 6217ms
  Thread calibration: mean lat.: 1511.588ms, rate sampling interval: 5292ms
  Thread calibration: mean lat.: 1474.759ms, rate sampling interval: 5406ms
  Thread calibration: mean lat.: 1732.284ms, rate sampling interval: 6266ms
  Thread calibration: mean lat.: 1669.324ms, rate sampling interval: 6397ms
  Thread calibration: mean lat.: 1554.290ms, rate sampling interval: 5906ms
  Thread calibration: mean lat.: 1624.359ms, rate sampling interval: 6131ms
  Thread calibration: mean lat.: 1599.444ms, rate sampling interval: 6037ms
  Thread calibration: mean lat.: 1606.999ms, rate sampling interval: 6078ms
  Thread calibration: mean lat.: 1573.572ms, rate sampling interval: 6037ms
  Thread calibration: mean lat.: 1676.173ms, rate sampling interval: 6365ms
  Thread calibration: mean lat.: 1622.104ms, rate sampling interval: 5820ms
  Thread calibration: mean lat.: 1570.387ms, rate sampling interval: 6033ms
  Thread calibration: mean lat.: 1715.648ms, rate sampling interval: 6184ms
  Thread calibration: mean lat.: 1793.174ms, rate sampling interval: 6610ms
  Thread calibration: mean lat.: 1534.763ms, rate sampling interval: 5775ms
  Thread calibration: mean lat.: 1635.917ms, rate sampling interval: 6295ms
  Thread calibration: mean lat.: 1680.690ms, rate sampling interval: 6500ms
  Thread calibration: mean lat.: 1812.055ms, rate sampling interval: 7000ms
  Thread calibration: mean lat.: 1674.452ms, rate sampling interval: 5967ms
  Thread calibration: mean lat.: 1713.928ms, rate sampling interval: 6008ms
  Thread calibration: mean lat.: 1518.698ms, rate sampling interval: 5959ms
  Thread calibration: mean lat.: 1675.452ms, rate sampling interval: 6180ms
  Thread calibration: mean lat.: 1567.286ms, rate sampling interval: 5799ms
  Thread calibration: mean lat.: 1791.253ms, rate sampling interval: 6479ms
  Thread calibration: mean lat.: 1576.212ms, rate sampling interval: 5668ms
  Thread calibration: mean lat.: 1856.962ms, rate sampling interval: 6361ms
  Thread calibration: mean lat.: 1715.087ms, rate sampling interval: 6463ms
  Thread calibration: mean lat.: 1583.134ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 1697.789ms, rate sampling interval: 5722ms
  Thread calibration: mean lat.: 1628.481ms, rate sampling interval: 5992ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    21.74s    10.61s   40.34s    57.71%
    Req/Sec   138.54      2.49   143.00     84.90%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   21.73s 
 75.000%   30.93s 
 90.000%   36.37s 
 99.000%   40.34s 
 99.900%   41.84s 
 99.990%   42.73s 
 99.999%   42.89s 
100.000%   42.99s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2420.735     0.000000            1         1.00
    7122.943     0.100000        73420         1.11
   10739.711     0.200000       146832         1.25
   14311.423     0.300000       220244         1.43
   18169.855     0.400000       293688         1.67
   21725.183     0.500000       366932         2.00
   23543.807     0.550000       403783         2.22
   25346.047     0.600000       440233         2.50
   27148.287     0.650000       477065         2.86
   28983.295     0.700000       513599         3.33
   30932.991     0.750000       550283         4.00
   31866.879     0.775000       568801         4.44
   32800.767     0.800000       587091         5.00
   33685.503     0.825000       605298         5.71
   34603.007     0.850000       623941         6.67
   35487.743     0.875000       642207         8.00
   35913.727     0.887500       651107         8.89
   36372.479     0.900000       660472        10.00
   36798.463     0.912500       669467        11.43
   37257.215     0.925000       679054        13.33
   37715.967     0.937500       688011        16.00
   37945.343     0.943750       692632        17.78
   38207.487     0.950000       697564        20.00
   38436.863     0.956250       701774        22.86
   38699.007     0.962500       706389        26.67
   38993.919     0.968750       710930        32.00
   39157.759     0.971875       713474        35.56
   39321.599     0.975000       715588        40.00
   39485.439     0.978125       717591        45.71
   39682.047     0.981250       719895        53.33
   39878.655     0.984375       722212        64.00
   40009.727     0.985938       723450        71.11
   40140.799     0.987500       724625        80.00
   40271.871     0.989062       725748        91.43
   40402.943     0.990625       726803       106.67
   40566.783     0.992188       727926       128.00
   40665.087     0.992969       728508       142.22
   40763.391     0.993750       729063       160.00
   40894.463     0.994531       729799       182.86
   40992.767     0.995313       730263       213.33
   41123.839     0.996094       730821       256.00
   41189.375     0.996484       731127       284.44
   41254.911     0.996875       731405       320.00
   41320.447     0.997266       731646       365.71
   41418.751     0.997656       732017       426.67
   41517.055     0.998047       732289       512.00
   41549.823     0.998242       732375       568.89
   41615.359     0.998437       732521       640.00
   41680.895     0.998633       732677       731.43
   41746.431     0.998828       732799       853.33
   41844.735     0.999023       732939      1024.00
   41910.271     0.999121       733037      1137.78
   41943.039     0.999219       733069      1280.00
   42041.343     0.999316       733149      1462.86
   42139.647     0.999414       733234      1706.67
   42205.183     0.999512       733287      2048.00
   42237.951     0.999561       733317      2275.56
   42303.487     0.999609       733369      2560.00
   42336.255     0.999658       733393      2925.71
   42434.559     0.999707       733432      3413.33
   42500.095     0.999756       733465      4096.00
   42532.863     0.999780       733486      4551.11
   42565.631     0.999805       733499      5120.00
   42631.167     0.999829       733514      5851.43
   42696.703     0.999854       733548      6826.67
   42696.703     0.999878       733548      8192.00
   42729.471     0.999890       733561      9102.22
   42762.239     0.999902       733571     10240.00
   42795.007     0.999915       733586     11702.86
   42795.007     0.999927       733586     13653.33
   42827.775     0.999939       733605     16384.00
   42827.775     0.999945       733605     18204.44
   42827.775     0.999951       733605     20480.00
   42827.775     0.999957       733605     23405.71
   42860.543     0.999963       733622     27306.67
   42860.543     0.999969       733622     32768.00
   42860.543     0.999973       733622     36408.89
   42860.543     0.999976       733622     40960.00
   42860.543     0.999979       733622     46811.43
   42860.543     0.999982       733622     54613.33
   42893.311     0.999985       733627     65536.00
   42893.311     0.999986       733627     72817.78
   42893.311     0.999988       733627     81920.00
   42893.311     0.999989       733627     93622.86
   42926.079     0.999991       733630    109226.67
   42926.079     0.999992       733630    131072.00
   42926.079     0.999993       733630    145635.56
   42926.079     0.999994       733630    163840.00
   42958.847     0.999995       733632    187245.71
   42958.847     0.999995       733632    218453.33
   42958.847     0.999996       733632    262144.00
   42958.847     0.999997       733632    291271.11
   42958.847     0.999997       733632    327680.00
   42991.615     0.999997       733634    374491.43
   42991.615     1.000000       733634          inf
#[Mean    =    21737.036, StdDeviation   =    10607.658]
#[Max     =    42958.848, Total count    =       733634]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  798901 requests in 2.00m, 163.81MB read
Requests/sec:   6662.96  
Transfer/sec:      1.37MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40946 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39071 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40946 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39071 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.175ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.316ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.432ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.983ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.527ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.239ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.182ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.815ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.208ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.354ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.097ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.771ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.293ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.440ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.077ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.980ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.671ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.390ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.446ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.241ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.910ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.677ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.123ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.194ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.773ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.434ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.356ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.504ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.752ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.017ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.086ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.083ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.950ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.109ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.605ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.132ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.562ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.235ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.175ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.107ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.296ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.697ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.007ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.317ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.297ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.595ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.210ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.155ms, rate sampling interval: 17ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.46ms    2.78ms  17.23ms   65.51%
    Req/Sec    20.51     35.14   133.00     76.39%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.40ms
 75.000%   11.31ms
 90.000%   12.94ms
 99.000%   17.23ms
 99.900%   22.54ms
 99.990%   26.45ms
 99.999%   29.81ms
100.000%   29.90ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.583     0.000000            1         1.00
       6.091     0.100000        10598         1.11
       6.715     0.200000        21187         1.25
       7.459     0.300000        31765         1.43
       8.519     0.400000        42363         1.67
       9.399     0.500000        53011         2.00
       9.783     0.550000        58281         2.22
      10.159     0.600000        63545         2.50
      10.527     0.650000        68861         2.86
      10.911     0.700000        74146         3.33
      11.311     0.750000        79404         4.00
      11.519     0.775000        82037         4.44
      11.751     0.800000        84707         5.00
      11.999     0.825000        87346         5.71
      12.271     0.850000        90009         6.67
      12.575     0.875000        92672         8.00
      12.743     0.887500        93965         8.89
      12.935     0.900000        95292        10.00
      13.143     0.912500        96611        11.43
      13.383     0.925000        97943        13.33
      13.663     0.937500        99260        16.00
      13.831     0.943750        99890        17.78
      13.999     0.950000       100549        20.00
      14.199     0.956250       101213        22.86
      14.463     0.962500       101882        26.67
      14.759     0.968750       102532        32.00
      14.959     0.971875       102867        35.56
      15.167     0.975000       103196        40.00
      15.423     0.978125       103524        45.71
      15.759     0.981250       103863        53.33
      16.207     0.984375       104187        64.00
      16.415     0.985938       104359        71.11
      16.655     0.987500       104529        80.00
      16.991     0.989062       104687        91.43
      17.359     0.990625       104852       106.67
      17.839     0.992188       105015       128.00
      18.127     0.992969       105102       142.22
      18.399     0.993750       105180       160.00
      18.703     0.994531       105265       182.86
      19.135     0.995313       105343       213.33
      19.551     0.996094       105426       256.00
      19.775     0.996484       105472       284.44
      19.999     0.996875       105509       320.00
      20.351     0.997266       105551       365.71
      20.719     0.997656       105593       426.67
      21.151     0.998047       105633       512.00
      21.327     0.998242       105655       568.89
      21.599     0.998437       105676       640.00
      21.935     0.998633       105695       731.43
      22.207     0.998828       105715       853.33
      22.575     0.999023       105736      1024.00
      22.799     0.999121       105746      1137.78
      23.263     0.999219       105757      1280.00
      23.455     0.999316       105767      1462.86
      23.647     0.999414       105777      1706.67
      23.887     0.999512       105789      2048.00
      24.047     0.999561       105794      2275.56
      24.383     0.999609       105798      2560.00
      24.527     0.999658       105803      2925.71
      24.879     0.999707       105808      3413.33
      25.039     0.999756       105815      4096.00
      25.071     0.999780       105816      4551.11
      25.327     0.999805       105819      5120.00
      25.487     0.999829       105821      5851.43
      25.727     0.999854       105824      6826.67
      26.031     0.999878       105827      8192.00
      26.447     0.999890       105828      9102.22
      26.591     0.999902       105829     10240.00
      26.623     0.999915       105830     11702.86
      27.183     0.999927       105832     13653.33
      27.423     0.999939       105833     16384.00
      27.839     0.999945       105834     18204.44
      27.839     0.999951       105834     20480.00
      27.983     0.999957       105835     23405.71
      28.095     0.999963       105836     27306.67
      28.095     0.999969       105836     32768.00
      29.567     0.999973       105837     36408.89
      29.567     0.999976       105837     40960.00
      29.567     0.999979       105837     46811.43
      29.807     0.999982       105838     54613.33
      29.807     0.999985       105838     65536.00
      29.807     0.999986       105838     72817.78
      29.807     0.999988       105838     81920.00
      29.807     0.999989       105838     93622.86
      29.903     0.999991       105839    109226.67
      29.903     1.000000       105839          inf
#[Mean    =        9.457, StdDeviation   =        2.783]
#[Max     =       29.888, Total count    =       105839]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115374 requests in 2.00m, 1.56GB read
Requests/sec:    961.45  
Transfer/sec:     13.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43072 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39778 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43072 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39778 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.517ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.496ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.279ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.996ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.632ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.343ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.740ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.577ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.312ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.119ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.873ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.424ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.473ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.753ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.620ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.345ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.244ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.286ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.841ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.228ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.790ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.940ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.885ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.058ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.246ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.214ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 6.730ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.447ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.057ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.558ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.089ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 8.138ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.336ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.280ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.430ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 8.042ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.447ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.701ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.854ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.304ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.521ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.555ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.718ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.776ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.944ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.210ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.723ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.738ms, rate sampling interval: 23ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.42ms    2.61ms  16.93ms   82.01%
    Req/Sec   106.42     71.34   300.00     72.76%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.68ms
 75.000%    8.28ms
 90.000%   10.74ms
 99.000%   16.93ms
 99.900%   24.17ms
 99.990%   32.83ms
 99.999%   39.94ms
100.000%   48.96ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.869     0.000000            1         1.00
       5.143     0.100000        55159         1.11
       5.571     0.200000       109913         1.25
       5.927     0.300000       164876         1.43
       6.283     0.400000       220391         1.67
       6.675     0.500000       275106         2.00
       6.903     0.550000       302634         2.22
       7.159     0.600000       329929         2.50
       7.459     0.650000       357429         2.86
       7.823     0.700000       384886         3.33
       8.279     0.750000       412527         4.00
       8.551     0.775000       426244         4.44
       8.855     0.800000       439860         5.00
       9.207     0.825000       453415         5.71
       9.631     0.850000       467197         6.67
      10.143     0.875000       480995         8.00
      10.423     0.887500       487722         8.89
      10.743     0.900000       494738        10.00
      11.095     0.912500       501488        11.43
      11.495     0.925000       508427        13.33
      11.959     0.937500       515202        16.00
      12.239     0.943750       518695        17.78
      12.543     0.950000       522104        20.00
      12.895     0.956250       525481        22.86
      13.287     0.962500       528945        26.67
      13.767     0.968750       532377        32.00
      14.047     0.971875       534105        35.56
      14.367     0.975000       535807        40.00
      14.743     0.978125       537523        45.71
      15.151     0.981250       539244        53.33
      15.663     0.984375       540956        64.00
      15.959     0.985938       541807        71.11
      16.295     0.987500       542665        80.00
      16.687     0.989062       543549        91.43
      17.135     0.990625       544378       106.67
      17.711     0.992188       545249       128.00
      18.047     0.992969       545673       142.22
      18.399     0.993750       546088       160.00
      18.767     0.994531       546518       182.86
      19.215     0.995313       546950       213.33
      19.743     0.996094       547385       256.00
      20.063     0.996484       547593       284.44
      20.479     0.996875       547806       320.00
      20.895     0.997266       548025       365.71
      21.439     0.997656       548237       426.67
      21.999     0.998047       548457       512.00
      22.335     0.998242       548561       568.89
      22.671     0.998437       548667       640.00
      23.119     0.998633       548774       731.43
      23.647     0.998828       548879       853.33
      24.255     0.999023       548987      1024.00
      24.559     0.999121       549041      1137.78
      24.911     0.999219       549093      1280.00
      25.455     0.999316       549147      1462.86
      26.111     0.999414       549202      1706.67
      26.895     0.999512       549255      2048.00
      27.231     0.999561       549282      2275.56
      27.727     0.999609       549309      2560.00
      28.255     0.999658       549335      2925.71
      28.991     0.999707       549362      3413.33
      29.759     0.999756       549389      4096.00
      30.367     0.999780       549404      4551.11
      30.671     0.999805       549415      5120.00
      31.135     0.999829       549429      5851.43
      31.679     0.999854       549442      6826.67
      32.159     0.999878       549456      8192.00
      32.655     0.999890       549463      9102.22
      32.991     0.999902       549469     10240.00
      33.247     0.999915       549476     11702.86
      33.727     0.999927       549482     13653.33
      34.271     0.999939       549489     16384.00
      35.135     0.999945       549492     18204.44
      35.711     0.999951       549496     20480.00
      36.543     0.999957       549499     23405.71
      37.343     0.999963       549502     27306.67
      37.631     0.999969       549506     32768.00
      37.727     0.999973       549507     36408.89
      38.303     0.999976       549509     40960.00
      38.463     0.999979       549511     46811.43
      38.943     0.999982       549512     54613.33
      39.359     0.999985       549514     65536.00
      39.647     0.999986       549516     72817.78
      39.647     0.999988       549516     81920.00
      39.935     0.999989       549517     93622.86
      39.935     0.999991       549517    109226.67
      40.511     0.999992       549518    131072.00
      42.015     0.999993       549519    145635.56
      42.015     0.999994       549519    163840.00
      42.271     0.999995       549520    187245.71
      42.271     0.999995       549520    218453.33
      42.271     0.999996       549520    262144.00
      42.303     0.999997       549521    291271.11
      42.303     0.999997       549521    327680.00
      42.303     0.999997       549521    374491.43
      42.303     0.999998       549521    436906.67
      42.303     0.999998       549521    524288.00
      48.959     0.999998       549522    582542.22
      48.959     1.000000       549522          inf
#[Mean    =        7.421, StdDeviation   =        2.607]
#[Max     =       48.928, Total count    =       549522]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599271 requests in 2.00m, 8.09GB read
Requests/sec:   4996.96  
Transfer/sec:     69.07MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42894 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38588 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42894 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 38588 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 12.945ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 11.171ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 12.117ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 12.243ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 11.616ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 9.648ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.453ms, rate sampling interval: 44ms
  Thread calibration: mean lat.: 33.978ms, rate sampling interval: 159ms
  Thread calibration: mean lat.: 13.304ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 10.713ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 9.295ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 9.521ms, rate sampling interval: 30ms
  Thread calibration: mean lat.: 10.028ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.909ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 13.436ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 11.338ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 11.809ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 13.937ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 25.607ms, rate sampling interval: 122ms
  Thread calibration: mean lat.: 10.513ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.129ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 9.565ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 27.093ms, rate sampling interval: 104ms
  Thread calibration: mean lat.: 10.733ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 10.330ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 11.461ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 13.474ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 9.201ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 9.137ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.005ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 19.363ms, rate sampling interval: 105ms
  Thread calibration: mean lat.: 11.242ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 10.850ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 12.503ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 11.004ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 26.431ms, rate sampling interval: 144ms
  Thread calibration: mean lat.: 15.673ms, rate sampling interval: 55ms
  Thread calibration: mean lat.: 10.503ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 11.218ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 8.616ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.639ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 15.416ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 9.310ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 14.076ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 9.090ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.625ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 12.841ms, rate sampling interval: 44ms
  Thread calibration: mean lat.: 12.321ms, rate sampling interval: 42ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    34.58ms  125.54ms 668.16ms   95.80%
    Req/Sec   210.56     70.08   387.00     69.01%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.46ms
 75.000%   14.48ms
 90.000%   27.45ms
 99.000%  668.16ms
 99.900%    1.59s 
 99.990%    2.04s 
 99.999%    2.19s 
100.000%    2.25s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.105     0.000000            1         1.00
       6.011     0.100000       110089         1.11
       6.635     0.200000       220027         1.25
       7.299     0.300000       329751         1.43
       8.231     0.400000       439865         1.67
       9.463     0.500000       548848         2.00
      10.199     0.550000       604146         2.22
      11.015     0.600000       659103         2.50
      11.943     0.650000       713687         2.86
      13.047     0.700000       768749         3.33
      14.479     0.750000       823457         4.00
      15.399     0.775000       850792         4.44
      16.511     0.800000       878173         5.00
      17.951     0.825000       905804         5.71
      19.839     0.850000       933089         6.67
      22.639     0.875000       960605         8.00
      24.639     0.887500       974268         8.89
      27.455     0.900000       987955        10.00
      31.727     0.912500      1001685        11.43
      39.455     0.925000      1015388        13.33
      57.535     0.937500      1029095        16.00
      76.799     0.943750      1035957        17.78
     105.855     0.950000      1042825        20.00
     146.047     0.956250      1049669        22.86
     203.135     0.962500      1056531        26.67
     273.919     0.968750      1063402        32.00
     313.343     0.971875      1066841        35.56
     357.375     0.975000      1070265        40.00
     402.687     0.978125      1073691        45.71
     455.167     0.981250      1077123        53.33
     518.399     0.984375      1080545        64.00
     553.983     0.985938      1082273        71.11
     592.895     0.987500      1083981        80.00
     636.415     0.989062      1085689        91.43
     691.199     0.990625      1087413       106.67
     759.295     0.992188      1089125       128.00
     796.159     0.992969      1089981       142.22
     836.095     0.993750      1090840       160.00
     886.783     0.994531      1091690       182.86
     944.639     0.995313      1092554       213.33
    1013.759     0.996094      1093407       256.00
    1054.719     0.996484      1093838       284.44
    1102.847     0.996875      1094268       320.00
    1153.023     0.997266      1094692       365.71
    1202.175     0.997656      1095124       426.67
    1278.975     0.998047      1095551       512.00
    1318.911     0.998242      1095769       568.89
    1370.111     0.998437      1095979       640.00
    1440.767     0.998633      1096193       731.43
    1518.591     0.998828      1096407       853.33
    1592.319     0.999023      1096622      1024.00
    1623.039     0.999121      1096730      1137.78
    1661.951     0.999219      1096839      1280.00
    1696.767     0.999316      1096948      1462.86
    1719.295     0.999414      1097053      1706.67
    1755.135     0.999512      1097159      2048.00
    1776.639     0.999561      1097211      2275.56
    1800.191     0.999609      1097266      2560.00
    1836.031     0.999658      1097319      2925.71
    1862.655     0.999707      1097372      3413.33
    1898.495     0.999756      1097426      4096.00
    1917.951     0.999780      1097452      4551.11
    1937.407     0.999805      1097480      5120.00
    1963.007     0.999829      1097506      5851.43
    1982.463     0.999854      1097534      6826.67
    2001.919     0.999878      1097560      8192.00
    2027.519     0.999890      1097573      9102.22
    2038.783     0.999902      1097587     10240.00
    2047.999     0.999915      1097600     11702.86
    2056.191     0.999927      1097613     13653.33
    2070.527     0.999939      1097627     16384.00
    2074.623     0.999945      1097633     18204.44
    2085.887     0.999951      1097640     20480.00
    2103.295     0.999957      1097648     23405.71
    2125.823     0.999963      1097654     27306.67
    2142.207     0.999969      1097660     32768.00
    2150.399     0.999973      1097664     36408.89
    2156.543     0.999976      1097667     40960.00
    2160.639     0.999979      1097670     46811.43
    2166.783     0.999982      1097673     54613.33
    2174.975     0.999985      1097678     65536.00
    2174.975     0.999986      1097678     72817.78
    2179.071     0.999988      1097680     81920.00
    2191.359     0.999989      1097682     93622.86
    2193.407     0.999991      1097683    109226.67
    2207.743     0.999992      1097685    131072.00
    2211.839     0.999993      1097686    145635.56
    2220.031     0.999994      1097687    163840.00
    2226.175     0.999995      1097688    187245.71
    2226.175     0.999995      1097688    218453.33
    2228.223     0.999996      1097689    262144.00
    2232.319     0.999997      1097690    291271.11
    2232.319     0.999997      1097690    327680.00
    2242.559     0.999997      1097692    374491.43
    2242.559     0.999998      1097692    436906.67
    2242.559     0.999998      1097692    524288.00
    2242.559     0.999998      1097692    582542.22
    2242.559     0.999998      1097692    655360.00
    2242.559     0.999999      1097692    748982.86
    2242.559     0.999999      1097692    873813.33
    2242.559     0.999999      1097692   1048576.00
    2254.847     0.999999      1097693   1165084.44
    2254.847     1.000000      1097693          inf
#[Mean    =       34.582, StdDeviation   =      125.536]
#[Max     =     2252.800, Total count    =      1097693]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1197326 requests in 2.00m, 16.16GB read
Requests/sec:   9983.09  
Transfer/sec:    137.99MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41922 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 34813 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41922 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 34813 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.678ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.428ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.360ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.940ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.421ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.730ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 10.066ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.564ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.925ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.067ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.574ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.958ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.980ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.825ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.655ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.744ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.836ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.106ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.515ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.101ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.354ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.645ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.456ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.608ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.452ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.549ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.236ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.664ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.268ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.497ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.474ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.247ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.055ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.918ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.843ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.702ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.745ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.866ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.707ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.501ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.335ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.667ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.476ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.634ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.971ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.626ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.210ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 10.035ms, rate sampling interval: 26ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.28ms    2.43ms  16.40ms   71.49%
    Req/Sec    20.30     29.07   120.00     91.29%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.14ms
 75.000%   10.67ms
 90.000%   12.26ms
 99.000%   16.40ms
 99.900%   21.06ms
 99.990%   25.26ms
 99.999%   43.04ms
100.000%   52.22ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.923     0.000000            1         1.00
       6.347     0.100000        10610         1.11
       7.319     0.200000        21183         1.25
       7.995     0.300000        31770         1.43
       8.583     0.400000        42464         1.67
       9.135     0.500000        53044         2.00
       9.407     0.550000        58238         2.22
       9.695     0.600000        63548         2.50
       9.991     0.650000        68810         2.86
      10.319     0.700000        74184         3.33
      10.671     0.750000        79395         4.00
      10.871     0.775000        82035         4.44
      11.095     0.800000        84767         5.00
      11.327     0.825000        87340         5.71
      11.591     0.850000        89970         6.67
      11.903     0.875000        92638         8.00
      12.063     0.887500        93966         8.89
      12.263     0.900000        95282        10.00
      12.471     0.912500        96589        11.43
      12.719     0.925000        97901        13.33
      13.015     0.937500        99232        16.00
      13.175     0.943750        99910        17.78
      13.351     0.950000       100560        20.00
      13.567     0.956250       101215        22.86
      13.823     0.962500       101885        26.67
      14.127     0.968750       102532        32.00
      14.303     0.971875       102860        35.56
      14.511     0.975000       103193        40.00
      14.751     0.978125       103521        45.71
      15.047     0.981250       103852        53.33
      15.415     0.984375       104180        64.00
      15.647     0.985938       104345        71.11
      15.911     0.987500       104513        80.00
      16.207     0.989062       104677        91.43
      16.559     0.990625       104849       106.67
      16.943     0.992188       105014       128.00
      17.119     0.992969       105091       142.22
      17.375     0.993750       105172       160.00
      17.647     0.994531       105261       182.86
      17.935     0.995313       105338       213.33
      18.351     0.996094       105422       256.00
      18.591     0.996484       105461       284.44
      18.815     0.996875       105503       320.00
      19.151     0.997266       105544       365.71
      19.519     0.997656       105588       426.67
      19.871     0.998047       105628       512.00
      20.015     0.998242       105647       568.89
      20.271     0.998437       105668       640.00
      20.559     0.998633       105689       731.43
      20.847     0.998828       105710       853.33
      21.103     0.999023       105730      1024.00
      21.247     0.999121       105740      1137.78
      21.359     0.999219       105751      1280.00
      21.615     0.999316       105762      1462.86
      21.855     0.999414       105771      1706.67
      22.111     0.999512       105782      2048.00
      22.319     0.999561       105787      2275.56
      22.575     0.999609       105792      2560.00
      22.783     0.999658       105797      2925.71
      23.263     0.999707       105802      3413.33
      23.807     0.999756       105808      4096.00
      23.935     0.999780       105810      4551.11
      24.111     0.999805       105813      5120.00
      24.463     0.999829       105815      5851.43
      24.719     0.999854       105818      6826.67
      25.103     0.999878       105821      8192.00
      25.263     0.999890       105822      9102.22
      25.343     0.999902       105823     10240.00
      25.519     0.999915       105824     11702.86
      26.303     0.999927       105826     13653.33
      26.639     0.999939       105827     16384.00
      26.895     0.999945       105828     18204.44
      26.895     0.999951       105828     20480.00
      27.391     0.999957       105829     23405.71
      28.639     0.999963       105830     27306.67
      28.639     0.999969       105830     32768.00
      28.799     0.999973       105831     36408.89
      28.799     0.999976       105831     40960.00
      28.799     0.999979       105831     46811.43
      43.039     0.999982       105832     54613.33
      43.039     0.999985       105832     65536.00
      43.039     0.999986       105832     72817.78
      43.039     0.999988       105832     81920.00
      43.039     0.999989       105832     93622.86
      52.223     0.999991       105833    109226.67
      52.223     1.000000       105833          inf
#[Mean    =        9.280, StdDeviation   =        2.426]
#[Max     =       52.192, Total count    =       105833]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115375 requests in 2.00m, 1.40GB read
Requests/sec:    961.38  
Transfer/sec:     11.98MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42380 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36745 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42380 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36745 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.317ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.559ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.612ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.889ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.493ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.722ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.378ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.895ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.466ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.450ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.863ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.419ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.874ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.927ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.615ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.581ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.408ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.966ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.561ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.397ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.836ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.346ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.812ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.659ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.802ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.110ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.386ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.290ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.509ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.299ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.438ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.448ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.643ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.658ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.657ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.351ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.490ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.364ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.432ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.930ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.714ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.237ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.959ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.494ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.777ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.420ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.751ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.666ms, rate sampling interval: 18ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.57ms    2.25ms  14.39ms   77.72%
    Req/Sec   106.72     75.97   315.00     71.51%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.05ms
 75.000%    7.47ms
 90.000%    9.43ms
 99.000%   14.39ms
 99.900%   19.63ms
 99.990%   25.65ms
 99.999%   40.64ms
100.000%   46.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.469     0.000000            1         1.00
       4.375     0.100000        55158         1.11
       4.851     0.200000       110325         1.25
       5.251     0.300000       164974         1.43
       5.639     0.400000       219847         1.67
       6.047     0.500000       274752         2.00
       6.275     0.550000       302679         2.22
       6.519     0.600000       330046         2.50
       6.791     0.650000       357261         2.86
       7.103     0.700000       384820         3.33
       7.475     0.750000       412184         4.00
       7.691     0.775000       425892         4.44
       7.939     0.800000       439652         5.00
       8.223     0.825000       453565         5.71
       8.551     0.850000       467343         6.67
       8.943     0.875000       480964         8.00
       9.175     0.887500       487890         8.89
       9.431     0.900000       494707        10.00
       9.727     0.912500       501491        11.43
      10.071     0.925000       508315        13.33
      10.471     0.937500       515167        16.00
      10.703     0.943750       518636        17.78
      10.951     0.950000       522023        20.00
      11.247     0.956250       525534        22.86
      11.575     0.962500       528883        26.67
      11.967     0.968750       532357        32.00
      12.191     0.971875       534038        35.56
      12.439     0.975000       535773        40.00
      12.719     0.978125       537495        45.71
      13.031     0.981250       539197        53.33
      13.423     0.984375       540935        64.00
      13.655     0.985938       541784        71.11
      13.919     0.987500       542639        80.00
      14.191     0.989062       543491        91.43
      14.551     0.990625       544348       106.67
      14.951     0.992188       545200       128.00
      15.175     0.992969       545635       142.22
      15.431     0.993750       546066       160.00
      15.719     0.994531       546486       182.86
      16.071     0.995313       546921       213.33
      16.463     0.996094       547347       256.00
      16.703     0.996484       547561       284.44
      16.991     0.996875       547781       320.00
      17.263     0.997266       547989       365.71
      17.615     0.997656       548204       426.67
      18.079     0.998047       548420       512.00
      18.319     0.998242       548525       568.89
      18.559     0.998437       548629       640.00
      18.911     0.998633       548739       731.43
      19.327     0.998828       548847       853.33
      19.679     0.999023       548954      1024.00
      19.935     0.999121       549007      1137.78
      20.271     0.999219       549060      1280.00
      20.543     0.999316       549113      1462.86
      20.943     0.999414       549167      1706.67
      21.327     0.999512       549221      2048.00
      21.599     0.999561       549246      2275.56
      21.855     0.999609       549274      2560.00
      22.303     0.999658       549300      2925.71
      22.863     0.999707       549327      3413.33
      23.279     0.999756       549353      4096.00
      23.583     0.999780       549367      4551.11
      23.967     0.999805       549381      5120.00
      24.287     0.999829       549395      5851.43
      24.543     0.999854       549407      6826.67
      25.039     0.999878       549422      8192.00
      25.423     0.999890       549427      9102.22
      25.935     0.999902       549434     10240.00
      26.351     0.999915       549441     11702.86
      27.039     0.999927       549447     13653.33
      28.063     0.999939       549454     16384.00
      28.223     0.999945       549457     18204.44
      28.575     0.999951       549461     20480.00
      29.183     0.999957       549464     23405.71
      29.615     0.999963       549467     27306.67
      31.919     0.999969       549471     32768.00
      32.543     0.999973       549472     36408.89
      33.951     0.999976       549474     40960.00
      35.231     0.999979       549476     46811.43
      35.839     0.999982       549477     54613.33
      37.119     0.999985       549479     65536.00
      39.295     0.999986       549480     72817.78
      40.031     0.999988       549481     81920.00
      40.639     0.999989       549482     93622.86
      40.639     0.999991       549482    109226.67
      41.471     0.999992       549483    131072.00
      42.047     0.999993       549484    145635.56
      42.047     0.999994       549484    163840.00
      42.815     0.999995       549485    187245.71
      42.815     0.999995       549485    218453.33
      42.815     0.999996       549485    262144.00
      44.415     0.999997       549486    291271.11
      44.415     0.999997       549486    327680.00
      44.415     0.999997       549486    374491.43
      44.415     0.999998       549486    436906.67
      44.415     0.999998       549486    524288.00
      46.623     0.999998       549487    582542.22
      46.623     1.000000       549487          inf
#[Mean    =        6.571, StdDeviation   =        2.247]
#[Max     =       46.592, Total count    =       549487]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599098 requests in 2.00m, 7.31GB read
Requests/sec:   4995.84  
Transfer/sec:     62.45MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41926 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35572 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41926 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 35572 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1384.285ms, rate sampling interval: 5353ms
  Thread calibration: mean lat.: 1249.770ms, rate sampling interval: 6369ms
  Thread calibration: mean lat.: 1378.471ms, rate sampling interval: 6676ms
  Thread calibration: mean lat.: 787.385ms, rate sampling interval: 4313ms
  Thread calibration: mean lat.: 1255.789ms, rate sampling interval: 7745ms
  Thread calibration: mean lat.: 893.968ms, rate sampling interval: 4325ms
  Thread calibration: mean lat.: 920.180ms, rate sampling interval: 6475ms
  Thread calibration: mean lat.: 1078.679ms, rate sampling interval: 6029ms
  Thread calibration: mean lat.: 884.636ms, rate sampling interval: 4489ms
  Thread calibration: mean lat.: 1344.226ms, rate sampling interval: 5509ms
  Thread calibration: mean lat.: 1521.284ms, rate sampling interval: 7397ms
  Thread calibration: mean lat.: 1283.141ms, rate sampling interval: 6336ms
  Thread calibration: mean lat.: 1055.355ms, rate sampling interval: 4952ms
  Thread calibration: mean lat.: 1318.136ms, rate sampling interval: 7450ms
  Thread calibration: mean lat.: 586.416ms, rate sampling interval: 2768ms
  Thread calibration: mean lat.: 1136.228ms, rate sampling interval: 4976ms
  Thread calibration: mean lat.: 1215.440ms, rate sampling interval: 6655ms
  Thread calibration: mean lat.: 638.189ms, rate sampling interval: 3071ms
  Thread calibration: mean lat.: 1327.717ms, rate sampling interval: 5722ms
  Thread calibration: mean lat.: 1031.439ms, rate sampling interval: 5677ms
  Thread calibration: mean lat.: 877.490ms, rate sampling interval: 5931ms
  Thread calibration: mean lat.: 942.572ms, rate sampling interval: 4976ms
  Thread calibration: mean lat.: 959.580ms, rate sampling interval: 4648ms
  Thread calibration: mean lat.: 1906.674ms, rate sampling interval: 8183ms
  Thread calibration: mean lat.: 1751.122ms, rate sampling interval: 7172ms
  Thread calibration: mean lat.: 553.093ms, rate sampling interval: 3026ms
  Thread calibration: mean lat.: 1962.135ms, rate sampling interval: 7614ms
  Thread calibration: mean lat.: 769.301ms, rate sampling interval: 4118ms
  Thread calibration: mean lat.: 738.781ms, rate sampling interval: 4243ms
  Thread calibration: mean lat.: 808.374ms, rate sampling interval: 4362ms
  Thread calibration: mean lat.: 488.668ms, rate sampling interval: 2562ms
  Thread calibration: mean lat.: 1876.706ms, rate sampling interval: 6696ms
  Thread calibration: mean lat.: 1572.706ms, rate sampling interval: 7868ms
  Thread calibration: mean lat.: 1530.364ms, rate sampling interval: 8302ms
  Thread calibration: mean lat.: 976.037ms, rate sampling interval: 3858ms
  Thread calibration: mean lat.: 914.678ms, rate sampling interval: 3768ms
  Thread calibration: mean lat.: 2040.831ms, rate sampling interval: 7671ms
  Thread calibration: mean lat.: 666.606ms, rate sampling interval: 2689ms
  Thread calibration: mean lat.: 943.754ms, rate sampling interval: 5971ms
  Thread calibration: mean lat.: 1904.234ms, rate sampling interval: 7766ms
  Thread calibration: mean lat.: 1397.875ms, rate sampling interval: 6365ms
  Thread calibration: mean lat.: 1343.463ms, rate sampling interval: 5603ms
  Thread calibration: mean lat.: 1066.337ms, rate sampling interval: 5554ms
  Thread calibration: mean lat.: 1014.941ms, rate sampling interval: 4595ms
  Thread calibration: mean lat.: 1717.355ms, rate sampling interval: 6803ms
  Thread calibration: mean lat.: 1083.010ms, rate sampling interval: 6627ms
  Thread calibration: mean lat.: 2126.519ms, rate sampling interval: 8052ms
  Thread calibration: mean lat.: 975.066ms, rate sampling interval: 4861ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    15.45s    15.31s    1.03m    79.39%
    Req/Sec   152.65     20.18   193.00     65.20%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.49s 
 75.000%   23.17s 
 90.000%   38.44s 
 99.000%    1.03m 
 99.900%    1.23m 
 99.990%    1.29m 
 99.999%    1.30m 
100.000%    1.31m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       7.195     0.000000            1         1.00
     489.471     0.100000        77792         1.11
    2340.863     0.200000       155586         1.25
    4612.095     0.300000       233485         1.43
    7229.439     0.400000       311187         1.67
   10485.759     0.500000       389161         2.00
   12517.375     0.550000       427969         2.22
   14721.023     0.600000       466763         2.50
   16973.823     0.650000       505676         2.86
   19726.335     0.700000       544690         3.33
   23166.975     0.750000       583425         4.00
   25083.903     0.775000       602955         4.44
   27181.055     0.800000       622343         5.00
   29343.743     0.825000       641822         5.71
   31752.191     0.850000       661243         6.67
   34537.471     0.875000       680771         8.00
   36306.943     0.887500       690440         8.89
   38436.863     0.900000       700143        10.00
   40632.319     0.912500       709944        11.43
   42893.311     0.925000       719627        13.33
   45449.215     0.937500       729383        16.00
   46858.239     0.943750       734254        17.78
   48300.031     0.950000       739096        20.00
   49938.431     0.956250       743916        22.86
   51544.063     0.962500       748783        26.67
   53280.767     0.968750       753619        32.00
   54165.503     0.971875       756020        35.56
   55083.007     0.975000       758455        40.00
   56033.279     0.978125       760891        45.71
   57147.391     0.981250       763339        53.33
   58490.879     0.984375       765751        64.00
   59244.543     0.985938       766956        71.11
   60194.815     0.987500       768210        80.00
   61210.623     0.989062       769399        91.43
   62554.111     0.990625       770630       106.67
   64225.279     0.992188       771818       128.00
   65404.927     0.992969       772439       142.22
   66551.807     0.993750       773048       160.00
   67567.615     0.994531       773649       182.86
   68485.119     0.995313       774253       213.33
   69533.695     0.996094       774888       256.00
   69992.447     0.996484       775173       284.44
   70516.735     0.996875       775486       320.00
   71041.023     0.997266       775797       365.71
   71565.311     0.997656       776093       426.67
   72155.135     0.998047       776401       512.00
   72482.815     0.998242       776551       568.89
   72744.959     0.998437       776686       640.00
   73138.175     0.998633       776843       731.43
   73531.391     0.998828       776985       853.33
   73990.143     0.999023       777137      1024.00
   74252.287     0.999121       777213      1137.78
   74579.967     0.999219       777297      1280.00
   74907.647     0.999316       777364      1462.86
   75300.863     0.999414       777453      1706.67
   75563.007     0.999512       777520      2048.00
   75759.615     0.999561       777567      2275.56
   75956.223     0.999609       777602      2560.00
   76087.295     0.999658       777631      2925.71
   76283.903     0.999707       777673      3413.33
   76480.511     0.999756       777709      4096.00
   76611.583     0.999780       777732      4551.11
   76742.655     0.999805       777754      5120.00
   76808.191     0.999829       777765      5851.43
   76939.263     0.999854       777792      6826.67
   77004.799     0.999878       777806      8192.00
   77070.335     0.999890       777816      9102.22
   77135.871     0.999902       777822     10240.00
   77201.407     0.999915       777831     11702.86
   77266.943     0.999927       777841     13653.33
   77332.479     0.999939       777851     16384.00
   77398.015     0.999945       777858     18204.44
   77398.015     0.999951       777858     20480.00
   77463.551     0.999957       777864     23405.71
   77594.623     0.999963       777868     27306.67
   77725.695     0.999969       777875     32768.00
   77725.695     0.999973       777875     36408.89
   77791.231     0.999976       777879     40960.00
   77791.231     0.999979       777879     46811.43
   77856.767     0.999982       777881     54613.33
   77922.303     0.999985       777884     65536.00
   77987.839     0.999986       777886     72817.78
   77987.839     0.999988       777886     81920.00
   78053.375     0.999989       777887     93622.86
   78118.911     0.999991       777889    109226.67
   78184.447     0.999992       777891    131072.00
   78184.447     0.999993       777891    145635.56
   78184.447     0.999994       777891    163840.00
   78184.447     0.999995       777891    187245.71
   78249.983     0.999995       777892    218453.33
   78315.519     0.999996       777894    262144.00
   78315.519     0.999997       777894    291271.11
   78315.519     0.999997       777894    327680.00
   78315.519     0.999997       777894    374491.43
   78315.519     0.999998       777894    436906.67
   78315.519     0.999998       777894    524288.00
   78315.519     0.999998       777894    582542.22
   78315.519     0.999998       777894    655360.00
   78315.519     0.999999       777894    748982.86
   78381.055     0.999999       777895    873813.33
   78381.055     1.000000       777895          inf
#[Mean    =    15448.607, StdDeviation   =    15310.938]
#[Max     =    78315.520, Total count    =       777895]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  848726 requests in 2.00m, 10.36GB read
Requests/sec:   7078.53  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40930 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 32397 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40930 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 32397 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
cd9cf3e974e6f7543b4c55786560a46888801bdfe3799e0e008d41a95203a83a
281065b2172fdd3936138ea5cbe8707b2a92c59ab5813ecfc5612b349f0165d5
2fbe4e486855556737c389ec3cd4d793ddf9359f2d78c47cd36c6ffa634fe872
dc39cb9b6fbc6bed9c4509859f41cf7daf2f2d9c5174ca132fdbf8598d67329e
d8dff25ac8f579b006a79cc83e5076b9ebecf42aa7c5ec4a2000f9f9f5bda958
eb568e28358e1e71875da4e370688f6317227759e9262080998dedd880fcf5fa
18689f26aa85464c84ca3b2f9bb055d87e46411ba0a77e20d83af1664db752a8
cdd39b1e3a231efcb3f7b72cca02ab08c0739e19e66386332b92350f4fd38b44
9ccc27109891a93201532d5e693160d4faea1d2e134af2930b665cc72c8dfe7b
8ab6022f3a589a4ace273068aec313f83f1b01ea8a5dacf53055ea406619a5dd
2bd24192329c28f00c0852c41384629dc45afed0ee7f831ffff6cd4c48b4f016
a4eebda8ce851295c89dc6c2a00b5eb29a8b5babbb08212161e970b1d4323ace
3abe9fdd33976b018c0c861f2cffa1ca7d5db35c49eded5b8e2433d5af11ba64
a978f207045413521bdda54491a707dc095c98beee1c502efe24ceabece2256b
e3968b61350bf1a25477fbb968ba88f2b40a133ebb84b10d062e540a02746857
e0d552464cd3d5e527a6accfc75b8023551edda98a7b17d1ae390ab7fe3e9cd8
4eb6efd70fca0667ae95caac8a689ec0a11f5d6e55e089c285b410d399605873
b58bf6e9da23da3bd8f9d0e8965e93d8880d23933290f4a6f90d7be7bd58dd5a
415f693828d886ba06c41ce9a35e248d25fa84687141ae23455f0e8f21a4ac1b
398d700b13d49edc600a006317602a051b33cd8dd2490778da1397c366cb970f
d564ad7f06f5f3a0bd2dd66d2db0ba104093ba7adec7d29892f797c2d604b666
c06441dc867b4889be3cc02947654b53c1dea32fd3fe827ec3b7ec5b814a087c
355ce8c010b682fea222e71533943f2aeb8ecba73693370707c279efa485ad01
a86896b534836853ea863da84697bb56fbbd91f3115436fb4260f77bc185e356
9b82bade2af3ec1cb4d0c87844ee5f2ffd954a1f788dddf9c73a0c8fef9648cf
dadee03146ea9c8ef108d00b1d168dad670da827401606ae199addad7948efce
a76d3ef5f4661d9ba0f051e9e080fb9a890d37f4be518fb5427b9014880efa72
f187e30a08fa4e487ecabedf8fbc903d7b0f6ee77197afc8587c4ec988a837f3
50592df07ac6b86b93f7db1f23c9ac24a629f278a5e86366b307e8289b2edd00
cb137e04dc7d2cfcfd6e5840362aa165adfeeb5b9a6b04db08b717eb906f340e
cbc85564f483392691ced0bb2b6c9b4cfb2e0e8984d9093137ab9d4e43a92ba5

Total reclaimed space: 4.59GB
python ./run-socialnetwork-test-numactl.py -n s -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 16-29-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n s -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-2.log -b True -m i -M 0,2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 16-29-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 's', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-2.log', 'mode': 'i', 'memnode': '0,2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_user-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-2



CMD: docker commit socialnetwork_user-timeline-service_1 social-network-microservices-numa-interleave-node-0-2

Result: sha256:a4a015dc44eea1eb077ab9496a68a0a57e62788018cf3c8ab57dd7475054d17a


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-2

Result: sha256:edf26c0aeb3e3164e7647e3b262cfa0e38e29354f445d0316208b24752cb7cf7


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-2

Result: sha256:8485caa8a580d9a849e316863d30ebbe4207364f6d5f42a069b17efc983bbee7


Install numactl tools on docker image: mongo-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 23:30 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-2



CMD: docker commit socialnetwork_social-graph-mongodb_1 mongo-numa-interleave-node-0-2

Result: sha256:b83136a4d44b83b818525ec5c2b56f4080880f7c48097dd6a58380562b1eb733


Install numactl tools on docker image: redis-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_4 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_4 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-redis_4 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-redis_4 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 11 23:30 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_4 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-2



CMD: docker commit socialnetwork_user-timeline-redis_4 redis-numa-interleave-node-0-2

Result: sha256:02b7ac7fbaf4b1e3324f5efb785f85148f6cf2be21b9a6f2aa1c5e6bb7a5ac87


Install numactl tools on docker image: memcached-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 11 23:30 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-memcached_1 memcached-numa-interleave-node-0-2

Result: sha256:396313d3b9a09f003a3c8f0209246b64c610283a21954a8681d5f1f6e01e80c9


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
975890b45eee222966b551e0edf35cfa4bb9f6accdde32a41c8372b1a3530cad
8ef98d70dcad745adb88dc952b8296e881fba5195b1d7fa87afe3e93ebabb02a
051534dcea84d6469c1ec5611aacde8a53085b0f0745fdba30e5ca4b465013a8
ef08054c8a813ee053f911f137b00931242bd251d38eda0e4f576337b06ac69e
a68d4bd862a8ecd124bb14b2498dc85fe4c9ae8bd6a33430f4515e1f04e1484c
cf4b708970ceedec5d0b39220b1faa226ce3feafea05ebda5c94c01693c4fb77
c7ae51f94d929726ebfaf648c17ab97181dbc68e49479b9ce55b5d4773744087
4906274292a42f32d75c6f97b4f579cec76e84a965cc8846cfae6144fec3d607
5dbcc831cfcf78e4508d554a1618e9fe2db53785d6a46aa6013680547349f0b6
2dd897d20df233ddddd415a9036944fa5d149378ac54eff4af93e2aae7b73400
2b3fa4f07e18f6841bc5fc0273397c6d31d4ee6dd21a0dbad5db61a604c9e5ab
64ebb064fe2e05e4d3c8aa0214fc7227a17b851db206b7c5b6ce869102bc5620
42a0993173546f0f9995ff118e23c86775cdb31ccde47e864536a14604e07bb4
8ae962d7bbd17d40c25ef280f9a137cc4cb42804ce0076f9f434bec4c987d5fc
c434e98215985b349c54e14150e9e4e3cb884911312c32917708649ca21c2cac
1a321a46002bdfe1a329decb8e216f3bdddbbe9b8583af7b0e9a74db98c6aa72
6a2fa985e5c593f5a7b9eb2ae4a321dcf6fc287b2c478781024fba9225318d54
1a5dddf95657d4ef72585db417c06af88d739726dafad5b93e88343400ca06fc
d3deb8ee32d23b53d22c72f785651049427b08fc6d9ea8ff518f636f239b91cb
f41d008e1c4428b3b011082b6fe0a6e156737bf83eb1b8a33dc5ead102ccf5fd
f26dce18fd1ebe4d259a96a69b710058a6b841211829dfcac715f3404a4b6239
f31ed6535a9c0e48bed2cbbdc3a6b1f559ede51f5bf2240b9ff86f6d16c43416
e9ab7f111323eb97b3f26aeb83337fd62f69679c3e41a89b639d15b4f2b60a76
0c532b0c2b82000f5caa67fe2d62537f6334eb9bd1bd48a0c09e3afd846760dd
ac29ced6d33c14242d08b43bbfb851db460b43a0caedef3b2c75fccd44397621
ae34a18268b9669dca2c2471915d7a3cbb6507c4689adb12ff1c1eb0c335d899
8ba6eb954bf25f8c1118a8b5aa9715545832be93ffe421b5368b092b50035279
e313785cb8e92844dcff515972522c433926a915657cc08021f51469fc98d973
476dcf230abdd2b31427c772a213927380e94ec8ce79780d910f0881ad55271b
0873b8904bf8d0c0fadc765bea3475d26351fff22d86b5386681dbf26da07519
10a28c7e7168a72c4b28d2d77a7a62c9835d16b9e5ec5b7fd4b7f4514b6cc6eb

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_socfb-Reed98-mode-numa-interleave-node-0-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54176 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58233 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130390 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54176 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58233 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130390 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: socfb-Reed98

CMD: python3 scripts/init_social_graph.py --graph=socfb-Reed98

Result: Registering Users...
0
200
400
600
800
Succeeded: 962
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
Failed: 376 Error: Follow Failed: CLUSTERDOWN The cluster is down
Succeeded: 37248


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:44
cluster_stats_messages_pong_sent:45
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:90
cluster_stats_messages_ping_received:45
cluster_stats_messages_pong_received:45
cluster_stats_messages_received:90
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:44
cluster_stats_messages_pong_sent:44
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:89
cluster_stats_messages_ping_received:44
cluster_stats_messages_pong_received:45
cluster_stats_messages_received:89
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:40
cluster_stats_messages_pong_sent:42
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:83
cluster_stats_messages_ping_received:42
cluster_stats_messages_pong_received:41
cluster_stats_messages_received:83
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.459ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.541ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.554ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.378ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.388ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.408ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.245ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.708ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.245ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.342ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.547ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.318ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.290ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.285ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.519ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.637ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.564ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.366ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.283ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.297ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.582ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.043ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.327ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.547ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.750ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.435ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.918ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.427ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.362ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.233ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.357ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.473ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.386ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.530ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.480ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.610ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.331ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.350ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.306ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.212ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.486ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.376ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.197ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.261ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.514ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.325ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.405ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.154ms, rate sampling interval: 12ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.17ms    1.20ms   8.70ms   82.33%
    Req/Sec    20.71     40.83   166.00     77.21%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    5.01ms
 75.000%    5.64ms
 90.000%    6.36ms
 99.000%    8.70ms
 99.900%   12.79ms
 99.990%   33.28ms
 99.999%   64.80ms
100.000%   66.18ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.445     0.000000            1         1.00
       4.061     0.100000        10612         1.11
       4.363     0.200000        21284         1.25
       4.587     0.300000        31771         1.43
       4.799     0.400000        42471         1.67
       5.011     0.500000        53135         2.00
       5.115     0.550000        58245         2.22
       5.231     0.600000        63564         2.50
       5.355     0.650000        68835         2.86
       5.491     0.700000        74124         3.33
       5.643     0.750000        79460         4.00
       5.727     0.775000        82099         4.44
       5.819     0.800000        84676         5.00
       5.927     0.825000        87380         5.71
       6.047     0.850000        89993         6.67
       6.187     0.875000        92644         8.00
       6.267     0.887500        93922         8.89
       6.359     0.900000        95246        10.00
       6.463     0.912500        96580        11.43
       6.583     0.925000        97925        13.33
       6.727     0.937500        99251        16.00
       6.811     0.943750        99889        17.78
       6.911     0.950000       100542        20.00
       7.023     0.956250       101201        22.86
       7.167     0.962500       101869        26.67
       7.347     0.968750       102532        32.00
       7.451     0.971875       102857        35.56
       7.571     0.975000       103182        40.00
       7.715     0.978125       103516        45.71
       7.883     0.981250       103845        53.33
       8.095     0.984375       104174        64.00
       8.231     0.985938       104345        71.11
       8.415     0.987500       104511        80.00
       8.591     0.989062       104672        91.43
       8.783     0.990625       104843       106.67
       9.071     0.992188       105007       128.00
       9.223     0.992969       105085       142.22
       9.375     0.993750       105168       160.00
       9.551     0.994531       105250       182.86
       9.783     0.995313       105334       213.33
      10.063     0.996094       105416       256.00
      10.231     0.996484       105458       284.44
      10.431     0.996875       105497       320.00
      10.647     0.997266       105539       365.71
      10.863     0.997656       105580       426.67
      11.199     0.998047       105621       512.00
      11.367     0.998242       105641       568.89
      11.663     0.998437       105662       640.00
      11.935     0.998633       105683       731.43
      12.343     0.998828       105703       853.33
      12.855     0.999023       105724      1024.00
      13.095     0.999121       105734      1137.78
      14.223     0.999219       105745      1280.00
      14.799     0.999316       105755      1462.86
      15.567     0.999414       105765      1706.67
      17.519     0.999512       105776      2048.00
      19.679     0.999561       105781      2275.56
      20.543     0.999609       105786      2560.00
      22.271     0.999658       105791      2925.71
      25.039     0.999707       105796      3413.33
      28.831     0.999756       105802      4096.00
      29.967     0.999780       105804      4551.11
      31.231     0.999805       105807      5120.00
      31.519     0.999829       105809      5851.43
      32.335     0.999854       105812      6826.67
      32.799     0.999878       105815      8192.00
      33.279     0.999890       105816      9102.22
      33.407     0.999902       105817     10240.00
      34.367     0.999915       105818     11702.86
      35.167     0.999927       105820     13653.33
      35.999     0.999939       105821     16384.00
      42.879     0.999945       105822     18204.44
      42.879     0.999951       105822     20480.00
      56.159     0.999957       105823     23405.71
      58.047     0.999963       105824     27306.67
      58.047     0.999969       105824     32768.00
      62.623     0.999973       105825     36408.89
      62.623     0.999976       105825     40960.00
      62.623     0.999979       105825     46811.43
      64.799     0.999982       105826     54613.33
      64.799     0.999985       105826     65536.00
      64.799     0.999986       105826     72817.78
      64.799     0.999988       105826     81920.00
      64.799     0.999989       105826     93622.86
      66.175     0.999991       105827    109226.67
      66.175     1.000000       105827          inf
#[Mean    =        5.166, StdDeviation   =        1.195]
#[Max     =       66.112, Total count    =       105827]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115351 requests in 2.00m, 23.65MB read
Requests/sec:    961.23  
Transfer/sec:    201.82KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53055 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57616 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129535 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53055 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57616 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129535 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 16.846ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 18.076ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 16.957ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 14.015ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 30.572ms, rate sampling interval: 201ms
  Thread calibration: mean lat.: 14.387ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 16.183ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 13.689ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 10.487ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 14.257ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 13.600ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 24.733ms, rate sampling interval: 52ms
  Thread calibration: mean lat.: 21.707ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 12.249ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 10.082ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 13.600ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 13.958ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 17.845ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 19.511ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 11.968ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 17.904ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 13.150ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 16.680ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.161ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 15.717ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 10.640ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 13.349ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 13.190ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 12.863ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 12.640ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 17.411ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 17.933ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 22.290ms, rate sampling interval: 85ms
  Thread calibration: mean lat.: 12.897ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 9.619ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 18.911ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 12.346ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 12.287ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 12.462ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 18.323ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 17.575ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 17.567ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 16.257ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.824ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 20.617ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.885ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 20.161ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 11.501ms, rate sampling interval: 27ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.14ms    7.92ms  25.10ms   98.60%
    Req/Sec   106.35     72.11   312.00     72.51%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.09ms
 75.000%    4.79ms
 90.000%    6.04ms
 99.000%   25.10ms
 99.900%  127.93ms
 99.990%  179.33ms
 99.999%  220.80ms
100.000%  229.76ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.211     0.000000            1         1.00
       3.321     0.100000        54963         1.11
       3.539     0.200000       110146         1.25
       3.721     0.300000       165106         1.43
       3.897     0.400000       220018         1.67
       4.089     0.500000       275115         2.00
       4.199     0.550000       302728         2.22
       4.319     0.600000       330540         2.50
       4.447     0.650000       357969         2.86
       4.599     0.700000       385127         3.33
       4.787     0.750000       412518         4.00
       4.899     0.775000       425997         4.44
       5.035     0.800000       439822         5.00
       5.199     0.825000       453409         5.71
       5.403     0.850000       467140         6.67
       5.667     0.875000       480821         8.00
       5.839     0.887500       487817         8.89
       6.043     0.900000       494581        10.00
       6.295     0.912500       501509        11.43
       6.599     0.925000       508342        13.33
       6.959     0.937500       515189        16.00
       7.171     0.943750       518594        17.78
       7.415     0.950000       522045        20.00
       7.683     0.956250       525459        22.86
       8.019     0.962500       528909        26.67
       8.447     0.968750       532340        32.00
       8.727     0.971875       534061        35.56
       9.087     0.975000       535790        40.00
       9.559     0.978125       537485        45.71
      10.319     0.981250       539214        53.33
      11.607     0.984375       540918        64.00
      13.031     0.985938       541771        71.11
      16.127     0.987500       542631        80.00
      21.183     0.989062       543491        91.43
      28.623     0.990625       544348       106.67
      39.263     0.992188       545208       128.00
      45.343     0.992969       545635       142.22
      52.031     0.993750       546064       160.00
      59.839     0.994531       546494       182.86
      67.839     0.995313       546928       213.33
      76.671     0.996094       547357       256.00
      81.471     0.996484       547567       284.44
      86.655     0.996875       547782       320.00
      91.775     0.997266       547996       365.71
      98.495     0.997656       548214       426.67
     106.367     0.998047       548425       512.00
     110.143     0.998242       548535       568.89
     113.791     0.998437       548640       640.00
     118.207     0.998633       548748       731.43
     122.815     0.998828       548856       853.33
     128.895     0.999023       548962      1024.00
     131.199     0.999121       549016      1137.78
     134.911     0.999219       549070      1280.00
     138.495     0.999316       549123      1462.86
     142.207     0.999414       549178      1706.67
     146.431     0.999512       549230      2048.00
     148.223     0.999561       549258      2275.56
     150.911     0.999609       549284      2560.00
     153.215     0.999658       549311      2925.71
     156.031     0.999707       549338      3413.33
     161.023     0.999756       549364      4096.00
     163.711     0.999780       549378      4551.11
     165.887     0.999805       549391      5120.00
     168.319     0.999829       549405      5851.43
     170.495     0.999854       549418      6826.67
     174.591     0.999878       549431      8192.00
     176.895     0.999890       549438      9102.22
     179.839     0.999902       549445     10240.00
     182.015     0.999915       549452     11702.86
     184.319     0.999927       549458     13653.33
     187.263     0.999939       549465     16384.00
     189.183     0.999945       549468     18204.44
     194.559     0.999951       549472     20480.00
     195.455     0.999957       549475     23405.71
     201.087     0.999963       549478     27306.67
     202.495     0.999969       549483     32768.00
     202.495     0.999973       549483     36408.89
     205.311     0.999976       549485     40960.00
     206.719     0.999979       549487     46811.43
     206.975     0.999982       549488     54613.33
     216.959     0.999985       549490     65536.00
     217.215     0.999986       549491     72817.78
     218.495     0.999988       549492     81920.00
     220.799     0.999989       549493     93622.86
     220.799     0.999991       549493    109226.67
     221.055     0.999992       549494    131072.00
     224.383     0.999993       549495    145635.56
     224.383     0.999994       549495    163840.00
     225.151     0.999995       549496    187245.71
     225.151     0.999995       549496    218453.33
     225.151     0.999996       549496    262144.00
     226.943     0.999997       549497    291271.11
     226.943     0.999997       549497    327680.00
     226.943     0.999997       549497    374491.43
     226.943     0.999998       549497    436906.67
     226.943     0.999998       549497    524288.00
     229.759     0.999998       549498    582542.22
     229.759     1.000000       549498          inf
#[Mean    =        5.135, StdDeviation   =        7.917]
#[Max     =      229.632, Total count    =       549498]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599263 requests in 2.00m, 122.87MB read
Requests/sec:   4997.01  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48353 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54523 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125555 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48353 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54523 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125555 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1753.986ms, rate sampling interval: 6221ms
  Thread calibration: mean lat.: 1504.478ms, rate sampling interval: 5693ms
  Thread calibration: mean lat.: 1565.074ms, rate sampling interval: 5652ms
  Thread calibration: mean lat.: 1434.260ms, rate sampling interval: 5472ms
  Thread calibration: mean lat.: 1672.933ms, rate sampling interval: 6299ms
  Thread calibration: mean lat.: 1719.526ms, rate sampling interval: 6029ms
  Thread calibration: mean lat.: 1427.277ms, rate sampling interval: 5611ms
  Thread calibration: mean lat.: 1505.396ms, rate sampling interval: 5746ms
  Thread calibration: mean lat.: 1756.737ms, rate sampling interval: 6291ms
  Thread calibration: mean lat.: 1730.869ms, rate sampling interval: 6340ms
  Thread calibration: mean lat.: 1607.133ms, rate sampling interval: 5898ms
  Thread calibration: mean lat.: 1565.043ms, rate sampling interval: 5750ms
  Thread calibration: mean lat.: 1505.707ms, rate sampling interval: 5586ms
  Thread calibration: mean lat.: 1518.469ms, rate sampling interval: 5808ms
  Thread calibration: mean lat.: 1740.324ms, rate sampling interval: 5963ms
  Thread calibration: mean lat.: 1602.281ms, rate sampling interval: 5656ms
  Thread calibration: mean lat.: 1434.595ms, rate sampling interval: 5394ms
  Thread calibration: mean lat.: 1651.846ms, rate sampling interval: 5959ms
  Thread calibration: mean lat.: 1512.396ms, rate sampling interval: 5578ms
  Thread calibration: mean lat.: 1622.952ms, rate sampling interval: 5824ms
  Thread calibration: mean lat.: 1588.533ms, rate sampling interval: 5668ms
  Thread calibration: mean lat.: 1556.866ms, rate sampling interval: 5660ms
  Thread calibration: mean lat.: 1781.368ms, rate sampling interval: 6549ms
  Thread calibration: mean lat.: 1775.198ms, rate sampling interval: 6553ms
  Thread calibration: mean lat.: 1478.078ms, rate sampling interval: 5324ms
  Thread calibration: mean lat.: 1655.877ms, rate sampling interval: 6287ms
  Thread calibration: mean lat.: 1392.871ms, rate sampling interval: 5058ms
  Thread calibration: mean lat.: 1571.404ms, rate sampling interval: 5251ms
  Thread calibration: mean lat.: 1539.035ms, rate sampling interval: 5570ms
  Thread calibration: mean lat.: 1728.531ms, rate sampling interval: 6053ms
  Thread calibration: mean lat.: 1676.598ms, rate sampling interval: 6008ms
  Thread calibration: mean lat.: 1528.887ms, rate sampling interval: 5648ms
  Thread calibration: mean lat.: 1746.659ms, rate sampling interval: 6037ms
  Thread calibration: mean lat.: 1826.144ms, rate sampling interval: 6479ms
  Thread calibration: mean lat.: 1728.826ms, rate sampling interval: 6049ms
  Thread calibration: mean lat.: 1616.568ms, rate sampling interval: 5869ms
  Thread calibration: mean lat.: 1712.543ms, rate sampling interval: 6070ms
  Thread calibration: mean lat.: 1713.085ms, rate sampling interval: 5865ms
  Thread calibration: mean lat.: 1739.874ms, rate sampling interval: 6156ms
  Thread calibration: mean lat.: 1723.082ms, rate sampling interval: 5926ms
  Thread calibration: mean lat.: 1953.789ms, rate sampling interval: 6610ms
  Thread calibration: mean lat.: 1632.299ms, rate sampling interval: 5533ms
  Thread calibration: mean lat.: 1649.671ms, rate sampling interval: 6012ms
  Thread calibration: mean lat.: 1795.745ms, rate sampling interval: 5947ms
  Thread calibration: mean lat.: 1745.133ms, rate sampling interval: 5996ms
  Thread calibration: mean lat.: 1785.280ms, rate sampling interval: 6508ms
  Thread calibration: mean lat.: 1666.991ms, rate sampling interval: 5971ms
  Thread calibration: mean lat.: 1750.727ms, rate sampling interval: 6115ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    21.31s    10.42s   39.62s    58.20%
    Req/Sec   139.52      2.42   144.00     81.75%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   21.35s 
 75.000%   30.16s 
 90.000%   35.75s 
 99.000%   39.62s 
 99.900%   41.12s 
 99.990%   41.98s 
 99.999%   42.73s 
100.000%   42.80s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2514.943     0.000000            1         1.00
    6852.607     0.100000        73902         1.11
   10551.295     0.200000       147965         1.25
   14139.391     0.300000       221878         1.43
   17711.103     0.400000       295968         1.67
   21348.351     0.500000       369557         2.00
   23101.439     0.550000       406796         2.22
   24903.679     0.600000       443640         2.50
   26673.151     0.650000       480445         2.86
   28393.471     0.700000       517518         3.33
   30162.943     0.750000       554440         4.00
   31096.831     0.775000       572770         4.44
   32047.103     0.800000       591276         5.00
   33030.143     0.825000       609982         5.71
   33947.647     0.850000       628422         6.67
   34865.151     0.875000       646744         8.00
   35291.135     0.887500       655931         8.89
   35749.887     0.900000       665477        10.00
   36208.639     0.912500       675000        11.43
   36634.623     0.925000       684005        13.33
   37060.607     0.937500       692936        16.00
   37289.983     0.943750       697546        17.78
   37519.359     0.950000       702060        20.00
   37781.503     0.956250       707111        22.86
   38010.879     0.962500       711328        26.67
   38305.791     0.968750       716150        32.00
   38469.631     0.971875       718721        35.56
   38600.703     0.975000       720616        40.00
   38764.543     0.978125       722885        45.71
   38961.151     0.981250       725455        53.33
   39157.759     0.984375       727747        64.00
   39256.063     0.985938       728730        71.11
   39387.135     0.987500       729853        80.00
   39518.207     0.989062       730975        91.43
   39649.279     0.990625       732090       106.67
   39845.887     0.992188       733344       128.00
   39911.423     0.992969       733812       142.22
   40009.727     0.993750       734428       160.00
   40108.031     0.994531       735025       182.86
   40239.103     0.995313       735674       213.33
   40370.175     0.996094       736194       256.00
   40435.711     0.996484       736448       284.44
   40501.247     0.996875       736716       320.00
   40599.551     0.997266       737055       365.71
   40697.855     0.997656       737343       426.67
   40796.159     0.998047       737625       512.00
   40828.927     0.998242       737703       568.89
   40894.463     0.998437       737890       640.00
   40959.999     0.998633       738032       731.43
   41025.535     0.998828       738130       853.33
   41123.839     0.999023       738300      1024.00
   41156.607     0.999121       738354      1137.78
   41222.143     0.999219       738446      1280.00
   41254.911     0.999316       738491      1462.86
   41353.215     0.999414       738575      1706.67
   41451.519     0.999512       738633      2048.00
   41517.055     0.999561       738687      2275.56
   41549.823     0.999609       738722      2560.00
   41582.591     0.999658       738757      2925.71
   41615.359     0.999707       738789      3413.33
   41680.895     0.999756       738813      4096.00
   41746.431     0.999780       738843      4551.11
   41779.199     0.999805       738853      5120.00
   41811.967     0.999829       738867      5851.43
   41844.735     0.999854       738885      6826.67
   41877.503     0.999878       738902      8192.00
   41943.039     0.999890       738911      9102.22
   42008.575     0.999902       738924     10240.00
   42106.879     0.999915       738931     11702.86
   42237.951     0.999927       738938     13653.33
   42369.023     0.999939       738947     16384.00
   42434.559     0.999945       738955     18204.44
   42500.095     0.999951       738957     20480.00
   42565.631     0.999957       738962     23405.71
   42598.399     0.999963       738968     27306.67
   42631.167     0.999969       738970     32768.00
   42663.935     0.999973       738976     36408.89
   42663.935     0.999976       738976     40960.00
   42696.703     0.999979       738981     46811.43
   42696.703     0.999982       738981     54613.33
   42696.703     0.999985       738981     65536.00
   42729.471     0.999986       738987     72817.78
   42729.471     0.999988       738987     81920.00
   42729.471     0.999989       738987     93622.86
   42729.471     0.999991       738987    109226.67
   42729.471     0.999992       738987    131072.00
   42729.471     0.999993       738987    145635.56
   42762.239     0.999994       738991    163840.00
   42762.239     0.999995       738991    187245.71
   42762.239     0.999995       738991    218453.33
   42762.239     0.999996       738991    262144.00
   42762.239     0.999997       738991    291271.11
   42762.239     0.999997       738991    327680.00
   42762.239     0.999997       738991    374491.43
   42762.239     0.999998       738991    436906.67
   42762.239     0.999998       738991    524288.00
   42762.239     0.999998       738991    582542.22
   42762.239     0.999998       738991    655360.00
   42795.007     0.999999       738992    748982.86
   42795.007     1.000000       738992          inf
#[Mean    =    21311.349, StdDeviation   =    10421.456]
#[Max     =    42762.240, Total count    =       738992]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  806136 requests in 2.00m, 165.29MB read
Requests/sec:   6723.80  
Transfer/sec:      1.38MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40759 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50835 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 119000 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40759 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50835 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 119000 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.657ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.655ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.445ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.619ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.563ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.570ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.786ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.770ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.617ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.736ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.701ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.670ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.837ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.459ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.637ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.629ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.605ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.697ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.710ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.560ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.679ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.766ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.697ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.782ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.455ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.619ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.663ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.701ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.454ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.652ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.482ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.516ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.520ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.617ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.563ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.671ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.472ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.898ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.632ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.588ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.654ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.753ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.997ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.485ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.624ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.444ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.768ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.367ms, rate sampling interval: 14ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.49ms    2.78ms  17.39ms   65.93%
    Req/Sec    20.60     37.35   142.00     73.81%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.45ms
 75.000%   11.30ms
 90.000%   12.90ms
 99.000%   17.39ms
 99.900%   23.14ms
 99.990%   29.44ms
 99.999%   39.01ms
100.000%   40.10ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.893     0.000000            1         1.00
       6.099     0.100000        10637         1.11
       6.755     0.200000        21203         1.25
       7.575     0.300000        31775         1.43
       8.623     0.400000        42398         1.67
       9.455     0.500000        52944         2.00
       9.831     0.550000        58222         2.22
      10.191     0.600000        63613         2.50
      10.543     0.650000        68818         2.86
      10.911     0.700000        74150         3.33
      11.295     0.750000        79434         4.00
      11.503     0.775000        82040         4.44
      11.727     0.800000        84702         5.00
      11.983     0.825000        87379         5.71
      12.247     0.850000        89995         6.67
      12.543     0.875000        92621         8.00
      12.711     0.887500        93955         8.89
      12.895     0.900000        95301        10.00
      13.095     0.912500        96622        11.43
      13.327     0.925000        97920        13.33
      13.607     0.937500        99236        16.00
      13.775     0.943750        99888        17.78
      13.951     0.950000       100563        20.00
      14.167     0.956250       101224        22.86
      14.423     0.962500       101878        26.67
      14.751     0.968750       102534        32.00
      14.951     0.971875       102871        35.56
      15.191     0.975000       103204        40.00
      15.463     0.978125       103529        45.71
      15.839     0.981250       103857        53.33
      16.247     0.984375       104192        64.00
      16.511     0.985938       104354        71.11
      16.831     0.987500       104519        80.00
      17.151     0.989062       104690        91.43
      17.567     0.990625       104854       106.67
      17.983     0.992188       105015       128.00
      18.207     0.992969       105103       142.22
      18.511     0.993750       105180       160.00
      18.815     0.994531       105269       182.86
      19.167     0.995313       105347       213.33
      19.631     0.996094       105430       256.00
      19.855     0.996484       105469       284.44
      20.159     0.996875       105512       320.00
      20.431     0.997266       105553       365.71
      20.719     0.997656       105594       426.67
      21.119     0.998047       105637       512.00
      21.311     0.998242       105655       568.89
      21.775     0.998437       105676       640.00
      22.079     0.998633       105697       731.43
      22.687     0.998828       105718       853.33
      23.167     0.999023       105738      1024.00
      23.359     0.999121       105748      1137.78
      23.999     0.999219       105759      1280.00
      24.575     0.999316       105769      1462.86
      25.007     0.999414       105779      1706.67
      25.471     0.999512       105790      2048.00
      25.711     0.999561       105795      2275.56
      26.015     0.999609       105800      2560.00
      26.143     0.999658       105805      2925.71
      26.415     0.999707       105810      3413.33
      26.975     0.999756       105816      4096.00
      27.295     0.999780       105818      4551.11
      27.599     0.999805       105821      5120.00
      28.415     0.999829       105823      5851.43
      28.863     0.999854       105826      6826.67
      29.391     0.999878       105829      8192.00
      29.439     0.999890       105830      9102.22
      29.455     0.999902       105831     10240.00
      29.535     0.999915       105832     11702.86
      30.559     0.999927       105834     13653.33
      31.327     0.999939       105835     16384.00
      32.991     0.999945       105836     18204.44
      32.991     0.999951       105836     20480.00
      33.343     0.999957       105837     23405.71
      33.407     0.999963       105838     27306.67
      33.407     0.999969       105838     32768.00
      34.751     0.999973       105839     36408.89
      34.751     0.999976       105839     40960.00
      34.751     0.999979       105839     46811.43
      39.007     0.999982       105840     54613.33
      39.007     0.999985       105840     65536.00
      39.007     0.999986       105840     72817.78
      39.007     0.999988       105840     81920.00
      39.007     0.999989       105840     93622.86
      40.095     0.999991       105841    109226.67
      40.095     1.000000       105841          inf
#[Mean    =        9.489, StdDeviation   =        2.780]
#[Max     =       40.064, Total count    =       105841]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115341 requests in 2.00m, 1.56GB read
Requests/sec:    961.11  
Transfer/sec:     13.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42761 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49153 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121153 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42761 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49153 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121153 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.221ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.159ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.102ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.167ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.634ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.315ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.364ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.117ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.792ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.129ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.535ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.905ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.274ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.723ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.011ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.017ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.071ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.990ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.249ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.087ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.503ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.497ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.267ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.143ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.301ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.333ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.095ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.235ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.531ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.208ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.959ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.233ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.099ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.959ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.909ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 7.348ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.554ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.477ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.373ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.933ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.986ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.400ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.317ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.191ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.128ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.302ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.468ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.227ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.24ms    2.40ms  15.91ms   81.47%
    Req/Sec   106.53     72.34   300.00     72.60%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.58ms
 75.000%    8.02ms
 90.000%   10.30ms
 99.000%   15.91ms
 99.900%   22.33ms
 99.990%   31.09ms
 99.999%   45.34ms
100.000%   55.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.553     0.000000            1         1.00
       5.123     0.100000        55241         1.11
       5.539     0.200000       109962         1.25
       5.883     0.300000       165392         1.43
       6.215     0.400000       219948         1.67
       6.583     0.500000       275205         2.00
       6.787     0.550000       302231         2.22
       7.019     0.600000       329728         2.50
       7.291     0.650000       357413         2.86
       7.615     0.700000       384791         3.33
       8.023     0.750000       412340         4.00
       8.271     0.775000       426244         4.44
       8.551     0.800000       439752         5.00
       8.879     0.825000       453468         5.71
       9.271     0.850000       467200         6.67
       9.743     0.875000       480820         8.00
      10.015     0.887500       487804         8.89
      10.303     0.900000       494529        10.00
      10.639     0.912500       501402        11.43
      11.023     0.925000       508325        13.33
      11.455     0.937500       515139        16.00
      11.703     0.943750       518583        17.78
      11.983     0.950000       522023        20.00
      12.303     0.956250       525517        22.86
      12.655     0.962500       528887        26.67
      13.095     0.968750       532345        32.00
      13.343     0.971875       534061        35.56
      13.631     0.975000       535772        40.00
      13.959     0.978125       537480        45.71
      14.327     0.981250       539181        53.33
      14.799     0.984375       540891        64.00
      15.063     0.985938       541754        71.11
      15.359     0.987500       542608        80.00
      15.703     0.989062       543474        91.43
      16.079     0.990625       544339       106.67
      16.543     0.992188       545184       128.00
      16.879     0.992969       545631       142.22
      17.199     0.993750       546052       160.00
      17.551     0.994531       546487       182.86
      17.983     0.995313       546911       213.33
      18.479     0.996094       547345       256.00
      18.735     0.996484       547551       284.44
      19.039     0.996875       547759       320.00
      19.439     0.997266       547974       365.71
      19.935     0.997656       548195       426.67
      20.431     0.998047       548403       512.00
      20.719     0.998242       548512       568.89
      21.071     0.998437       548621       640.00
      21.407     0.998633       548726       731.43
      21.855     0.998828       548834       853.33
      22.431     0.999023       548943      1024.00
      22.735     0.999121       548996      1137.78
      23.071     0.999219       549047      1280.00
      23.519     0.999316       549101      1462.86
      24.079     0.999414       549155      1706.67
      24.751     0.999512       549208      2048.00
      25.135     0.999561       549235      2275.56
      25.535     0.999609       549262      2560.00
      25.951     0.999658       549290      2925.71
      26.463     0.999707       549316      3413.33
      26.991     0.999756       549342      4096.00
      27.295     0.999780       549356      4551.11
      27.919     0.999805       549369      5120.00
      28.559     0.999829       549383      5851.43
      29.183     0.999854       549397      6826.67
      30.255     0.999878       549409      8192.00
      30.799     0.999890       549416      9102.22
      31.231     0.999902       549423     10240.00
      31.919     0.999915       549432     11702.86
      32.527     0.999927       549437     13653.33
      32.863     0.999939       549443     16384.00
      33.439     0.999945       549447     18204.44
      33.983     0.999951       549450     20480.00
      34.591     0.999957       549454     23405.71
      35.007     0.999963       549456     27306.67
      36.063     0.999969       549460     32768.00
      36.319     0.999973       549461     36408.89
      36.831     0.999976       549463     40960.00
      38.975     0.999979       549465     46811.43
      39.839     0.999982       549466     54613.33
      41.887     0.999985       549468     65536.00
      42.047     0.999986       549469     72817.78
      43.711     0.999988       549470     81920.00
      45.343     0.999989       549471     93622.86
      45.343     0.999991       549471    109226.67
      46.943     0.999992       549472    131072.00
      48.703     0.999993       549473    145635.56
      48.703     0.999994       549473    163840.00
      49.471     0.999995       549474    187245.71
      49.471     0.999995       549474    218453.33
      49.471     0.999996       549474    262144.00
      50.783     0.999997       549475    291271.11
      50.783     0.999997       549475    327680.00
      50.783     0.999997       549475    374491.43
      50.783     0.999998       549475    436906.67
      50.783     0.999998       549475    524288.00
      55.647     0.999998       549476    582542.22
      55.647     1.000000       549476          inf
#[Mean    =        7.243, StdDeviation   =        2.398]
#[Max     =       55.616, Total count    =       549476]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599100 requests in 2.00m, 8.09GB read
Requests/sec:   4996.68  
Transfer/sec:     69.12MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42662 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48516 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121172 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42662 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48516 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121172 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 476.197ms, rate sampling interval: 3594ms
  Thread calibration: mean lat.: 645.686ms, rate sampling interval: 2652ms
  Thread calibration: mean lat.: 639.177ms, rate sampling interval: 2539ms
  Thread calibration: mean lat.: 481.721ms, rate sampling interval: 1890ms
  Thread calibration: mean lat.: 539.762ms, rate sampling interval: 1999ms
  Thread calibration: mean lat.: 460.469ms, rate sampling interval: 1998ms
  Thread calibration: mean lat.: 630.226ms, rate sampling interval: 2748ms
  Thread calibration: mean lat.: 390.267ms, rate sampling interval: 1558ms
  Thread calibration: mean lat.: 325.565ms, rate sampling interval: 1392ms
  Thread calibration: mean lat.: 880.517ms, rate sampling interval: 3373ms
  Thread calibration: mean lat.: 314.707ms, rate sampling interval: 1989ms
  Thread calibration: mean lat.: 515.257ms, rate sampling interval: 2326ms
  Thread calibration: mean lat.: 565.274ms, rate sampling interval: 2248ms
  Thread calibration: mean lat.: 209.918ms, rate sampling interval: 783ms
  Thread calibration: mean lat.: 688.890ms, rate sampling interval: 2232ms
  Thread calibration: mean lat.: 684.561ms, rate sampling interval: 3133ms
  Thread calibration: mean lat.: 681.790ms, rate sampling interval: 2689ms
  Thread calibration: mean lat.: 800.341ms, rate sampling interval: 4665ms
  Thread calibration: mean lat.: 643.054ms, rate sampling interval: 3287ms
  Thread calibration: mean lat.: 494.783ms, rate sampling interval: 2553ms
  Thread calibration: mean lat.: 659.793ms, rate sampling interval: 2979ms
  Thread calibration: mean lat.: 426.256ms, rate sampling interval: 2079ms
  Thread calibration: mean lat.: 483.660ms, rate sampling interval: 2024ms
  Thread calibration: mean lat.: 361.375ms, rate sampling interval: 1255ms
  Thread calibration: mean lat.: 590.454ms, rate sampling interval: 2260ms
  Thread calibration: mean lat.: 605.077ms, rate sampling interval: 3074ms
  Thread calibration: mean lat.: 365.028ms, rate sampling interval: 1854ms
  Thread calibration: mean lat.: 606.843ms, rate sampling interval: 3198ms
  Thread calibration: mean lat.: 940.425ms, rate sampling interval: 3731ms
  Thread calibration: mean lat.: 513.769ms, rate sampling interval: 2107ms
  Thread calibration: mean lat.: 525.190ms, rate sampling interval: 2054ms
  Thread calibration: mean lat.: 694.607ms, rate sampling interval: 3100ms
  Thread calibration: mean lat.: 484.817ms, rate sampling interval: 2369ms
  Thread calibration: mean lat.: 619.243ms, rate sampling interval: 3528ms
  Thread calibration: mean lat.: 637.499ms, rate sampling interval: 3762ms
  Thread calibration: mean lat.: 619.411ms, rate sampling interval: 2535ms
  Thread calibration: mean lat.: 348.201ms, rate sampling interval: 1688ms
  Thread calibration: mean lat.: 499.524ms, rate sampling interval: 1485ms
  Thread calibration: mean lat.: 561.156ms, rate sampling interval: 2514ms
  Thread calibration: mean lat.: 669.482ms, rate sampling interval: 2285ms
  Thread calibration: mean lat.: 323.331ms, rate sampling interval: 1183ms
  Thread calibration: mean lat.: 373.806ms, rate sampling interval: 1348ms
  Thread calibration: mean lat.: 450.489ms, rate sampling interval: 2363ms
  Thread calibration: mean lat.: 272.261ms, rate sampling interval: 1021ms
  Thread calibration: mean lat.: 404.964ms, rate sampling interval: 2004ms
  Thread calibration: mean lat.: 413.917ms, rate sampling interval: 1484ms
  Thread calibration: mean lat.: 224.928ms, rate sampling interval: 1005ms
  Thread calibration: mean lat.: 462.024ms, rate sampling interval: 1743ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency   451.67ms    1.22s    6.55s    91.36%
    Req/Sec   207.42     15.44   243.00     82.92%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   12.56ms
 75.000%  110.46ms
 90.000%    1.38s 
 99.000%    6.55s 
 99.900%    8.93s 
 99.990%    9.30s 
 99.999%    9.37s 
100.000%    9.43s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.239     0.000000            1         1.00
       6.259     0.100000       109908         1.11
       7.103     0.200000       219616         1.25
       8.255     0.300000       329185         1.43
      10.039     0.400000       439123         1.67
      12.559     0.500000       548816         2.00
      14.447     0.550000       603595         2.22
      17.503     0.600000       658384         2.50
      23.887     0.650000       713185         2.86
      46.271     0.700000       768042         3.33
     110.463     0.750000       822879         4.00
     178.687     0.775000       850308         4.44
     304.383     0.800000       877736         5.00
     521.727     0.825000       905193         5.71
     735.231     0.850000       932604         6.67
    1030.655     0.875000       960047         8.00
    1201.151     0.887500       973774         8.89
    1379.327     0.900000       987490        10.00
    1641.471     0.912500      1001170        11.43
    1986.559     0.925000      1014877        13.33
    2347.007     0.937500      1028603        16.00
    2576.383     0.943750      1035488        17.78
    2918.399     0.950000      1042325        20.00
    3270.655     0.956250      1049163        22.86
    3659.775     0.962500      1056035        26.67
    4114.431     0.968750      1062887        32.00
    4399.103     0.971875      1066330        35.56
    4706.303     0.975000      1069743        40.00
    4993.023     0.978125      1073199        45.71
    5246.975     0.981250      1076636        53.33
    5525.503     0.984375      1080046        64.00
    5791.743     0.985938      1081733        71.11
    6037.503     0.987500      1083450        80.00
    6377.471     0.989062      1085173        91.43
    6688.767     0.990625      1086894       106.67
    7008.255     0.992188      1088597       128.00
    7147.519     0.992969      1089457       142.22
    7352.319     0.993750      1090311       160.00
    7565.311     0.994531      1091178       182.86
    7712.767     0.995313      1092047       213.33
    7901.183     0.996094      1092885       256.00
    8007.679     0.996484      1093304       284.44
    8134.655     0.996875      1093734       320.00
    8273.919     0.997266      1094169       365.71
    8445.951     0.997656      1094612       426.67
    8560.639     0.998047      1095021       512.00
    8634.367     0.998242      1095241       568.89
    8732.671     0.998437      1095447       640.00
    8806.399     0.998633      1095665       731.43
    8880.127     0.998828      1095899       853.33
    8937.471     0.999023      1096103      1024.00
    8970.239     0.999121      1096220      1137.78
    9003.007     0.999219      1096307      1280.00
    9043.967     0.999316      1096432      1462.86
    9068.543     0.999414      1096520      1706.67
    9101.311     0.999512      1096643      2048.00
    9117.695     0.999561      1096700      2275.56
    9125.887     0.999609      1096732      2560.00
    9150.463     0.999658      1096797      2925.71
    9175.039     0.999707      1096846      3413.33
    9215.999     0.999756      1096905      4096.00
    9232.383     0.999780      1096931      4551.11
    9248.767     0.999805      1096962      5120.00
    9256.959     0.999829      1096973      5851.43
    9273.343     0.999854      1097011      6826.67
    9289.727     0.999878      1097047      8192.00
    9289.727     0.999890      1097047      9102.22
    9297.919     0.999902      1097065     10240.00
    9306.111     0.999915      1097085     11702.86
    9306.111     0.999927      1097085     13653.33
    9322.495     0.999939      1097107     16384.00
    9322.495     0.999945      1097107     18204.44
    9322.495     0.999951      1097107     20480.00
    9330.687     0.999957      1097118     23405.71
    9338.879     0.999963      1097124     27306.67
    9347.071     0.999969      1097132     32768.00
    9347.071     0.999973      1097132     36408.89
    9355.263     0.999976      1097140     40960.00
    9355.263     0.999979      1097140     46811.43
    9355.263     0.999982      1097140     54613.33
    9363.455     0.999985      1097145     65536.00
    9363.455     0.999986      1097145     72817.78
    9371.647     0.999988      1097149     81920.00
    9371.647     0.999989      1097149     93622.86
    9379.839     0.999991      1097152    109226.67
    9379.839     0.999992      1097152    131072.00
    9388.031     0.999993      1097153    145635.56
    9396.223     0.999994      1097154    163840.00
    9404.415     0.999995      1097157    187245.71
    9404.415     0.999995      1097157    218453.33
    9404.415     0.999996      1097157    262144.00
    9404.415     0.999997      1097157    291271.11
    9404.415     0.999997      1097157    327680.00
    9412.607     0.999997      1097159    374491.43
    9412.607     0.999998      1097159    436906.67
    9412.607     0.999998      1097159    524288.00
    9412.607     0.999998      1097159    582542.22
    9412.607     0.999998      1097159    655360.00
    9412.607     0.999999      1097159    748982.86
    9412.607     0.999999      1097159    873813.33
    9412.607     0.999999      1097159   1048576.00
    9428.991     0.999999      1097160   1165084.44
    9428.991     1.000000      1097160          inf
#[Mean    =      451.674, StdDeviation   =     1218.788]
#[Max     =     9420.800, Total count    =      1097160]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1189233 requests in 2.00m, 16.06GB read
Requests/sec:   9920.38  
Transfer/sec:    137.18MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41431 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44532 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121207 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41431 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44532 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121207 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.363ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.552ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.607ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.186ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.821ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.978ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.934ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.863ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.652ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.859ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.762ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.498ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.108ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.903ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.021ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.096ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.144ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.795ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.258ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.680ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.166ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.518ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.747ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.803ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.865ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.029ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.746ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.778ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.267ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.010ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.053ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.765ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.725ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.490ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.183ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.420ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.842ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.500ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.616ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.097ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.607ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.603ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.494ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.589ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.648ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.737ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.595ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.893ms, rate sampling interval: 26ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.29ms    2.41ms  16.20ms   71.12%
    Req/Sec    20.33     28.91   120.00     91.06%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.14ms
 75.000%   10.69ms
 90.000%   12.29ms
 99.000%   16.20ms
 99.900%   21.12ms
 99.990%   25.58ms
 99.999%   28.93ms
100.000%   32.75ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.819     0.000000            1         1.00
       6.347     0.100000        10598         1.11
       7.331     0.200000        21168         1.25
       8.007     0.300000        31801         1.43
       8.591     0.400000        42363         1.67
       9.143     0.500000        52986         2.00
       9.415     0.550000        58259         2.22
       9.703     0.600000        63610         2.50
       9.999     0.650000        68892         2.86
      10.327     0.700000        74187         3.33
      10.687     0.750000        79411         4.00
      10.887     0.775000        82116         4.44
      11.103     0.800000        84706         5.00
      11.343     0.825000        87331         5.71
      11.607     0.850000        89976         6.67
      11.919     0.875000        92641         8.00
      12.095     0.887500        93980         8.89
      12.287     0.900000        95277        10.00
      12.503     0.912500        96618        11.43
      12.743     0.925000        97931        13.33
      13.023     0.937500        99229        16.00
      13.183     0.943750        99881        17.78
      13.367     0.950000       100581        20.00
      13.567     0.956250       101208        22.86
      13.815     0.962500       101877        26.67
      14.111     0.968750       102531        32.00
      14.263     0.971875       102858        35.56
      14.471     0.975000       103199        40.00
      14.679     0.978125       103523        45.71
      14.951     0.981250       103850        53.33
      15.287     0.984375       104182        64.00
      15.495     0.985938       104347        71.11
      15.735     0.987500       104512        80.00
      16.023     0.989062       104679        91.43
      16.319     0.990625       104843       106.67
      16.687     0.992188       105008       128.00
      16.911     0.992969       105090       142.22
      17.167     0.993750       105177       160.00
      17.503     0.994531       105256       182.86
      17.823     0.995313       105340       213.33
      18.175     0.996094       105421       256.00
      18.383     0.996484       105464       284.44
      18.639     0.996875       105507       320.00
      18.895     0.997266       105549       365.71
      19.199     0.997656       105586       426.67
      19.647     0.998047       105630       512.00
      19.791     0.998242       105648       568.89
      20.031     0.998437       105669       640.00
      20.479     0.998633       105692       731.43
      20.783     0.998828       105712       853.33
      21.135     0.999023       105734      1024.00
      21.215     0.999121       105742      1137.78
      21.423     0.999219       105753      1280.00
      21.551     0.999316       105762      1462.86
      21.887     0.999414       105773      1706.67
      22.271     0.999512       105783      2048.00
      22.431     0.999561       105788      2275.56
      22.655     0.999609       105793      2560.00
      23.135     0.999658       105798      2925.71
      23.407     0.999707       105803      3413.33
      23.711     0.999756       105810      4096.00
      23.839     0.999780       105811      4551.11
      24.159     0.999805       105814      5120.00
      24.447     0.999829       105816      5851.43
      24.687     0.999854       105819      6826.67
      25.487     0.999878       105822      8192.00
      25.583     0.999890       105823      9102.22
      25.599     0.999902       105824     10240.00
      25.727     0.999915       105826     11702.86
      26.927     0.999927       105827     13653.33
      26.991     0.999939       105828     16384.00
      27.007     0.999945       105829     18204.44
      27.007     0.999951       105829     20480.00
      27.423     0.999957       105830     23405.71
      28.095     0.999963       105831     27306.67
      28.095     0.999969       105831     32768.00
      28.559     0.999973       105832     36408.89
      28.559     0.999976       105832     40960.00
      28.559     0.999979       105832     46811.43
      28.927     0.999982       105833     54613.33
      28.927     0.999985       105833     65536.00
      28.927     0.999986       105833     72817.78
      28.927     0.999988       105833     81920.00
      28.927     0.999989       105833     93622.86
      32.751     0.999991       105834    109226.67
      32.751     1.000000       105834          inf
#[Mean    =        9.286, StdDeviation   =        2.412]
#[Max     =       32.736, Total count    =       105834]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115351 requests in 2.00m, 1.41GB read
Requests/sec:    961.21  
Transfer/sec:     12.06MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42108 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46800 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121099 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42108 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46800 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121099 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.658ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.496ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.494ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.498ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.528ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.813ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.741ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.432ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.580ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.856ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.739ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.606ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.313ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.516ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.581ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.799ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.680ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.690ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.418ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.236ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.614ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.368ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.782ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.419ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.818ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.615ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.820ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.800ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.437ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.614ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.805ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.729ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.354ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.636ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.525ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.535ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.511ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.582ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.312ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.324ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.690ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.511ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.585ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.599ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.378ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.650ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.481ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.594ms, rate sampling interval: 18ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.56ms    2.23ms  14.29ms   77.57%
    Req/Sec   106.69     76.43   315.00     72.10%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.04ms
 75.000%    7.45ms
 90.000%    9.41ms
 99.000%   14.29ms
 99.900%   19.25ms
 99.990%   25.73ms
 99.999%   47.71ms
100.000%   61.12ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.341     0.000000            1         1.00
       4.379     0.100000        55219         1.11
       4.855     0.200000       110392         1.25
       5.251     0.300000       164909         1.43
       5.639     0.400000       219863         1.67
       6.043     0.500000       275147         2.00
       6.263     0.550000       302429         2.22
       6.503     0.600000       329959         2.50
       6.771     0.650000       357469         2.86
       7.079     0.700000       384920         3.33
       7.447     0.750000       412253         4.00
       7.667     0.775000       426007         4.44
       7.907     0.800000       439653         5.00
       8.191     0.825000       453435         5.71
       8.527     0.850000       467444         6.67
       8.919     0.875000       481016         8.00
       9.143     0.887500       487740         8.89
       9.407     0.900000       494735        10.00
       9.695     0.912500       501592        11.43
      10.031     0.925000       508397        13.33
      10.423     0.937500       515225        16.00
      10.655     0.943750       518669        17.78
      10.903     0.950000       522146        20.00
      11.191     0.956250       525561        22.86
      11.519     0.962500       529013        26.67
      11.903     0.968750       532400        32.00
      12.127     0.971875       534160        35.56
      12.367     0.975000       535870        40.00
      12.647     0.978125       537568        45.71
      12.967     0.981250       539270        53.33
      13.351     0.984375       541010        64.00
      13.567     0.985938       541845        71.11
      13.823     0.987500       542705        80.00
      14.095     0.989062       543554        91.43
      14.415     0.990625       544419       106.67
      14.799     0.992188       545277       128.00
      15.031     0.992969       545713       142.22
      15.279     0.993750       546139       160.00
      15.575     0.994531       546571       182.86
      15.919     0.995313       546995       213.33
      16.335     0.996094       547419       256.00
      16.559     0.996484       547638       284.44
      16.799     0.996875       547860       320.00
      17.087     0.997266       548063       365.71
      17.407     0.997656       548276       426.67
      17.759     0.998047       548491       512.00
      17.967     0.998242       548606       568.89
      18.239     0.998437       548711       640.00
      18.559     0.998633       548817       731.43
      18.927     0.998828       548924       853.33
      19.343     0.999023       549032      1024.00
      19.647     0.999121       549081      1137.78
      20.015     0.999219       549136      1280.00
      20.351     0.999316       549189      1462.86
      20.703     0.999414       549243      1706.67
      21.087     0.999512       549297      2048.00
      21.343     0.999561       549324      2275.56
      21.663     0.999609       549350      2560.00
      21.999     0.999658       549377      2925.71
      22.543     0.999707       549404      3413.33
      22.879     0.999756       549432      4096.00
      23.167     0.999780       549444      4551.11
      23.487     0.999805       549457      5120.00
      23.807     0.999829       549472      5851.43
      24.159     0.999854       549484      6826.67
      24.783     0.999878       549497      8192.00
      25.423     0.999890       549505      9102.22
      25.871     0.999902       549511     10240.00
      26.655     0.999915       549518     11702.86
      26.879     0.999927       549524     13653.33
      27.567     0.999939       549531     16384.00
      27.903     0.999945       549534     18204.44
      28.383     0.999951       549538     20480.00
      28.943     0.999957       549541     23405.71
      30.607     0.999963       549544     27306.67
      31.887     0.999969       549548     32768.00
      31.935     0.999973       549549     36408.89
      32.623     0.999976       549551     40960.00
      33.535     0.999979       549553     46811.43
      35.615     0.999982       549554     54613.33
      42.271     0.999985       549556     65536.00
      47.487     0.999986       549557     72817.78
      47.583     0.999988       549558     81920.00
      47.711     0.999989       549559     93622.86
      47.711     0.999991       549559    109226.67
      47.743     0.999992       549560    131072.00
      48.223     0.999993       549561    145635.56
      48.223     0.999994       549561    163840.00
      49.151     0.999995       549562    187245.71
      49.151     0.999995       549562    218453.33
      49.151     0.999996       549562    262144.00
      50.719     0.999997       549563    291271.11
      50.719     0.999997       549563    327680.00
      50.719     0.999997       549563    374491.43
      50.719     0.999998       549563    436906.67
      50.719     0.999998       549563    524288.00
      61.119     0.999998       549564    582542.22
      61.119     1.000000       549564          inf
#[Mean    =        6.558, StdDeviation   =        2.226]
#[Max     =       61.088, Total count    =       549564]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599308 requests in 2.00m, 7.32GB read
Requests/sec:   4996.31  
Transfer/sec:     62.49MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41645 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45727 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120713 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 41645 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45727 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120713 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 738.974ms, rate sampling interval: 3710ms
  Thread calibration: mean lat.: 762.986ms, rate sampling interval: 5509ms
  Thread calibration: mean lat.: 1174.230ms, rate sampling interval: 6455ms
  Thread calibration: mean lat.: 1046.469ms, rate sampling interval: 6242ms
  Thread calibration: mean lat.: 1115.504ms, rate sampling interval: 6602ms
  Thread calibration: mean lat.: 930.936ms, rate sampling interval: 4317ms
  Thread calibration: mean lat.: 839.445ms, rate sampling interval: 5771ms
  Thread calibration: mean lat.: 819.928ms, rate sampling interval: 4812ms
  Thread calibration: mean lat.: 1243.114ms, rate sampling interval: 5652ms
  Thread calibration: mean lat.: 786.948ms, rate sampling interval: 5672ms
  Thread calibration: mean lat.: 929.726ms, rate sampling interval: 4440ms
  Thread calibration: mean lat.: 805.889ms, rate sampling interval: 4952ms
  Thread calibration: mean lat.: 943.748ms, rate sampling interval: 3977ms
  Thread calibration: mean lat.: 424.459ms, rate sampling interval: 2199ms
  Thread calibration: mean lat.: 790.255ms, rate sampling interval: 4730ms
  Thread calibration: mean lat.: 1477.322ms, rate sampling interval: 8114ms
  Thread calibration: mean lat.: 834.628ms, rate sampling interval: 5017ms
  Thread calibration: mean lat.: 1014.893ms, rate sampling interval: 4636ms
  Thread calibration: mean lat.: 1151.808ms, rate sampling interval: 5652ms
  Thread calibration: mean lat.: 608.196ms, rate sampling interval: 3987ms
  Thread calibration: mean lat.: 1508.855ms, rate sampling interval: 7278ms
  Thread calibration: mean lat.: 560.669ms, rate sampling interval: 2357ms
  Thread calibration: mean lat.: 1169.373ms, rate sampling interval: 7774ms
  Thread calibration: mean lat.: 804.909ms, rate sampling interval: 3680ms
  Thread calibration: mean lat.: 608.177ms, rate sampling interval: 3045ms
  Thread calibration: mean lat.: 1349.394ms, rate sampling interval: 7159ms
  Thread calibration: mean lat.: 1204.724ms, rate sampling interval: 6053ms
  Thread calibration: mean lat.: 422.212ms, rate sampling interval: 2121ms
  Thread calibration: mean lat.: 1134.392ms, rate sampling interval: 4911ms
  Thread calibration: mean lat.: 412.293ms, rate sampling interval: 2719ms
  Thread calibration: mean lat.: 684.052ms, rate sampling interval: 3207ms
  Thread calibration: mean lat.: 1008.023ms, rate sampling interval: 5931ms
  Thread calibration: mean lat.: 768.435ms, rate sampling interval: 5971ms
  Thread calibration: mean lat.: 652.195ms, rate sampling interval: 3708ms
  Thread calibration: mean lat.: 1900.176ms, rate sampling interval: 8896ms
  Thread calibration: mean lat.: 866.676ms, rate sampling interval: 4886ms
  Thread calibration: mean lat.: 1550.089ms, rate sampling interval: 6520ms
  Thread calibration: mean lat.: 1058.168ms, rate sampling interval: 4308ms
  Thread calibration: mean lat.: 1492.999ms, rate sampling interval: 7974ms
  Thread calibration: mean lat.: 435.018ms, rate sampling interval: 2447ms
  Thread calibration: mean lat.: 1282.632ms, rate sampling interval: 6041ms
  Thread calibration: mean lat.: 1181.495ms, rate sampling interval: 4624ms
  Thread calibration: mean lat.: 1173.758ms, rate sampling interval: 5730ms
  Thread calibration: mean lat.: 1147.223ms, rate sampling interval: 4386ms
  Thread calibration: mean lat.: 430.155ms, rate sampling interval: 1815ms
  Thread calibration: mean lat.: 1063.328ms, rate sampling interval: 5455ms
  Thread calibration: mean lat.: 731.828ms, rate sampling interval: 3829ms
  Thread calibration: mean lat.: 859.594ms, rate sampling interval: 3721ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    15.12s    14.52s    1.03m    73.42%
    Req/Sec   155.88     22.89   200.00     65.38%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.21s 
 75.000%   22.15s 
 90.000%   35.78s 
 99.000%    1.03m 
 99.900%    1.21m 
 99.990%    1.26m 
 99.999%    1.28m 
100.000%    1.28m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       5.783     0.000000            1         1.00
     364.543     0.100000        78453         1.11
    2312.191     0.200000       156892         1.25
    5255.167     0.300000       235418         1.43
    8204.287     0.400000       313800         1.67
   11206.655     0.500000       392203         2.00
   12845.055     0.550000       431489         2.22
   14655.487     0.600000       470676         2.50
   16793.599     0.650000       509874         2.86
   19300.351     0.700000       549111         3.33
   22151.167     0.750000       588440         4.00
   23658.495     0.775000       607918         4.44
   25280.511     0.800000       627565         5.00
   27082.751     0.825000       647145         5.71
   29245.439     0.850000       666751         6.67
   31916.031     0.875000       686354         8.00
   33652.735     0.887500       696175         8.89
   35782.655     0.900000       706082        10.00
   37945.343     0.912500       715888        11.43
   40370.175     0.925000       725594        13.33
   43188.223     0.937500       735450        16.00
   44728.319     0.943750       740294        17.78
   46432.255     0.950000       745216        20.00
   48005.119     0.956250       750128        22.86
   49643.519     0.962500       755011        26.67
   51675.135     0.968750       759884        32.00
   52822.015     0.971875       762385        35.56
   53968.895     0.975000       764822        40.00
   55115.775     0.978125       767285        45.71
   56295.423     0.981250       769699        53.33
   57933.823     0.984375       772133        64.00
   58916.863     0.985938       773355        71.11
   60030.975     0.987500       774574        80.00
   61210.623     0.989062       775813        91.43
   62521.343     0.990625       777033       106.67
   64061.439     0.992188       778268       128.00
   64913.407     0.992969       778868       142.22
   65929.215     0.993750       779495       160.00
   66879.487     0.994531       780109       182.86
   67698.687     0.995313       780715       213.33
   68681.727     0.996094       781322       256.00
   69074.943     0.996484       781632       284.44
   69468.159     0.996875       781931       320.00
   69992.447     0.997266       782263       365.71
   70451.199     0.997656       782561       426.67
   71106.559     0.998047       782868       512.00
   71434.239     0.998242       783033       568.89
   71696.383     0.998437       783155       640.00
   72024.063     0.998633       783327       731.43
   72417.279     0.998828       783472       853.33
   72876.031     0.999023       783623      1024.00
   73072.639     0.999121       783689      1137.78
   73334.783     0.999219       783765      1280.00
   73596.927     0.999316       783845      1462.86
   73859.071     0.999414       783918      1706.67
   74252.287     0.999512       784006      2048.00
   74448.895     0.999561       784043      2275.56
   74579.967     0.999609       784072      2560.00
   74842.111     0.999658       784117      2925.71
   74973.183     0.999707       784163      3413.33
   75104.255     0.999756       784187      4096.00
   75235.327     0.999780       784210      4551.11
   75366.399     0.999805       784228      5120.00
   75497.471     0.999829       784250      5851.43
   75563.007     0.999854       784265      6826.67
   75694.079     0.999878       784283      8192.00
   75759.615     0.999890       784297      9102.22
   75825.151     0.999902       784303     10240.00
   75956.223     0.999915       784313     11702.86
   76021.759     0.999927       784321     13653.33
   76087.295     0.999939       784330     16384.00
   76218.367     0.999945       784337     18204.44
   76283.903     0.999951       784341     20480.00
   76349.439     0.999957       784350     23405.71
   76349.439     0.999963       784350     27306.67
   76414.975     0.999969       784356     32768.00
   76414.975     0.999973       784356     36408.89
   76480.511     0.999976       784359     40960.00
   76611.583     0.999979       784362     46811.43
   76677.119     0.999982       784367     54613.33
   76677.119     0.999985       784367     65536.00
   76677.119     0.999986       784367     72817.78
   76742.655     0.999988       784374     81920.00
   76742.655     0.999989       784374     93622.86
   76742.655     0.999991       784374    109226.67
   76742.655     0.999992       784374    131072.00
   76742.655     0.999993       784374    145635.56
   76742.655     0.999994       784374    163840.00
   76742.655     0.999995       784374    187245.71
   76742.655     0.999995       784374    218453.33
   76808.191     0.999996       784377    262144.00
   76808.191     1.000000       784377          inf
#[Mean    =    15123.663, StdDeviation   =    14515.527]
#[Max     =    76742.656, Total count    =       784377]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  857949 requests in 2.00m, 10.48GB read
Requests/sec:   7155.15  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40727 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43037 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120175 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 40727 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 43037 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 120175 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
06f03ff6ac3fed92e6c57537e05d31be374ec83ff0583c10612a862d66ef5535
42b2e9f382b7c3ae470d98acaedd92616a1f7afee59cfffdc56bce549de9990d
ff2c633eec3bd319e990e9a8d3159a73b2faf386a5a9c443a91e1636a5b615e7
6e2a522800c91422835974ef409ef447c293c9a8b1cd4617da7c625c5a141f8d
d7279bc7afef00d7f74d5b00f71d14a7dbe19e003cb34855bc69946e963078a2
ff16412a6f89c7386a42d63c680157f081c91d1b27b62234c730d2755300b426
f55991b68ddbf0d79987a47e8fcc5da3f9cb595135bb1b39de4acbd7f06d6513
01eaf4c7ceccec1444cd5ec8b3c47c8880eff0f951eb9452762beb644cd4b793
f66ba10bf09e62b112182e9949d95244f6034647a7b0391e82c1213b4ec39dd0
f1ac4512894958197e08b1853f34333425fb9a0e30d33f64a7faa691794b4296
4965e4b60ad931a6a73bc4b534194845b5f75d682325d83a9d2d35bcda4bef01
4600df747105d32146582ee5484b037fb831a746e5fefb8a01f93e0c316ca29d
69457865b4a0d8a5a55d670fc28f707fac5cb21cfaac1a1136c17aa6cb58b45f
6313734e1d3260147e5a6951be199f173bbc3ac9f384fc287caad6272fd727c9
1b58ae2dcbe465ac61779627efe100516c70232ea1d6cc00eeac29b54d449e9c
f27d7fa07f22eae86274ffe256f912d01f21163d7981c383783f907c2d50ebdf
cbf0876fca55a74b5a47fe5c2d9a23e12c54586dbdc124a1a50f1e55c867ca01
dc719377f00bc46a6cda656971dd19730ab958900f56016b5e7459a98810825a
a9352b65a8d774d5e68bba81d50f21e491378733c2392cf45846421ad090e272
a12c445556f5479fdbcb8be5db27782349b044f379da416a155899e25a959587
4445bc621fa272c7cc05f2c5624acbc0a2be5f31d57b6f075edc574b1fc9457b
41c42de5708bd99534f50a92205c0af6925e8f9b6d964c6665b00dfa8610c30f
5534d673a4dc7d45fbe92dbf8d02f0675d023e702f6003d303b031bc95af730b
a288243fc0bdbd47be7a9499e18e4362207a462aa48a16f97270e7872e70d788
3d6ef663286535c14fcc931457aa30be0d90d7b306cd9df7254c334579e80b59
33dbb17ff6ce4b00e6674b2a3d87986c28f6c62ec65f918b7289abe8a7d9c83a
31f97a2a3361eb6ef612511c74741c63a614a0d7e82488db94aacb248ff3497d
bbd8c54dc9dc9fd28a2df9595455a15c70b47a511fff8ca786d9052dc5f8d0eb
7941868a77cea8b718e5e6ed064dde0750ddf6bf7c3fcc19ae989aee295339d2
8ddaf2df4de10e3a03508568c33d7149bfe94859245f1bb5666e00f764368281
1683efea7a150f093f635eb77ef810091cf3855778ceb0a69ad6a11d2434f08c

Total reclaimed space: 4.591GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 0 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 16-50-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-0.log -b True -m m -M 0
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 16-50-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-0.log', 'mode': 'm', 'memnode': '0'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-0
CMD: docker exec -u root -it socialnetwork_user-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-0



CMD: docker commit socialnetwork_user-timeline-service_1 social-network-microservices-numa-membind-0

Result: sha256:cf232228e1dd3510c6517d828f25854754666092df791b5a0f2997058d41717e


Install numactl tools on docker image: openresty-thrift-numa-membind-0
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-0



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-0

Result: sha256:d7b2506212519cb6ced3ae6bb9f5971002c506df0287d420cf6d181fdc0fb2f0


Install numactl tools on docker image: media-frontend-numa-membind-0
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-0



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-0

Result: sha256:87700a46065ba50dbfb7659f194162557faf613574ed268faaf0d6ee0f15d228


Install numactl tools on docker image: mongo-numa-membind-0
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 11 23:51 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=0'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-0



CMD: docker commit socialnetwork_user-mongodb_1 mongo-numa-membind-0

Result: sha256:68604958a9d232193d08342f095abf3196e1d6d6c3c9e7b1bfc8e08270d6be1d


Install numactl tools on docker image: redis-numa-membind-0
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_home-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_home-timeline-redis_4:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 11 23:51 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_4 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-0



CMD: docker commit socialnetwork_home-timeline-redis_4 redis-numa-membind-0

Result: sha256:3300ef59ecbe1211f8b675e46b803486f5281d954b73a6a90f19aaa055b1a54a


Install numactl tools on docker image: memcached-numa-membind-0
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 11 23:51 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=0 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-0



CMD: docker commit socialnetwork_url-shorten-memcached_1 memcached-numa-membind-0

Result: sha256:63abf3e3fca4c5bbfd85e2a7eefeb911a81c762dc636b6e5f4d57906a447ee40


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
63b95c12ab42c8a637b0f2e0b5dbc7c41f4e602e502ed7701e517b3c6f238af5
753662f268953bff32e824ce860bae1bfabd3c180b929a1a02a229d75909e355
6083ea283904a7c05f55d938519c9be5d035e2ad4e6d92bb58145bb122256bcd
d6f97fabaa2a0df775f08865f5c54ef88b073c930d7c87d6d27a2c3469bb1d21
5af56dfe43a7f852fe582de3af173e987180982ff7cf3e5e1439e466b79af841
9565f17454701fd63b45bff93069f31d80cbe2371f3a89416d482b8bd3f42e30
9590b942d55ce782b68123caf750edc95a27f717eb3f62f346e3c74f0bee5c3d
663e6d721df8b6beaffcdbf5e7812df30b45a70f8217b8ebefeb3b026882a4ee
8e1471b96da778c8f1b469cf3bb82ed10c6d3e55fbecf9bd04f36329766c3ceb
b6a1151d174fb85f52cdd7becd3ef010399034056bf18fc58ca825c5c6a86b49
5ca6a936904995fddfffd6281ad112232fa2c93a4500247553adb51e6412e6ea
790e844fe9f43243788a84c1175e7adb94e2e7160fb153166e2c7b35a2e9114a
45ad4290c93374179225c269249334eda2ca804f49927967193bdc815375666f
c5e4eac05533763279b4adf538e34218b000bfbe22c4a09c06b82937410a868f
d68aaa951966ecba8cabf7847aa61053550ba20507428a3cf82bda0239c18f65
97eede71a9e5c209857997f3d7cf8174bb7e8195037a6b0695663cb6a4bba0e5
25140b28bafa18999affe7e354037b433569023e247f5d91354e021905e47f09
b74cc3eaeaa57cd502819b56f66c1b1a0733753d24842572621b2f4bdd444a02
e12d3a49699829c1625f21cca32a2570258fb0f2dcb5a5c9f33d35f57741fab9
76825b0e16c10ecf406fa49913b330f266144cf2b84d2c5f565340355cd86bb9
7e2011288f57f8b99cab73f65ea9f88ed42d8a8d121260b241d6d925b55b3fb2
2aaf8ee25b191193b97a8366bd89b5703cf1f508672d4b0318053f2179c0885a
c4717814e7ccb511d75e4b44af04b25b698524135b7f182c11627b2f3a23a048
a522af2c89a1ef4856672c8daa5661e23344e21c9b0223765244a32e47f21b89
cfd88efd4ea4c7f00518418cf64e43f514671566afc62063b773a84593d4e081
e1c3b4132e031b0c7c55ca550da6f7c46231b9b3fb56963545a88ad52e7174ff
db87b976a0854eaf0b876bebd17fcb92e6dd8ce6f5ddfdbe98961d84c838675a
021235dd481924642943dbe1987058ff554fc3b4ada2fe7d40dd6423801f9961
63e4d542585d97767b21cca780bd469be3d77b61fc17e78059386f68b6e4163e
0ed576f6ab042d828a62923fccc694f34f1977351a0953b44cf291f66dd008de
6f61f842ada2240957ef2d4e537050f76c3063b27e612a9de537ccd4eccd29e3

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-0.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53926 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58322 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53926 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58322 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:417
cluster_stats_messages_pong_sent:422
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:840
cluster_stats_messages_ping_received:422
cluster_stats_messages_pong_received:418
cluster_stats_messages_received:840
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:426
cluster_stats_messages_pong_sent:435
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:862
cluster_stats_messages_ping_received:435
cluster_stats_messages_pong_received:427
cluster_stats_messages_received:862
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:1
cluster_stats_messages_ping_sent:418
cluster_stats_messages_pong_sent:433
cluster_stats_messages_sent:851
cluster_stats_messages_ping_received:429
cluster_stats_messages_pong_received:418
cluster_stats_messages_meet_received:4
cluster_stats_messages_received:851
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.228ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.488ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.775ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.583ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.043ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.042ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.159ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.863ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.631ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.974ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.939ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.841ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.701ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.187ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.787ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.772ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.971ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.185ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.975ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.063ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.940ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.040ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.067ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.076ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.811ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.881ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.495ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.463ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.400ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.623ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.850ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.926ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.733ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.920ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.572ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.087ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.827ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.753ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.672ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.065ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.952ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.018ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.573ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.504ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.845ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.747ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.175ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.597ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.03ms    1.17ms   8.72ms   82.54%
    Req/Sec    20.69     40.47   166.00     76.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.86ms
 75.000%    5.48ms
 90.000%    6.20ms
 99.000%    8.72ms
 99.900%   16.01ms
 99.990%   29.39ms
 99.999%   34.33ms
100.000%   34.94ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.409     0.000000            1         1.00
       3.951     0.100000        10652         1.11
       4.235     0.200000        21261         1.25
       4.455     0.300000        31882         1.43
       4.655     0.400000        42333         1.67
       4.859     0.500000        52983         2.00
       4.963     0.550000        58211         2.22
       5.075     0.600000        63589         2.50
       5.195     0.650000        68806         2.86
       5.331     0.700000        74080         3.33
       5.483     0.750000        79413         4.00
       5.567     0.775000        82047         4.44
       5.659     0.800000        84709         5.00
       5.763     0.825000        87352         5.71
       5.883     0.850000        89998         6.67
       6.023     0.875000        92601         8.00
       6.111     0.887500        93953         8.89
       6.203     0.900000        95243        10.00
       6.315     0.912500        96571        11.43
       6.439     0.925000        97897        13.33
       6.587     0.937500        99203        16.00
       6.675     0.943750        99875        17.78
       6.779     0.950000       100527        20.00
       6.903     0.956250       101195        22.86
       7.047     0.962500       101853        26.67
       7.235     0.968750       102511        32.00
       7.355     0.971875       102846        35.56
       7.491     0.975000       103170        40.00
       7.643     0.978125       103498        45.71
       7.839     0.981250       103830        53.33
       8.055     0.984375       104160        64.00
       8.199     0.985938       104329        71.11
       8.375     0.987500       104497        80.00
       8.583     0.989062       104656        91.43
       8.815     0.990625       104828       106.67
       9.071     0.992188       104992       128.00
       9.239     0.992969       105072       142.22
       9.463     0.993750       105151       160.00
       9.703     0.994531       105235       182.86
      10.015     0.995313       105318       213.33
      10.407     0.996094       105400       256.00
      10.647     0.996484       105441       284.44
      10.975     0.996875       105482       320.00
      11.719     0.997266       105525       365.71
      12.319     0.997656       105565       426.67
      13.551     0.998047       105606       512.00
      14.231     0.998242       105627       568.89
      14.639     0.998437       105647       640.00
      15.103     0.998633       105668       731.43
      15.511     0.998828       105689       853.33
      16.135     0.999023       105709      1024.00
      16.479     0.999121       105720      1137.78
      16.831     0.999219       105730      1280.00
      17.167     0.999316       105740      1462.86
      18.111     0.999414       105751      1706.67
      19.823     0.999512       105761      2048.00
      20.671     0.999561       105766      2275.56
      21.407     0.999609       105771      2560.00
      22.239     0.999658       105776      2925.71
      24.031     0.999707       105783      3413.33
      24.895     0.999756       105787      4096.00
      26.127     0.999780       105789      4551.11
      26.831     0.999805       105792      5120.00
      27.311     0.999829       105794      5851.43
      28.271     0.999854       105797      6826.67
      29.327     0.999878       105800      8192.00
      29.391     0.999890       105801      9102.22
      29.535     0.999902       105802     10240.00
      29.743     0.999915       105803     11702.86
      30.607     0.999927       105805     13653.33
      30.783     0.999939       105806     16384.00
      32.479     0.999945       105807     18204.44
      32.479     0.999951       105807     20480.00
      32.895     0.999957       105808     23405.71
      32.959     0.999963       105809     27306.67
      32.959     0.999969       105809     32768.00
      33.087     0.999973       105810     36408.89
      33.087     0.999976       105810     40960.00
      33.087     0.999979       105810     46811.43
      34.335     0.999982       105811     54613.33
      34.335     0.999985       105811     65536.00
      34.335     0.999986       105811     72817.78
      34.335     0.999988       105811     81920.00
      34.335     0.999989       105811     93622.86
      34.943     0.999991       105812    109226.67
      34.943     1.000000       105812          inf
#[Mean    =        5.033, StdDeviation   =        1.174]
#[Max     =       34.912, Total count    =       105812]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115361 requests in 2.00m, 23.65MB read
Requests/sec:    961.33  
Transfer/sec:    201.84KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51758 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57381 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51758 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57381 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.290ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.210ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.200ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.162ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.271ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.492ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.353ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.167ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.390ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.501ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.399ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.503ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.292ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.199ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.309ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.344ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.312ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.424ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.204ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.369ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.159ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.292ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.224ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.645ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.543ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.196ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.205ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.687ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.128ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.455ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.506ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.247ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.399ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.366ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.308ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.196ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.301ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.186ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.493ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.456ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.256ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.386ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.315ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.263ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.342ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.203ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.210ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.323ms, rate sampling interval: 11ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.08ms    8.68ms  29.50ms   98.56%
    Req/Sec   108.86    100.67   400.00     57.25%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    3.91ms
 75.000%    4.63ms
 90.000%    5.99ms
 99.000%   29.50ms
 99.900%  138.24ms
 99.990%  203.39ms
 99.999%  270.59ms
100.000%  293.89ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.193     0.000000            1         1.00
       3.189     0.100000        55310         1.11
       3.393     0.200000       110174         1.25
       3.563     0.300000       165170         1.43
       3.731     0.400000       219871         1.67
       3.915     0.500000       274859         2.00
       4.019     0.550000       302390         2.22
       4.135     0.600000       329727         2.50
       4.275     0.650000       357341         2.86
       4.431     0.700000       384690         3.33
       4.631     0.750000       412413         4.00
       4.751     0.775000       425854         4.44
       4.895     0.800000       439628         5.00
       5.075     0.825000       453454         5.71
       5.303     0.850000       467226         6.67
       5.595     0.875000       480913         8.00
       5.775     0.887500       487658         8.89
       5.995     0.900000       494514        10.00
       6.255     0.912500       501406        11.43
       6.559     0.925000       508317        13.33
       6.923     0.937500       515189        16.00
       7.131     0.943750       518584        17.78
       7.371     0.950000       522029        20.00
       7.659     0.956250       525434        22.86
       8.011     0.962500       528868        26.67
       8.495     0.968750       532306        32.00
       8.815     0.971875       534019        35.56
       9.215     0.975000       535741        40.00
       9.799     0.978125       537440        45.71
      10.759     0.981250       539160        53.33
      12.471     0.984375       540878        64.00
      14.223     0.985938       541730        71.11
      17.999     0.987500       542587        80.00
      24.415     0.989062       543450        91.43
      33.215     0.990625       544303       106.67
      44.767     0.992188       545165       128.00
      51.391     0.992969       545592       142.22
      58.015     0.993750       546022       160.00
      64.927     0.994531       546453       182.86
      71.807     0.995313       546883       213.33
      80.575     0.996094       547309       256.00
      85.247     0.996484       547523       284.44
      90.111     0.996875       547740       320.00
      96.703     0.997266       547953       365.71
     103.039     0.997656       548167       426.67
     111.167     0.998047       548381       512.00
     116.415     0.998242       548490       568.89
     121.535     0.998437       548596       640.00
     127.423     0.998633       548703       731.43
     133.375     0.998828       548811       853.33
     139.263     0.999023       548919      1024.00
     142.847     0.999121       548972      1137.78
     146.303     0.999219       549026      1280.00
     151.679     0.999316       549079      1462.86
     156.287     0.999414       549135      1706.67
     161.535     0.999512       549186      2048.00
     165.631     0.999561       549213      2275.56
     168.447     0.999609       549240      2560.00
     171.135     0.999658       549267      2925.71
     175.359     0.999707       549294      3413.33
     181.503     0.999756       549320      4096.00
     183.807     0.999780       549335      4551.11
     185.727     0.999805       549347      5120.00
     188.927     0.999829       549361      5851.43
     192.895     0.999854       549374      6826.67
     197.375     0.999878       549387      8192.00
     202.239     0.999890       549394      9102.22
     204.159     0.999902       549401     10240.00
     211.583     0.999915       549408     11702.86
     218.367     0.999927       549414     13653.33
     223.487     0.999939       549421     16384.00
     227.967     0.999945       549424     18204.44
     230.911     0.999951       549428     20480.00
     236.927     0.999957       549431     23405.71
     240.127     0.999963       549434     27306.67
     246.271     0.999969       549438     32768.00
     246.527     0.999973       549439     36408.89
     249.343     0.999976       549441     40960.00
     256.255     0.999979       549443     46811.43
     256.383     0.999982       549444     54613.33
     259.967     0.999985       549446     65536.00
     263.423     0.999986       549447     72817.78
     269.567     0.999988       549448     81920.00
     270.591     0.999989       549449     93622.86
     270.591     0.999991       549449    109226.67
     276.479     0.999992       549450    131072.00
     276.735     0.999993       549451    145635.56
     276.735     0.999994       549451    163840.00
     289.279     0.999995       549452    187245.71
     289.279     0.999995       549452    218453.33
     289.279     0.999996       549452    262144.00
     291.583     0.999997       549453    291271.11
     291.583     0.999997       549453    327680.00
     291.583     0.999997       549453    374491.43
     291.583     0.999998       549453    436906.67
     291.583     0.999998       549453    524288.00
     293.887     0.999998       549454    582542.22
     293.887     1.000000       549454          inf
#[Mean    =        5.080, StdDeviation   =        8.681]
#[Max     =      293.632, Total count    =       549454]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599215 requests in 2.00m, 122.86MB read
Requests/sec:   4996.46  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43679 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54302 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43679 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54302 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1744.491ms, rate sampling interval: 6438ms
  Thread calibration: mean lat.: 1555.054ms, rate sampling interval: 6008ms
  Thread calibration: mean lat.: 1653.170ms, rate sampling interval: 6131ms
  Thread calibration: mean lat.: 1668.995ms, rate sampling interval: 6127ms
  Thread calibration: mean lat.: 1819.594ms, rate sampling interval: 6647ms
  Thread calibration: mean lat.: 1606.013ms, rate sampling interval: 6369ms
  Thread calibration: mean lat.: 1772.475ms, rate sampling interval: 6266ms
  Thread calibration: mean lat.: 1565.450ms, rate sampling interval: 6053ms
  Thread calibration: mean lat.: 1527.138ms, rate sampling interval: 5767ms
  Thread calibration: mean lat.: 1582.219ms, rate sampling interval: 6021ms
  Thread calibration: mean lat.: 1830.659ms, rate sampling interval: 6414ms
  Thread calibration: mean lat.: 1607.456ms, rate sampling interval: 5890ms
  Thread calibration: mean lat.: 1754.859ms, rate sampling interval: 6262ms
  Thread calibration: mean lat.: 1774.427ms, rate sampling interval: 6549ms
  Thread calibration: mean lat.: 1604.482ms, rate sampling interval: 5840ms
  Thread calibration: mean lat.: 1552.218ms, rate sampling interval: 5664ms
  Thread calibration: mean lat.: 1932.549ms, rate sampling interval: 6680ms
  Thread calibration: mean lat.: 1967.851ms, rate sampling interval: 6725ms
  Thread calibration: mean lat.: 1669.446ms, rate sampling interval: 6090ms
  Thread calibration: mean lat.: 1833.839ms, rate sampling interval: 6598ms
  Thread calibration: mean lat.: 1580.911ms, rate sampling interval: 5767ms
  Thread calibration: mean lat.: 1500.865ms, rate sampling interval: 5636ms
  Thread calibration: mean lat.: 1508.602ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 1724.961ms, rate sampling interval: 6422ms
  Thread calibration: mean lat.: 1709.928ms, rate sampling interval: 5881ms
  Thread calibration: mean lat.: 1496.002ms, rate sampling interval: 5808ms
  Thread calibration: mean lat.: 1817.005ms, rate sampling interval: 6447ms
  Thread calibration: mean lat.: 1747.275ms, rate sampling interval: 6238ms
  Thread calibration: mean lat.: 1592.213ms, rate sampling interval: 5881ms
  Thread calibration: mean lat.: 1700.160ms, rate sampling interval: 6307ms
  Thread calibration: mean lat.: 1731.896ms, rate sampling interval: 6246ms
  Thread calibration: mean lat.: 1564.148ms, rate sampling interval: 5914ms
  Thread calibration: mean lat.: 1737.926ms, rate sampling interval: 6156ms
  Thread calibration: mean lat.: 1753.854ms, rate sampling interval: 6344ms
  Thread calibration: mean lat.: 1701.762ms, rate sampling interval: 6316ms
  Thread calibration: mean lat.: 1707.499ms, rate sampling interval: 6438ms
  Thread calibration: mean lat.: 1781.241ms, rate sampling interval: 6074ms
  Thread calibration: mean lat.: 1612.919ms, rate sampling interval: 5918ms
  Thread calibration: mean lat.: 1778.603ms, rate sampling interval: 6557ms
  Thread calibration: mean lat.: 1890.705ms, rate sampling interval: 6696ms
  Thread calibration: mean lat.: 1643.418ms, rate sampling interval: 6086ms
  Thread calibration: mean lat.: 1759.098ms, rate sampling interval: 6176ms
  Thread calibration: mean lat.: 1768.909ms, rate sampling interval: 6234ms
  Thread calibration: mean lat.: 1904.025ms, rate sampling interval: 6799ms
  Thread calibration: mean lat.: 1864.111ms, rate sampling interval: 6651ms
  Thread calibration: mean lat.: 1724.852ms, rate sampling interval: 6189ms
  Thread calibration: mean lat.: 1855.501ms, rate sampling interval: 6717ms
  Thread calibration: mean lat.: 1892.216ms, rate sampling interval: 6586ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    22.46s    10.92s   41.62s    58.48%
    Req/Sec   135.99      2.85   141.00     81.02%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   22.59s 
 75.000%   31.80s 
 90.000%   37.58s 
 99.000%   41.62s 
 99.900%   43.22s 
 99.990%   44.66s 
 99.999%   45.09s 
100.000%   45.15s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2428.927     0.000000            1         1.00
    7331.839     0.100000        72079         1.11
   11239.423     0.200000       144207         1.25
   14909.439     0.300000       216180         1.43
   18644.991     0.400000       288322         1.67
   22593.535     0.500000       360424         2.00
   24461.311     0.550000       396421         2.22
   26263.551     0.600000       432425         2.50
   28114.943     0.650000       468458         2.86
   29933.567     0.700000       504508         3.33
   31801.343     0.750000       540447         4.00
   32718.847     0.775000       558567         4.44
   33652.735     0.800000       576771         5.00
   34603.007     0.825000       594624         5.71
   35586.047     0.850000       612779         6.67
   36601.855     0.875000       630707         8.00
   37093.375     0.887500       639415         8.89
   37584.895     0.900000       648533        10.00
   38043.647     0.912500       657363        11.43
   38535.167     0.925000       666780        13.33
   38993.919     0.937500       675616        16.00
   39223.295     0.943750       679860        17.78
   39485.439     0.950000       684428        20.00
   39747.583     0.956250       688965        22.86
   40042.495     0.962500       693807        26.67
   40304.639     0.968750       698046        32.00
   40468.479     0.971875       700292        35.56
   40632.319     0.975000       702638        40.00
   40796.159     0.978125       704681        45.71
   40992.767     0.981250       707248        53.33
   41189.375     0.984375       709367        64.00
   41287.679     0.985938       710326        71.11
   41418.751     0.987500       711479        80.00
   41549.823     0.989062       712705        91.43
   41680.895     0.990625       713640       106.67
   41877.503     0.992188       714906       128.00
   41943.039     0.992969       715347       142.22
   42041.343     0.993750       715857       160.00
   42172.415     0.994531       716531       182.86
   42270.719     0.995313       716988       213.33
   42467.327     0.996094       717624       256.00
   42532.863     0.996484       717878       284.44
   42598.399     0.996875       718087       320.00
   42696.703     0.997266       718422       365.71
   42762.239     0.997656       718646       426.67
   42860.543     0.998047       718964       512.00
   42926.079     0.998242       719113       568.89
   42991.615     0.998437       719239       640.00
   43057.151     0.998633       719353       731.43
   43155.455     0.998828       719538       853.33
   43253.759     0.999023       719666      1024.00
   43286.527     0.999121       719710      1137.78
   43352.063     0.999219       719782      1280.00
   43417.599     0.999316       719860      1462.86
   43483.135     0.999414       719919      1706.67
   43581.439     0.999512       720004      2048.00
   43614.207     0.999561       720020      2275.56
   43679.743     0.999609       720059      2560.00
   43745.279     0.999658       720088      2925.71
   43909.119     0.999707       720124      3413.33
   44138.495     0.999756       720160      4096.00
   44236.799     0.999780       720179      4551.11
   44302.335     0.999805       720194      5120.00
   44400.639     0.999829       720211      5851.43
   44498.943     0.999854       720233      6826.67
   44597.247     0.999878       720251      8192.00
   44630.015     0.999890       720259      9102.22
   44695.551     0.999902       720270     10240.00
   44728.319     0.999915       720281     11702.86
   44728.319     0.999927       720281     13653.33
   44761.087     0.999939       720293     16384.00
   44793.855     0.999945       720299     18204.44
   44793.855     0.999951       720299     20480.00
   44859.391     0.999957       720312     23405.71
   44859.391     0.999963       720312     27306.67
   44859.391     0.999969       720312     32768.00
   44892.159     0.999973       720315     36408.89
   44924.927     0.999976       720318     40960.00
   44924.927     0.999979       720318     46811.43
   44957.695     0.999982       720320     54613.33
   45055.999     0.999985       720324     65536.00
   45055.999     0.999986       720324     72817.78
   45088.767     0.999988       720328     81920.00
   45088.767     0.999989       720328     93622.86
   45088.767     0.999991       720328    109226.67
   45088.767     0.999992       720328    131072.00
   45121.535     0.999993       720332    145635.56
   45121.535     0.999994       720332    163840.00
   45121.535     0.999995       720332    187245.71
   45121.535     0.999995       720332    218453.33
   45121.535     0.999996       720332    262144.00
   45121.535     0.999997       720332    291271.11
   45121.535     0.999997       720332    327680.00
   45121.535     0.999997       720332    374491.43
   45121.535     0.999998       720332    436906.67
   45121.535     0.999998       720332    524288.00
   45121.535     0.999998       720332    582542.22
   45121.535     0.999998       720332    655360.00
   45154.303     0.999999       720333    748982.86
   45154.303     1.000000       720333          inf
#[Mean    =    22462.355, StdDeviation   =    10924.604]
#[Max     =    45121.536, Total count    =       720333]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  785690 requests in 2.00m, 161.10MB read
Requests/sec:   6553.78  
Transfer/sec:      1.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 37793 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50408 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 37793 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50408 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.717ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.524ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.644ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.504ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.722ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.476ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.467ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.348ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.841ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.704ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.392ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.512ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.569ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.892ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.543ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.496ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.610ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.566ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.552ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.676ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.588ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.850ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.820ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.877ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.630ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.671ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.744ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.577ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.730ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.661ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.513ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.732ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.581ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.506ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.643ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.479ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.623ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.618ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.739ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.501ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.587ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.630ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.540ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.771ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.588ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.536ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.603ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.524ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.22ms    2.76ms  17.10ms   66.80%
    Req/Sec    20.61     37.48   142.00     73.97%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.14ms
 75.000%   11.04ms
 90.000%   12.62ms
 99.000%   17.10ms
 99.900%   22.66ms
 99.990%   31.79ms
 99.999%   52.64ms
100.000%   59.81ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.949     0.000000            1         1.00
       5.967     0.100000        10614         1.11
       6.555     0.200000        21217         1.25
       7.211     0.300000        31773         1.43
       8.223     0.400000        42343         1.67
       9.143     0.500000        52967         2.00
       9.535     0.550000        58252         2.22
       9.903     0.600000        63541         2.50
      10.271     0.650000        68872         2.86
      10.639     0.700000        74096         3.33
      11.039     0.750000        79461         4.00
      11.239     0.775000        82034         4.44
      11.471     0.800000        84728         5.00
      11.711     0.825000        87333         5.71
      11.975     0.850000        89981         6.67
      12.279     0.875000        92618         8.00
      12.447     0.887500        93969         8.89
      12.623     0.900000        95267        10.00
      12.831     0.912500        96620        11.43
      13.063     0.925000        97935        13.33
      13.335     0.937500        99228        16.00
      13.495     0.943750        99902        17.78
      13.671     0.950000       100553        20.00
      13.887     0.956250       101212        22.86
      14.143     0.962500       101871        26.67
      14.455     0.968750       102539        32.00
      14.647     0.971875       102873        35.56
      14.903     0.975000       103196        40.00
      15.159     0.978125       103524        45.71
      15.503     0.981250       103855        53.33
      15.935     0.984375       104187        64.00
      16.207     0.985938       104351        71.11
      16.479     0.987500       104516        80.00
      16.847     0.989062       104682        91.43
      17.247     0.990625       104848       106.67
      17.727     0.992188       105018       128.00
      17.967     0.992969       105094       142.22
      18.255     0.993750       105178       160.00
      18.575     0.994531       105266       182.86
      18.879     0.995313       105344       213.33
      19.327     0.996094       105426       256.00
      19.631     0.996484       105466       284.44
      19.887     0.996875       105510       320.00
      20.207     0.997266       105549       365.71
      20.591     0.997656       105590       426.67
      21.103     0.998047       105633       512.00
      21.423     0.998242       105652       568.89
      21.711     0.998437       105673       640.00
      21.935     0.998633       105694       731.43
      22.287     0.998828       105714       853.33
      22.767     0.999023       105737      1024.00
      23.007     0.999121       105745      1137.78
      23.599     0.999219       105756      1280.00
      24.143     0.999316       105766      1462.86
      24.751     0.999414       105776      1706.67
      25.407     0.999512       105787      2048.00
      25.759     0.999561       105792      2275.56
      26.207     0.999609       105797      2560.00
      26.847     0.999658       105802      2925.71
      27.903     0.999707       105807      3413.33
      28.495     0.999756       105813      4096.00
      28.607     0.999780       105815      4551.11
      29.071     0.999805       105818      5120.00
      29.327     0.999829       105820      5851.43
      30.223     0.999854       105823      6826.67
      31.311     0.999878       105826      8192.00
      31.791     0.999890       105827      9102.22
      32.383     0.999902       105828     10240.00
      33.663     0.999915       105829     11702.86
      33.983     0.999927       105831     13653.33
      34.527     0.999939       105832     16384.00
      36.735     0.999945       105833     18204.44
      36.735     0.999951       105833     20480.00
      37.503     0.999957       105834     23405.71
      37.855     0.999963       105835     27306.67
      37.855     0.999969       105835     32768.00
      39.743     0.999973       105836     36408.89
      39.743     0.999976       105836     40960.00
      39.743     0.999979       105836     46811.43
      52.639     0.999982       105837     54613.33
      52.639     0.999985       105837     65536.00
      52.639     0.999986       105837     72817.78
      52.639     0.999988       105837     81920.00
      52.639     0.999989       105837     93622.86
      59.807     0.999991       105838    109226.67
      59.807     1.000000       105838          inf
#[Mean    =        9.221, StdDeviation   =        2.764]
#[Max     =       59.776, Total count    =       105838]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115377 requests in 2.00m, 1.56GB read
Requests/sec:    961.38  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 35519 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48734 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 35519 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48734 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.267ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.065ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.453ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.325ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.938ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.352ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.384ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.363ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.517ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.290ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.135ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.172ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.468ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.623ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.560ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.440ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.236ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.043ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.082ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.198ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.063ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.071ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.075ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.145ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.529ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.029ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.270ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.568ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.711ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.370ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.672ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.285ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.392ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.322ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.930ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.075ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.177ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.653ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.119ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.223ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.085ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.105ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.265ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.282ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.236ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.262ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.082ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.025ms, rate sampling interval: 19ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.22ms    2.36ms  15.82ms   81.17%
    Req/Sec   106.53     72.14   300.00     72.34%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.57ms
 75.000%    8.01ms
 90.000%   10.27ms
 99.000%   15.82ms
 99.900%   21.65ms
 99.990%   27.98ms
 99.999%   34.27ms
100.000%   37.63ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.755     0.000000            1         1.00
       5.119     0.100000        55250         1.11
       5.535     0.200000       110357         1.25
       5.871     0.300000       164946         1.43
       6.203     0.400000       219840         1.67
       6.567     0.500000       274954         2.00
       6.775     0.550000       302270         2.22
       7.011     0.600000       329964         2.50
       7.283     0.650000       357569         2.86
       7.603     0.700000       384724         3.33
       8.007     0.750000       412197         4.00
       8.255     0.775000       426187         4.44
       8.535     0.800000       439952         5.00
       8.855     0.825000       453588         5.71
       9.247     0.850000       467371         6.67
       9.703     0.875000       480994         8.00
       9.975     0.887500       487831         8.89
      10.271     0.900000       494652        10.00
      10.599     0.912500       501475        11.43
      10.975     0.925000       508388        13.33
      11.407     0.937500       515262        16.00
      11.655     0.943750       518761        17.78
      11.927     0.950000       522096        20.00
      12.239     0.956250       525561        22.86
      12.599     0.962500       528997        26.67
      13.023     0.968750       532392        32.00
      13.279     0.971875       534130        35.56
      13.551     0.975000       535836        40.00
      13.871     0.978125       537565        45.71
      14.239     0.981250       539269        53.33
      14.687     0.984375       541004        64.00
      14.943     0.985938       541846        71.11
      15.247     0.987500       542712        80.00
      15.591     0.989062       543550        91.43
      15.991     0.990625       544417       106.67
      16.431     0.992188       545286       128.00
      16.687     0.992969       545704       142.22
      16.991     0.993750       546139       160.00
      17.327     0.994531       546566       182.86
      17.727     0.995313       546986       213.33
      18.159     0.996094       547412       256.00
      18.431     0.996484       547630       284.44
      18.751     0.996875       547851       320.00
      19.087     0.997266       548059       365.71
      19.471     0.997656       548271       426.67
      19.983     0.998047       548489       512.00
      20.223     0.998242       548593       568.89
      20.543     0.998437       548702       640.00
      20.879     0.998633       548808       731.43
      21.231     0.998828       548913       853.33
      21.695     0.999023       549021      1024.00
      21.983     0.999121       549074      1137.78
      22.319     0.999219       549128      1280.00
      22.767     0.999316       549187      1462.86
      23.135     0.999414       549235      1706.67
      23.631     0.999512       549290      2048.00
      23.983     0.999561       549318      2275.56
      24.271     0.999609       549345      2560.00
      24.639     0.999658       549372      2925.71
      25.183     0.999707       549398      3413.33
      25.599     0.999756       549423      4096.00
      25.807     0.999780       549437      4551.11
      26.143     0.999805       549450      5120.00
      26.623     0.999829       549466      5851.43
      26.895     0.999854       549477      6826.67
      27.455     0.999878       549490      8192.00
      27.807     0.999890       549499      9102.22
      28.191     0.999902       549504     10240.00
      28.575     0.999915       549511     11702.86
      28.783     0.999927       549517     13653.33
      29.647     0.999939       549524     16384.00
      29.871     0.999945       549528     18204.44
      30.127     0.999951       549531     20480.00
      30.207     0.999957       549534     23405.71
      30.671     0.999963       549537     27306.67
      31.023     0.999969       549541     32768.00
      31.087     0.999973       549542     36408.89
      31.727     0.999976       549544     40960.00
      32.127     0.999979       549546     46811.43
      32.383     0.999982       549547     54613.33
      33.183     0.999985       549549     65536.00
      33.343     0.999986       549550     72817.78
      33.631     0.999988       549551     81920.00
      34.271     0.999989       549552     93622.86
      34.271     0.999991       549552    109226.67
      34.367     0.999992       549553    131072.00
      34.527     0.999993       549554    145635.56
      34.527     0.999994       549554    163840.00
      34.687     0.999995       549555    187245.71
      34.687     0.999995       549555    218453.33
      34.687     0.999996       549555    262144.00
      36.543     0.999997       549556    291271.11
      36.543     0.999997       549556    327680.00
      36.543     0.999997       549556    374491.43
      36.543     0.999998       549556    436906.67
      36.543     0.999998       549556    524288.00
      37.631     0.999998       549557    582542.22
      37.631     1.000000       549557          inf
#[Mean    =        7.224, StdDeviation   =        2.359]
#[Max     =       37.600, Total count    =       549557]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599181 requests in 2.00m, 8.08GB read
Requests/sec:   4995.40  
Transfer/sec:     68.99MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 35516 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48536 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 35516 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48536 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 29.202ms, rate sampling interval: 57ms
  Thread calibration: mean lat.: 59.735ms, rate sampling interval: 493ms
  Thread calibration: mean lat.: 26.255ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 31.530ms, rate sampling interval: 109ms
  Thread calibration: mean lat.: 18.216ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 26.802ms, rate sampling interval: 74ms
  Thread calibration: mean lat.: 19.888ms, rate sampling interval: 45ms
  Thread calibration: mean lat.: 28.117ms, rate sampling interval: 62ms
  Thread calibration: mean lat.: 22.814ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 21.500ms, rate sampling interval: 50ms
  Thread calibration: mean lat.: 25.685ms, rate sampling interval: 88ms
  Thread calibration: mean lat.: 28.309ms, rate sampling interval: 102ms
  Thread calibration: mean lat.: 28.147ms, rate sampling interval: 83ms
  Thread calibration: mean lat.: 23.339ms, rate sampling interval: 49ms
  Thread calibration: mean lat.: 33.136ms, rate sampling interval: 116ms
  Thread calibration: mean lat.: 23.552ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 40.576ms, rate sampling interval: 216ms
  Thread calibration: mean lat.: 33.551ms, rate sampling interval: 60ms
  Thread calibration: mean lat.: 27.190ms, rate sampling interval: 61ms
  Thread calibration: mean lat.: 29.946ms, rate sampling interval: 78ms
  Thread calibration: mean lat.: 45.018ms, rate sampling interval: 318ms
  Thread calibration: mean lat.: 31.669ms, rate sampling interval: 54ms
  Thread calibration: mean lat.: 25.479ms, rate sampling interval: 70ms
  Thread calibration: mean lat.: 27.208ms, rate sampling interval: 88ms
  Thread calibration: mean lat.: 30.250ms, rate sampling interval: 110ms
  Thread calibration: mean lat.: 30.363ms, rate sampling interval: 63ms
  Thread calibration: mean lat.: 29.527ms, rate sampling interval: 64ms
  Thread calibration: mean lat.: 33.174ms, rate sampling interval: 104ms
  Thread calibration: mean lat.: 20.147ms, rate sampling interval: 58ms
  Thread calibration: mean lat.: 43.731ms, rate sampling interval: 241ms
  Thread calibration: mean lat.: 27.718ms, rate sampling interval: 56ms
  Thread calibration: mean lat.: 42.118ms, rate sampling interval: 211ms
  Thread calibration: mean lat.: 29.577ms, rate sampling interval: 99ms
  Thread calibration: mean lat.: 25.667ms, rate sampling interval: 68ms
  Thread calibration: mean lat.: 24.881ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 50.583ms, rate sampling interval: 329ms
  Thread calibration: mean lat.: 25.434ms, rate sampling interval: 94ms
  Thread calibration: mean lat.: 36.298ms, rate sampling interval: 94ms
  Thread calibration: mean lat.: 30.226ms, rate sampling interval: 85ms
  Thread calibration: mean lat.: 28.028ms, rate sampling interval: 51ms
  Thread calibration: mean lat.: 31.972ms, rate sampling interval: 59ms
  Thread calibration: mean lat.: 25.674ms, rate sampling interval: 56ms
  Thread calibration: mean lat.: 23.317ms, rate sampling interval: 62ms
  Thread calibration: mean lat.: 27.176ms, rate sampling interval: 80ms
  Thread calibration: mean lat.: 23.583ms, rate sampling interval: 53ms
  Thread calibration: mean lat.: 27.477ms, rate sampling interval: 113ms
  Thread calibration: mean lat.: 31.347ms, rate sampling interval: 126ms
  Thread calibration: mean lat.: 29.705ms, rate sampling interval: 87ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    44.15ms  175.61ms 942.08ms   95.60%
    Req/Sec   209.85     54.43   348.00     70.91%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.18ms
 75.000%   13.94ms
 90.000%   26.50ms
 99.000%  942.08ms
 99.900%    2.08s 
 99.990%    2.61s 
 99.999%    2.77s 
100.000%    2.80s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.053     0.000000            1         1.00
       5.983     0.100000       110630         1.11
       6.599     0.200000       220608         1.25
       7.211     0.300000       330872         1.43
       8.019     0.400000       440559         1.67
       9.183     0.500000       551088         2.00
       9.871     0.550000       605635         2.22
      10.655     0.600000       660804         2.50
      11.551     0.650000       716035         2.86
      12.591     0.700000       770861         3.33
      13.935     0.750000       825923         4.00
      14.791     0.775000       853395         4.44
      15.855     0.800000       880984         5.00
      17.199     0.825000       908570         5.71
      18.975     0.850000       935954         6.67
      21.631     0.875000       963489         8.00
      23.615     0.887500       977268         8.89
      26.495     0.900000       991041        10.00
      31.199     0.912500      1004733        11.43
      40.607     0.925000      1018501        13.33
      66.303     0.937500      1032264        16.00
      95.743     0.943750      1039154        17.78
     147.967     0.950000      1046025        20.00
     223.871     0.956250      1052905        22.86
     316.415     0.962500      1059816        26.67
     406.271     0.968750      1066686        32.00
     452.607     0.971875      1070109        35.56
     500.223     0.975000      1073574        40.00
     556.543     0.978125      1076994        45.71
     623.615     0.981250      1080443        53.33
     709.631     0.984375      1083881        64.00
     765.439     0.985938      1085601        71.11
     821.759     0.987500      1087316        80.00
     894.975     0.989062      1089036        91.43
     973.823     0.990625      1090754       106.67
    1073.151     0.992188      1092483       128.00
    1131.519     0.992969      1093338       142.22
    1192.959     0.993750      1094209       160.00
    1267.711     0.994531      1095055       182.86
    1372.159     0.995313      1095921       213.33
    1477.631     0.996094      1096790       256.00
    1518.591     0.996484      1097207       284.44
    1579.007     0.996875      1097644       320.00
    1638.399     0.997266      1098071       365.71
    1703.935     0.997656      1098497       426.67
    1766.399     0.998047      1098926       512.00
    1816.575     0.998242      1099141       568.89
    1906.687     0.998437      1099356       640.00
    1980.415     0.998633      1099573       731.43
    2030.591     0.998828      1099788       853.33
    2092.031     0.999023      1100001      1024.00
    2148.351     0.999121      1100109      1137.78
    2205.695     0.999219      1100218      1280.00
    2260.991     0.999316      1100327      1462.86
    2316.287     0.999414      1100431      1706.67
    2361.343     0.999512      1100540      2048.00
    2394.111     0.999561      1100595      2275.56
    2414.591     0.999609      1100646      2560.00
    2445.311     0.999658      1100700      2925.71
    2488.319     0.999707      1100756      3413.33
    2519.039     0.999756      1100811      4096.00
    2531.327     0.999780      1100839      4551.11
    2541.567     0.999805      1100863      5120.00
    2549.759     0.999829      1100888      5851.43
    2564.095     0.999854      1100916      6826.67
    2584.575     0.999878      1100943      8192.00
    2596.863     0.999890      1100956      9102.22
    2611.199     0.999902      1100971     10240.00
    2621.439     0.999915      1100982     11702.86
    2635.775     0.999927      1100998     13653.33
    2646.015     0.999939      1101010     16384.00
    2656.255     0.999945      1101017     18204.44
    2676.735     0.999951      1101023     20480.00
    2697.215     0.999957      1101030     23405.71
    2709.503     0.999963      1101036     27306.67
    2725.887     0.999969      1101043     32768.00
    2727.935     0.999973      1101046     36408.89
    2732.031     0.999976      1101051     40960.00
    2734.079     0.999979      1101053     46811.43
    2738.175     0.999982      1101056     54613.33
    2744.319     0.999985      1101060     65536.00
    2748.415     0.999986      1101062     72817.78
    2754.559     0.999988      1101063     81920.00
    2768.895     0.999989      1101066     93622.86
    2768.895     0.999991      1101066    109226.67
    2777.087     0.999992      1101068    131072.00
    2785.279     0.999993      1101069    145635.56
    2787.327     0.999994      1101070    163840.00
    2793.471     0.999995      1101071    187245.71
    2793.471     0.999995      1101071    218453.33
    2795.519     0.999996      1101072    262144.00
    2797.567     0.999997      1101074    291271.11
    2797.567     0.999997      1101074    327680.00
    2797.567     0.999997      1101074    374491.43
    2797.567     0.999998      1101074    436906.67
    2797.567     0.999998      1101074    524288.00
    2799.615     0.999998      1101075    582542.22
    2799.615     0.999998      1101075    655360.00
    2799.615     0.999999      1101075    748982.86
    2799.615     0.999999      1101075    873813.33
    2799.615     0.999999      1101075   1048576.00
    2803.711     0.999999      1101076   1165084.44
    2803.711     1.000000      1101076          inf
#[Mean    =       44.153, StdDeviation   =      175.614]
#[Max     =     2801.664, Total count    =      1101076]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1197660 requests in 2.00m, 16.15GB read
Requests/sec:   9989.92  
Transfer/sec:    137.97MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 34417 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44380 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 34417 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44380 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.285ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.155ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.361ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.329ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.506ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.159ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.187ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.690ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.193ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.442ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.340ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.256ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.519ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.554ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.340ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.929ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.081ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.460ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.556ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.498ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.446ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.684ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.515ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.180ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.378ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.334ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.343ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.446ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.963ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.284ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.414ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.400ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.188ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.788ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.553ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.213ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.079ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.502ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.578ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.454ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.399ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.556ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.901ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.450ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.364ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.323ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.292ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.590ms, rate sampling interval: 25ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.35ms    2.42ms  16.45ms   71.82%
    Req/Sec    20.28     29.35   125.00     91.53%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.19ms
 75.000%   10.73ms
 90.000%   12.32ms
 99.000%   16.45ms
 99.900%   21.49ms
 99.990%   26.61ms
 99.999%   36.48ms
100.000%   44.96ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.753     0.000000            1         1.00
       6.455     0.100000        10593         1.11
       7.419     0.200000        21195         1.25
       8.079     0.300000        31788         1.43
       8.647     0.400000        42349         1.67
       9.191     0.500000        53038         2.00
       9.471     0.550000        58352         2.22
       9.751     0.600000        63573         2.50
      10.055     0.650000        68867         2.86
      10.375     0.700000        74077         3.33
      10.735     0.750000        79424         4.00
      10.935     0.775000        82084         4.44
      11.143     0.800000        84724         5.00
      11.383     0.825000        87390         5.71
      11.647     0.850000        89997         6.67
      11.951     0.875000        92596         8.00
      12.135     0.887500        93970         8.89
      12.319     0.900000        95255        10.00
      12.543     0.912500        96574        11.43
      12.791     0.925000        97913        13.33
      13.079     0.937500        99209        16.00
      13.247     0.943750        99881        17.78
      13.431     0.950000       100538        20.00
      13.663     0.956250       101196        22.86
      13.903     0.962500       101860        26.67
      14.207     0.968750       102525        32.00
      14.375     0.971875       102857        35.56
      14.583     0.975000       103180        40.00
      14.823     0.978125       103510        45.71
      15.151     0.981250       103846        53.33
      15.487     0.984375       104172        64.00
      15.687     0.985938       104339        71.11
      15.935     0.987500       104502        80.00
      16.239     0.989062       104666        91.43
      16.575     0.990625       104830       106.67
      16.975     0.992188       105003       128.00
      17.167     0.992969       105080       142.22
      17.407     0.993750       105163       160.00
      17.679     0.994531       105247       182.86
      17.967     0.995313       105327       213.33
      18.319     0.996094       105409       256.00
      18.527     0.996484       105452       284.44
      18.863     0.996875       105492       320.00
      19.151     0.997266       105533       365.71
      19.503     0.997656       105575       426.67
      20.031     0.998047       105616       512.00
      20.447     0.998242       105638       568.89
      20.671     0.998437       105657       640.00
      20.927     0.998633       105678       731.43
      21.183     0.998828       105699       853.33
      21.567     0.999023       105719      1024.00
      21.807     0.999121       105729      1137.78
      22.079     0.999219       105740      1280.00
      22.335     0.999316       105750      1462.86
      22.479     0.999414       105760      1706.67
      22.975     0.999512       105771      2048.00
      23.263     0.999561       105776      2275.56
      23.487     0.999609       105781      2560.00
      23.647     0.999658       105787      2925.71
      24.191     0.999707       105791      3413.33
      24.575     0.999756       105797      4096.00
      24.831     0.999780       105799      4551.11
      24.895     0.999805       105803      5120.00
      25.055     0.999829       105804      5851.43
      25.727     0.999854       105807      6826.67
      26.511     0.999878       105810      8192.00
      26.607     0.999890       105811      9102.22
      26.863     0.999902       105812     10240.00
      27.103     0.999915       105813     11702.86
      27.679     0.999927       105815     13653.33
      28.287     0.999939       105816     16384.00
      29.487     0.999945       105817     18204.44
      29.487     0.999951       105817     20480.00
      29.551     0.999957       105818     23405.71
      31.807     0.999963       105819     27306.67
      31.807     0.999969       105819     32768.00
      32.207     0.999973       105820     36408.89
      32.207     0.999976       105820     40960.00
      32.207     0.999979       105820     46811.43
      36.479     0.999982       105821     54613.33
      36.479     0.999985       105821     65536.00
      36.479     0.999986       105821     72817.78
      36.479     0.999988       105821     81920.00
      36.479     0.999989       105821     93622.86
      44.959     0.999991       105822    109226.67
      44.959     1.000000       105822          inf
#[Mean    =        9.354, StdDeviation   =        2.418]
#[Max     =       44.928, Total count    =       105822]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115316 requests in 2.00m, 1.40GB read
Requests/sec:    960.89  
Transfer/sec:     11.98MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 34169 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44313 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 34169 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44313 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.456ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.575ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.794ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.646ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.567ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.875ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.756ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.052ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.699ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.601ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.551ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.387ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.625ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.463ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.610ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.560ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.472ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.668ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.581ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.592ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.593ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.810ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.307ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.714ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.373ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.639ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.668ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.960ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.857ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.498ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.679ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.687ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.719ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.697ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.353ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.231ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.710ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.853ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.372ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.476ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.631ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.548ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.570ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.615ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.764ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.222ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.446ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.778ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.57ms    2.23ms  14.33ms   77.99%
    Req/Sec   106.68     76.09   315.00     71.61%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.04ms
 75.000%    7.46ms
 90.000%    9.42ms
 99.000%   14.33ms
 99.900%   19.41ms
 99.990%   26.11ms
 99.999%   36.19ms
100.000%   40.48ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.493     0.000000            1         1.00
       4.411     0.100000        55188         1.11
       4.863     0.200000       110310         1.25
       5.251     0.300000       165280         1.43
       5.631     0.400000       220175         1.67
       6.039     0.500000       275153         2.00
       6.259     0.550000       302334         2.22
       6.503     0.600000       329792         2.50
       6.775     0.650000       357381         2.86
       7.087     0.700000       384666         3.33
       7.459     0.750000       412284         4.00
       7.675     0.775000       425943         4.44
       7.919     0.800000       439601         5.00
       8.207     0.825000       453569         5.71
       8.535     0.850000       467127         6.67
       8.935     0.875000       480913         8.00
       9.167     0.887500       487851         8.89
       9.423     0.900000       494509        10.00
       9.719     0.912500       501423        11.43
      10.055     0.925000       508311        13.33
      10.455     0.937500       515218        16.00
      10.679     0.943750       518575        17.78
      10.927     0.950000       521992        20.00
      11.207     0.956250       525453        22.86
      11.543     0.962500       528893        26.67
      11.935     0.968750       532341        32.00
      12.143     0.971875       534024        35.56
      12.383     0.975000       535715        40.00
      12.663     0.978125       537460        45.71
      12.991     0.981250       539156        53.33
      13.391     0.984375       540879        64.00
      13.615     0.985938       541748        71.11
      13.847     0.987500       542599        80.00
      14.127     0.989062       543450        91.43
      14.463     0.990625       544315       106.67
      14.855     0.992188       545174       128.00
      15.071     0.992969       545590       142.22
      15.319     0.993750       546017       160.00
      15.631     0.994531       546452       182.86
      15.983     0.995313       546882       213.33
      16.383     0.996094       547305       256.00
      16.607     0.996484       547533       284.44
      16.847     0.996875       547740       320.00
      17.135     0.997266       547956       365.71
      17.439     0.997656       548165       426.67
      17.855     0.998047       548378       512.00
      18.095     0.998242       548488       568.89
      18.351     0.998437       548598       640.00
      18.687     0.998633       548704       731.43
      19.039     0.998828       548810       853.33
      19.471     0.999023       548915      1024.00
      19.791     0.999121       548970      1137.78
      20.079     0.999219       549024      1280.00
      20.399     0.999316       549076      1462.86
      20.847     0.999414       549130      1706.67
      21.183     0.999512       549183      2048.00
      21.487     0.999561       549212      2275.56
      21.727     0.999609       549238      2560.00
      21.919     0.999658       549264      2925.71
      22.335     0.999707       549293      3413.33
      22.975     0.999756       549317      4096.00
      23.279     0.999780       549331      4551.11
      23.583     0.999805       549344      5120.00
      23.967     0.999829       549358      5851.43
      24.479     0.999854       549371      6826.67
      25.535     0.999878       549384      8192.00
      25.935     0.999890       549391      9102.22
      26.207     0.999902       549398     10240.00
      26.495     0.999915       549405     11702.86
      26.847     0.999927       549411     13653.33
      27.231     0.999939       549418     16384.00
      27.711     0.999945       549421     18204.44
      28.399     0.999951       549425     20480.00
      28.655     0.999957       549428     23405.71
      29.279     0.999963       549431     27306.67
      30.335     0.999969       549435     32768.00
      30.431     0.999973       549436     36408.89
      30.655     0.999976       549438     40960.00
      31.215     0.999979       549440     46811.43
      31.519     0.999982       549441     54613.33
      32.319     0.999985       549443     65536.00
      35.423     0.999986       549444     72817.78
      35.743     0.999988       549445     81920.00
      36.191     0.999989       549446     93622.86
      36.191     0.999991       549446    109226.67
      36.959     0.999992       549447    131072.00
      37.727     0.999993       549448    145635.56
      37.727     0.999994       549448    163840.00
      38.623     0.999995       549449    187245.71
      38.623     0.999995       549449    218453.33
      38.623     0.999996       549449    262144.00
      38.655     0.999997       549450    291271.11
      38.655     0.999997       549450    327680.00
      38.655     0.999997       549450    374491.43
      38.655     0.999998       549450    436906.67
      38.655     0.999998       549450    524288.00
      40.479     0.999998       549451    582542.22
      40.479     1.000000       549451          inf
#[Mean    =        6.567, StdDeviation   =        2.226]
#[Max     =       40.448, Total count    =       549451]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599170 requests in 2.00m, 7.33GB read
Requests/sec:   4996.49  
Transfer/sec:     62.57MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33861 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45164 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 33861 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45164 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1149.023ms, rate sampling interval: 5582ms
  Thread calibration: mean lat.: 1818.012ms, rate sampling interval: 6823ms
  Thread calibration: mean lat.: 1261.182ms, rate sampling interval: 4665ms
  Thread calibration: mean lat.: 950.373ms, rate sampling interval: 3940ms
  Thread calibration: mean lat.: 1321.974ms, rate sampling interval: 6942ms
  Thread calibration: mean lat.: 1277.899ms, rate sampling interval: 4866ms
  Thread calibration: mean lat.: 1156.237ms, rate sampling interval: 5947ms
  Thread calibration: mean lat.: 1021.826ms, rate sampling interval: 4440ms
  Thread calibration: mean lat.: 2062.680ms, rate sampling interval: 8527ms
  Thread calibration: mean lat.: 1318.462ms, rate sampling interval: 5414ms
  Thread calibration: mean lat.: 1114.122ms, rate sampling interval: 6811ms
  Thread calibration: mean lat.: 1449.504ms, rate sampling interval: 6115ms
  Thread calibration: mean lat.: 1379.907ms, rate sampling interval: 4939ms
  Thread calibration: mean lat.: 1003.045ms, rate sampling interval: 4292ms
  Thread calibration: mean lat.: 875.785ms, rate sampling interval: 4218ms
  Thread calibration: mean lat.: 1748.608ms, rate sampling interval: 6762ms
  Thread calibration: mean lat.: 1533.875ms, rate sampling interval: 6651ms
  Thread calibration: mean lat.: 1120.770ms, rate sampling interval: 5165ms
  Thread calibration: mean lat.: 1336.629ms, rate sampling interval: 5324ms
  Thread calibration: mean lat.: 1299.903ms, rate sampling interval: 5197ms
  Thread calibration: mean lat.: 935.594ms, rate sampling interval: 4845ms
  Thread calibration: mean lat.: 993.807ms, rate sampling interval: 6520ms
  Thread calibration: mean lat.: 873.124ms, rate sampling interval: 3264ms
  Thread calibration: mean lat.: 923.780ms, rate sampling interval: 4980ms
  Thread calibration: mean lat.: 1276.622ms, rate sampling interval: 6733ms
  Thread calibration: mean lat.: 860.272ms, rate sampling interval: 3717ms
  Thread calibration: mean lat.: 729.138ms, rate sampling interval: 3405ms
  Thread calibration: mean lat.: 1664.911ms, rate sampling interval: 7155ms
  Thread calibration: mean lat.: 1026.515ms, rate sampling interval: 4304ms
  Thread calibration: mean lat.: 1632.098ms, rate sampling interval: 6864ms
  Thread calibration: mean lat.: 2037.021ms, rate sampling interval: 7090ms
  Thread calibration: mean lat.: 720.105ms, rate sampling interval: 4075ms
  Thread calibration: mean lat.: 814.873ms, rate sampling interval: 4337ms
  Thread calibration: mean lat.: 593.071ms, rate sampling interval: 3117ms
  Thread calibration: mean lat.: 1364.801ms, rate sampling interval: 4808ms
  Thread calibration: mean lat.: 1433.794ms, rate sampling interval: 4972ms
  Thread calibration: mean lat.: 1264.211ms, rate sampling interval: 6459ms
  Thread calibration: mean lat.: 1523.108ms, rate sampling interval: 5931ms
  Thread calibration: mean lat.: 1329.135ms, rate sampling interval: 4632ms
  Thread calibration: mean lat.: 1028.933ms, rate sampling interval: 5091ms
  Thread calibration: mean lat.: 870.928ms, rate sampling interval: 5320ms
  Thread calibration: mean lat.: 1459.509ms, rate sampling interval: 5804ms
  Thread calibration: mean lat.: 814.262ms, rate sampling interval: 3870ms
  Thread calibration: mean lat.: 2041.962ms, rate sampling interval: 7446ms
  Thread calibration: mean lat.: 771.572ms, rate sampling interval: 4665ms
  Thread calibration: mean lat.: 729.022ms, rate sampling interval: 3885ms
  Thread calibration: mean lat.: 843.893ms, rate sampling interval: 3319ms
  Thread calibration: mean lat.: 1270.580ms, rate sampling interval: 4089ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    15.96s    12.81s    0.90m    69.74%
    Req/Sec   153.23     15.43   180.00     70.46%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   12.84s 
 75.000%   23.51s 
 90.000%   34.54s 
 99.000%    0.90m 
 99.900%    1.10m 
 99.990%    1.18m 
 99.999%    1.19m 
100.000%    1.19m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       6.215     0.000000            1         1.00
    2185.215     0.100000        79537         1.11
    4583.423     0.200000       159078         1.25
    7118.847     0.300000       238619         1.43
    9854.975     0.400000       318110         1.67
   12836.863     0.500000       397600         2.00
   14393.343     0.550000       437484         2.22
   16228.351     0.600000       477191         2.50
   18317.311     0.650000       517095         2.86
   20742.143     0.700000       556685         3.33
   23511.039     0.750000       596529         4.00
   24920.063     0.775000       616448         4.44
   26378.239     0.800000       636296         5.00
   27951.103     0.825000       656020         5.71
   29868.031     0.850000       676023         6.67
   32145.407     0.875000       695769         8.00
   33325.055     0.887500       705787         8.89
   34537.471     0.900000       715660        10.00
   35946.495     0.912500       725749        11.43
   37453.823     0.925000       735527        13.33
   39288.831     0.937500       745555        16.00
   40271.871     0.943750       750539        17.78
   41353.215     0.950000       755432        20.00
   42532.863     0.956250       760421        22.86
   43843.583     0.962500       765435        26.67
   45350.911     0.968750       770377        32.00
   46170.111     0.971875       772809        35.56
   46989.311     0.975000       775304        40.00
   47841.279     0.978125       777798        45.71
   48955.391     0.981250       780267        53.33
   50397.183     0.984375       782782        64.00
   51216.383     0.985938       783989        71.11
   52068.351     0.987500       785252        80.00
   52953.087     0.989062       786494        91.43
   54198.271     0.990625       787744       106.67
   55607.295     0.992188       788970       128.00
   56590.335     0.992969       789588       142.22
   57671.679     0.993750       790211       160.00
   58523.647     0.994531       790822       182.86
   59539.455     0.995313       791437       213.33
   60784.639     0.996094       792066       256.00
   61407.231     0.996484       792380       284.44
   62062.591     0.996875       792683       320.00
   62717.951     0.997266       792997       365.71
   63406.079     0.997656       793316       426.67
   64192.511     0.998047       793618       512.00
   64552.959     0.998242       793770       568.89
   64913.407     0.998437       793928       640.00
   65273.855     0.998633       794090       731.43
   65699.839     0.998828       794232       853.33
   66322.431     0.999023       794394      1024.00
   66682.879     0.999121       794471      1137.78
   67043.327     0.999219       794541      1280.00
   67567.615     0.999316       794630      1462.86
   67960.831     0.999414       794704      1706.67
   68419.583     0.999512       794779      2048.00
   68681.727     0.999561       794817      2275.56
   68943.871     0.999609       794856      2560.00
   69206.015     0.999658       794893      2925.71
   69533.695     0.999707       794946      3413.33
   69730.303     0.999756       794973      4096.00
   69926.911     0.999780       794993      4551.11
   70123.519     0.999805       795011      5120.00
   70320.127     0.999829       795030      5851.43
   70451.199     0.999854       795048      6826.67
   70582.271     0.999878       795065      8192.00
   70713.343     0.999890       795085      9102.22
   70713.343     0.999902       795085     10240.00
   70909.951     0.999915       795101     11702.86
   70975.487     0.999927       795105     13653.33
   71172.095     0.999939       795115     16384.00
   71303.167     0.999945       795122     18204.44
   71368.703     0.999951       795124     20480.00
   71434.239     0.999957       795134     23405.71
   71434.239     0.999963       795134     27306.67
   71499.775     0.999969       795143     32768.00
   71499.775     0.999973       795143     36408.89
   71499.775     0.999976       795143     40960.00
   71565.311     0.999979       795150     46811.43
   71565.311     0.999982       795150     54613.33
   71565.311     0.999985       795150     65536.00
   71630.847     0.999986       795156     72817.78
   71630.847     0.999988       795156     81920.00
   71630.847     0.999989       795156     93622.86
   71630.847     0.999991       795156    109226.67
   71630.847     0.999992       795156    131072.00
   71696.383     0.999993       795162    145635.56
   71696.383     1.000000       795162          inf
#[Mean    =    15962.936, StdDeviation   =    12811.192]
#[Max     =    71630.848, Total count    =       795162]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  868039 requests in 2.00m, 10.62GB read
Requests/sec:   7239.78  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 32980 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42600 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 32980 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42600 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
f86373d433ec9e350b7171a5392709285efb957522f3eed6d5874a79b8560708
2c9fda847cf9ca3c61b2eb7eee42518b9d5aab4e7e824b5ce03e0b35621fa3d3
79501666eee5e52d086171d6bdbc77e5485c083319c8514cfead6b60d47fa8fe
3622dd09f0ca9caccb165411a390f758a809e5bad58171978571512da0a1c2d8
2787bd1e6c14ddd53b2c025eba62d402786fb70b694e3c7d999f8b33f6294f67
07009a8d6a41edc362d063523955058d487e106cdc7b8985d3a57522e7835d90
671c494869db75df0ad5fc6196d852b81f6dc158f4e31aeaf0021c866cb2f819
f4bb5504dd9b5215da6e3331262d3b86d7587d49109c0be96a6435f33a3e38d9
5400db25d46cb08e0a7c07955e711c39272af574e4b051ab17c9ccd5bcc14852
e9504add5e7a0c9446d72b914ce5a14478e64db96e84831360767cd2aaefc369
bfd73140b197f237d2c9cd38339e28278fe1eb6771c89ba0d66e5c4a1e048ac3
f241618acaf6015004382341cecbf7b51aecd93fd2c5533eaed5900c7e5d4554
6244434c251d62ae6d48e5888e5ea44005c39270282401e69c0b977744b46fd6
fdec059fee0c275f6ac09c1dd8bd1f826bd28471991deaf5fbd8be5e02903517
cb13537b5e50238d713fcca00e05853b0949e2ed3feaf51ab1ebab924ecd4626
ff899141a8bd34da49d001adc558ee56b1d6c330bd1140f93f5d649fd6e8cc29
a192920480820ca1f2b70fd55b62f4a5ca2d537892892b69cbdaa108d05e4024
056fce15e7ed4180a99a55f1c54157f75ed83113d91687dc27c9928038759650
3d386e55eebd1eddef1f2b23b715a59858ff7c1470c9d2499ac7f5a5ee2853bf
3662c9a9d44a5f2777562fe5fc3e88d4a245b7f7817563de13074a59eabdef5d
b15647cead6ac74120de16965a0deacc5ff43c47796834fbd68eec86f4924bcb
942714883d150318bf882c93a3185fd7f9aa5b5eb08e0c1cd51bf0bbbc7bdfc4
fc2b1b8826a059712afbcd2adfc005aafa4febcef74fab72ad94aee82b170742
3336bb5f59f2094bfe6667190b4235aa77d0ed11008b92f7e394e696f68b3805
3e2633d9fcd7508bd1b0d4739b5b5a8231870774ae8252813eabd426aa4970d9
00e76e2abccd28d30d73478f1f21d3d25e84a526e73815554f9786a176887ac5
819c318be182288f06c9d5499c8158bba6030c818e79f0c7b2fe9fd082655eca
1346cfa3d1e831f0f92b90ea8db545e331af4c8ff02bc77675c2c70b0b83e3a7
47f4614767f3949518e88758e26c62eaa56ab62c520c68a0392b1b2a8fe86693
c1975c1aa2d6fd52a6baa7411f7e07fb0a83603bb76e4ed582dec2d746df4711
f9f35133db79ac3731029e3bc8101434058c01a758e59757a382e865261b04d3

Total reclaimed space: 4.592GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 17-16-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-1.log -b True -m m -M 1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 17-16-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-1.log', 'mode': 'm', 'memnode': '1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-1
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-1



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-1

Result: sha256:a9b545f40232964907271eddc5abd97dd94d40e2a7cf9507aafb3318af7c7dd4


Install numactl tools on docker image: media-frontend-numa-membind-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-1

Result: sha256:a842c378618ba61e9d60dd981a1927f153fd2b844689c9cae8a36a4c9f7d2674


Install numactl tools on docker image: openresty-thrift-numa-membind-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-1

Result: sha256:161a049455f324f68a167c44f59643801cf2b77da6e9489e0ae09f347dbe1a79


Install numactl tools on docker image: redis-numa-membind-1
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_5 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_5 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_home-timeline-redis_5 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_home-timeline-redis_5:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_home-timeline-redis_5:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_home-timeline-redis_5 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 12 00:17 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_5 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-1



CMD: docker commit socialnetwork_home-timeline-redis_5 redis-numa-membind-1

Result: sha256:4de9f31b27720df85f7c78be0a85338d80e221ce11108fa2215fee735d513eb3


Install numactl tools on docker image: memcached-numa-membind-1
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 12 00:17 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=1 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-1



CMD: docker commit socialnetwork_user-memcached_1 memcached-numa-membind-1

Result: sha256:59c4660ca7b0269a7ae8922899249cd06ef44457107fe1543001d74d074e1ea5


Install numactl tools on docker image: mongo-numa-membind-1
CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-timeline-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-timeline-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 12 00:17 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-timeline-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-1



CMD: docker commit socialnetwork_user-timeline-mongodb_1 mongo-numa-membind-1

Result: sha256:51bc3699477e1b269941dd6d3ffbd2e323c21f39074cbb98fdae29c753229791


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
4c0824de3ff7d4ede06b0904a0d654f27f49c5e1f42dc65ef927bbf63d082fbd
37b5d62512bdafbef114f1cc95e767b2769804417eab9632330056291e9e452e
e396c8a909d4a53545863fc345a6d0e56920ac33e8f2fbe74b209364294c4609
4e47c2ae532b6675a9e19ef852e12757eb4d69b9f2bb11f2f2ecddbe9d085336
9485cc2f067f2994887c943edaab9cdfa48c61eb2d1a52d480f36e2a295e11a8
bb6893db41432fefafc59c041c5111390f507150657dc9b9db0a0c56ea8f98ee
0eb5a909c5741a29c48abf5504444a13366d208276262f26aef5507e8d98a244
48f431f3e72a39c5fe55fe5b4e527304630afb86dd29354ecb0c225809292f10
83edacb1615b2a98f90faf31e900e2a6c9014a1577641bf58ed35ed9f80d55c4
0bd8b34d81318c7fcd9863563c8214d4319f33ddd3ae80565a52adc272fb5dd2
44bf29e2ec1c1a53ea31bdd8c4f94a146275b0cb01bba8addd24d71a3b79bcb5
919d2ae36b33a30ac74fd4ff960b4391ca822f44f3cd963758f2e9a41fcee0f7
9586d0727ef0ce459d0b334495226e9610113d06b19138fa1fc9fcf14a9f9549
cd9e8ffad0ca2d0ca9dbb9e63ca3e61fceadd1bcabdc1345e4a5d01cf1916c3f
cb243256c465bd41dd7629a8d84300900d02241d9082f46177223a373bc6e7b6
0ec278a7aba09da3947e35bc91c281916c51954c86c6f7254f61e4c58b388045
55f0a0b77262871e578a3b156347e9f3126f2801a434380f60f412ce4a653469
75dba6c6a4171b1688a2308dba440ff570d202ec34638fb70bce8b390fc5afc5
b6801b85c4b6722d7066b230a2d6d4928d5f899ad98b90c99aa2d9639e3d7032
50773175375e386d083708ad19119bfaeb690318abd667b9e7c36881d09b556c
642a6a825ac206d62cff7855184b0bf5ee86fccf3559d8fe1a95ca2fcc3732c6
eb1dd8d54c745ed25a9bf3c5fe0f4fe351d11627f5db9372bde44a6aac8f4c9a
2cbe92f57d880683628568d0a76e15c5d679a7f3c47f2142da6f382725deddef
c8cc5dd2bb65cc71106d34dba47f8f96ee54af6753fdeecfc0c69daaee2a8b2d
14d60717d96d168d85bde0646d34bd2ca808424f3a3799325524cf9ba523fb31
794a04a2fdd9eecb4ddb1e5460fa58bcc53d5e5b08016f3f68bf49276b96034b
ebdc29b09810d93153dcaac053d1c8a8ff5c7d3285d135c2e0a873286d9b00bf
1905362d6f6d622186f3f2f8aa0524b8d29f11f21def8de2b47979f02bf1e58b
9f21855398cfdce0522fd0c5ff23a80639c638bf17e4f1484484121ebc33d7f8
c0f681671ff83a8c905bf416e3f2b5d5b5bc990f18848e05292856547d025231
58a93a5415320df91a5dc58c7fb7328f9cd0414833044626a2888140a96c20c6

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54241 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57984 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54241 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57984 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:458
cluster_stats_messages_pong_sent:440
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:899
cluster_stats_messages_ping_received:440
cluster_stats_messages_pong_received:459
cluster_stats_messages_received:899
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:1
cluster_stats_messages_ping_sent:433
cluster_stats_messages_pong_sent:427
cluster_stats_messages_sent:860
cluster_stats_messages_ping_received:423
cluster_stats_messages_pong_received:433
cluster_stats_messages_meet_received:4
cluster_stats_messages_received:860
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:450
cluster_stats_messages_pong_sent:448
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:899
cluster_stats_messages_ping_received:448
cluster_stats_messages_pong_received:451
cluster_stats_messages_received:899
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.315ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.665ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.248ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.354ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.573ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.875ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.288ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.400ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.321ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.696ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.541ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.306ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.363ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.622ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.532ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.554ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.651ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.486ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.323ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.511ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.978ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.657ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.034ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.457ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.710ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.298ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.637ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.275ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.432ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.096ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.787ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.193ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.275ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.396ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.093ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.379ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.181ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.315ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.520ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.382ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.211ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.279ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.716ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.507ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.894ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.356ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.400ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.341ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.02ms    1.16ms   8.72ms   82.50%
    Req/Sec    20.71     40.81   166.00     77.20%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.86ms
 75.000%    5.47ms
 90.000%    6.18ms
 99.000%    8.72ms
 99.900%   16.25ms
 99.990%   29.98ms
 99.999%   34.24ms
100.000%   37.53ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.353     0.000000            1         1.00
       3.955     0.100000        10634         1.11
       4.235     0.200000        21230         1.25
       4.455     0.300000        31868         1.43
       4.655     0.400000        42527         1.67
       4.855     0.500000        53022         2.00
       4.959     0.550000        58316         2.22
       5.067     0.600000        63516         2.50
       5.187     0.650000        68893         2.86
       5.315     0.700000        74090         3.33
       5.467     0.750000        79506         4.00
       5.547     0.775000        82068         4.44
       5.639     0.800000        84692         5.00
       5.743     0.825000        87335         5.71
       5.863     0.850000        89964         6.67
       6.003     0.875000        92624         8.00
       6.087     0.887500        93987         8.89
       6.175     0.900000        95271        10.00
       6.291     0.912500        96605        11.43
       6.415     0.925000        97908        13.33
       6.567     0.937500        99245        16.00
       6.651     0.943750        99890        17.78
       6.751     0.950000       100574        20.00
       6.867     0.956250       101231        22.86
       7.007     0.962500       101884        26.67
       7.195     0.968750       102536        32.00
       7.303     0.971875       102864        35.56
       7.443     0.975000       103194        40.00
       7.575     0.978125       103524        45.71
       7.759     0.981250       103861        53.33
       8.003     0.984375       104187        64.00
       8.167     0.985938       104351        71.11
       8.351     0.987500       104515        80.00
       8.575     0.989062       104681        91.43
       8.807     0.990625       104847       106.67
       9.071     0.992188       105017       128.00
       9.231     0.992969       105096       142.22
       9.439     0.993750       105179       160.00
       9.679     0.994531       105261       182.86
       9.975     0.995313       105341       213.33
      10.383     0.996094       105425       256.00
      10.631     0.996484       105465       284.44
      10.983     0.996875       105508       320.00
      11.367     0.997266       105548       365.71
      11.855     0.997656       105589       426.67
      13.095     0.998047       105631       512.00
      13.695     0.998242       105651       568.89
      14.591     0.998437       105672       640.00
      15.175     0.998633       105693       731.43
      15.727     0.998828       105713       853.33
      16.343     0.999023       105734      1024.00
      16.607     0.999121       105744      1137.78
      17.087     0.999219       105755      1280.00
      17.375     0.999316       105765      1462.86
      18.159     0.999414       105775      1706.67
      18.703     0.999512       105786      2048.00
      19.071     0.999561       105791      2275.56
      20.079     0.999609       105796      2560.00
      20.927     0.999658       105801      2925.71
      21.967     0.999707       105806      3413.33
      22.991     0.999756       105812      4096.00
      24.575     0.999780       105814      4551.11
      25.327     0.999805       105817      5120.00
      26.671     0.999829       105819      5851.43
      27.359     0.999854       105822      6826.67
      29.359     0.999878       105825      8192.00
      29.983     0.999890       105826      9102.22
      30.431     0.999902       105827     10240.00
      30.447     0.999915       105828     11702.86
      30.959     0.999927       105830     13653.33
      31.215     0.999939       105831     16384.00
      31.711     0.999945       105832     18204.44
      31.711     0.999951       105832     20480.00
      32.495     0.999957       105833     23405.71
      33.311     0.999963       105834     27306.67
      33.311     0.999969       105834     32768.00
      33.663     0.999973       105835     36408.89
      33.663     0.999976       105835     40960.00
      33.663     0.999979       105835     46811.43
      34.239     0.999982       105836     54613.33
      34.239     0.999985       105836     65536.00
      34.239     0.999986       105836     72817.78
      34.239     0.999988       105836     81920.00
      34.239     0.999989       105836     93622.86
      37.535     0.999991       105837    109226.67
      37.535     1.000000       105837          inf
#[Mean    =        5.024, StdDeviation   =        1.157]
#[Max     =       37.504, Total count    =       105837]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115377 requests in 2.00m, 23.66MB read
Requests/sec:    961.44  
Transfer/sec:    201.87KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53874 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55106 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53874 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 55106 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.050ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.893ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.515ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.548ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.249ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.026ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.288ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.728ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.867ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.782ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.662ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.007ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.041ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.946ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.482ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.952ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.994ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.987ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.152ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.223ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.110ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.474ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.322ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.207ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.411ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.547ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 4.970ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.288ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.552ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.588ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.290ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.902ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.092ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.699ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.826ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.015ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.002ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.157ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.116ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.415ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.054ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.194ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.191ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.531ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.254ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.422ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.023ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.588ms, rate sampling interval: 12ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.53ms   10.57ms  42.91ms   98.35%
    Req/Sec   108.16     94.68   363.00     58.64%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.03ms
 75.000%    4.84ms
 90.000%    6.45ms
 99.000%   42.91ms
 99.900%  161.66ms
 99.990%  217.60ms
 99.999%  259.07ms
100.000%  273.15ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.139     0.000000            1         1.00
       3.251     0.100000        54977         1.11
       3.465     0.200000       110178         1.25
       3.647     0.300000       165176         1.43
       3.829     0.400000       219867         1.67
       4.031     0.500000       274995         2.00
       4.147     0.550000       302518         2.22
       4.283     0.600000       330033         2.50
       4.431     0.650000       357514         2.86
       4.611     0.700000       385064         3.33
       4.835     0.750000       412129         4.00
       4.979     0.775000       425937         4.44
       5.151     0.800000       439775         5.00
       5.363     0.825000       453508         5.71
       5.627     0.850000       467205         6.67
       5.979     0.875000       480906         8.00
       6.195     0.887500       487677         8.89
       6.451     0.900000       494571        10.00
       6.747     0.912500       501451        11.43
       7.095     0.925000       508327        13.33
       7.519     0.937500       515146        16.00
       7.783     0.943750       518598        17.78
       8.087     0.950000       522000        20.00
       8.479     0.956250       525495        22.86
       8.975     0.962500       528904        26.67
       9.647     0.968750       532311        32.00
      10.143     0.971875       534030        35.56
      10.815     0.975000       535742        40.00
      11.895     0.978125       537453        45.71
      13.823     0.981250       539171        53.33
      17.759     0.984375       540889        64.00
      21.775     0.985938       541746        71.11
      27.727     0.987500       542606        80.00
      36.895     0.989062       543462        91.43
      47.615     0.990625       544322       106.67
      61.823     0.992188       545179       128.00
      69.183     0.992969       545613       142.22
      76.351     0.993750       546038       160.00
      84.415     0.994531       546467       182.86
      92.671     0.995313       546899       213.33
     102.527     0.996094       547325       256.00
     107.647     0.996484       547540       284.44
     114.367     0.996875       547757       320.00
     121.087     0.997266       547970       365.71
     128.895     0.997656       548184       426.67
     136.447     0.998047       548399       512.00
     141.695     0.998242       548509       568.89
     146.175     0.998437       548615       640.00
     150.399     0.998633       548722       731.43
     156.287     0.998828       548830       853.33
     162.559     0.999023       548937      1024.00
     165.503     0.999121       548990      1137.78
     168.703     0.999219       549042      1280.00
     172.415     0.999316       549096      1462.86
     176.639     0.999414       549150      1706.67
     181.759     0.999512       549205      2048.00
     183.423     0.999561       549230      2275.56
     186.879     0.999609       549258      2560.00
     190.079     0.999658       549284      2925.71
     194.303     0.999707       549311      3413.33
     197.631     0.999756       549338      4096.00
     200.575     0.999780       549351      4551.11
     203.391     0.999805       549365      5120.00
     206.463     0.999829       549379      5851.43
     210.303     0.999854       549391      6826.67
     212.863     0.999878       549404      8192.00
     215.423     0.999890       549411      9102.22
     217.983     0.999902       549418     10240.00
     220.543     0.999915       549425     11702.86
     223.999     0.999927       549431     13653.33
     226.687     0.999939       549438     16384.00
     227.071     0.999945       549441     18204.44
     229.503     0.999951       549445     20480.00
     230.527     0.999957       549448     23405.71
     231.679     0.999963       549451     27306.67
     240.255     0.999969       549455     32768.00
     242.175     0.999973       549457     36408.89
     245.631     0.999976       549458     40960.00
     252.031     0.999979       549460     46811.43
     253.439     0.999982       549461     54613.33
     255.871     0.999985       549463     65536.00
     257.279     0.999986       549464     72817.78
     258.431     0.999988       549465     81920.00
     259.071     0.999989       549466     93622.86
     259.071     0.999991       549466    109226.67
     259.199     0.999992       549467    131072.00
     259.583     0.999993       549468    145635.56
     259.583     0.999994       549468    163840.00
     264.447     0.999995       549469    187245.71
     264.447     0.999995       549469    218453.33
     264.447     0.999996       549469    262144.00
     266.751     0.999997       549470    291271.11
     266.751     0.999997       549470    327680.00
     266.751     0.999997       549470    374491.43
     266.751     0.999998       549470    436906.67
     266.751     0.999998       549470    524288.00
     273.151     0.999998       549471    582542.22
     273.151     1.000000       549471          inf
#[Mean    =        5.529, StdDeviation   =       10.572]
#[Max     =      272.896, Total count    =       549471]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599109 requests in 2.00m, 122.84MB read
Requests/sec:   4996.69  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53383 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44373 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53383 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44373 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1552.947ms, rate sampling interval: 5795ms
  Thread calibration: mean lat.: 1669.071ms, rate sampling interval: 6397ms
  Thread calibration: mean lat.: 1705.508ms, rate sampling interval: 5959ms
  Thread calibration: mean lat.: 1703.652ms, rate sampling interval: 6152ms
  Thread calibration: mean lat.: 1628.989ms, rate sampling interval: 5914ms
  Thread calibration: mean lat.: 1580.589ms, rate sampling interval: 5849ms
  Thread calibration: mean lat.: 1501.609ms, rate sampling interval: 6021ms
  Thread calibration: mean lat.: 1614.563ms, rate sampling interval: 6152ms
  Thread calibration: mean lat.: 1561.592ms, rate sampling interval: 6094ms
  Thread calibration: mean lat.: 1519.747ms, rate sampling interval: 5570ms
  Thread calibration: mean lat.: 1535.507ms, rate sampling interval: 5746ms
  Thread calibration: mean lat.: 1571.259ms, rate sampling interval: 5668ms
  Thread calibration: mean lat.: 1733.716ms, rate sampling interval: 6676ms
  Thread calibration: mean lat.: 1595.294ms, rate sampling interval: 6094ms
  Thread calibration: mean lat.: 1594.923ms, rate sampling interval: 5935ms
  Thread calibration: mean lat.: 1634.859ms, rate sampling interval: 5799ms
  Thread calibration: mean lat.: 1606.281ms, rate sampling interval: 5914ms
  Thread calibration: mean lat.: 1880.248ms, rate sampling interval: 6762ms
  Thread calibration: mean lat.: 1665.976ms, rate sampling interval: 6049ms
  Thread calibration: mean lat.: 1729.124ms, rate sampling interval: 6688ms
  Thread calibration: mean lat.: 1574.995ms, rate sampling interval: 6082ms
  Thread calibration: mean lat.: 1546.302ms, rate sampling interval: 5631ms
  Thread calibration: mean lat.: 1798.572ms, rate sampling interval: 6504ms
  Thread calibration: mean lat.: 1660.622ms, rate sampling interval: 6332ms
  Thread calibration: mean lat.: 1521.890ms, rate sampling interval: 5795ms
  Thread calibration: mean lat.: 1731.680ms, rate sampling interval: 6561ms
  Thread calibration: mean lat.: 1578.432ms, rate sampling interval: 5816ms
  Thread calibration: mean lat.: 1710.947ms, rate sampling interval: 6180ms
  Thread calibration: mean lat.: 1701.256ms, rate sampling interval: 5828ms
  Thread calibration: mean lat.: 1577.081ms, rate sampling interval: 5738ms
  Thread calibration: mean lat.: 1792.959ms, rate sampling interval: 6393ms
  Thread calibration: mean lat.: 1725.201ms, rate sampling interval: 6479ms
  Thread calibration: mean lat.: 1799.058ms, rate sampling interval: 6373ms
  Thread calibration: mean lat.: 1589.925ms, rate sampling interval: 5615ms
  Thread calibration: mean lat.: 1727.279ms, rate sampling interval: 6328ms
  Thread calibration: mean lat.: 1783.155ms, rate sampling interval: 6266ms
  Thread calibration: mean lat.: 1698.308ms, rate sampling interval: 6356ms
  Thread calibration: mean lat.: 1845.230ms, rate sampling interval: 6533ms
  Thread calibration: mean lat.: 1862.300ms, rate sampling interval: 6471ms
  Thread calibration: mean lat.: 1733.362ms, rate sampling interval: 5943ms
  Thread calibration: mean lat.: 1845.513ms, rate sampling interval: 6524ms
  Thread calibration: mean lat.: 1613.498ms, rate sampling interval: 5914ms
  Thread calibration: mean lat.: 1894.156ms, rate sampling interval: 6746ms
  Thread calibration: mean lat.: 1896.253ms, rate sampling interval: 6582ms
  Thread calibration: mean lat.: 1658.318ms, rate sampling interval: 6311ms
  Thread calibration: mean lat.: 1843.504ms, rate sampling interval: 6299ms
  Thread calibration: mean lat.: 1597.363ms, rate sampling interval: 5763ms
  Thread calibration: mean lat.: 1789.624ms, rate sampling interval: 6135ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    22.38s    10.94s   41.45s    57.85%
    Req/Sec   135.92      2.89   141.00     79.78%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   22.58s 
 75.000%   31.62s 
 90.000%   37.49s 
 99.000%   41.45s 
 99.900%   43.12s 
 99.990%   43.94s 
 99.999%   44.43s 
100.000%   44.53s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2437.119     0.000000            1         1.00
    7278.591     0.100000        71926         1.11
   10960.895     0.200000       143810         1.25
   14745.599     0.300000       215668         1.43
   18743.295     0.400000       287529         1.67
   22577.151     0.500000       359483         2.00
   24395.775     0.550000       395362         2.22
   26181.631     0.600000       431379         2.50
   27951.103     0.650000       467285         2.86
   29769.727     0.700000       503434         3.33
   31621.119     0.750000       539296         4.00
   32636.927     0.775000       557102         4.44
   33685.503     0.800000       575356         5.00
   34701.311     0.825000       593395         5.71
   35651.583     0.850000       611613         6.67
   36569.087     0.875000       629577         8.00
   37027.839     0.887500       638547         8.89
   37486.591     0.900000       647262        10.00
   37945.343     0.912500       656171        11.43
   38404.095     0.925000       665190        13.33
   38895.615     0.937500       674039        16.00
   39157.759     0.943750       678952        17.78
   39387.135     0.950000       683472        20.00
   39649.279     0.956250       687885        22.86
   39911.423     0.962500       692387        26.67
   40206.335     0.968750       696752        32.00
   40370.175     0.971875       699060        35.56
   40501.247     0.975000       700992        40.00
   40665.087     0.978125       703350        45.71
   40828.927     0.981250       705491        53.33
   41025.535     0.984375       707600        64.00
   41156.607     0.985938       708953        71.11
   41254.911     0.987500       709951        80.00
   41385.983     0.989062       711129        91.43
   41517.055     0.990625       712167       106.67
   41680.895     0.992188       713337       128.00
   41746.431     0.992969       713822       142.22
   41844.735     0.993750       714399       160.00
   41975.807     0.994531       715076       182.86
   42074.111     0.995313       715523       213.33
   42205.183     0.996094       716026       256.00
   42270.719     0.996484       716291       284.44
   42369.023     0.996875       716664       320.00
   42467.327     0.997266       716898       365.71
   42598.399     0.997656       717185       426.67
   42729.471     0.998047       717447       512.00
   42827.775     0.998242       717601       568.89
   42893.311     0.998437       717731       640.00
   42991.615     0.998633       717908       731.43
   43057.151     0.998828       718040       853.33
   43122.687     0.999023       718135      1024.00
   43188.223     0.999121       718198      1137.78
   43253.759     0.999219       718268      1280.00
   43352.063     0.999316       718341      1462.86
   43450.367     0.999414       718422      1706.67
   43515.903     0.999512       718498      2048.00
   43548.671     0.999561       718517      2275.56
   43581.439     0.999609       718544      2560.00
   43646.975     0.999658       718586      2925.71
   43679.743     0.999707       718608      3413.33
   43745.279     0.999756       718663      4096.00
   43745.279     0.999780       718663      4551.11
   43778.047     0.999805       718681      5120.00
   43810.815     0.999829       718696      5851.43
   43843.583     0.999854       718717      6826.67
   43876.351     0.999878       718730      8192.00
   43909.119     0.999890       718742      9102.22
   43941.887     0.999902       718748     10240.00
   43974.655     0.999915       718758     11702.86
   44040.191     0.999927       718766     13653.33
   44138.495     0.999939       718774     16384.00
   44204.031     0.999945       718777     18204.44
   44236.799     0.999951       718786     20480.00
   44236.799     0.999957       718786     23405.71
   44302.335     0.999963       718790     27306.67
   44367.871     0.999969       718798     32768.00
   44367.871     0.999973       718798     36408.89
   44400.639     0.999976       718807     40960.00
   44400.639     0.999979       718807     46811.43
   44400.639     0.999982       718807     54613.33
   44400.639     0.999985       718807     65536.00
   44400.639     0.999986       718807     72817.78
   44433.407     0.999988       718811     81920.00
   44433.407     0.999989       718811     93622.86
   44433.407     0.999991       718811    109226.67
   44433.407     0.999992       718811    131072.00
   44466.175     0.999993       718812    145635.56
   44466.175     0.999994       718812    163840.00
   44498.943     0.999995       718814    187245.71
   44498.943     0.999995       718814    218453.33
   44498.943     0.999996       718814    262144.00
   44498.943     0.999997       718814    291271.11
   44498.943     0.999997       718814    327680.00
   44531.711     0.999997       718816    374491.43
   44531.711     1.000000       718816          inf
#[Mean    =    22375.830, StdDeviation   =    10940.865]
#[Max     =    44498.944, Total count    =       718816]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  784607 requests in 2.00m, 160.88MB read
Requests/sec:   6544.85  
Transfer/sec:      1.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52543 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 34972 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52543 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 34972 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.792ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.869ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.734ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.802ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.737ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.885ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.796ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.802ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.935ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.867ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.809ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.868ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.828ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.975ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.864ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.934ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.037ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.733ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.874ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.878ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.855ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.826ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.968ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.030ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.975ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.812ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.804ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.865ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.778ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.784ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.877ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.143ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.864ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.828ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.785ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.782ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.837ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.788ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.778ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.735ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.778ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.840ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.898ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.784ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.744ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.697ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.734ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.076ms, rate sampling interval: 16ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.34ms    2.78ms  17.28ms   68.60%
    Req/Sec    20.59     36.90   142.00     73.24%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.17ms
 75.000%   11.14ms
 90.000%   12.76ms
 99.000%   17.28ms
 99.900%   24.24ms
 99.990%   35.94ms
 99.999%   44.86ms
100.000%   50.24ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.033     0.000000            1         1.00
       6.139     0.100000        10604         1.11
       6.747     0.200000        21208         1.25
       7.359     0.300000        31798         1.43
       8.239     0.400000        42342         1.67
       9.167     0.500000        52984         2.00
       9.583     0.550000        58286         2.22
       9.967     0.600000        63549         2.50
      10.343     0.650000        68848         2.86
      10.735     0.700000        74141         3.33
      11.143     0.750000        79405         4.00
      11.359     0.775000        82093         4.44
      11.583     0.800000        84684         5.00
      11.831     0.825000        87319         5.71
      12.103     0.850000        89971         6.67
      12.407     0.875000        92630         8.00
      12.575     0.887500        93951         8.89
      12.759     0.900000        95294        10.00
      12.959     0.912500        96605        11.43
      13.199     0.925000        97913        13.33
      13.471     0.937500        99230        16.00
      13.631     0.943750        99898        17.78
      13.807     0.950000       100565        20.00
      14.023     0.956250       101215        22.86
      14.295     0.962500       101876        26.67
      14.615     0.968750       102535        32.00
      14.823     0.971875       102869        35.56
      15.047     0.975000       103197        40.00
      15.327     0.978125       103525        45.71
      15.687     0.981250       103860        53.33
      16.103     0.984375       104187        64.00
      16.383     0.985938       104355        71.11
      16.719     0.987500       104522        80.00
      17.055     0.989062       104695        91.43
      17.503     0.990625       104850       106.67
      18.079     0.992188       105017       128.00
      18.335     0.992969       105097       142.22
      18.655     0.993750       105179       160.00
      19.119     0.994531       105264       182.86
      19.583     0.995313       105345       213.33
      20.143     0.996094       105429       256.00
      20.415     0.996484       105468       284.44
      20.799     0.996875       105509       320.00
      21.151     0.997266       105551       365.71
      21.631     0.997656       105592       426.67
      22.255     0.998047       105633       512.00
      22.495     0.998242       105653       568.89
      22.767     0.998437       105674       640.00
      23.151     0.998633       105695       731.43
      23.791     0.998828       105715       853.33
      24.319     0.999023       105737      1024.00
      24.687     0.999121       105746      1137.78
      25.199     0.999219       105757      1280.00
      25.695     0.999316       105767      1462.86
      26.463     0.999414       105777      1706.67
      27.583     0.999512       105788      2048.00
      27.871     0.999561       105793      2275.56
      28.431     0.999609       105798      2560.00
      29.247     0.999658       105803      2925.71
      29.951     0.999707       105809      3413.33
      31.279     0.999756       105814      4096.00
      32.143     0.999780       105816      4551.11
      32.287     0.999805       105819      5120.00
      32.431     0.999829       105821      5851.43
      33.183     0.999854       105824      6826.67
      35.551     0.999878       105827      8192.00
      35.935     0.999890       105828      9102.22
      36.063     0.999902       105829     10240.00
      36.415     0.999915       105830     11702.86
      39.743     0.999927       105832     13653.33
      40.223     0.999939       105833     16384.00
      40.319     0.999945       105834     18204.44
      40.319     0.999951       105834     20480.00
      41.311     0.999957       105835     23405.71
      42.111     0.999963       105836     27306.67
      42.111     0.999969       105836     32768.00
      44.767     0.999973       105837     36408.89
      44.767     0.999976       105837     40960.00
      44.767     0.999979       105837     46811.43
      44.863     0.999982       105838     54613.33
      44.863     0.999985       105838     65536.00
      44.863     0.999986       105838     72817.78
      44.863     0.999988       105838     81920.00
      44.863     0.999989       105838     93622.86
      50.239     0.999991       105839    109226.67
      50.239     1.000000       105839          inf
#[Mean    =        9.339, StdDeviation   =        2.783]
#[Max     =       50.208, Total count    =       105839]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115352 requests in 2.00m, 1.56GB read
Requests/sec:    961.20  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52184 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 32195 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52184 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 32195 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.824ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.514ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.182ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.332ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.102ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.479ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.618ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.235ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.408ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.854ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.654ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.147ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.505ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.265ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.185ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.912ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.288ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.974ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.280ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.292ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.382ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.507ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.318ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.322ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.359ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.450ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.319ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.741ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.141ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.134ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.176ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.520ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.968ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.259ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.546ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.251ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.240ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.058ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 8.053ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.321ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.227ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.474ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.487ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.421ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.415ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.126ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.271ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.108ms, rate sampling interval: 19ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.33ms    2.43ms  16.13ms   81.08%
    Req/Sec   106.47     71.60   300.00     72.29%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.66ms
 75.000%    8.15ms
 90.000%   10.46ms
 99.000%   16.13ms
 99.900%   22.45ms
 99.990%   29.38ms
 99.999%   38.78ms
100.000%   40.77ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.867     0.000000            1         1.00
       5.163     0.100000        54985         1.11
       5.591     0.200000       110163         1.25
       5.939     0.300000       164870         1.43
       6.283     0.400000       220059         1.67
       6.659     0.500000       274960         2.00
       6.875     0.550000       302596         2.22
       7.115     0.600000       329778         2.50
       7.395     0.650000       357316         2.86
       7.735     0.700000       384763         3.33
       8.155     0.750000       412199         4.00
       8.415     0.775000       426285         4.44
       8.703     0.800000       439924         5.00
       9.031     0.825000       453454         5.71
       9.423     0.850000       467229         6.67
       9.895     0.875000       480963         8.00
      10.159     0.887500       487744         8.89
      10.463     0.900000       494587        10.00
      10.799     0.912500       501491        11.43
      11.183     0.925000       508417        13.33
      11.615     0.937500       515211        16.00
      11.863     0.943750       518640        17.78
      12.143     0.950000       522118        20.00
      12.455     0.956250       525504        22.86
      12.823     0.962500       528974        26.67
      13.263     0.968750       532372        32.00
      13.519     0.971875       534091        35.56
      13.807     0.975000       535802        40.00
      14.127     0.978125       537529        45.71
      14.511     0.981250       539227        53.33
      14.975     0.984375       540956        64.00
      15.239     0.985938       541802        71.11
      15.535     0.987500       542655        80.00
      15.887     0.989062       543520        91.43
      16.303     0.990625       544373       106.67
      16.783     0.992188       545242       128.00
      17.055     0.992969       545665       142.22
      17.375     0.993750       546101       160.00
      17.727     0.994531       546522       182.86
      18.143     0.995313       546952       213.33
      18.639     0.996094       547376       256.00
      18.927     0.996484       547589       284.44
      19.263     0.996875       547808       320.00
      19.631     0.997266       548028       365.71
      20.063     0.997656       548234       426.67
      20.559     0.998047       548446       512.00
      20.911     0.998242       548555       568.89
      21.247     0.998437       548664       640.00
      21.615     0.998633       548773       731.43
      22.047     0.998828       548881       853.33
      22.543     0.999023       548985      1024.00
      22.927     0.999121       549038      1137.78
      23.231     0.999219       549090      1280.00
      23.647     0.999316       549147      1462.86
      23.999     0.999414       549198      1706.67
      24.495     0.999512       549251      2048.00
      24.879     0.999561       549278      2275.56
      25.295     0.999609       549305      2560.00
      25.551     0.999658       549332      2925.71
      26.095     0.999707       549359      3413.33
      26.671     0.999756       549386      4096.00
      26.959     0.999780       549399      4551.11
      27.359     0.999805       549414      5120.00
      27.919     0.999829       549427      5851.43
      28.431     0.999854       549439      6826.67
      28.815     0.999878       549453      8192.00
      29.103     0.999890       549459      9102.22
      29.599     0.999902       549466     10240.00
      29.967     0.999915       549474     11702.86
      30.623     0.999927       549479     13653.33
      31.471     0.999939       549486     16384.00
      31.855     0.999945       549489     18204.44
      32.111     0.999951       549493     20480.00
      32.319     0.999957       549496     23405.71
      32.607     0.999963       549499     27306.67
      35.679     0.999969       549503     32768.00
      35.871     0.999973       549504     36408.89
      36.415     0.999976       549506     40960.00
      36.607     0.999979       549508     46811.43
      36.671     0.999982       549509     54613.33
      37.183     0.999985       549511     65536.00
      37.215     0.999986       549512     72817.78
      38.751     0.999988       549513     81920.00
      38.783     0.999989       549514     93622.86
      38.783     0.999991       549514    109226.67
      38.975     0.999992       549515    131072.00
      39.167     0.999993       549516    145635.56
      39.167     0.999994       549516    163840.00
      40.031     0.999995       549517    187245.71
      40.031     0.999995       549517    218453.33
      40.031     0.999996       549517    262144.00
      40.287     0.999997       549518    291271.11
      40.287     0.999997       549518    327680.00
      40.287     0.999997       549518    374491.43
      40.287     0.999998       549518    436906.67
      40.287     0.999998       549518    524288.00
      40.767     0.999998       549519    582542.22
      40.767     1.000000       549519          inf
#[Mean    =        7.334, StdDeviation   =        2.430]
#[Max     =       40.736, Total count    =       549519]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599255 requests in 2.00m, 8.08GB read
Requests/sec:   4996.25  
Transfer/sec:     69.03MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52099 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 31557 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52099 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 31557 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 432.809ms, rate sampling interval: 2883ms
  Thread calibration: mean lat.: 568.648ms, rate sampling interval: 2699ms
  Thread calibration: mean lat.: 555.873ms, rate sampling interval: 2660ms
  Thread calibration: mean lat.: 277.066ms, rate sampling interval: 1338ms
  Thread calibration: mean lat.: 385.616ms, rate sampling interval: 1220ms
  Thread calibration: mean lat.: 240.628ms, rate sampling interval: 1006ms
  Thread calibration: mean lat.: 376.789ms, rate sampling interval: 1718ms
  Thread calibration: mean lat.: 491.838ms, rate sampling interval: 2803ms
  Thread calibration: mean lat.: 370.889ms, rate sampling interval: 1522ms
  Thread calibration: mean lat.: 629.152ms, rate sampling interval: 2650ms
  Thread calibration: mean lat.: 513.937ms, rate sampling interval: 2064ms
  Thread calibration: mean lat.: 339.216ms, rate sampling interval: 1317ms
  Thread calibration: mean lat.: 310.490ms, rate sampling interval: 1228ms
  Thread calibration: mean lat.: 395.995ms, rate sampling interval: 1523ms
  Thread calibration: mean lat.: 320.496ms, rate sampling interval: 1511ms
  Thread calibration: mean lat.: 493.897ms, rate sampling interval: 1802ms
  Thread calibration: mean lat.: 513.373ms, rate sampling interval: 2815ms
  Thread calibration: mean lat.: 303.913ms, rate sampling interval: 1208ms
  Thread calibration: mean lat.: 414.820ms, rate sampling interval: 1735ms
  Thread calibration: mean lat.: 589.059ms, rate sampling interval: 2367ms
  Thread calibration: mean lat.: 371.856ms, rate sampling interval: 1666ms
  Thread calibration: mean lat.: 482.474ms, rate sampling interval: 1980ms
  Thread calibration: mean lat.: 873.375ms, rate sampling interval: 3747ms
  Thread calibration: mean lat.: 497.222ms, rate sampling interval: 2861ms
  Thread calibration: mean lat.: 598.435ms, rate sampling interval: 2643ms
  Thread calibration: mean lat.: 497.433ms, rate sampling interval: 2017ms
  Thread calibration: mean lat.: 665.445ms, rate sampling interval: 3076ms
  Thread calibration: mean lat.: 467.952ms, rate sampling interval: 2902ms
  Thread calibration: mean lat.: 264.031ms, rate sampling interval: 978ms
  Thread calibration: mean lat.: 678.555ms, rate sampling interval: 2682ms
  Thread calibration: mean lat.: 311.067ms, rate sampling interval: 1363ms
  Thread calibration: mean lat.: 388.896ms, rate sampling interval: 1464ms
  Thread calibration: mean lat.: 325.690ms, rate sampling interval: 1422ms
  Thread calibration: mean lat.: 285.075ms, rate sampling interval: 1314ms
  Thread calibration: mean lat.: 361.777ms, rate sampling interval: 1366ms
  Thread calibration: mean lat.: 542.389ms, rate sampling interval: 2036ms
  Thread calibration: mean lat.: 496.469ms, rate sampling interval: 2234ms
  Thread calibration: mean lat.: 259.518ms, rate sampling interval: 1153ms
  Thread calibration: mean lat.: 279.624ms, rate sampling interval: 987ms
  Thread calibration: mean lat.: 561.674ms, rate sampling interval: 2680ms
  Thread calibration: mean lat.: 537.033ms, rate sampling interval: 1973ms
  Thread calibration: mean lat.: 336.470ms, rate sampling interval: 1868ms
  Thread calibration: mean lat.: 529.456ms, rate sampling interval: 2588ms
  Thread calibration: mean lat.: 406.596ms, rate sampling interval: 2207ms
  Thread calibration: mean lat.: 442.249ms, rate sampling interval: 1865ms
  Thread calibration: mean lat.: 880.335ms, rate sampling interval: 3940ms
  Thread calibration: mean lat.: 258.085ms, rate sampling interval: 1093ms
  Thread calibration: mean lat.: 563.673ms, rate sampling interval: 2131ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency   669.88ms    1.82s    9.71s    91.04%
    Req/Sec   208.42     12.25   244.00     75.66%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   15.65ms
 75.000%  144.13ms
 90.000%    2.18s 
 99.000%    9.71s 
 99.900%   12.03s 
 99.990%   12.34s 
 99.999%   12.41s 
100.000%   12.43s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.471     0.000000            1         1.00
       6.775     0.100000       110384         1.11
       7.847     0.200000       220436         1.25
       9.527     0.300000       330375         1.43
      11.927     0.400000       440532         1.67
      15.655     0.500000       550424         2.00
      19.071     0.550000       605512         2.22
      25.711     0.600000       660541         2.50
      42.527     0.650000       715543         2.86
      77.631     0.700000       770574         3.33
     144.127     0.750000       825597         4.00
     207.743     0.775000       853125         4.44
     326.655     0.800000       880657         5.00
     582.655     0.825000       908167         5.71
     943.103     0.850000       935676         6.67
    1412.095     0.875000       963228         8.00
    1780.735     0.887500       976974         8.89
    2183.167     0.900000       990779        10.00
    2562.047     0.912500      1004488        11.43
    3147.775     0.925000      1018302        13.33
    3809.279     0.937500      1032018        16.00
    4151.295     0.943750      1038878        17.78
    4595.711     0.950000      1045756        20.00
    5070.847     0.956250      1052667        22.86
    5570.559     0.962500      1059537        26.67
    6447.103     0.968750      1066417        32.00
    6950.911     0.971875      1069836        35.56
    7417.855     0.975000      1073302        40.00
    7794.687     0.978125      1076734        45.71
    8245.247     0.981250      1080159        53.33
    8675.327     0.984375      1083653        64.00
    8863.743     0.985938      1085362        71.11
    9232.383     0.987500      1087061        80.00
    9609.215     0.989062      1088809        91.43
    9773.055     0.990625      1090552       106.67
    9961.471     0.992188      1092231       128.00
   10051.583     0.992969      1093062       142.22
   10158.079     0.993750      1093945       160.00
   10412.031     0.994531      1094804       182.86
   10641.407     0.995313      1095641       213.33
   10870.783     0.996094      1096503       256.00
   11051.007     0.996484      1096935       284.44
   11255.807     0.996875      1097356       320.00
   11362.303     0.997266      1097790       365.71
   11485.183     0.997656      1098247       426.67
   11657.215     0.998047      1098654       512.00
   11747.327     0.998242      1098874       568.89
   11829.247     0.998437      1099080       640.00
   11911.167     0.998633      1099295       731.43
   11984.895     0.998828      1099541       853.33
   12034.047     0.999023      1099738      1024.00
   12058.623     0.999121      1099839      1137.78
   12091.391     0.999219      1099971      1280.00
   12107.775     0.999316      1100050      1462.86
   12132.351     0.999414      1100194      1706.67
   12148.735     0.999512      1100293      2048.00
   12156.927     0.999561      1100344      2275.56
   12165.119     0.999609      1100384      2560.00
   12181.503     0.999658      1100441      2925.71
   12197.887     0.999707      1100490      3413.33
   12222.463     0.999756      1100537      4096.00
   12230.655     0.999780      1100559      4551.11
   12247.039     0.999805      1100582      5120.00
   12263.423     0.999829      1100607      5851.43
   12296.191     0.999854      1100636      6826.67
   12320.767     0.999878      1100671      8192.00
   12328.959     0.999890      1100681      9102.22
   12337.151     0.999902      1100695     10240.00
   12345.343     0.999915      1100703     11702.86
   12353.535     0.999927      1100717     13653.33
   12369.919     0.999939      1100730     16384.00
   12378.111     0.999945      1100742     18204.44
   12378.111     0.999951      1100742     20480.00
   12386.303     0.999957      1100755     23405.71
   12386.303     0.999963      1100755     27306.67
   12394.495     0.999969      1100762     32768.00
   12402.687     0.999973      1100775     36408.89
   12402.687     0.999976      1100775     40960.00
   12402.687     0.999979      1100775     46811.43
   12402.687     0.999982      1100775     54613.33
   12410.879     0.999985      1100788     65536.00
   12410.879     0.999986      1100788     72817.78
   12410.879     0.999988      1100788     81920.00
   12410.879     0.999989      1100788     93622.86
   12410.879     0.999991      1100788    109226.67
   12410.879     0.999992      1100788    131072.00
   12410.879     0.999993      1100788    145635.56
   12419.071     0.999994      1100789    163840.00
   12427.263     0.999995      1100795    187245.71
   12427.263     1.000000      1100795          inf
#[Mean    =      669.876, StdDeviation   =     1820.710]
#[Max     =    12419.072, Total count    =      1100795]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1194082 requests in 2.00m, 16.11GB read
Requests/sec:   9956.53  
Transfer/sec:    137.57MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50613 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 27561 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50613 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 27561 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.471ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.907ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.435ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.707ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.509ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.432ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.711ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.780ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.885ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.613ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.774ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.521ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.890ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.392ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.720ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.239ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.792ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.080ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.440ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.862ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.831ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.715ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.357ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.724ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.749ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.839ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.624ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.658ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.486ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.849ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.830ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.675ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.327ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.933ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.742ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.708ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.639ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.405ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.624ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.506ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.750ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.551ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.440ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.736ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.605ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.705ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.540ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.574ms, rate sampling interval: 25ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.28ms    2.40ms  16.18ms   71.51%
    Req/Sec    20.30     29.05   125.00     91.26%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.14ms
 75.000%   10.65ms
 90.000%   12.22ms
 99.000%   16.18ms
 99.900%   21.45ms
 99.990%   26.43ms
 99.999%   32.11ms
100.000%   58.17ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.729     0.000000            1         1.00
       6.379     0.100000        10615         1.11
       7.351     0.200000        21190         1.25
       8.019     0.300000        31778         1.43
       8.599     0.400000        42387         1.67
       9.143     0.500000        52957         2.00
       9.423     0.550000        58308         2.22
       9.695     0.600000        63637         2.50
       9.991     0.650000        68906         2.86
      10.311     0.700000        74222         3.33
      10.655     0.750000        79390         4.00
      10.855     0.775000        82090         4.44
      11.071     0.800000        84748         5.00
      11.303     0.825000        87332         5.71
      11.567     0.850000        90018         6.67
      11.871     0.875000        92615         8.00
      12.047     0.887500        93980         8.89
      12.223     0.900000        95257        10.00
      12.431     0.912500        96590        11.43
      12.679     0.925000        97940        13.33
      12.951     0.937500        99247        16.00
      13.103     0.943750        99880        17.78
      13.295     0.950000       100547        20.00
      13.511     0.956250       101210        22.86
      13.743     0.962500       101869        26.67
      14.023     0.968750       102539        32.00
      14.207     0.971875       102865        35.56
      14.423     0.975000       103193        40.00
      14.663     0.978125       103522        45.71
      14.919     0.981250       103850        53.33
      15.255     0.984375       104184        64.00
      15.455     0.985938       104349        71.11
      15.671     0.987500       104512        80.00
      15.967     0.989062       104680        91.43
      16.335     0.990625       104843       106.67
      16.735     0.992188       105008       128.00
      16.927     0.992969       105090       142.22
      17.215     0.993750       105174       160.00
      17.519     0.994531       105257       182.86
      17.887     0.995313       105344       213.33
      18.271     0.996094       105420       256.00
      18.495     0.996484       105462       284.44
      18.783     0.996875       105506       320.00
      19.023     0.997266       105544       365.71
      19.407     0.997656       105586       426.67
      19.791     0.998047       105628       512.00
      20.031     0.998242       105647       568.89
      20.335     0.998437       105668       640.00
      20.543     0.998633       105690       731.43
      20.959     0.998828       105709       853.33
      21.487     0.999023       105732      1024.00
      21.647     0.999121       105740      1137.78
      21.951     0.999219       105751      1280.00
      22.239     0.999316       105761      1462.86
      22.447     0.999414       105771      1706.67
      22.719     0.999512       105782      2048.00
      22.959     0.999561       105788      2275.56
      23.119     0.999609       105792      2560.00
      23.551     0.999658       105797      2925.71
      24.271     0.999707       105802      3413.33
      24.655     0.999756       105808      4096.00
      25.087     0.999780       105811      4551.11
      25.135     0.999805       105813      5120.00
      25.311     0.999829       105815      5851.43
      25.743     0.999854       105818      6826.67
      26.271     0.999878       105821      8192.00
      26.431     0.999890       105822      9102.22
      26.527     0.999902       105823     10240.00
      26.911     0.999915       105824     11702.86
      27.519     0.999927       105826     13653.33
      28.015     0.999939       105827     16384.00
      28.399     0.999945       105828     18204.44
      28.399     0.999951       105828     20480.00
      28.447     0.999957       105829     23405.71
      31.023     0.999963       105830     27306.67
      31.023     0.999969       105830     32768.00
      32.047     0.999973       105831     36408.89
      32.047     0.999976       105831     40960.00
      32.047     0.999979       105831     46811.43
      32.111     0.999982       105832     54613.33
      32.111     0.999985       105832     65536.00
      32.111     0.999986       105832     72817.78
      32.111     0.999988       105832     81920.00
      32.111     0.999989       105832     93622.86
      58.175     0.999991       105833    109226.67
      58.175     1.000000       105833          inf
#[Mean    =        9.281, StdDeviation   =        2.399]
#[Max     =       58.144, Total count    =       105833]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115327 requests in 2.00m, 1.42GB read
Requests/sec:    960.99  
Transfer/sec:     12.08MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51483 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29743 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51483 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 29743 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.528ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.676ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.098ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.552ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.617ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.909ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.682ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.527ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.921ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.983ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.653ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.863ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.530ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.927ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.731ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.706ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.004ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.901ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.312ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.426ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.528ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.965ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.661ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.604ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.410ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.432ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.601ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.449ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.475ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.732ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.893ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.838ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.641ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.430ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.739ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.418ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.149ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.965ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.624ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.466ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.523ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.265ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.921ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.361ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.696ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.605ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.533ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.718ms, rate sampling interval: 19ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.64ms    2.31ms  14.73ms   78.83%
    Req/Sec   106.69     75.78   315.00     71.67%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.09ms
 75.000%    7.53ms
 90.000%    9.55ms
 99.000%   14.73ms
 99.900%   20.59ms
 99.990%   28.91ms
 99.999%   50.08ms
100.000%   55.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.651     0.000000            1         1.00
       4.447     0.100000        55255         1.11
       4.907     0.200000       110160         1.25
       5.299     0.300000       165072         1.43
       5.683     0.400000       219970         1.67
       6.091     0.500000       275088         2.00
       6.315     0.550000       302517         2.22
       6.559     0.600000       329837         2.50
       6.835     0.650000       357379         2.86
       7.151     0.700000       384807         3.33
       7.527     0.750000       412179         4.00
       7.751     0.775000       426126         4.44
       8.003     0.800000       439795         5.00
       8.295     0.825000       453612         5.71
       8.639     0.850000       467372         6.67
       9.039     0.875000       480863         8.00
       9.279     0.887500       487835         8.89
       9.551     0.900000       494783        10.00
       9.855     0.912500       501659        11.43
      10.199     0.925000       508431        13.33
      10.615     0.937500       515324        16.00
      10.855     0.943750       518699        17.78
      11.119     0.950000       522070        20.00
      11.431     0.956250       525527        22.86
      11.775     0.962500       529001        26.67
      12.175     0.968750       532418        32.00
      12.407     0.971875       534143        35.56
      12.663     0.975000       535831        40.00
      12.959     0.978125       537548        45.71
      13.303     0.981250       539245        53.33
      13.703     0.984375       540986        64.00
      13.935     0.985938       541846        71.11
      14.191     0.987500       542678        80.00
      14.511     0.989062       543549        91.43
      14.887     0.990625       544403       106.67
      15.343     0.992188       545252       128.00
      15.575     0.992969       545691       142.22
      15.863     0.993750       546117       160.00
      16.167     0.994531       546541       182.86
      16.543     0.995313       546982       213.33
      17.007     0.996094       547401       256.00
      17.263     0.996484       547617       284.44
      17.583     0.996875       547832       320.00
      17.903     0.997266       548048       365.71
      18.335     0.997656       548259       426.67
      18.783     0.998047       548477       512.00
      19.007     0.998242       548581       568.89
      19.343     0.998437       548688       640.00
      19.695     0.998633       548799       731.43
      20.111     0.998828       548905       853.33
      20.687     0.999023       549009      1024.00
      21.007     0.999121       549064      1137.78
      21.359     0.999219       549115      1280.00
      21.759     0.999316       549169      1462.86
      22.399     0.999414       549223      1706.67
      22.847     0.999512       549276      2048.00
      23.279     0.999561       549303      2275.56
      23.711     0.999609       549330      2560.00
      24.111     0.999658       549357      2925.71
      24.767     0.999707       549384      3413.33
      25.535     0.999756       549410      4096.00
      25.855     0.999780       549424      4551.11
      26.335     0.999805       549437      5120.00
      27.087     0.999829       549451      5851.43
      27.727     0.999854       549465      6826.67
      28.287     0.999878       549477      8192.00
      28.431     0.999890       549484      9102.22
      29.071     0.999902       549491     10240.00
      29.423     0.999915       549498     11702.86
      30.399     0.999927       549504     13653.33
      31.231     0.999939       549511     16384.00
      31.455     0.999945       549514     18204.44
      32.863     0.999951       549519     20480.00
      34.175     0.999957       549522     23405.71
      35.231     0.999963       549524     27306.67
      36.607     0.999969       549528     32768.00
      36.927     0.999973       549529     36408.89
      38.303     0.999976       549531     40960.00
      45.023     0.999979       549533     46811.43
      45.887     0.999982       549534     54613.33
      46.719     0.999985       549536     65536.00
      47.807     0.999986       549537     72817.78
      48.223     0.999988       549538     81920.00
      50.079     0.999989       549539     93622.86
      50.079     0.999991       549539    109226.67
      51.967     0.999992       549540    131072.00
      52.415     0.999993       549541    145635.56
      52.415     0.999994       549541    163840.00
      52.607     0.999995       549542    187245.71
      52.607     0.999995       549542    218453.33
      52.607     0.999996       549542    262144.00
      53.215     0.999997       549543    291271.11
      53.215     0.999997       549543    327680.00
      53.215     0.999997       549543    374491.43
      53.215     0.999998       549543    436906.67
      53.215     0.999998       549543    524288.00
      55.615     0.999998       549544    582542.22
      55.615     1.000000       549544          inf
#[Mean    =        6.644, StdDeviation   =        2.307]
#[Max     =       55.584, Total count    =       549544]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599062 requests in 2.00m, 7.34GB read
Requests/sec:   4994.25  
Transfer/sec:     62.70MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51376 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 27746 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51376 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 27746 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1230.331ms, rate sampling interval: 5804ms
  Thread calibration: mean lat.: 1792.053ms, rate sampling interval: 7356ms
  Thread calibration: mean lat.: 541.761ms, rate sampling interval: 1732ms
  Thread calibration: mean lat.: 1012.158ms, rate sampling interval: 5267ms
  Thread calibration: mean lat.: 626.725ms, rate sampling interval: 3768ms
  Thread calibration: mean lat.: 926.112ms, rate sampling interval: 3362ms
  Thread calibration: mean lat.: 947.463ms, rate sampling interval: 3801ms
  Thread calibration: mean lat.: 676.857ms, rate sampling interval: 2459ms
  Thread calibration: mean lat.: 726.431ms, rate sampling interval: 4284ms
  Thread calibration: mean lat.: 1705.787ms, rate sampling interval: 7868ms
  Thread calibration: mean lat.: 1447.869ms, rate sampling interval: 8388ms
  Thread calibration: mean lat.: 1070.962ms, rate sampling interval: 6205ms
  Thread calibration: mean lat.: 1530.924ms, rate sampling interval: 5468ms
  Thread calibration: mean lat.: 1413.998ms, rate sampling interval: 5484ms
  Thread calibration: mean lat.: 687.264ms, rate sampling interval: 3069ms
  Thread calibration: mean lat.: 843.297ms, rate sampling interval: 5124ms
  Thread calibration: mean lat.: 1173.151ms, rate sampling interval: 4468ms
  Thread calibration: mean lat.: 2225.510ms, rate sampling interval: 7614ms
  Thread calibration: mean lat.: 371.301ms, rate sampling interval: 2250ms
  Thread calibration: mean lat.: 687.698ms, rate sampling interval: 4481ms
  Thread calibration: mean lat.: 1101.897ms, rate sampling interval: 4481ms
  Thread calibration: mean lat.: 1453.837ms, rate sampling interval: 6045ms
  Thread calibration: mean lat.: 1493.627ms, rate sampling interval: 6004ms
  Thread calibration: mean lat.: 788.484ms, rate sampling interval: 3950ms
  Thread calibration: mean lat.: 1667.588ms, rate sampling interval: 7327ms
  Thread calibration: mean lat.: 1076.190ms, rate sampling interval: 4444ms
  Thread calibration: mean lat.: 1948.804ms, rate sampling interval: 8945ms
  Thread calibration: mean lat.: 1102.038ms, rate sampling interval: 4878ms
  Thread calibration: mean lat.: 925.098ms, rate sampling interval: 4784ms
  Thread calibration: mean lat.: 2009.840ms, rate sampling interval: 9428ms
  Thread calibration: mean lat.: 967.744ms, rate sampling interval: 5079ms
  Thread calibration: mean lat.: 1869.769ms, rate sampling interval: 9003ms
  Thread calibration: mean lat.: 1845.570ms, rate sampling interval: 7061ms
  Thread calibration: mean lat.: 794.650ms, rate sampling interval: 2635ms
  Thread calibration: mean lat.: 1260.724ms, rate sampling interval: 4538ms
  Thread calibration: mean lat.: 877.449ms, rate sampling interval: 4239ms
  Thread calibration: mean lat.: 2218.934ms, rate sampling interval: 8396ms
  Thread calibration: mean lat.: 1663.547ms, rate sampling interval: 8298ms
  Thread calibration: mean lat.: 886.321ms, rate sampling interval: 3371ms
  Thread calibration: mean lat.: 1361.136ms, rate sampling interval: 7716ms
  Thread calibration: mean lat.: 920.874ms, rate sampling interval: 5099ms
  Thread calibration: mean lat.: 779.210ms, rate sampling interval: 4313ms
  Thread calibration: mean lat.: 962.189ms, rate sampling interval: 4040ms
  Thread calibration: mean lat.: 1820.591ms, rate sampling interval: 6701ms
  Thread calibration: mean lat.: 961.221ms, rate sampling interval: 4288ms
  Thread calibration: mean lat.: 650.879ms, rate sampling interval: 3145ms
  Thread calibration: mean lat.: 1696.681ms, rate sampling interval: 7102ms
  Thread calibration: mean lat.: 922.394ms, rate sampling interval: 6209ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    15.46s    14.49s    1.02m    74.17%
    Req/Sec   155.36     20.43   194.00     73.12%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.14s 
 75.000%   23.00s 
 90.000%   36.04s 
 99.000%    1.02m 
 99.900%    1.23m 
 99.990%    1.28m 
 99.999%    1.29m 
100.000%    1.30m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       6.683     0.000000            1         1.00
     949.759     0.100000        78588         1.11
    3135.487     0.200000       157200         1.25
    5287.935     0.300000       235701         1.43
    7938.047     0.400000       314307         1.67
   11141.119     0.500000       392964         2.00
   13025.279     0.550000       432277         2.22
   15097.855     0.600000       471447         2.50
   17498.111     0.650000       510804         2.86
   20103.167     0.700000       549958         3.33
   23003.135     0.750000       589340         4.00
   24707.071     0.775000       609034         4.44
   26443.775     0.800000       628702         5.00
   28344.319     0.825000       648212         5.71
   30638.079     0.850000       667819         6.67
   33112.063     0.875000       687512         8.00
   34471.935     0.887500       697327         8.89
   36044.799     0.900000       707201        10.00
   37879.807     0.912500       716935        11.43
   40206.335     0.925000       726837        13.33
   42696.703     0.937500       736672        16.00
   43974.655     0.943750       741521        17.78
   45449.215     0.950000       746447        20.00
   47087.615     0.956250       751294        22.86
   48955.391     0.962500       756241        26.67
   50855.935     0.968750       761146        32.00
   51904.511     0.971875       763589        35.56
   53084.159     0.975000       766014        40.00
   54362.111     0.978125       768516        45.71
   55771.135     0.981250       770932        53.33
   57409.535     0.984375       773396        64.00
   58392.575     0.985938       774623        71.11
   59473.919     0.987500       775837        80.00
   60522.495     0.989062       777081        91.43
   61800.447     0.990625       778289       106.67
   63438.847     0.992188       779529       128.00
   64323.583     0.992969       780134       142.22
   65306.623     0.993750       780749       160.00
   66453.503     0.994531       781359       182.86
   67829.759     0.995313       782001       213.33
   69009.407     0.996094       782588       256.00
   69599.231     0.996484       782916       284.44
   70189.055     0.996875       783225       320.00
   70844.415     0.997266       783518       365.71
   71499.775     0.997656       783838       426.67
   72155.135     0.998047       784140       512.00
   72482.815     0.998242       784296       568.89
   72810.495     0.998437       784443       640.00
   73269.247     0.998633       784598       731.43
   73662.463     0.998828       784739       853.33
   74186.751     0.999023       784913      1024.00
   74383.359     0.999121       784980      1137.78
   74579.967     0.999219       785070      1280.00
   74711.039     0.999316       785123      1462.86
   74973.183     0.999414       785207      1706.67
   75235.327     0.999512       785280      2048.00
   75366.399     0.999561       785319      2275.56
   75497.471     0.999609       785357      2560.00
   75694.079     0.999658       785398      2925.71
   75825.151     0.999707       785426      3413.33
   76087.295     0.999756       785468      4096.00
   76218.367     0.999780       785490      4551.11
   76283.903     0.999805       785501      5120.00
   76480.511     0.999829       785527      5851.43
   76611.583     0.999854       785540      6826.67
   76742.655     0.999878       785560      8192.00
   76808.191     0.999890       785569      9102.22
   76939.263     0.999902       785586     10240.00
   77004.799     0.999915       785590     11702.86
   77135.871     0.999927       785603     13653.33
   77201.407     0.999939       785608     16384.00
   77266.943     0.999945       785614     18204.44
   77332.479     0.999951       785620     20480.00
   77398.015     0.999957       785624     23405.71
   77463.551     0.999963       785635     27306.67
   77463.551     0.999969       785635     32768.00
   77463.551     0.999973       785635     36408.89
   77463.551     0.999976       785635     40960.00
   77529.087     0.999979       785640     46811.43
   77529.087     0.999982       785640     54613.33
   77594.623     0.999985       785645     65536.00
   77594.623     0.999986       785645     72817.78
   77594.623     0.999988       785645     81920.00
   77660.159     0.999989       785647     93622.86
   77660.159     0.999991       785647    109226.67
   77725.695     0.999992       785649    131072.00
   77725.695     0.999993       785649    145635.56
   77791.231     0.999994       785651    163840.00
   77791.231     0.999995       785651    187245.71
   77791.231     0.999995       785651    218453.33
   77856.767     0.999996       785653    262144.00
   77856.767     0.999997       785653    291271.11
   77856.767     0.999997       785653    327680.00
   77856.767     0.999997       785653    374491.43
   77856.767     0.999998       785653    436906.67
   77856.767     0.999998       785653    524288.00
   77856.767     0.999998       785653    582542.22
   77856.767     0.999998       785653    655360.00
   77856.767     0.999999       785653    748982.86
   77922.303     0.999999       785654    873813.33
   77922.303     1.000000       785654          inf
#[Mean    =    15461.757, StdDeviation   =    14488.873]
#[Max     =    77856.768, Total count    =       785654]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  857029 requests in 2.00m, 10.49GB read
Requests/sec:   7147.78  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50858 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 25342 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50858 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 25342 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
026d50cedb421ce1017847b24b64d1790b142a23bd743e12ee995e52bb1534b4
5ced1fa684207dc88b28f345a2856e81b00e67138abee3446c3c0f69249d677e
864fc907c1f8d3b8f7cd9c270edd6f1c1ccd9681b8d94166cc3b4ab1435b6b9d
ccc1f311892c258dfd01d49bcbf0019285704b14be26153106f33243034ee8ce
cc5cd6d4cd01ff5470d56a3ad82e3736b011ab40595b1ca0c9edbcfbdb875e87
d8a70b83d88b215e8bb42b340d58de91d6ff1f573826f564b8423a002406d6a6
231e62d632e6d8485bbe2eab47411320c85f0d0364ff7e9ab13bc9b427bb73d0
5f5e124842ad6c8f81176cbaed5ca6e91bad89f95605f9edd2941807dd997fde
e50e75db0dc9c13c605ccd5d57857b3f531e9c5e9bb55eed1f688e7f7a2f2730
43648dd42bbf801391a826a174f6a2e1b22f1fcff29dfb04a7124b7df2340677
f470fe99e99b36059f5fd566cfe915623b0c7e11f1d4046f17a336beb677a4a0
1d8c1322c553bc7497dad0175e7db8629a0296bf90c5006a4d4839adba878444
ef76ebf073844441e7f962d8a19c8769ba3e2839e6dd33cca4fcec90ab6c1427
fb90a559ddabd6c842a3372c9751b03d205e64cd8be4d4123929ca6e7b50a8f0
7191dc5fe8667b4a9d39d5fbb40889a65d61fae8aa570c0d10d617e558b0ce4b
21fac92bf789404a055bc8bb8660b41c28b5a2931845d5a89e7dbabfe0fe717e
963a3899e414ec95dc1ce825a351bfff0930e1a17ff78e26077d6547e07eb79f
ca26990bbe9818ae22052ae2754f5b2ef831401a9797ec49443845e28176c683
5682ead27b5faaa9a4cfecb9175aa0ff19342651e1037cfd329b6293d3ef70b5
7d42ef6a2bb29c595712c103e15f8006077d7c64bc4c88719c1b10b43c83e9da
9b114e06787ea8785b26088a137a2b3c25d792591820cdd3260c64fbfe7e81ec
431ba88fdbd427f8ba428f3255d40ad2ddffc0ac9c29123ae214c19782c228ab
fc8b2c0a6a818a5b339115f49c43c3949309b7419d7b2db15409d3414eff266f
f00062d893a9c11f92d7b9e0d508d787ccd73db5dc2589cddae875ebaef26352
a9b1661564135e8ae085986cf3b6aa5f5f7bc406fedd7d26ee485b11162aed1b
e995d5f946e991c0974e33552c65b4e7148ffbb583d9fe82682f6e04c868aa54
16819fd8968040b629ca1dd9e3203321354beeb294e481891a622e67be5f8c6a
3b20320ee6aa4f8a7fca03725fde9f61ceda82e929aa2b52772a15ca0dc2a788
90b1f9c3b162c9c9bce869d8f014a86f3aafc037a5593864ce676bba17cef51d
4f31e8d91e0519a6aa43fa9a5e928c8b9d6a3bd67e1bd8e71e2dd8d5fbadd1a3
3f95374e8653a050e44eed408d41afd9b3b4ea45e070e4dbfde5440879324340

Total reclaimed space: 4.598GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m m -M 2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 17-42-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-2.log -b True -m m -M 2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 17-42-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-2.log', 'mode': 'm', 'memnode': '2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-membind-2
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-membind-2



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-membind-2

Result: sha256:fd0c96bc2fc6c7e30e6e6498148b3022c43dba4c7f974f8d4f089a834d3de952


Install numactl tools on docker image: media-frontend-numa-membind-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-membind-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-membind-2

Result: sha256:92eeb3f795701e17418aea4eb23474e7ec92a1bf93df42bc51a754131fa8c3c1


Install numactl tools on docker image: openresty-thrift-numa-membind-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-membind-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-membind-2

Result: sha256:1250c44575c5d2d8ef0556968a37f65046d1691ad958da2e39eba5f9c254ca65


Install numactl tools on docker image: memcached-numa-membind-2
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_url-shorten-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 160 Oct 12 00:43 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_url-shorten-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 memcached "$@"


CMD: docker image rm -f memcached-numa-membind-2



CMD: docker commit socialnetwork_url-shorten-memcached_1 memcached-numa-membind-2

Result: sha256:42d0ae3752ca1e670061b52be2b4ecba006c6078669ada6da301079661fd5f39


Install numactl tools on docker image: mongo-numa-membind-2
CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 12 00:43 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --membind=2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-membind-2



CMD: docker commit socialnetwork_media-mongodb_1 mongo-numa-membind-2

Result: sha256:37ac635b16de8d4766b6e6c140a13500fc4e256f2b89e859641fc3bea421530b


Install numactl tools on docker image: redis-numa-membind-2
CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-redis_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-redis_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 697 Oct 12 00:43 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --membind=2 redis-server "$@"


CMD: docker image rm -f redis-numa-membind-2



CMD: docker commit socialnetwork_social-graph-redis_1 redis-numa-membind-2

Result: sha256:c7d958370427c8d45e366036d13a89164c021553e4dc07b3dc5f18db6af73281


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
d22159028407f89f9511206af225a12aef101ba4d096f60faa23db0ac07f7e2c
d8266edad9898e3ca4441aa26b3fec5071ba73689366872e57e7cc72a18dc9c5
4a52e0362bf0faad32633f82d05a71ebf2b7d8ab8614d3049b9db57e075b265d
ce7e4c9d7f3c90f23113a9184e30583c3dd0603cdbd96bd3ebd5e366e71f4db7
4f699341141499e20acc8699a1d1f2450208e0285a751ad06b453635111037f9
291d9cb73fbd67f1b729dc308392e7f7f2afbeb4d29fff01784bfa7ff14fbc9d
cf8424322c716806a1136715f3c899939709dab64c258f7d1c574dccf293bf4c
f35b6d6f7aa26f54fc3db85e6b13d79ea8db597b4004b2df49ff13710056e7ae
368ae05e3db1a11d282393b83f3b41fab7fc10b00803a8fa862654157a9ab37d
0f16aa3b797bac2ab6c230b673686996eaa210fdba4a359fc3396ab530ea2c13
e68d4139470148297058245c763e4274fb58f29692e4f90f4fbec1b0c1651cac
5fd816c2c1569dc7963043aa602eda35bbe37c78b5b93d6a012b485a67b09e16
778dce9f05e87c5614a2d6ed50a55373a7cc369d179f6732331ee96710bb808b
34f6c2ce456fd3bcdfb1b2496e7c9c4adfeb223b0f5a47697875fe251f08f854
a75374a8210ecdbf3dd03b59721cf6a983f4c4a242596e907dd20232b93bf71d
1af4d59354c9044b30df2935264a78963235bf37ae9b863a7e82400852e04e7a
57d766d34640e8695a51be9d55858d65c79167fd33bca020a052a6d0c9d451d4
75dc320e568dd5eac323aff075957de29aac1272a5a8cdf8e192eefd31890488
3cfd34e8f3ddf23317efb3217cabbbaa61fe1e0dc66281d4ce6e52102fe7a910
000dfc60d04b0412223239fd1baa6d2a196207cc91c5eb69cf779dc993eae7ca
4c2992f82e03c41ec66b889f6b4eb5fad72a3b0cde2c25fe6376a30fc190883d
ae59a7a6e7a031ddc0907ed3fcfb0ac3af8066e9dad8b2b8ff4f51694525962d
49410f49bd7cc137aecd74859739e2252458199e0ae709399a2b5d7fdcfc5cf2
ba54f97b44d0a4380ad635f0ce708263bc26bfd98d9f07cd66ab2b7839ca108d
a0914b73829f69ab0d54841b01c5f5d5bfbfd83a245a6af504aa354b08301bf4
9d78b016d39f4f03aa12249d94dd762462e5967ced2b98f5fd7e7bd4e0a3620c
d17cfffa4c74e80b25a23de07bfc7cb00d9541f55a8f9567740108aa5d8ee247
d8fcb63049e9f914fdb0bdc2669a439e04696bfaa107af36d6b359c785aa29b4
64a60bc4b161a6507fedc157beb7d5ee6da11fe430433354d2ac28a9b05e34d6
bb4fc3952abc46a71244f532d4c451d69cf1afff3a4ba5d8781e16dce4ef437e
ecaa92689890a914cee895cb63d905ae531faa215d1e1064bf7759db37f99e11

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-membind-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54243 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58342 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130204 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54243 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58342 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130204 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:454
cluster_stats_messages_pong_sent:447
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:902
cluster_stats_messages_ping_received:447
cluster_stats_messages_pong_received:455
cluster_stats_messages_received:902
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:446
cluster_stats_messages_pong_sent:467
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:914
cluster_stats_messages_ping_received:467
cluster_stats_messages_pong_received:447
cluster_stats_messages_received:914
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:3
cluster_stats_messages_ping_sent:445
cluster_stats_messages_pong_sent:451
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:897
cluster_stats_messages_ping_received:451
cluster_stats_messages_pong_received:446
cluster_stats_messages_received:897
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.189ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.250ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.307ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.328ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.451ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.623ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.308ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.366ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.521ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.480ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.296ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.205ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.094ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.548ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.298ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.585ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.359ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.710ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.340ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.142ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.541ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.712ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.279ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.563ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.564ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.186ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.172ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.177ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.310ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.156ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.490ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.792ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.436ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.135ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.149ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.638ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.094ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.799ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.221ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.449ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.489ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.111ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.329ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.274ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.492ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.458ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.077ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.371ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.10ms    1.43ms   9.02ms   89.54%
    Req/Sec    20.72     40.86   166.00     77.22%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.91ms
 75.000%    5.53ms
 90.000%    6.26ms
 99.000%    9.02ms
 99.900%   19.90ms
 99.990%   45.73ms
 99.999%   48.58ms
100.000%   51.10ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.135     0.000000            1         1.00
       3.993     0.100000        10599         1.11
       4.279     0.200000        21295         1.25
       4.499     0.300000        31805         1.43
       4.703     0.400000        42511         1.67
       4.907     0.500000        53121         2.00
       5.015     0.550000        58396         2.22
       5.127     0.600000        63685         2.50
       5.247     0.650000        68908         2.86
       5.379     0.700000        74127         3.33
       5.535     0.750000        79520         4.00
       5.615     0.775000        82100         4.44
       5.711     0.800000        84764         5.00
       5.819     0.825000        87413         5.71
       5.939     0.850000        90002         6.67
       6.079     0.875000        92636         8.00
       6.163     0.887500        93944         8.89
       6.259     0.900000        95301        10.00
       6.371     0.912500        96624        11.43
       6.499     0.925000        97919        13.33
       6.655     0.937500        99241        16.00
       6.751     0.943750        99909        17.78
       6.847     0.950000       100565        20.00
       6.979     0.956250       101233        22.86
       7.135     0.962500       101890        26.67
       7.339     0.968750       102545        32.00
       7.459     0.971875       102876        35.56
       7.603     0.975000       103205        40.00
       7.775     0.978125       103537        45.71
       7.999     0.981250       103868        53.33
       8.271     0.984375       104198        64.00
       8.447     0.985938       104375        71.11
       8.639     0.987500       104536        80.00
       8.863     0.989062       104698        91.43
       9.143     0.990625       104862       106.67
       9.463     0.992188       105026       128.00
       9.679     0.992969       105107       142.22
       9.975     0.993750       105191       160.00
      10.239     0.994531       105273       182.86
      10.663     0.995313       105355       213.33
      11.159     0.996094       105440       256.00
      11.615     0.996484       105479       284.44
      12.175     0.996875       105521       320.00
      13.503     0.997266       105562       365.71
      14.639     0.997656       105603       426.67
      16.151     0.998047       105645       512.00
      16.703     0.998242       105665       568.89
      17.455     0.998437       105686       640.00
      18.175     0.998633       105708       731.43
      18.751     0.998828       105728       853.33
      20.303     0.999023       105748      1024.00
      21.727     0.999121       105758      1137.78
      23.471     0.999219       105769      1280.00
      24.911     0.999316       105779      1462.86
      26.479     0.999414       105789      1706.67
      29.855     0.999512       105800      2048.00
      32.063     0.999561       105805      2275.56
      35.391     0.999609       105810      2560.00
      36.223     0.999658       105815      2925.71
      38.367     0.999707       105820      3413.33
      39.711     0.999756       105827      4096.00
      39.743     0.999780       105828      4551.11
      40.095     0.999805       105832      5120.00
      40.159     0.999829       105833      5851.43
      44.511     0.999854       105836      6826.67
      45.535     0.999878       105839      8192.00
      45.727     0.999890       105840      9102.22
      46.655     0.999902       105841     10240.00
      46.783     0.999915       105842     11702.86
      47.359     0.999927       105844     13653.33
      47.551     0.999939       105845     16384.00
      47.935     0.999945       105846     18204.44
      47.935     0.999951       105846     20480.00
      48.127     0.999957       105847     23405.71
      48.191     0.999963       105848     27306.67
      48.191     0.999969       105848     32768.00
      48.223     0.999973       105849     36408.89
      48.223     0.999976       105849     40960.00
      48.223     0.999979       105849     46811.43
      48.575     0.999982       105850     54613.33
      48.575     0.999985       105850     65536.00
      48.575     0.999986       105850     72817.78
      48.575     0.999988       105850     81920.00
      48.575     0.999989       105850     93622.86
      51.103     0.999991       105851    109226.67
      51.103     1.000000       105851          inf
#[Mean    =        5.103, StdDeviation   =        1.429]
#[Max     =       51.072, Total count    =       105851]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115385 requests in 2.00m, 23.66MB read
Requests/sec:    961.52  
Transfer/sec:    201.88KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53874 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57362 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128431 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53874 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57362 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 128431 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.112ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.575ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.954ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 8.300ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 8.551ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 10.853ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.534ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.177ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 10.081ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 9.225ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.559ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.638ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.671ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.052ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 8.034ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.939ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 8.097ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.336ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.200ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.605ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.116ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 8.759ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.770ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.791ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.294ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.677ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.668ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.204ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.650ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.649ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.801ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.439ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.743ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.868ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 7.968ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.298ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.399ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.998ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.792ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 8.005ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.704ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.620ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.505ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 9.389ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 8.708ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.888ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.201ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 9.408ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.14ms   15.29ms  59.20ms   98.32%
    Req/Sec   107.31     85.08   357.00     62.25%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.09ms
 75.000%    4.95ms
 90.000%    6.78ms
 99.000%   59.20ms
 99.900%  245.12ms
 99.990%  331.52ms
 99.999%  391.93ms
100.000%  413.95ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.285     0.000000            1         1.00
       3.283     0.100000        55329         1.11
       3.499     0.200000       110355         1.25
       3.687     0.300000       165097         1.43
       3.875     0.400000       219999         1.67
       4.087     0.500000       275106         2.00
       4.211     0.550000       302252         2.22
       4.351     0.600000       329760         2.50
       4.507     0.650000       357290         2.86
       4.699     0.700000       384632         3.33
       4.947     0.750000       412208         4.00
       5.107     0.775000       426072         4.44
       5.299     0.800000       439662         5.00
       5.531     0.825000       453299         5.71
       5.835     0.850000       467029         6.67
       6.235     0.875000       480792         8.00
       6.487     0.887500       487707         8.89
       6.775     0.900000       494514        10.00
       7.115     0.912500       501353        11.43
       7.523     0.925000       508226        13.33
       8.051     0.937500       515090        16.00
       8.383     0.943750       518501        17.78
       8.775     0.950000       521938        20.00
       9.303     0.956250       525367        22.86
       9.975     0.962500       528807        26.67
      10.983     0.968750       532245        32.00
      11.687     0.971875       533958        35.56
      12.751     0.975000       535666        40.00
      14.479     0.978125       537382        45.71
      17.423     0.981250       539101        53.33
      25.295     0.984375       540815        64.00
      32.111     0.985938       541673        71.11
      41.087     0.987500       542534        80.00
      51.935     0.989062       543392        91.43
      64.415     0.990625       544248       106.67
      80.191     0.992188       545106       128.00
      88.767     0.992969       545541       142.22
      98.495     0.993750       545965       160.00
     110.463     0.994531       546395       182.86
     122.687     0.995313       546823       213.33
     136.959     0.996094       547253       256.00
     147.071     0.996484       547469       284.44
     157.055     0.996875       547683       320.00
     169.727     0.997266       547896       365.71
     184.063     0.997656       548112       426.67
     198.911     0.998047       548326       512.00
     208.511     0.998242       548433       568.89
     215.935     0.998437       548541       640.00
     224.639     0.998633       548648       731.43
     235.647     0.998828       548755       853.33
     247.423     0.999023       548862      1024.00
     252.799     0.999121       548917      1137.78
     258.559     0.999219       548970      1280.00
     264.447     0.999316       549024      1462.86
     269.567     0.999414       549077      1706.67
     275.199     0.999512       549130      2048.00
     279.039     0.999561       549157      2275.56
     283.135     0.999609       549184      2560.00
     287.999     0.999658       549211      2925.71
     293.887     0.999707       549240      3413.33
     300.031     0.999756       549266      4096.00
     302.847     0.999780       549279      4551.11
     305.919     0.999805       549293      5120.00
     310.527     0.999829       549305      5851.43
     316.159     0.999854       549319      6826.67
     322.815     0.999878       549331      8192.00
     327.935     0.999890       549338      9102.22
     332.287     0.999902       549345     10240.00
     336.639     0.999915       549353     11702.86
     340.735     0.999927       549358     13653.33
     346.879     0.999939       549365     16384.00
     350.975     0.999945       549368     18204.44
     353.279     0.999951       549372     20480.00
     355.839     0.999957       549375     23405.71
     361.215     0.999963       549378     27306.67
     365.567     0.999969       549382     32768.00
     371.711     0.999973       549383     36408.89
     374.271     0.999976       549385     40960.00
     375.807     0.999979       549387     46811.43
     378.367     0.999982       549388     54613.33
     383.999     0.999985       549390     65536.00
     385.279     0.999986       549391     72817.78
     391.167     0.999988       549392     81920.00
     391.935     0.999989       549393     93622.86
     391.935     0.999991       549393    109226.67
     393.215     0.999992       549394    131072.00
     393.471     0.999993       549395    145635.56
     393.471     0.999994       549395    163840.00
     394.495     0.999995       549396    187245.71
     394.495     0.999995       549396    218453.33
     394.495     0.999996       549396    262144.00
     397.567     0.999997       549397    291271.11
     397.567     0.999997       549397    327680.00
     397.567     0.999997       549397    374491.43
     397.567     0.999998       549397    436906.67
     397.567     0.999998       549397    524288.00
     413.951     0.999998       549398    582542.22
     413.951     1.000000       549398          inf
#[Mean    =        6.140, StdDeviation   =       15.285]
#[Max     =      413.696, Total count    =       549398]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599148 requests in 2.00m, 122.85MB read
Requests/sec:   4996.99  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53342 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54435 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122822 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 53342 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54435 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122822 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1574.169ms, rate sampling interval: 5996ms
  Thread calibration: mean lat.: 1433.380ms, rate sampling interval: 5197ms
  Thread calibration: mean lat.: 1734.241ms, rate sampling interval: 6373ms
  Thread calibration: mean lat.: 1619.610ms, rate sampling interval: 5840ms
  Thread calibration: mean lat.: 1606.115ms, rate sampling interval: 5926ms
  Thread calibration: mean lat.: 1623.386ms, rate sampling interval: 6090ms
  Thread calibration: mean lat.: 1627.817ms, rate sampling interval: 5984ms
  Thread calibration: mean lat.: 1588.963ms, rate sampling interval: 5701ms
  Thread calibration: mean lat.: 1871.328ms, rate sampling interval: 6950ms
  Thread calibration: mean lat.: 1636.574ms, rate sampling interval: 6008ms
  Thread calibration: mean lat.: 1578.966ms, rate sampling interval: 6115ms
  Thread calibration: mean lat.: 1544.148ms, rate sampling interval: 5701ms
  Thread calibration: mean lat.: 1561.109ms, rate sampling interval: 5562ms
  Thread calibration: mean lat.: 1467.341ms, rate sampling interval: 5468ms
  Thread calibration: mean lat.: 1596.610ms, rate sampling interval: 5718ms
  Thread calibration: mean lat.: 1601.055ms, rate sampling interval: 6135ms
  Thread calibration: mean lat.: 1538.226ms, rate sampling interval: 5566ms
  Thread calibration: mean lat.: 1780.098ms, rate sampling interval: 6713ms
  Thread calibration: mean lat.: 1860.671ms, rate sampling interval: 6557ms
  Thread calibration: mean lat.: 1725.852ms, rate sampling interval: 6148ms
  Thread calibration: mean lat.: 1667.043ms, rate sampling interval: 6029ms
  Thread calibration: mean lat.: 1551.347ms, rate sampling interval: 5931ms
  Thread calibration: mean lat.: 1696.652ms, rate sampling interval: 6361ms
  Thread calibration: mean lat.: 1748.236ms, rate sampling interval: 6402ms
  Thread calibration: mean lat.: 1560.463ms, rate sampling interval: 5525ms
  Thread calibration: mean lat.: 1766.517ms, rate sampling interval: 6496ms
  Thread calibration: mean lat.: 1697.530ms, rate sampling interval: 6295ms
  Thread calibration: mean lat.: 1641.352ms, rate sampling interval: 5984ms
  Thread calibration: mean lat.: 1539.916ms, rate sampling interval: 5812ms
  Thread calibration: mean lat.: 1738.239ms, rate sampling interval: 6508ms
  Thread calibration: mean lat.: 1617.712ms, rate sampling interval: 6078ms
  Thread calibration: mean lat.: 1754.969ms, rate sampling interval: 6529ms
  Thread calibration: mean lat.: 1592.163ms, rate sampling interval: 5898ms
  Thread calibration: mean lat.: 1694.430ms, rate sampling interval: 6295ms
  Thread calibration: mean lat.: 1895.369ms, rate sampling interval: 6840ms
  Thread calibration: mean lat.: 1687.714ms, rate sampling interval: 6561ms
  Thread calibration: mean lat.: 1640.136ms, rate sampling interval: 5865ms
  Thread calibration: mean lat.: 1696.210ms, rate sampling interval: 6000ms
  Thread calibration: mean lat.: 1578.418ms, rate sampling interval: 5595ms
  Thread calibration: mean lat.: 1729.054ms, rate sampling interval: 6242ms
  Thread calibration: mean lat.: 1779.329ms, rate sampling interval: 6533ms
  Thread calibration: mean lat.: 1678.015ms, rate sampling interval: 6246ms
  Thread calibration: mean lat.: 1669.233ms, rate sampling interval: 5996ms
  Thread calibration: mean lat.: 1685.178ms, rate sampling interval: 6017ms
  Thread calibration: mean lat.: 1672.296ms, rate sampling interval: 6217ms
  Thread calibration: mean lat.: 1711.883ms, rate sampling interval: 5980ms
  Thread calibration: mean lat.: 1934.774ms, rate sampling interval: 6488ms
  Thread calibration: mean lat.: 1776.470ms, rate sampling interval: 6328ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    22.43s    10.96s   41.55s    57.61%
    Req/Sec   135.97      3.09   140.00     87.66%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   22.51s 
 75.000%   31.90s 
 90.000%   37.55s 
 99.000%   41.55s 
 99.900%   43.45s 
 99.990%   44.50s 
 99.999%   44.76s 
100.000%   44.83s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2377.727     0.000000            1         1.00
    7303.167     0.100000        72047         1.11
   11010.047     0.200000       144176         1.25
   14729.215     0.300000       216100         1.43
   18890.751     0.400000       288059         1.67
   22511.615     0.500000       360164         2.00
   24313.855     0.550000       396068         2.22
   26148.863     0.600000       432277         2.50
   27983.871     0.650000       468166         2.86
   29868.031     0.700000       504218         3.33
   31899.647     0.750000       540180         4.00
   32899.071     0.775000       558204         4.44
   33816.575     0.800000       576234         5.00
   34766.847     0.825000       594464         5.71
   35684.351     0.850000       612296         6.67
   36634.623     0.875000       630635         8.00
   37060.607     0.887500       639236         8.89
   37552.127     0.900000       648647        10.00
   38010.879     0.912500       657289        11.43
   38469.631     0.925000       666195        13.33
   38961.151     0.937500       675208        16.00
   39223.295     0.943750       680097        17.78
   39452.671     0.950000       684421        20.00
   39714.815     0.956250       689031        22.86
   39976.959     0.962500       693368        26.67
   40271.871     0.968750       697786        32.00
   40435.711     0.971875       700321        35.56
   40566.783     0.975000       702134        40.00
   40763.391     0.978125       704544        45.71
   40927.231     0.981250       706616        53.33
   41156.607     0.984375       709159        64.00
   41254.911     0.985938       710137        71.11
   41353.215     0.987500       711135        80.00
   41484.287     0.989062       712384        91.43
   41615.359     0.990625       713475       106.67
   41779.199     0.992188       714517       128.00
   41877.503     0.992969       715139       142.22
   41975.807     0.993750       715659       160.00
   42106.879     0.994531       716277       182.86
   42205.183     0.995313       716739       213.33
   42369.023     0.996094       717419       256.00
   42434.559     0.996484       717640       284.44
   42532.863     0.996875       717956       320.00
   42631.167     0.997266       718192       365.71
   42762.239     0.997656       718432       426.67
   42893.311     0.998047       718721       512.00
   42991.615     0.998242       718873       568.89
   43089.919     0.998437       719002       640.00
   43188.223     0.998633       719132       731.43
   43319.295     0.998828       719280       853.33
   43483.135     0.999023       719415      1024.00
   43548.671     0.999121       719475      1137.78
   43614.207     0.999219       719544      1280.00
   43679.743     0.999316       719619      1462.86
   43745.279     0.999414       719695      1706.67
   43843.583     0.999512       719765      2048.00
   43909.119     0.999561       719804      2275.56
   43974.655     0.999609       719844      2560.00
   44007.423     0.999658       719867      2925.71
   44072.959     0.999707       719915      3413.33
   44105.727     0.999756       719937      4096.00
   44171.263     0.999780       719954      4551.11
   44204.031     0.999805       719968      5120.00
   44269.567     0.999829       719985      5851.43
   44367.871     0.999854       720011      6826.67
   44400.639     0.999878       720025      8192.00
   44433.407     0.999890       720029      9102.22
   44498.943     0.999902       720037     10240.00
   44531.711     0.999915       720047     11702.86
   44564.479     0.999927       720058     13653.33
   44597.247     0.999939       720069     16384.00
   44597.247     0.999945       720069     18204.44
   44630.015     0.999951       720080     20480.00
   44630.015     0.999957       720080     23405.71
   44630.015     0.999963       720080     27306.67
   44662.783     0.999969       720087     32768.00
   44662.783     0.999973       720087     36408.89
   44695.551     0.999976       720095     40960.00
   44695.551     0.999979       720095     46811.43
   44695.551     0.999982       720095     54613.33
   44728.319     0.999985       720097     65536.00
   44728.319     0.999986       720097     72817.78
   44761.087     0.999988       720101     81920.00
   44761.087     0.999989       720101     93622.86
   44761.087     0.999991       720101    109226.67
   44761.087     0.999992       720101    131072.00
   44793.855     0.999993       720105    145635.56
   44793.855     0.999994       720105    163840.00
   44793.855     0.999995       720105    187245.71
   44793.855     0.999995       720105    218453.33
   44793.855     0.999996       720105    262144.00
   44793.855     0.999997       720105    291271.11
   44793.855     0.999997       720105    327680.00
   44793.855     0.999997       720105    374491.43
   44793.855     0.999998       720105    436906.67
   44793.855     0.999998       720105    524288.00
   44793.855     0.999998       720105    582542.22
   44793.855     0.999998       720105    655360.00
   44826.623     0.999999       720106    748982.86
   44826.623     1.000000       720106          inf
#[Mean    =    22434.053, StdDeviation   =    10964.098]
#[Max     =    44793.856, Total count    =       720106]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  785880 requests in 2.00m, 161.14MB read
Requests/sec:   6554.56  
Transfer/sec:      1.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52397 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50766 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114052 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52397 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50766 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114052 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.600ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.874ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.750ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.775ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.762ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.804ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.782ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.011ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.792ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.800ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.766ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.654ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.924ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.643ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.839ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.759ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.834ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.816ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.735ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.698ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.854ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.851ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.750ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.722ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.835ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.661ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.885ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.894ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.771ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.967ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.827ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.662ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.926ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.750ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.728ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.805ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.873ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.722ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.815ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.676ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.641ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.667ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.769ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.727ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.825ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.801ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.754ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.791ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.50ms    2.88ms  17.74ms   66.68%
    Req/Sec    20.57     36.70   142.00     73.59%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.41ms
 75.000%   11.40ms
 90.000%   13.06ms
 99.000%   17.74ms
 99.900%   23.53ms
 99.990%   31.36ms
 99.999%   39.74ms
100.000%   41.89ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.417     0.000000            1         1.00
       6.099     0.100000        10612         1.11
       6.719     0.200000        21180         1.25
       7.427     0.300000        31801         1.43
       8.471     0.400000        42382         1.67
       9.407     0.500000        52926         2.00
       9.823     0.550000        58303         2.22
      10.207     0.600000        63522         2.50
      10.607     0.650000        68894         2.86
      10.983     0.700000        74096         3.33
      11.399     0.750000        79429         4.00
      11.607     0.775000        82051         4.44
      11.847     0.800000        84757         5.00
      12.095     0.825000        87395         5.71
      12.375     0.850000        90042         6.67
      12.687     0.875000        92630         8.00
      12.863     0.887500        93953         8.89
      13.055     0.900000        95277        10.00
      13.271     0.912500        96604        11.43
      13.527     0.925000        97914        13.33
      13.815     0.937500        99254        16.00
      13.983     0.943750        99907        17.78
      14.175     0.950000       100565        20.00
      14.407     0.956250       101244        22.86
      14.655     0.962500       101879        26.67
      15.007     0.968750       102544        32.00
      15.223     0.971875       102876        35.56
      15.471     0.975000       103201        40.00
      15.767     0.978125       103539        45.71
      16.103     0.981250       103865        53.33
      16.607     0.984375       104197        64.00
      16.863     0.985938       104372        71.11
      17.167     0.987500       104529        80.00
      17.519     0.989062       104693        91.43
      17.887     0.990625       104857       106.67
      18.335     0.992188       105022       128.00
      18.607     0.992969       105107       142.22
      18.927     0.993750       105188       160.00
      19.215     0.994531       105271       182.86
      19.663     0.995313       105357       213.33
      20.143     0.996094       105437       256.00
      20.383     0.996484       105477       284.44
      20.783     0.996875       105517       320.00
      21.039     0.997266       105558       365.71
      21.375     0.997656       105601       426.67
      21.919     0.998047       105642       512.00
      22.223     0.998242       105662       568.89
      22.431     0.998437       105682       640.00
      22.895     0.998633       105703       731.43
      23.263     0.998828       105723       853.33
      23.615     0.999023       105744      1024.00
      23.823     0.999121       105754      1137.78
      24.207     0.999219       105765      1280.00
      24.575     0.999316       105775      1462.86
      25.087     0.999414       105785      1706.67
      25.519     0.999512       105796      2048.00
      25.871     0.999561       105801      2275.56
      26.207     0.999609       105806      2560.00
      26.815     0.999658       105811      2925.71
      26.975     0.999707       105816      3413.33
      28.111     0.999756       105822      4096.00
      28.495     0.999780       105824      4551.11
      29.023     0.999805       105827      5120.00
      29.743     0.999829       105829      5851.43
      30.223     0.999854       105832      6826.67
      31.023     0.999878       105835      8192.00
      31.359     0.999890       105836      9102.22
      32.415     0.999902       105837     10240.00
      32.591     0.999915       105838     11702.86
      33.055     0.999927       105840     13653.33
      35.167     0.999939       105841     16384.00
      35.263     0.999945       105842     18204.44
      35.263     0.999951       105842     20480.00
      36.575     0.999957       105843     23405.71
      37.663     0.999963       105844     27306.67
      37.663     0.999969       105844     32768.00
      39.487     0.999973       105845     36408.89
      39.487     0.999976       105845     40960.00
      39.487     0.999979       105845     46811.43
      39.743     0.999982       105846     54613.33
      39.743     0.999985       105846     65536.00
      39.743     0.999986       105846     72817.78
      39.743     0.999988       105846     81920.00
      39.743     0.999989       105846     93622.86
      41.887     0.999991       105847    109226.67
      41.887     1.000000       105847          inf
#[Mean    =        9.504, StdDeviation   =        2.878]
#[Max     =       41.856, Total count    =       105847]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115366 requests in 2.00m, 1.56GB read
Requests/sec:    961.30  
Transfer/sec:     13.28MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52115 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49131 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114142 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52115 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49131 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114142 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.572ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.214ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.796ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.263ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.171ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.201ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.383ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.365ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.294ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.543ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.603ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.373ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.469ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.326ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.653ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.651ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.605ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.520ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.246ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.445ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.476ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.462ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.666ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.800ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.545ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.318ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.132ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.768ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.777ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.925ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.609ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.285ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.787ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.617ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.733ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.323ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.644ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.204ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.279ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.864ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.258ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.728ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.186ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.393ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.688ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.351ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.669ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.550ms, rate sampling interval: 22ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.38ms    2.43ms  16.14ms   80.91%
    Req/Sec   106.42     71.20   300.00     71.91%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.71ms
 75.000%    8.20ms
 90.000%   10.53ms
 99.000%   16.14ms
 99.900%   22.50ms
 99.990%   29.49ms
 99.999%   37.22ms
100.000%   43.87ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.873     0.000000            1         1.00
       5.207     0.100000        55350         1.11
       5.639     0.200000       110016         1.25
       5.991     0.300000       164931         1.43
       6.335     0.400000       220278         1.67
       6.707     0.500000       274813         2.00
       6.923     0.550000       302621         2.22
       7.159     0.600000       329738         2.50
       7.439     0.650000       357247         2.86
       7.779     0.700000       384903         3.33
       8.199     0.750000       412294         4.00
       8.447     0.775000       425929         4.44
       8.735     0.800000       439636         5.00
       9.079     0.825000       453552         5.71
       9.479     0.850000       467357         6.67
       9.951     0.875000       480927         8.00
      10.223     0.887500       487817         8.89
      10.535     0.900000       494727        10.00
      10.863     0.912500       501493        11.43
      11.247     0.925000       508398        13.33
      11.679     0.937500       515242        16.00
      11.935     0.943750       518725        17.78
      12.199     0.950000       522068        20.00
      12.511     0.956250       525568        22.86
      12.879     0.962500       528979        26.67
      13.319     0.968750       532413        32.00
      13.575     0.971875       534106        35.56
      13.863     0.975000       535829        40.00
      14.191     0.978125       537545        45.71
      14.575     0.981250       539267        53.33
      15.023     0.984375       540950        64.00
      15.279     0.985938       541824        71.11
      15.583     0.987500       542685        80.00
      15.911     0.989062       543526        91.43
      16.303     0.990625       544390       106.67
      16.767     0.992188       545250       128.00
      17.039     0.992969       545685       142.22
      17.359     0.993750       546113       160.00
      17.695     0.994531       546530       182.86
      18.127     0.995313       546970       213.33
      18.639     0.996094       547391       256.00
      18.943     0.996484       547609       284.44
      19.263     0.996875       547827       320.00
      19.599     0.997266       548034       365.71
      19.999     0.997656       548254       426.67
      20.527     0.998047       548462       512.00
      20.847     0.998242       548576       568.89
      21.199     0.998437       548684       640.00
      21.519     0.998633       548787       731.43
      21.999     0.998828       548894       853.33
      22.559     0.999023       549000      1024.00
      22.863     0.999121       549053      1137.78
      23.183     0.999219       549107      1280.00
      23.519     0.999316       549162      1462.86
      24.031     0.999414       549217      1706.67
      24.639     0.999512       549268      2048.00
      24.911     0.999561       549294      2275.56
      25.503     0.999609       549322      2560.00
      25.887     0.999658       549349      2925.71
      26.287     0.999707       549375      3413.33
      26.799     0.999756       549401      4096.00
      27.103     0.999780       549418      4551.11
      27.407     0.999805       549429      5120.00
      27.791     0.999829       549442      5851.43
      28.319     0.999854       549455      6826.67
      28.879     0.999878       549468      8192.00
      29.311     0.999890       549476      9102.22
      29.679     0.999902       549482     10240.00
      30.255     0.999915       549489     11702.86
      30.831     0.999927       549495     13653.33
      31.871     0.999939       549502     16384.00
      32.015     0.999945       549505     18204.44
      32.415     0.999951       549509     20480.00
      32.719     0.999957       549512     23405.71
      33.407     0.999963       549515     27306.67
      34.015     0.999969       549519     32768.00
      34.207     0.999973       549520     36408.89
      34.335     0.999976       549522     40960.00
      34.943     0.999979       549524     46811.43
      35.007     0.999982       549525     54613.33
      36.095     0.999985       549527     65536.00
      36.287     0.999986       549528     72817.78
      36.991     0.999988       549529     81920.00
      37.215     0.999989       549530     93622.86
      37.215     0.999991       549530    109226.67
      37.663     0.999992       549531    131072.00
      38.975     0.999993       549532    145635.56
      38.975     0.999994       549532    163840.00
      39.423     0.999995       549533    187245.71
      39.423     0.999995       549533    218453.33
      39.423     0.999996       549533    262144.00
      39.903     0.999997       549534    291271.11
      39.903     0.999997       549534    327680.00
      39.903     0.999997       549534    374491.43
      39.903     0.999998       549534    436906.67
      39.903     0.999998       549534    524288.00
      43.871     0.999998       549535    582542.22
      43.871     1.000000       549535          inf
#[Mean    =        7.381, StdDeviation   =        2.432]
#[Max     =       43.840, Total count    =       549535]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599177 requests in 2.00m, 8.08GB read
Requests/sec:   4995.29  
Transfer/sec:     68.99MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51963 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 47976 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114159 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51963 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 47976 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114159 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.969ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 8.796ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.345ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 11.605ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 35.893ms, rate sampling interval: 166ms
  Thread calibration: mean lat.: 9.181ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 19.726ms, rate sampling interval: 76ms
  Thread calibration: mean lat.: 10.561ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 23.136ms, rate sampling interval: 100ms
  Thread calibration: mean lat.: 10.273ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 27.047ms, rate sampling interval: 85ms
  Thread calibration: mean lat.: 12.455ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 8.681ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 8.936ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 11.695ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 14.212ms, rate sampling interval: 52ms
  Thread calibration: mean lat.: 10.658ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 11.311ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 8.880ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 12.117ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 12.050ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 11.420ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 10.000ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 11.451ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 31.060ms, rate sampling interval: 165ms
  Thread calibration: mean lat.: 9.295ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.545ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 22.580ms, rate sampling interval: 91ms
  Thread calibration: mean lat.: 11.897ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 19.604ms, rate sampling interval: 96ms
  Thread calibration: mean lat.: 11.007ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 16.645ms, rate sampling interval: 64ms
  Thread calibration: mean lat.: 11.115ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 24.951ms, rate sampling interval: 115ms
  Thread calibration: mean lat.: 10.807ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 22.299ms, rate sampling interval: 84ms
  Thread calibration: mean lat.: 10.551ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 10.012ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 9.756ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 14.418ms, rate sampling interval: 50ms
  Thread calibration: mean lat.: 15.477ms, rate sampling interval: 55ms
  Thread calibration: mean lat.: 13.167ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 11.624ms, rate sampling interval: 37ms
  Thread calibration: mean lat.: 9.825ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 11.834ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 21.381ms, rate sampling interval: 104ms
  Thread calibration: mean lat.: 10.401ms, rate sampling interval: 33ms
  Thread calibration: mean lat.: 23.903ms, rate sampling interval: 102ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    30.36ms  103.76ms 588.80ms   96.09%
    Req/Sec   210.22     70.91   388.00     70.00%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.58ms
 75.000%   14.69ms
 90.000%   27.17ms
 99.000%  588.80ms
 99.900%    1.21s 
 99.990%    1.77s 
 99.999%    2.14s 
100.000%    2.18s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.977     0.000000            1         1.00
       6.087     0.100000       109549         1.11
       6.727     0.200000       219522         1.25
       7.379     0.300000       328854         1.43
       8.295     0.400000       438263         1.67
       9.583     0.500000       548204         2.00
      10.327     0.550000       602839         2.22
      11.159     0.600000       657547         2.50
      12.103     0.650000       712308         2.86
      13.231     0.700000       767050         3.33
      14.687     0.750000       821689         4.00
      15.623     0.775000       849048         4.44
      16.767     0.800000       876632         5.00
      18.175     0.825000       903782         5.71
      20.047     0.850000       931269         6.67
      22.719     0.875000       958487         8.00
      24.607     0.887500       972198         8.89
      27.167     0.900000       985897        10.00
      30.895     0.912500       999559        11.43
      36.927     0.925000      1013232        13.33
      48.319     0.937500      1026943        16.00
      58.783     0.943750      1033766        17.78
      75.647     0.950000      1040615        20.00
     102.271     0.956250      1047457        22.86
     148.351     0.962500      1054302        26.67
     216.959     0.968750      1061149        32.00
     255.103     0.971875      1064575        35.56
     296.703     0.975000      1068011        40.00
     345.343     0.978125      1071422        45.71
     399.871     0.981250      1074844        53.33
     456.703     0.984375      1078270        64.00
     488.447     0.985938      1079981        71.11
     521.471     0.987500      1081705        80.00
     560.639     0.989062      1083402        91.43
     608.767     0.990625      1085121       106.67
     658.431     0.992188      1086833       128.00
     685.567     0.992969      1087683       142.22
     714.239     0.993750      1088542       160.00
     744.959     0.994531      1089396       182.86
     782.847     0.995313      1090253       213.33
     825.855     0.996094      1091102       256.00
     848.895     0.996484      1091536       284.44
     875.007     0.996875      1091958       320.00
     906.751     0.997266      1092388       365.71
     946.687     0.997656      1092813       426.67
    1004.543     0.998047      1093240       512.00
    1041.919     0.998242      1093454       568.89
    1081.343     0.998437      1093677       640.00
    1115.135     0.998633      1093883       731.43
    1161.215     0.998828      1094097       853.33
    1218.559     0.999023      1094310      1024.00
    1251.327     0.999121      1094418      1137.78
    1287.167     0.999219      1094526      1280.00
    1323.007     0.999316      1094630      1462.86
    1362.943     0.999414      1094741      1706.67
    1404.927     0.999512      1094845      2048.00
    1434.623     0.999561      1094897      2275.56
    1461.247     0.999609      1094952      2560.00
    1487.871     0.999658      1095004      2925.71
    1530.879     0.999707      1095058      3413.33
    1579.007     0.999756      1095112      4096.00
    1599.487     0.999780      1095138      4551.11
    1626.111     0.999805      1095166      5120.00
    1654.783     0.999829      1095192      5851.43
    1681.407     0.999854      1095218      6826.67
    1729.535     0.999878      1095245      8192.00
    1752.063     0.999890      1095259      9102.22
    1780.735     0.999902      1095272     10240.00
    1827.839     0.999915      1095285     11702.86
    1871.871     0.999927      1095298     13653.33
    1916.927     0.999939      1095313     16384.00
    1923.071     0.999945      1095320     18204.44
    1930.239     0.999951      1095325     20480.00
    1939.455     0.999957      1095332     23405.71
    1947.647     0.999963      1095339     27306.67
    1993.727     0.999969      1095345     32768.00
    2026.495     0.999973      1095348     36408.89
    2077.695     0.999976      1095352     40960.00
    2097.151     0.999979      1095355     46811.43
    2103.295     0.999982      1095358     54613.33
    2121.727     0.999985      1095362     65536.00
    2123.775     0.999986      1095363     72817.78
    2131.967     0.999988      1095365     81920.00
    2138.111     0.999989      1095367     93622.86
    2142.207     0.999991      1095368    109226.67
    2150.399     0.999992      1095371    131072.00
    2150.399     0.999993      1095371    145635.56
    2156.543     0.999994      1095372    163840.00
    2158.591     0.999995      1095373    187245.71
    2158.591     0.999995      1095373    218453.33
    2160.639     0.999996      1095374    262144.00
    2162.687     0.999997      1095375    291271.11
    2162.687     0.999997      1095375    327680.00
    2166.783     0.999997      1095376    374491.43
    2166.783     0.999998      1095376    436906.67
    2166.783     0.999998      1095376    524288.00
    2172.927     0.999998      1095377    582542.22
    2172.927     0.999998      1095377    655360.00
    2172.927     0.999999      1095377    748982.86
    2172.927     0.999999      1095377    873813.33
    2172.927     0.999999      1095377   1048576.00
    2183.167     0.999999      1095378   1165084.44
    2183.167     1.000000      1095378          inf
#[Mean    =       30.357, StdDeviation   =      103.756]
#[Max     =     2181.120, Total count    =      1095378]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1195239 requests in 2.00m, 16.12GB read
Requests/sec:   9968.97  
Transfer/sec:    137.71MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50713 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44017 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114224 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50713 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44017 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 114224 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 10.739ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.433ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.232ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.375ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.433ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.123ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.598ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.288ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.343ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.334ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.123ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.259ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.291ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.415ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.397ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.233ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.174ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.618ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.358ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.319ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.252ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.085ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.503ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.281ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.479ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.133ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.460ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.243ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.224ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.384ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.245ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.374ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.323ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.464ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.135ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.598ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 10.305ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.510ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.018ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.296ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.189ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.379ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.392ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.077ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.294ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.429ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 10.295ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.644ms, rate sampling interval: 28ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.55ms    2.47ms  16.67ms   71.98%
    Req/Sec    20.32     28.17   115.00     90.31%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.41ms
 75.000%   10.95ms
 90.000%   12.53ms
 99.000%   16.67ms
 99.900%   22.08ms
 99.990%   27.45ms
 99.999%   67.20ms
100.000%   73.02ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.645     0.000000            1         1.00
       6.583     0.100000        10608         1.11
       7.567     0.200000        21185         1.25
       8.255     0.300000        31751         1.43
       8.855     0.400000        42405         1.67
       9.407     0.500000        52951         2.00
       9.679     0.550000        58208         2.22
       9.967     0.600000        63512         2.50
      10.271     0.650000        68869         2.86
      10.591     0.700000        74139         3.33
      10.951     0.750000        79462         4.00
      11.151     0.775000        82075         4.44
      11.367     0.800000        84733         5.00
      11.599     0.825000        87343         5.71
      11.863     0.850000        89988         6.67
      12.167     0.875000        92635         8.00
      12.343     0.887500        93966         8.89
      12.527     0.900000        95274        10.00
      12.735     0.912500        96587        11.43
      12.983     0.925000        97894        13.33
      13.271     0.937500        99215        16.00
      13.431     0.943750        99884        17.78
      13.631     0.950000       100564        20.00
      13.847     0.956250       101202        22.86
      14.111     0.962500       101863        26.67
      14.407     0.968750       102530        32.00
      14.599     0.971875       102865        35.56
      14.791     0.975000       103183        40.00
      15.031     0.978125       103515        45.71
      15.327     0.981250       103846        53.33
      15.719     0.984375       104176        64.00
      15.919     0.985938       104338        71.11
      16.175     0.987500       104506        80.00
      16.463     0.989062       104672        91.43
      16.815     0.990625       104837       106.67
      17.199     0.992188       105000       128.00
      17.487     0.992969       105086       142.22
      17.743     0.993750       105165       160.00
      18.063     0.994531       105248       182.86
      18.447     0.995313       105329       213.33
      18.911     0.996094       105415       256.00
      19.183     0.996484       105454       284.44
      19.359     0.996875       105496       320.00
      19.647     0.997266       105536       365.71
      20.079     0.997656       105577       426.67
      20.575     0.998047       105620       512.00
      20.815     0.998242       105639       568.89
      21.087     0.998437       105660       640.00
      21.375     0.998633       105681       731.43
      21.791     0.998828       105702       853.33
      22.191     0.999023       105722      1024.00
      22.335     0.999121       105733      1137.78
      22.623     0.999219       105743      1280.00
      22.831     0.999316       105755      1462.86
      22.975     0.999414       105763      1706.67
      23.439     0.999512       105775      2048.00
      23.871     0.999561       105780      2275.56
      24.159     0.999609       105784      2560.00
      24.399     0.999658       105789      2925.71
      24.879     0.999707       105794      3413.33
      25.231     0.999756       105800      4096.00
      25.759     0.999780       105802      4551.11
      26.271     0.999805       105806      5120.00
      26.319     0.999829       105807      5851.43
      26.943     0.999854       105810      6826.67
      27.407     0.999878       105813      8192.00
      27.455     0.999890       105814      9102.22
      27.775     0.999902       105815     10240.00
      27.903     0.999915       105816     11702.86
      28.959     0.999927       105818     13653.33
      31.215     0.999939       105819     16384.00
      31.327     0.999945       105820     18204.44
      31.327     0.999951       105820     20480.00
      42.015     0.999957       105821     23405.71
      57.311     0.999963       105822     27306.67
      57.311     0.999969       105822     32768.00
      67.135     0.999973       105823     36408.89
      67.135     0.999976       105823     40960.00
      67.135     0.999979       105823     46811.43
      67.199     0.999982       105824     54613.33
      67.199     0.999985       105824     65536.00
      67.199     0.999986       105824     72817.78
      67.199     0.999988       105824     81920.00
      67.199     0.999989       105824     93622.86
      73.023     0.999991       105825    109226.67
      73.023     1.000000       105825          inf
#[Mean    =        9.547, StdDeviation   =        2.471]
#[Max     =       72.960, Total count    =       105825]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115327 requests in 2.00m, 1.41GB read
Requests/sec:    961.08  
Transfer/sec:     12.04MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51446 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46262 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113930 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51446 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 46262 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113930 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.521ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.884ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.618ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.777ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.768ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.973ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.760ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.684ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.595ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.915ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.615ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.475ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.476ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.998ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.796ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.397ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.573ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.757ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.719ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.760ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.545ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.633ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.653ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.903ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.631ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.644ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.667ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.235ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.756ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.942ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.643ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.640ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.476ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.774ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.607ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.681ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.508ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.644ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.865ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.584ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.539ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.844ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.760ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.800ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.938ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.440ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.306ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.537ms, rate sampling interval: 18ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.67ms    2.24ms  14.52ms   78.04%
    Req/Sec   106.67     75.71   315.00     72.09%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.14ms
 75.000%    7.55ms
 90.000%    9.53ms
 99.000%   14.52ms
 99.900%   19.77ms
 99.990%   25.33ms
 99.999%   35.71ms
100.000%   65.60ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.551     0.000000            1         1.00
       4.495     0.100000        55258         1.11
       4.955     0.200000       110138         1.25
       5.347     0.300000       165242         1.43
       5.731     0.400000       220221         1.67
       6.139     0.500000       275109         2.00
       6.363     0.550000       302512         2.22
       6.603     0.600000       329706         2.50
       6.871     0.650000       357266         2.86
       7.183     0.700000       384783         3.33
       7.551     0.750000       412078         4.00
       7.771     0.775000       425987         4.44
       8.019     0.800000       439732         5.00
       8.303     0.825000       453385         5.71
       8.631     0.850000       467143         6.67
       9.031     0.875000       480946         8.00
       9.263     0.887500       487733         8.89
       9.527     0.900000       494681        10.00
       9.823     0.912500       501370        11.43
      10.167     0.925000       508369        13.33
      10.575     0.937500       515119        16.00
      10.815     0.943750       518617        17.78
      11.071     0.950000       522031        20.00
      11.351     0.956250       525405        22.86
      11.695     0.962500       528895        26.67
      12.079     0.968750       532305        32.00
      12.295     0.971875       533996        35.56
      12.543     0.975000       535738        40.00
      12.831     0.978125       537439        45.71
      13.143     0.981250       539152        53.33
      13.527     0.984375       540854        64.00
      13.759     0.985938       541730        71.11
      14.007     0.987500       542577        80.00
      14.311     0.989062       543428        91.43
      14.655     0.990625       544301       106.67
      15.031     0.992188       545147       128.00
      15.271     0.992969       545579       142.22
      15.535     0.993750       546004       160.00
      15.839     0.994531       546436       182.86
      16.223     0.995313       546871       213.33
      16.655     0.996094       547294       256.00
      16.895     0.996484       547508       284.44
      17.183     0.996875       547730       320.00
      17.487     0.997266       547942       365.71
      17.839     0.997656       548155       426.67
      18.255     0.998047       548365       512.00
      18.543     0.998242       548474       568.89
      18.783     0.998437       548579       640.00
      19.103     0.998633       548686       731.43
      19.423     0.998828       548796       853.33
      19.807     0.999023       548901      1024.00
      20.079     0.999121       548956      1137.78
      20.335     0.999219       549011      1280.00
      20.639     0.999316       549063      1462.86
      21.007     0.999414       549117      1706.67
      21.455     0.999512       549170      2048.00
      21.695     0.999561       549196      2275.56
      22.079     0.999609       549223      2560.00
      22.319     0.999658       549250      2925.71
      22.719     0.999707       549278      3413.33
      23.167     0.999756       549303      4096.00
      23.455     0.999780       549317      4551.11
      23.679     0.999805       549330      5120.00
      24.127     0.999829       549344      5851.43
      24.431     0.999854       549357      6826.67
      24.783     0.999878       549370      8192.00
      25.151     0.999890       549377      9102.22
      25.551     0.999902       549384     10240.00
      26.031     0.999915       549391     11702.86
      26.399     0.999927       549397     13653.33
      26.751     0.999939       549404     16384.00
      27.055     0.999945       549407     18204.44
      27.999     0.999951       549411     20480.00
      28.303     0.999957       549415     23405.71
      28.911     0.999963       549417     27306.67
      29.407     0.999969       549421     32768.00
      29.599     0.999973       549422     36408.89
      30.127     0.999976       549424     40960.00
      31.007     0.999979       549427     46811.43
      31.007     0.999982       549427     54613.33
      31.583     0.999985       549429     65536.00
      31.999     0.999986       549430     72817.78
      33.407     0.999988       549431     81920.00
      35.711     0.999989       549432     93622.86
      35.711     0.999991       549432    109226.67
      38.463     0.999992       549433    131072.00
      38.623     0.999993       549434    145635.56
      38.623     0.999994       549434    163840.00
      52.831     0.999995       549435    187245.71
      52.831     0.999995       549435    218453.33
      52.831     0.999996       549435    262144.00
      55.071     0.999997       549436    291271.11
      55.071     0.999997       549436    327680.00
      55.071     0.999997       549436    374491.43
      55.071     0.999998       549436    436906.67
      55.071     0.999998       549436    524288.00
      65.599     0.999998       549437    582542.22
      65.599     1.000000       549437          inf
#[Mean    =        6.666, StdDeviation   =        2.244]
#[Max     =       65.536, Total count    =       549437]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599173 requests in 2.00m, 7.33GB read
Requests/sec:   4996.69  
Transfer/sec:     62.59MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51316 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45355 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113774 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 51316 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45355 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113774 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 1404.870ms, rate sampling interval: 6434ms
  Thread calibration: mean lat.: 1629.618ms, rate sampling interval: 7086ms
  Thread calibration: mean lat.: 1536.126ms, rate sampling interval: 6451ms
  Thread calibration: mean lat.: 1067.296ms, rate sampling interval: 5824ms
  Thread calibration: mean lat.: 1110.711ms, rate sampling interval: 5087ms
  Thread calibration: mean lat.: 1243.309ms, rate sampling interval: 5763ms
  Thread calibration: mean lat.: 1184.440ms, rate sampling interval: 6963ms
  Thread calibration: mean lat.: 734.375ms, rate sampling interval: 3051ms
  Thread calibration: mean lat.: 926.720ms, rate sampling interval: 4591ms
  Thread calibration: mean lat.: 958.558ms, rate sampling interval: 5615ms
  Thread calibration: mean lat.: 1347.679ms, rate sampling interval: 6844ms
  Thread calibration: mean lat.: 1470.450ms, rate sampling interval: 5582ms
  Thread calibration: mean lat.: 856.871ms, rate sampling interval: 4378ms
  Thread calibration: mean lat.: 801.859ms, rate sampling interval: 4276ms
  Thread calibration: mean lat.: 950.824ms, rate sampling interval: 5890ms
  Thread calibration: mean lat.: 1050.691ms, rate sampling interval: 6209ms
  Thread calibration: mean lat.: 1126.677ms, rate sampling interval: 4354ms
  Thread calibration: mean lat.: 1346.751ms, rate sampling interval: 5050ms
  Thread calibration: mean lat.: 789.645ms, rate sampling interval: 3547ms
  Thread calibration: mean lat.: 978.955ms, rate sampling interval: 5349ms
  Thread calibration: mean lat.: 1814.233ms, rate sampling interval: 6819ms
  Thread calibration: mean lat.: 1247.719ms, rate sampling interval: 5603ms
  Thread calibration: mean lat.: 1014.851ms, rate sampling interval: 3704ms
  Thread calibration: mean lat.: 863.689ms, rate sampling interval: 4816ms
  Thread calibration: mean lat.: 1262.159ms, rate sampling interval: 4300ms
  Thread calibration: mean lat.: 942.328ms, rate sampling interval: 4546ms
  Thread calibration: mean lat.: 1571.292ms, rate sampling interval: 6664ms
  Thread calibration: mean lat.: 1340.154ms, rate sampling interval: 5468ms
  Thread calibration: mean lat.: 1288.105ms, rate sampling interval: 4444ms
  Thread calibration: mean lat.: 1472.281ms, rate sampling interval: 6774ms
  Thread calibration: mean lat.: 1250.658ms, rate sampling interval: 6012ms
  Thread calibration: mean lat.: 1383.153ms, rate sampling interval: 7639ms
  Thread calibration: mean lat.: 849.031ms, rate sampling interval: 3721ms
  Thread calibration: mean lat.: 746.203ms, rate sampling interval: 4192ms
  Thread calibration: mean lat.: 837.616ms, rate sampling interval: 3133ms
  Thread calibration: mean lat.: 1327.757ms, rate sampling interval: 6328ms
  Thread calibration: mean lat.: 1213.349ms, rate sampling interval: 5058ms
  Thread calibration: mean lat.: 1814.231ms, rate sampling interval: 7356ms
  Thread calibration: mean lat.: 1337.706ms, rate sampling interval: 7270ms
  Thread calibration: mean lat.: 1302.160ms, rate sampling interval: 4497ms
  Thread calibration: mean lat.: 1312.874ms, rate sampling interval: 6172ms
  Thread calibration: mean lat.: 557.925ms, rate sampling interval: 2631ms
  Thread calibration: mean lat.: 873.831ms, rate sampling interval: 4214ms
  Thread calibration: mean lat.: 1166.540ms, rate sampling interval: 4820ms
  Thread calibration: mean lat.: 1058.161ms, rate sampling interval: 5308ms
  Thread calibration: mean lat.: 1059.049ms, rate sampling interval: 4329ms
  Thread calibration: mean lat.: 572.374ms, rate sampling interval: 2719ms
  Thread calibration: mean lat.: 1059.717ms, rate sampling interval: 4550ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    15.38s    12.91s    0.97m    74.33%
    Req/Sec   155.53     16.22   189.00     69.67%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   11.89s 
 75.000%   21.79s 
 90.000%   33.62s 
 99.000%    0.97m 
 99.900%    1.12m 
 99.990%    1.16m 
 99.999%    1.18m 
100.000%    1.18m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       7.823     0.000000            1         1.00
    2351.103     0.100000        80420         1.11
    4431.871     0.200000       160855         1.25
    6811.647     0.300000       241304         1.43
    9240.575     0.400000       321677         1.67
   11894.783     0.500000       401973         2.00
   13443.071     0.550000       442188         2.22
   15081.471     0.600000       482406         2.50
   16924.671     0.650000       522574         2.86
   19136.511     0.700000       562831         3.33
   21790.719     0.750000       603167         4.00
   23281.663     0.775000       623233         4.44
   24821.759     0.800000       643354         5.00
   26345.471     0.825000       663348         5.71
   28426.239     0.850000       683440         6.67
   30916.607     0.875000       703528         8.00
   32260.095     0.887500       713566         8.89
   33619.967     0.900000       723653        10.00
   35028.991     0.912500       733604        11.43
   36863.999     0.925000       743750        13.33
   39092.223     0.937500       753777        16.00
   40337.407     0.943750       758800        17.78
   41680.895     0.950000       763788        20.00
   43122.687     0.956250       768766        22.86
   44761.087     0.962500       773792        26.67
   47218.687     0.968750       778848        32.00
   48431.103     0.971875       781362        35.56
   49774.591     0.975000       783895        40.00
   51118.079     0.978125       786352        45.71
   52854.783     0.981250       788888        53.33
   54558.719     0.984375       791390        64.00
   55672.831     0.985938       792635        71.11
   56754.175     0.987500       793894        80.00
   57868.287     0.989062       795147        91.43
   58916.863     0.990625       796406       106.67
   59998.207     0.992188       797686       128.00
   60489.727     0.992969       798300       142.22
   61046.783     0.993750       798913       160.00
   61603.839     0.994531       799540       182.86
   62291.967     0.995313       800167       213.33
   63045.631     0.996094       800805       256.00
   63471.615     0.996484       801122       284.44
   63963.135     0.996875       801438       320.00
   64389.119     0.997266       801756       365.71
   64847.871     0.997656       802069       426.67
   65372.159     0.998047       802367       512.00
   65667.071     0.998242       802519       568.89
   65994.751     0.998437       802687       640.00
   66322.431     0.998633       802836       731.43
   66715.647     0.998828       803007       853.33
   67076.095     0.999023       803147      1024.00
   67305.471     0.999121       803252      1137.78
   67502.079     0.999219       803316      1280.00
   67698.687     0.999316       803383      1462.86
   67960.831     0.999414       803483      1706.67
   68157.439     0.999512       803546      2048.00
   68222.975     0.999561       803580      2275.56
   68354.047     0.999609       803620      2560.00
   68550.655     0.999658       803667      2925.71
   68747.263     0.999707       803710      3413.33
   68878.335     0.999756       803739      4096.00
   69074.943     0.999780       803767      4551.11
   69140.479     0.999805       803783      5120.00
   69206.015     0.999829       803795      5851.43
   69337.087     0.999854       803823      6826.67
   69402.623     0.999878       803838      8192.00
   69468.159     0.999890       803847      9102.22
   69533.695     0.999902       803864     10240.00
   69533.695     0.999915       803864     11702.86
   69664.767     0.999927       803876     13653.33
   69795.839     0.999939       803883     16384.00
   69926.911     0.999945       803888     18204.44
   70057.983     0.999951       803894     20480.00
   70189.055     0.999957       803898     23405.71
   70385.663     0.999963       803906     27306.67
   70451.199     0.999969       803909     32768.00
   70516.735     0.999973       803914     36408.89
   70516.735     0.999976       803914     40960.00
   70582.271     0.999979       803917     46811.43
   70647.807     0.999982       803920     54613.33
   70647.807     0.999985       803920     65536.00
   70713.343     0.999986       803922     72817.78
   70778.879     0.999988       803927     81920.00
   70778.879     0.999989       803927     93622.86
   70778.879     0.999991       803927    109226.67
   70778.879     0.999992       803927    131072.00
   70778.879     0.999993       803927    145635.56
   70844.415     0.999994       803928    163840.00
   70844.415     0.999995       803928    187245.71
   70909.951     0.999995       803931    218453.33
   70909.951     0.999996       803931    262144.00
   70909.951     0.999997       803931    291271.11
   70909.951     0.999997       803931    327680.00
   70909.951     0.999997       803931    374491.43
   70909.951     0.999998       803931    436906.67
   70909.951     0.999998       803931    524288.00
   70909.951     0.999998       803931    582542.22
   70909.951     0.999998       803931    655360.00
   70909.951     0.999999       803931    748982.86
   70975.487     0.999999       803932    873813.33
   70975.487     1.000000       803932          inf
#[Mean    =    15378.663, StdDeviation   =    12910.711]
#[Max     =    70909.952, Total count    =       803932]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  876854 requests in 2.00m, 10.72GB read
Requests/sec:   7313.28  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50713 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42883 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113073 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 50713 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42883 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 113073 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
ed98f540a4698b04c7ff1c86dd58092a0d2774a6a5dc870ab4cbb873824bb0aa
6a86a719343bdd8b2677007f7a2e5083b76133aa8910519d49ebac4c895bf013
bef2d1e68a756db8023bd26dd7a01e8a0cb485aa22cf70f86572249656b669eb
08bcdbd6f622a66a2dd75374c2298a140406a652abab387c51cac9e18b4ed03f
dc3c1825448fae01b464e1fa390c2dc77790b54945a908300984b832a622829c
93564bbba55ace9f0a3df60c24415e96a4248fad16fb6998a8b2fb6ef803d469
f98e93e236f5a8bb05f538740f24f2e1b9ef95d76c70ec980705b5a56276a6fc
59bcb51af927bc521abb7a097dfc03fba4f828604892113ef2558d647bf1fd4d
a917ae2793eb7041f71d00d0b33d996f70658b166d0d8963818b0b918f767101
95abd3e1a168b214cb85a9e00300e05e4ab4f9f03c8f1ed3f71fd6d0faa80935
8da40248501ccd6f964f5f17d478595f9b34ac52ec8a1555a0eee060d81982e6
b3640efb5c5bc7e1ac87650e96f7cbeef6916f829b8c5459b265fea21eec3b82
6b68b22ad74f717e2b93ca11b6835d359c9f3d92521763fa65e5b639d475059c
d6ba9634576e8dfa97dd2dec84eabe9201b5ea428cd9df082185f598e9fbf9a8
78020ca38005c3681641a5ad60072713330137ac8b979c00e2eb10bc951b8ae7
dc131406fedb3032bf7da9da1de732db2e78e61c7a8de2432606fc79ae8c1916
dd28c99955666645525bb97cc77b07d2d19aa1952d91673fe288b3d5c741018e
4089791fe1c0aa86a4da7a2d33a1cea76e02e4e00704d46d416f7602d0b33f16
a91c604173c40e49b8e806b7642b1917e379c2e252dd3d43da67f8d8fb696b6b
e6ffebc6fb222530059baec1d550eb88e6be1af27e712787c164245fdceca9ac
eaad397f32927e89552244ab87cd842ce0a083620f8bc92994f92245f701b340
1f935f81dae64de1fb6619237f96e90bb0f691b5261e98d929e7eb5e33a5946d
69a0b5fa11fa14a6f8a0f3f34a5fe5ae0837dd7d431c3e16135a41211d3bc263
067ea3276fac2d125c4b09d7d1919a215703981726dbef59bc6bdb9e57b3dcfa
f156924056c7ea38f577c6c4001dac3a7cd4b3a4bfc01810cb5f42a4ce50c3a5
cac8e864bc23411dd6217a63ee69dbda8a4c78ebd14860b7327eca290e5d8245
dc47c8e499da9170f307c8f7590800ebacc0e0e11690c3ce012d0b1289e72778
73b768bb60bf01235053e4c27c91490c7012395583d1f034f208b86f0944684f
0b8613611aabdcba2cd99eecf31ccc8a695855c6f7f8960fdeac1aebcf08f268
b9d55b1bbeacc558c04d9b257286dfeac9b70be746e6b91bd3a9f21d5dc83354
583ecd245a44c31d4e1718b59a7ad36c3e8ce3b75f41e3242d18580513cb7374

Total reclaimed space: 4.598GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,1 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 18-08-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-1.log -b True -m i -M 0,1
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 18-08-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-1.log', 'mode': 'i', 'memnode': '0,1'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_home-timeline-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-1



CMD: docker commit socialnetwork_home-timeline-service_1 social-network-microservices-numa-interleave-node-0-1

Result: sha256:d8e0450911c320a9a277827e131986d14349cc8196619770eb0c0227dc5c1bea


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-1



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-1

Result: sha256:5159c3af96d851616196bb242bf482be5731e5d782834a3e27ca47f7559015f2


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-1



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-1

Result: sha256:86c342e89b80b79263cd346ec17cf3336e7fd1f69cbfee01e2f1beea32fa774d


Install numactl tools on docker image: redis-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-redis_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-redis_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 12 01:09 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-1



CMD: docker commit socialnetwork_social-graph-redis_1 redis-numa-interleave-node-0-1

Result: sha256:918a24f69dfd924df395db3c829955cd24a5b189e61605138ce047c8e88c2812


Install numactl tools on docker image: memcached-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 12 01:09 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,1 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-memcached_1 memcached-numa-interleave-node-0-1

Result: sha256:66ec28fc27db5a69d4ba378c13edf6cdb96da67647156b3db086531a8df26c1c


Install numactl tools on docker image: mongo-numa-interleave-node-0-1
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_user-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 12 01:09 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_user-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,1'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-1



CMD: docker commit socialnetwork_user-mongodb_1 mongo-numa-interleave-node-0-1

Result: sha256:6b465621b2782af8bc7e8f1db6f5e1b0db645bb4d712e33fd01f08e277058f46


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
94ccace077fa4f64d78c60b6b23f41a5d261ad9e2ea3420379a67e47bcac16de
5a7e2e6e8b0282e6812b3f47919a4b14bc9e86e04c0e616ae292fb06719ab7ca
5b966419f4cd02056062eb64448c638362b0d662d9a7f3b246cd10f1097ebdad
ab10c32c5620a45861587cdf4513e517249f2d8960f62698a0af99b45ee2e055
6420a6dc613ee39f2182ba5d1e6871e5a8b465ca3a9f7ffd491886d20ea8506b
03b65aaf8219c190276181120d986f1942d06f0b5947c621c5262baf50048501
abc46ad74c9366ef89b34ee6a42997e0648bdd3d902935dcde9b0be5775c975b
9a3dd082ed03e56a66336f474cd77f78936ed0673205b22bdc9b21d051cd7346
e506fd77ab4ebd8a594936c1cadd01fb51350a905fa11fdf958220b2608ed5e4
13749a2790b08fe26605046be0be6d29afe8b3538be600f9c7257cdfff7284c4
cc13d8af58f20e2a3410955fa62645d8f3144162d67563520037920d6ab3e6fd
e16488b64e2a2e93652f84d5f2e280c74df60d60d6551a400a69bc7121891d1d
8fac3476b43e697ff6b83fe90cf7005493cbdb59d5b259be0a9edadfc58ec32d
2bc05b3d0cca17e9b3d5b31e9d4d226e862b8512c08e38a3c531d49b2e5c6c1c
f934bec204118ab19c392cb64c986bcb60b93244c54ddca8d1624af6fb01adce
c0b44053c705daf384617faf4d9411ce7649ad66142c767cc148ef404a734494
428c34730a3f1ee79d24f4eb0249d9b39f5eb67bd340bd5f2a93d13cfa63ab31
7729687292c07dad68fff910ca0b662a4b482ee700d07f03a299d002d4dc49df
efb1249a6b1e68dbcdebf8d032e35d64ea32c1f3797ac261d392051b93e34491
dc82890dde141867fadeee9962b96da04ffbe04cb36ed9abf33ac9091c7df4aa
bce1c4a199c40d07627a7b75d1c534328e51990c9170287f2564250381b89391
424fe418722e62e5953fc7a07b0990dd8f48dd04c39a3c9ab9e7c48fea8deee8
2d8d126102d2ec47b8f61ad6ae788bda9164acc8f5ae4cc9b8370ca20eed2e8e
e4a584571b702ba49b5ea51cd846d826f295a8e526539d814b477a1412ae053e
8e7cec640914cc6b1827f9943b8017957e0334694501af0e778f1ca1f5d543d8
5f4f7a2a095c9a40ec43b4ad4d95161ea9f4bc5bb39b87888be285abe3ae4de2
a4c7260cb4505454cf91724eee5d5658823493730a0cc3df24a93f4161d2a4d0
a2ee26b147faab4bdb3340e7db3d885ba56f19d830cf31bc3a9c3a4691ac73e8
a67112f6197d3dc967639d6daf05901a5f1ab57bb56c3a6fa74c247aa2ee8bf2
885f16a0a062a1944ae75ca6af349ea12114b678e03c66b5e5eb7eae5d28db63
2b0b978af4ddc3ceb24f013866f558600ec1b63a79cc6c25efdc6f4b044e7cb3

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-1.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54134 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58087 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54134 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58087 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:430
cluster_stats_messages_pong_sent:426
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:857
cluster_stats_messages_ping_received:426
cluster_stats_messages_pong_received:431
cluster_stats_messages_received:857
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:453
cluster_stats_messages_pong_sent:436
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:890
cluster_stats_messages_ping_received:436
cluster_stats_messages_pong_received:454
cluster_stats_messages_received:890
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:4
cluster_stats_messages_ping_sent:450
cluster_stats_messages_pong_sent:452
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:903
cluster_stats_messages_ping_received:452
cluster_stats_messages_pong_received:451
cluster_stats_messages_received:903
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 5.335ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.138ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.405ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.227ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.590ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.344ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.311ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.308ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.529ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.242ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.366ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.282ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.565ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.255ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.342ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.525ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.585ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.152ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.210ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.271ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.590ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.617ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.397ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.235ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.246ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.768ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.338ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.402ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.629ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.567ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.328ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.764ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.190ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.492ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.039ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.451ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.375ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.393ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.220ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.424ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.120ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.454ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.366ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.312ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.363ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.132ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.409ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.300ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.06ms    1.39ms   8.82ms   89.09%
    Req/Sec    20.71     40.91   166.00     77.27%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.88ms
 75.000%    5.50ms
 90.000%    6.22ms
 99.000%    8.82ms
 99.900%   17.50ms
 99.990%   51.84ms
 99.999%   56.22ms
100.000%   60.35ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.331     0.000000            1         1.00
       3.973     0.100000        10635         1.11
       4.255     0.200000        21269         1.25
       4.479     0.300000        31924         1.43
       4.679     0.400000        42438         1.67
       4.879     0.500000        52986         2.00
       4.983     0.550000        58248         2.22
       5.095     0.600000        63588         2.50
       5.215     0.650000        68852         2.86
       5.347     0.700000        74137         3.33
       5.499     0.750000        79421         4.00
       5.583     0.775000        82121         4.44
       5.671     0.800000        84669         5.00
       5.779     0.825000        87383         5.71
       5.899     0.850000        89981         6.67
       6.043     0.875000        92636         8.00
       6.123     0.887500        93960         8.89
       6.219     0.900000        95297        10.00
       6.323     0.912500        96609        11.43
       6.447     0.925000        97909        13.33
       6.595     0.937500        99222        16.00
       6.687     0.943750        99894        17.78
       6.795     0.950000       100560        20.00
       6.911     0.956250       101216        22.86
       7.059     0.962500       101879        26.67
       7.239     0.968750       102537        32.00
       7.351     0.971875       102861        35.56
       7.495     0.975000       103200        40.00
       7.659     0.978125       103520        45.71
       7.863     0.981250       103855        53.33
       8.107     0.984375       104183        64.00
       8.295     0.985938       104352        71.11
       8.463     0.987500       104516        80.00
       8.663     0.989062       104680        91.43
       8.935     0.990625       104849       106.67
       9.247     0.992188       105009       128.00
       9.423     0.992969       105094       142.22
       9.655     0.993750       105174       160.00
       9.903     0.994531       105258       182.86
      10.191     0.995313       105340       213.33
      10.687     0.996094       105423       256.00
      10.999     0.996484       105464       284.44
      11.447     0.996875       105505       320.00
      12.039     0.997266       105547       365.71
      13.287     0.997656       105587       426.67
      14.471     0.998047       105629       512.00
      15.031     0.998242       105649       568.89
      15.655     0.998437       105670       640.00
      16.135     0.998633       105691       731.43
      16.655     0.998828       105711       853.33
      17.551     0.999023       105732      1024.00
      18.239     0.999121       105742      1137.78
      19.967     0.999219       105753      1280.00
      21.023     0.999316       105763      1462.86
      22.895     0.999414       105773      1706.67
      27.023     0.999512       105784      2048.00
      28.783     0.999561       105789      2275.56
      30.255     0.999609       105794      2560.00
      31.599     0.999658       105799      2925.71
      33.695     0.999707       105804      3413.33
      41.823     0.999756       105810      4096.00
      43.135     0.999780       105812      4551.11
      46.175     0.999805       105815      5120.00
      49.279     0.999829       105817      5851.43
      51.039     0.999854       105821      6826.67
      51.775     0.999878       105823      8192.00
      51.839     0.999890       105824      9102.22
      52.159     0.999902       105826     10240.00
      52.159     0.999915       105826     11702.86
      53.375     0.999927       105828     13653.33
      53.439     0.999939       105829     16384.00
      53.951     0.999945       105830     18204.44
      53.951     0.999951       105830     20480.00
      54.335     0.999957       105831     23405.71
      55.455     0.999963       105832     27306.67
      55.455     0.999969       105832     32768.00
      55.999     0.999973       105833     36408.89
      55.999     0.999976       105833     40960.00
      55.999     0.999979       105833     46811.43
      56.223     0.999982       105834     54613.33
      56.223     0.999985       105834     65536.00
      56.223     0.999986       105834     72817.78
      56.223     0.999988       105834     81920.00
      56.223     0.999989       105834     93622.86
      60.351     0.999991       105835    109226.67
      60.351     1.000000       105835          inf
#[Mean    =        5.065, StdDeviation   =        1.395]
#[Max     =       60.320, Total count    =       105835]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115382 requests in 2.00m, 23.66MB read
Requests/sec:    961.60  
Transfer/sec:    201.90KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52870 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56261 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52870 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 56261 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.150ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.361ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.083ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.822ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.532ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.233ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.499ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.881ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.415ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.998ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.181ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.153ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.583ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 7.105ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.237ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.988ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.464ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.648ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.218ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.626ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.255ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.068ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.078ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.388ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.755ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.967ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.313ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.571ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.393ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.405ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.787ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.874ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.242ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.285ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.773ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.920ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.034ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.096ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 5.476ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.205ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.064ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.261ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.957ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 8.109ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.262ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.065ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.131ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 7.709ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.29ms    8.83ms  40.54ms   98.20%
    Req/Sec   107.59     89.44   357.00     58.98%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    3.97ms
 75.000%    4.73ms
 90.000%    6.28ms
 99.000%   40.54ms
 99.900%  131.97ms
 99.990%  183.93ms
 99.999%  251.52ms
100.000%  302.85ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.193     0.000000            1         1.00
       3.229     0.100000        55207         1.11
       3.433     0.200000       109881         1.25
       3.609     0.300000       165248         1.43
       3.783     0.400000       220181         1.67
       3.971     0.500000       274741         2.00
       4.079     0.550000       302327         2.22
       4.207     0.600000       330232         2.50
       4.351     0.650000       357605         2.86
       4.515     0.700000       384679         3.33
       4.731     0.750000       412289         4.00
       4.867     0.775000       426112         4.44
       5.027     0.800000       439617         5.00
       5.227     0.825000       453325         5.71
       5.483     0.850000       467150         6.67
       5.815     0.875000       480795         8.00
       6.031     0.887500       487659         8.89
       6.283     0.900000       494477        10.00
       6.575     0.912500       501331        11.43
       6.911     0.925000       508213        13.33
       7.323     0.937500       515112        16.00
       7.563     0.943750       518545        17.78
       7.851     0.950000       521962        20.00
       8.207     0.956250       525397        22.86
       8.671     0.962500       528798        26.67
       9.327     0.968750       532233        32.00
       9.823     0.971875       533977        35.56
      10.503     0.975000       535680        40.00
      11.615     0.978125       537389        45.71
      13.447     0.981250       539102        53.33
      17.919     0.984375       540817        64.00
      22.095     0.985938       541676        71.11
      27.791     0.987500       542535        80.00
      35.263     0.989062       543392        91.43
      43.839     0.990625       544249       106.67
      52.991     0.992188       545108       128.00
      58.239     0.992969       545541       142.22
      63.871     0.993750       545967       160.00
      70.079     0.994531       546396       182.86
      77.119     0.995313       546826       213.33
      85.247     0.996094       547260       256.00
      90.047     0.996484       547468       284.44
      95.103     0.996875       547683       320.00
     100.415     0.997266       547898       365.71
     105.791     0.997656       548112       426.67
     111.871     0.998047       548327       512.00
     115.071     0.998242       548434       568.89
     118.527     0.998437       548542       640.00
     123.071     0.998633       548648       731.43
     127.487     0.998828       548756       853.33
     132.863     0.999023       548864      1024.00
     135.167     0.999121       548919      1137.78
     137.471     0.999219       548972      1280.00
     141.439     0.999316       549026      1462.86
     144.767     0.999414       549079      1706.67
     148.223     0.999512       549131      2048.00
     150.399     0.999561       549158      2275.56
     153.087     0.999609       549185      2560.00
     156.799     0.999658       549212      2925.71
     161.279     0.999707       549239      3413.33
     164.223     0.999756       549266      4096.00
     166.783     0.999780       549280      4551.11
     168.831     0.999805       549292      5120.00
     173.055     0.999829       549306      5851.43
     175.871     0.999854       549320      6826.67
     179.071     0.999878       549332      8192.00
     182.271     0.999890       549339      9102.22
     184.319     0.999902       549346     10240.00
     186.623     0.999915       549353     11702.86
     188.287     0.999927       549359     13653.33
     190.463     0.999939       549366     16384.00
     193.279     0.999945       549369     18204.44
     198.655     0.999951       549373     20480.00
     204.671     0.999957       549376     23405.71
     209.151     0.999963       549379     27306.67
     216.191     0.999969       549383     32768.00
     217.343     0.999973       549384     36408.89
     220.159     0.999976       549386     40960.00
     227.839     0.999979       549388     46811.43
     230.271     0.999982       549389     54613.33
     236.159     0.999985       549391     65536.00
     238.079     0.999986       549392     72817.78
     247.167     0.999988       549393     81920.00
     251.519     0.999989       549394     93622.86
     251.519     0.999991       549394    109226.67
     255.359     0.999992       549395    131072.00
     264.191     0.999993       549396    145635.56
     264.191     0.999994       549396    163840.00
     275.199     0.999995       549397    187245.71
     275.199     0.999995       549397    218453.33
     275.199     0.999996       549397    262144.00
     297.727     0.999997       549398    291271.11
     297.727     0.999997       549398    327680.00
     297.727     0.999997       549398    374491.43
     297.727     0.999998       549398    436906.67
     297.727     0.999998       549398    524288.00
     302.847     0.999998       549399    582542.22
     302.847     1.000000       549399          inf
#[Mean    =        5.290, StdDeviation   =        8.826]
#[Max     =      302.592, Total count    =       549399]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599154 requests in 2.00m, 122.85MB read
Requests/sec:   4995.69  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48381 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49119 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48381 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 49119 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1804.821ms, rate sampling interval: 6393ms
  Thread calibration: mean lat.: 1763.231ms, rate sampling interval: 6537ms
  Thread calibration: mean lat.: 1786.372ms, rate sampling interval: 6688ms
  Thread calibration: mean lat.: 1840.194ms, rate sampling interval: 6492ms
  Thread calibration: mean lat.: 1868.038ms, rate sampling interval: 6504ms
  Thread calibration: mean lat.: 1770.376ms, rate sampling interval: 6143ms
  Thread calibration: mean lat.: 1844.708ms, rate sampling interval: 6737ms
  Thread calibration: mean lat.: 1730.387ms, rate sampling interval: 6066ms
  Thread calibration: mean lat.: 1688.300ms, rate sampling interval: 6045ms
  Thread calibration: mean lat.: 1634.593ms, rate sampling interval: 5558ms
  Thread calibration: mean lat.: 1625.610ms, rate sampling interval: 5672ms
  Thread calibration: mean lat.: 1696.130ms, rate sampling interval: 6074ms
  Thread calibration: mean lat.: 1662.360ms, rate sampling interval: 5935ms
  Thread calibration: mean lat.: 1950.571ms, rate sampling interval: 6651ms
  Thread calibration: mean lat.: 1661.652ms, rate sampling interval: 6217ms
  Thread calibration: mean lat.: 1569.893ms, rate sampling interval: 5648ms
  Thread calibration: mean lat.: 1789.479ms, rate sampling interval: 6635ms
  Thread calibration: mean lat.: 1747.543ms, rate sampling interval: 6316ms
  Thread calibration: mean lat.: 1772.897ms, rate sampling interval: 6311ms
  Thread calibration: mean lat.: 1579.109ms, rate sampling interval: 5611ms
  Thread calibration: mean lat.: 1619.023ms, rate sampling interval: 5980ms
  Thread calibration: mean lat.: 1994.114ms, rate sampling interval: 6975ms
  Thread calibration: mean lat.: 1984.298ms, rate sampling interval: 6975ms
  Thread calibration: mean lat.: 1738.128ms, rate sampling interval: 6193ms
  Thread calibration: mean lat.: 2045.649ms, rate sampling interval: 7057ms
  Thread calibration: mean lat.: 1990.080ms, rate sampling interval: 6557ms
  Thread calibration: mean lat.: 1725.244ms, rate sampling interval: 5877ms
  Thread calibration: mean lat.: 1839.457ms, rate sampling interval: 6205ms
  Thread calibration: mean lat.: 1993.583ms, rate sampling interval: 6873ms
  Thread calibration: mean lat.: 1635.396ms, rate sampling interval: 5545ms
  Thread calibration: mean lat.: 1826.164ms, rate sampling interval: 6664ms
  Thread calibration: mean lat.: 1433.051ms, rate sampling interval: 5410ms
  Thread calibration: mean lat.: 1927.081ms, rate sampling interval: 6565ms
  Thread calibration: mean lat.: 1916.250ms, rate sampling interval: 6283ms
  Thread calibration: mean lat.: 1829.241ms, rate sampling interval: 6299ms
  Thread calibration: mean lat.: 1820.545ms, rate sampling interval: 6406ms
  Thread calibration: mean lat.: 1841.772ms, rate sampling interval: 6389ms
  Thread calibration: mean lat.: 1591.634ms, rate sampling interval: 5836ms
  Thread calibration: mean lat.: 1676.342ms, rate sampling interval: 6193ms
  Thread calibration: mean lat.: 1730.709ms, rate sampling interval: 5820ms
  Thread calibration: mean lat.: 1902.870ms, rate sampling interval: 6729ms
  Thread calibration: mean lat.: 1837.645ms, rate sampling interval: 6176ms
  Thread calibration: mean lat.: 1788.831ms, rate sampling interval: 6103ms
  Thread calibration: mean lat.: 1943.718ms, rate sampling interval: 6541ms
  Thread calibration: mean lat.: 1849.778ms, rate sampling interval: 6479ms
  Thread calibration: mean lat.: 2004.630ms, rate sampling interval: 6651ms
  Thread calibration: mean lat.: 1911.286ms, rate sampling interval: 6520ms
  Thread calibration: mean lat.: 1432.827ms, rate sampling interval: 5406ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    22.22s    10.90s   41.58s    58.17%
    Req/Sec   136.21      2.58   141.00     85.57%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   22.15s 
 75.000%   31.57s 
 90.000%   37.16s 
 99.000%   41.58s 
 99.900%   43.22s 
 99.990%   44.07s 
 99.999%   44.47s 
100.000%   44.53s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2539.519     0.000000            1         1.00
    7143.423     0.100000        72128         1.11
   10911.743     0.200000       144194         1.25
   14737.407     0.300000       216329         1.43
   18464.767     0.400000       288271         1.67
   22151.167     0.500000       360481         2.00
   24166.399     0.550000       396603         2.22
   26034.175     0.600000       432560         2.50
   27901.951     0.650000       468415         2.86
   29720.575     0.700000       504603         3.33
   31571.967     0.750000       540713         4.00
   32489.471     0.775000       558670         4.44
   33439.743     0.800000       576781         5.00
   34340.863     0.825000       594620         5.71
   35291.135     0.850000       612716         6.67
   36241.407     0.875000       631174         8.00
   36700.159     0.887500       639989         8.89
   37158.911     0.900000       648716        10.00
   37650.431     0.912500       657940        11.43
   38141.951     0.925000       666909        13.33
   38666.239     0.937500       676055        16.00
   38928.383     0.943750       680642        17.78
   39190.527     0.950000       684967        20.00
   39485.439     0.956250       689552        22.86
   39780.351     0.962500       693807        26.67
   40108.031     0.968750       698407        32.00
   40271.871     0.971875       700521        35.56
   40468.479     0.975000       702917        40.00
   40665.087     0.978125       705221        45.71
   40861.695     0.981250       707306        53.33
   41091.071     0.984375       709634        64.00
   41222.143     0.985938       710719        71.11
   41353.215     0.987500       711755        80.00
   41484.287     0.989062       712855        91.43
   41648.127     0.990625       713973       106.67
   41811.967     0.992188       715103       128.00
   41910.271     0.992969       715672       142.22
   42008.575     0.993750       716144       160.00
   42139.647     0.994531       716718       182.86
   42303.487     0.995313       717322       213.33
   42467.327     0.996094       717926       256.00
   42532.863     0.996484       718176       284.44
   42598.399     0.996875       718458       320.00
   42663.935     0.997266       718701       365.71
   42762.239     0.997656       718994       426.67
   42860.543     0.998047       719243       512.00
   42926.079     0.998242       719408       568.89
   42991.615     0.998437       719544       640.00
   43089.919     0.998633       719698       731.43
   43155.455     0.998828       719811       853.33
   43253.759     0.999023       719962      1024.00
   43319.295     0.999121       720039      1137.78
   43352.063     0.999219       720088      1280.00
   43417.599     0.999316       720150      1462.86
   43483.135     0.999414       720216      1706.67
   43614.207     0.999512       720308      2048.00
   43646.975     0.999561       720327      2275.56
   43679.743     0.999609       720357      2560.00
   43745.279     0.999658       720399      2925.71
   43810.815     0.999707       720437      3413.33
   43876.351     0.999756       720478      4096.00
   43909.119     0.999780       720494      4551.11
   43941.887     0.999805       720516      5120.00
   43941.887     0.999829       720516      5851.43
   43974.655     0.999854       720533      6826.67
   44040.191     0.999878       720553      8192.00
   44072.959     0.999890       720572      9102.22
   44072.959     0.999902       720572     10240.00
   44105.727     0.999915       720591     11702.86
   44105.727     0.999927       720591     13653.33
   44138.495     0.999939       720600     16384.00
   44138.495     0.999945       720600     18204.44
   44236.799     0.999951       720606     20480.00
   44269.567     0.999957       720609     23405.71
   44302.335     0.999963       720614     27306.67
   44335.103     0.999969       720618     32768.00
   44367.871     0.999973       720625     36408.89
   44367.871     0.999976       720625     40960.00
   44367.871     0.999979       720625     46811.43
   44367.871     0.999982       720625     54613.33
   44433.407     0.999985       720629     65536.00
   44433.407     0.999986       720629     72817.78
   44466.175     0.999988       720635     81920.00
   44466.175     0.999989       720635     93622.86
   44466.175     0.999991       720635    109226.67
   44466.175     0.999992       720635    131072.00
   44466.175     0.999993       720635    145635.56
   44466.175     0.999994       720635    163840.00
   44466.175     0.999995       720635    187245.71
   44466.175     0.999995       720635    218453.33
   44498.943     0.999996       720637    262144.00
   44498.943     0.999997       720637    291271.11
   44498.943     0.999997       720637    327680.00
   44498.943     0.999997       720637    374491.43
   44498.943     0.999998       720637    436906.67
   44498.943     0.999998       720637    524288.00
   44498.943     0.999998       720637    582542.22
   44498.943     0.999998       720637    655360.00
   44531.711     0.999999       720638    748982.86
   44531.711     1.000000       720638          inf
#[Mean    =    22222.590, StdDeviation   =    10896.025]
#[Max     =    44498.944, Total count    =       720638]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  785639 requests in 2.00m, 161.09MB read
Requests/sec:   6552.09  
Transfer/sec:      1.34MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44723 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42254 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44723 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42254 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.645ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.654ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.719ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.821ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.593ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.738ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.642ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.693ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.744ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.578ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.445ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.576ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.458ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.765ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.475ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.641ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.695ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.673ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.537ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.643ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.846ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.895ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.687ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.640ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.595ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.452ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.669ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.791ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.771ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.612ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.525ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.496ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.624ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.643ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.710ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.647ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.593ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.761ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.604ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.591ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.376ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.600ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.660ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.674ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.747ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.676ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.586ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.462ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.26ms    2.77ms  17.25ms   67.48%
    Req/Sec    20.60     37.37   142.00     73.78%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.14ms
 75.000%   11.06ms
 90.000%   12.66ms
 99.000%   17.25ms
 99.900%   23.55ms
 99.990%   29.33ms
 99.999%   35.10ms
100.000%   40.61ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.161     0.000000            1         1.00
       6.023     0.100000        10631         1.11
       6.615     0.200000        21251         1.25
       7.243     0.300000        31762         1.43
       8.207     0.400000        42368         1.67
       9.143     0.500000        52974         2.00
       9.543     0.550000        58243         2.22
       9.919     0.600000        63532         2.50
      10.295     0.650000        68872         2.86
      10.671     0.700000        74159         3.33
      11.063     0.750000        79391         4.00
      11.287     0.775000        82076         4.44
      11.511     0.800000        84717         5.00
      11.751     0.825000        87351         5.71
      12.007     0.850000        89978         6.67
      12.311     0.875000        92658         8.00
      12.479     0.887500        93933         8.89
      12.663     0.900000        95256        10.00
      12.879     0.912500        96587        11.43
      13.127     0.925000        97936        13.33
      13.407     0.937500        99242        16.00
      13.567     0.943750        99902        17.78
      13.751     0.950000       100570        20.00
      13.959     0.956250       101219        22.86
      14.215     0.962500       101884        26.67
      14.543     0.968750       102543        32.00
      14.719     0.971875       102863        35.56
      14.959     0.975000       103201        40.00
      15.247     0.978125       103531        45.71
      15.623     0.981250       103856        53.33
      16.071     0.984375       104187        64.00
      16.359     0.985938       104357        71.11
      16.607     0.987500       104518        80.00
      16.991     0.989062       104682        91.43
      17.407     0.990625       104856       106.67
      17.887     0.992188       105014       128.00
      18.175     0.992969       105096       142.22
      18.479     0.993750       105179       160.00
      18.831     0.994531       105261       182.86
      19.327     0.995313       105345       213.33
      19.855     0.996094       105426       256.00
      20.063     0.996484       105467       284.44
      20.415     0.996875       105510       320.00
      20.735     0.997266       105551       365.71
      21.151     0.997656       105592       426.67
      21.647     0.998047       105633       512.00
      21.935     0.998242       105656       568.89
      22.143     0.998437       105674       640.00
      22.623     0.998633       105695       731.43
      23.055     0.998828       105715       853.33
      23.663     0.999023       105736      1024.00
      23.951     0.999121       105746      1137.78
      24.159     0.999219       105758      1280.00
      24.687     0.999316       105767      1462.86
      25.055     0.999414       105777      1706.67
      25.679     0.999512       105788      2048.00
      25.887     0.999561       105793      2275.56
      26.159     0.999609       105798      2560.00
      26.399     0.999658       105803      2925.71
      27.135     0.999707       105809      3413.33
      27.647     0.999756       105814      4096.00
      27.903     0.999780       105817      4551.11
      28.143     0.999805       105819      5120.00
      28.255     0.999829       105821      5851.43
      28.879     0.999854       105825      6826.67
      29.231     0.999878       105827      8192.00
      29.327     0.999890       105829      9102.22
      29.327     0.999902       105829     10240.00
      30.607     0.999915       105830     11702.86
      30.831     0.999927       105832     13653.33
      30.943     0.999939       105833     16384.00
      31.999     0.999945       105834     18204.44
      31.999     0.999951       105834     20480.00
      32.287     0.999957       105835     23405.71
      32.895     0.999963       105836     27306.67
      32.895     0.999969       105836     32768.00
      33.695     0.999973       105837     36408.89
      33.695     0.999976       105837     40960.00
      33.695     0.999979       105837     46811.43
      35.103     0.999982       105838     54613.33
      35.103     0.999985       105838     65536.00
      35.103     0.999986       105838     72817.78
      35.103     0.999988       105838     81920.00
      35.103     0.999989       105838     93622.86
      40.607     0.999991       105839    109226.67
      40.607     1.000000       105839          inf
#[Mean    =        9.257, StdDeviation   =        2.768]
#[Max     =       40.576, Total count    =       105839]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115386 requests in 2.00m, 1.56GB read
Requests/sec:    961.54  
Transfer/sec:     13.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43816 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39955 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43816 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 39955 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.359ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.891ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.140ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.872ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.173ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.274ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.206ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.453ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.308ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.318ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.266ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.266ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.159ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.600ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.167ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.677ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.191ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.042ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.123ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.076ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.254ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.322ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.786ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.943ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.134ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.734ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.926ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.971ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.365ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.018ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.157ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.163ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.292ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.296ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.005ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.555ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.426ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.255ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.519ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.422ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.265ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.087ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.910ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.982ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.416ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.153ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.669ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.249ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.23ms    2.33ms  15.63ms   80.95%
    Req/Sec   106.55     72.59   300.00     72.48%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.59ms
 75.000%    7.99ms
 90.000%   10.22ms
 99.000%   15.63ms
 99.900%   21.58ms
 99.990%   27.93ms
 99.999%   39.68ms
100.000%   44.03ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.831     0.000000            1         1.00
       5.143     0.100000        54991         1.11
       5.559     0.200000       109908         1.25
       5.899     0.300000       165361         1.43
       6.231     0.400000       220232         1.67
       6.591     0.500000       275233         2.00
       6.791     0.550000       302264         2.22
       7.019     0.600000       329775         2.50
       7.283     0.650000       357233         2.86
       7.603     0.700000       384824         3.33
       7.995     0.750000       412311         4.00
       8.231     0.775000       425897         4.44
       8.511     0.800000       439882         5.00
       8.839     0.825000       453614         5.71
       9.215     0.850000       467269         6.67
       9.671     0.875000       480853         8.00
       9.935     0.887500       487711         8.89
      10.223     0.900000       494588        10.00
      10.551     0.912500       501449        11.43
      10.919     0.925000       508347        13.33
      11.359     0.937500       515222        16.00
      11.607     0.943750       518654        17.78
      11.871     0.950000       522045        20.00
      12.167     0.956250       525456        22.86
      12.511     0.962500       528911        26.67
      12.919     0.968750       532337        32.00
      13.159     0.971875       534063        35.56
      13.431     0.975000       535792        40.00
      13.735     0.978125       537476        45.71
      14.111     0.981250       539202        53.33
      14.559     0.984375       540935        64.00
      14.791     0.985938       541777        71.11
      15.079     0.987500       542633        80.00
      15.415     0.989062       543501        91.43
      15.791     0.990625       544353       106.67
      16.239     0.992188       545204       128.00
      16.511     0.992969       545644       142.22
      16.799     0.993750       546079       160.00
      17.135     0.994531       546501       182.86
      17.487     0.995313       546923       213.33
      17.967     0.996094       547354       256.00
      18.223     0.996484       547565       284.44
      18.527     0.996875       547779       320.00
      18.879     0.997266       547999       365.71
      19.279     0.997656       548216       426.67
      19.823     0.998047       548426       512.00
      20.079     0.998242       548532       568.89
      20.383     0.998437       548642       640.00
      20.719     0.998633       548744       731.43
      21.135     0.998828       548851       853.33
      21.647     0.999023       548960      1024.00
      21.967     0.999121       549017      1137.78
      22.223     0.999219       549066      1280.00
      22.607     0.999316       549119      1462.86
      23.039     0.999414       549173      1706.67
      23.439     0.999512       549230      2048.00
      23.663     0.999561       549254      2275.56
      23.935     0.999609       549280      2560.00
      24.447     0.999658       549308      2925.71
      24.975     0.999707       549334      3413.33
      25.647     0.999756       549360      4096.00
      25.871     0.999780       549376      4551.11
      26.095     0.999805       549387      5120.00
      26.607     0.999829       549402      5851.43
      26.911     0.999854       549414      6826.67
      27.503     0.999878       549427      8192.00
      27.711     0.999890       549434      9102.22
      28.015     0.999902       549442     10240.00
      28.383     0.999915       549448     11702.86
      29.103     0.999927       549454     13653.33
      29.935     0.999939       549461     16384.00
      30.543     0.999945       549464     18204.44
      31.247     0.999951       549468     20480.00
      31.567     0.999957       549471     23405.71
      32.511     0.999963       549474     27306.67
      33.535     0.999969       549479     32768.00
      33.535     0.999973       549479     36408.89
      34.367     0.999976       549483     40960.00
      34.367     0.999979       549483     46811.43
      34.463     0.999982       549484     54613.33
      36.223     0.999985       549486     65536.00
      38.463     0.999986       549487     72817.78
      38.495     0.999988       549488     81920.00
      39.679     0.999989       549489     93622.86
      39.679     0.999991       549489    109226.67
      40.127     0.999992       549490    131072.00
      40.927     0.999993       549491    145635.56
      40.927     0.999994       549491    163840.00
      41.407     0.999995       549492    187245.71
      41.407     0.999995       549492    218453.33
      41.407     0.999996       549492    262144.00
      42.335     0.999997       549493    291271.11
      42.335     0.999997       549493    327680.00
      42.335     0.999997       549493    374491.43
      42.335     0.999998       549493    436906.67
      42.335     0.999998       549493    524288.00
      44.031     0.999998       549494    582542.22
      44.031     1.000000       549494          inf
#[Mean    =        7.225, StdDeviation   =        2.326]
#[Max     =       44.000, Total count    =       549494]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599117 requests in 2.00m, 8.08GB read
Requests/sec:   4994.90  
Transfer/sec:     68.99MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43979 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40509 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43979 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 40509 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 18.586ms, rate sampling interval: 69ms
  Thread calibration: mean lat.: 11.159ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 12.444ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 27.981ms, rate sampling interval: 129ms
  Thread calibration: mean lat.: 12.254ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 9.429ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 19.130ms, rate sampling interval: 66ms
  Thread calibration: mean lat.: 32.413ms, rate sampling interval: 183ms
  Thread calibration: mean lat.: 10.600ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 12.084ms, rate sampling interval: 40ms
  Thread calibration: mean lat.: 12.222ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 13.011ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 15.476ms, rate sampling interval: 63ms
  Thread calibration: mean lat.: 10.700ms, rate sampling interval: 34ms
  Thread calibration: mean lat.: 10.044ms, rate sampling interval: 32ms
  Thread calibration: mean lat.: 12.781ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 14.090ms, rate sampling interval: 48ms
  Thread calibration: mean lat.: 28.772ms, rate sampling interval: 178ms
  Thread calibration: mean lat.: 9.340ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 10.056ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 9.356ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 15.397ms, rate sampling interval: 60ms
  Thread calibration: mean lat.: 12.014ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 14.079ms, rate sampling interval: 50ms
  Thread calibration: mean lat.: 9.264ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.249ms, rate sampling interval: 39ms
  Thread calibration: mean lat.: 25.062ms, rate sampling interval: 148ms
  Thread calibration: mean lat.: 9.318ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 13.421ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 8.607ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 12.391ms, rate sampling interval: 41ms
  Thread calibration: mean lat.: 13.150ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 9.296ms, rate sampling interval: 29ms
  Thread calibration: mean lat.: 36.680ms, rate sampling interval: 292ms
  Thread calibration: mean lat.: 11.620ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 11.085ms, rate sampling interval: 36ms
  Thread calibration: mean lat.: 11.648ms, rate sampling interval: 38ms
  Thread calibration: mean lat.: 9.901ms, rate sampling interval: 31ms
  Thread calibration: mean lat.: 13.656ms, rate sampling interval: 47ms
  Thread calibration: mean lat.: 10.832ms, rate sampling interval: 35ms
  Thread calibration: mean lat.: 15.277ms, rate sampling interval: 54ms
  Thread calibration: mean lat.: 12.403ms, rate sampling interval: 43ms
  Thread calibration: mean lat.: 15.768ms, rate sampling interval: 60ms
  Thread calibration: mean lat.: 12.379ms, rate sampling interval: 42ms
  Thread calibration: mean lat.: 9.120ms, rate sampling interval: 28ms
  Thread calibration: mean lat.: 12.754ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 12.616ms, rate sampling interval: 46ms
  Thread calibration: mean lat.: 31.710ms, rate sampling interval: 168ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    45.95ms  163.51ms 977.41ms   95.07%
    Req/Sec   210.59     68.89   387.00     69.77%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.69ms
 75.000%   15.27ms
 90.000%   34.53ms
 99.000%  977.41ms
 99.900%    1.66s 
 99.990%    1.97s 
 99.999%    2.12s 
100.000%    2.20s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.783     0.000000            1         1.00
       6.043     0.100000       109903         1.11
       6.691     0.200000       219727         1.25
       7.375     0.300000       329660         1.43
       8.359     0.400000       439380         1.67
       9.687     0.500000       549635         2.00
      10.455     0.550000       604128         2.22
      11.335     0.600000       659351         2.50
      12.351     0.650000       714173         2.86
      13.599     0.700000       768881         3.33
      15.271     0.750000       823718         4.00
      16.383     0.775000       851223         4.44
      17.759     0.800000       878599         5.00
      19.567     0.825000       906063         5.71
      22.143     0.850000       933572         6.67
      26.223     0.875000       960981         8.00
      29.487     0.887500       974678         8.89
      34.527     0.900000       988435        10.00
      43.359     0.912500      1002159        11.43
      61.919     0.925000      1015854        13.33
     108.927     0.937500      1029581        16.00
     150.399     0.943750      1036438        17.78
     202.623     0.950000      1043305        20.00
     268.287     0.956250      1050194        22.86
     337.919     0.962500      1057049        26.67
     419.327     0.968750      1063903        32.00
     465.407     0.971875      1067332        35.56
     518.655     0.975000      1070773        40.00
     581.119     0.978125      1074203        45.71
     655.871     0.981250      1077642        53.33
     744.959     0.984375      1081056        64.00
     799.231     0.985938      1082783        71.11
     858.111     0.987500      1084492        80.00
     927.743     0.989062      1086202        91.43
    1012.223     0.990625      1087922       106.67
    1087.487     0.992188      1089656       128.00
    1122.303     0.992969      1090496       142.22
    1166.335     0.993750      1091353       160.00
    1213.439     0.994531      1092210       182.86
    1259.519     0.995313      1093065       213.33
    1311.743     0.996094      1093934       256.00
    1340.415     0.996484      1094357       284.44
    1372.159     0.996875      1094786       320.00
    1411.071     0.997266      1095222       365.71
    1453.055     0.997656      1095647       426.67
    1502.207     0.998047      1096070       512.00
    1529.855     0.998242      1096287       568.89
    1555.455     0.998437      1096500       640.00
    1584.127     0.998633      1096711       731.43
    1617.919     0.998828      1096928       853.33
    1660.927     0.999023      1097139      1024.00
    1683.455     0.999121      1097247      1137.78
    1703.935     0.999219      1097354      1280.00
    1729.535     0.999316      1097466      1462.86
    1755.135     0.999414      1097573      1706.67
    1785.855     0.999512      1097675      2048.00
    1802.239     0.999561      1097729      2275.56
    1824.767     0.999609      1097785      2560.00
    1847.295     0.999658      1097836      2925.71
    1875.967     0.999707      1097891      3413.33
    1902.591     0.999756      1097945      4096.00
    1914.879     0.999780      1097970      4551.11
    1925.119     0.999805      1097999      5120.00
    1931.263     0.999829      1098024      5851.43
    1942.527     0.999854      1098054      6826.67
    1952.767     0.999878      1098077      8192.00
    1960.959     0.999890      1098092      9102.22
    1968.127     0.999902      1098104     10240.00
    1981.439     0.999915      1098118     11702.86
    1991.679     0.999927      1098131     13653.33
    1998.847     0.999939      1098144     16384.00
    2003.967     0.999945      1098153     18204.44
    2011.135     0.999951      1098158     20480.00
    2025.471     0.999957      1098165     23405.71
    2041.855     0.999963      1098171     27306.67
    2069.503     0.999969      1098179     32768.00
    2079.743     0.999973      1098182     36408.89
    2088.959     0.999976      1098185     40960.00
    2096.127     0.999979      1098189     46811.43
    2097.151     0.999982      1098191     54613.33
    2105.343     0.999985      1098196     65536.00
    2105.343     0.999986      1098196     72817.78
    2107.391     0.999988      1098198     81920.00
    2115.583     0.999989      1098201     93622.86
    2115.583     0.999991      1098201    109226.67
    2121.727     0.999992      1098203    131072.00
    2129.919     0.999993      1098204    145635.56
    2134.015     0.999994      1098206    163840.00
    2134.015     0.999995      1098206    187245.71
    2134.015     0.999995      1098206    218453.33
    2160.639     0.999996      1098207    262144.00
    2179.071     0.999997      1098208    291271.11
    2179.071     0.999997      1098208    327680.00
    2189.311     0.999997      1098209    374491.43
    2189.311     0.999998      1098209    436906.67
    2189.311     0.999998      1098209    524288.00
    2197.503     0.999998      1098210    582542.22
    2197.503     0.999998      1098210    655360.00
    2197.503     0.999999      1098210    748982.86
    2197.503     0.999999      1098210    873813.33
    2197.503     0.999999      1098210   1048576.00
    2199.551     0.999999      1098211   1165084.44
    2199.551     1.000000      1098211          inf
#[Mean    =       45.952, StdDeviation   =      163.514]
#[Max     =     2197.504, Total count    =      1098211]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1197827 requests in 2.00m, 16.16GB read
Requests/sec:   9988.72  
Transfer/sec:    137.97MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43023 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36554 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43023 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36554 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 9.866ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.818ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.114ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.671ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.709ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.963ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.065ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.698ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.165ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.578ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.964ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.474ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.959ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.629ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.793ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.282ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.146ms, rate sampling interval: 27ms
  Thread calibration: mean lat.: 9.633ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.578ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.707ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.463ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.012ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.622ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.901ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.906ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.860ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.971ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.810ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.359ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.124ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.964ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.730ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.534ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.709ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.840ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.847ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.995ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.005ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.980ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.045ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 10.047ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.687ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.396ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.839ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 10.030ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.909ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 10.096ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 9.367ms, rate sampling interval: 23ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.27ms    2.38ms  16.14ms   71.46%
    Req/Sec    20.32     28.68   120.00     90.95%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.14ms
 75.000%   10.64ms
 90.000%   12.18ms
 99.000%   16.14ms
 99.900%   21.10ms
 99.990%   24.56ms
 99.999%   44.74ms
100.000%   47.62ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.453     0.000000            1         1.00
       6.379     0.100000        10593         1.11
       7.343     0.200000        21207         1.25
       8.019     0.300000        31825         1.43
       8.599     0.400000        42424         1.67
       9.143     0.500000        53065         2.00
       9.415     0.550000        58351         2.22
       9.687     0.600000        63584         2.50
       9.983     0.650000        68829         2.86
      10.295     0.700000        74132         3.33
      10.639     0.750000        79413         4.00
      10.831     0.775000        82110         4.44
      11.031     0.800000        84702         5.00
      11.263     0.825000        87416         5.71
      11.527     0.850000        90001         6.67
      11.831     0.875000        92680         8.00
      11.991     0.887500        93974         8.89
      12.175     0.900000        95304        10.00
      12.383     0.912500        96595        11.43
      12.623     0.925000        97920        13.33
      12.919     0.937500        99261        16.00
      13.071     0.943750        99900        17.78
      13.247     0.950000       100566        20.00
      13.447     0.956250       101224        22.86
      13.695     0.962500       101890        26.67
      13.999     0.968750       102548        32.00
      14.175     0.971875       102878        35.56
      14.375     0.975000       103215        40.00
      14.607     0.978125       103537        45.71
      14.879     0.981250       103870        53.33
      15.207     0.984375       104196        64.00
      15.431     0.985938       104367        71.11
      15.639     0.987500       104526        80.00
      15.943     0.989062       104692        91.43
      16.271     0.990625       104856       106.67
      16.671     0.992188       105024       128.00
      16.847     0.992969       105104       142.22
      17.087     0.993750       105187       160.00
      17.375     0.994531       105271       182.86
      17.711     0.995313       105353       213.33
      18.127     0.996094       105439       256.00
      18.335     0.996484       105477       284.44
      18.735     0.996875       105519       320.00
      19.023     0.997266       105559       365.71
      19.407     0.997656       105601       426.67
      19.871     0.998047       105642       512.00
      20.175     0.998242       105663       568.89
      20.319     0.998437       105683       640.00
      20.527     0.998633       105704       731.43
      20.815     0.998828       105724       853.33
      21.183     0.999023       105745      1024.00
      21.423     0.999121       105755      1137.78
      21.775     0.999219       105766      1280.00
      22.111     0.999316       105777      1462.86
      22.415     0.999414       105786      1706.67
      22.751     0.999512       105798      2048.00
      22.927     0.999561       105803      2275.56
      23.055     0.999609       105809      2560.00
      23.119     0.999658       105812      2925.71
      23.615     0.999707       105818      3413.33
      23.935     0.999756       105823      4096.00
      23.983     0.999780       105825      4551.11
      24.063     0.999805       105828      5120.00
      24.143     0.999829       105830      5851.43
      24.399     0.999854       105833      6826.67
      24.543     0.999878       105836      8192.00
      24.559     0.999890       105837      9102.22
      24.575     0.999902       105838     10240.00
      24.911     0.999915       105839     11702.86
      25.231     0.999927       105841     13653.33
      25.951     0.999939       105842     16384.00
      28.479     0.999945       105843     18204.44
      28.479     0.999951       105843     20480.00
      29.167     0.999957       105844     23405.71
      30.863     0.999963       105845     27306.67
      30.863     0.999969       105845     32768.00
      30.895     0.999973       105846     36408.89
      30.895     0.999976       105846     40960.00
      30.895     0.999979       105846     46811.43
      44.735     0.999982       105847     54613.33
      44.735     0.999985       105847     65536.00
      44.735     0.999986       105847     72817.78
      44.735     0.999988       105847     81920.00
      44.735     0.999989       105847     93622.86
      47.615     0.999991       105848    109226.67
      47.615     1.000000       105848          inf
#[Mean    =        9.269, StdDeviation   =        2.379]
#[Max     =       47.584, Total count    =       105848]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115359 requests in 2.00m, 1.41GB read
Requests/sec:    961.32  
Transfer/sec:     12.04MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42874 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36266 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42874 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36266 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.531ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.749ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.581ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.506ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.703ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.576ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.527ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.485ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.918ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.657ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.996ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.437ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.867ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.849ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.539ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.684ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.706ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.160ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.829ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.669ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.592ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.481ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.337ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.633ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.740ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.213ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.365ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.045ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.750ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.707ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.735ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.083ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.987ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.408ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.667ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.481ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.458ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.352ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.494ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.293ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.974ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.852ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.472ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.441ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.667ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.413ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.875ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.876ms, rate sampling interval: 20ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.63ms    2.30ms  14.73ms   78.69%
    Req/Sec   106.70     75.90   315.00     71.39%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.07ms
 75.000%    7.52ms
 90.000%    9.54ms
 99.000%   14.73ms
 99.900%   20.54ms
 99.990%   27.06ms
 99.999%   44.29ms
100.000%   51.74ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.497     0.000000            1         1.00
       4.439     0.100000        55243         1.11
       4.895     0.200000       110151         1.25
       5.283     0.300000       164991         1.43
       5.667     0.400000       220025         1.67
       6.075     0.500000       274838         2.00
       6.303     0.550000       302608         2.22
       6.547     0.600000       329909         2.50
       6.823     0.650000       357320         2.86
       7.139     0.700000       384771         3.33
       7.519     0.750000       412268         4.00
       7.739     0.775000       425959         4.44
       7.991     0.800000       439722         5.00
       8.287     0.825000       453657         5.71
       8.631     0.850000       467309         6.67
       9.039     0.875000       480958         8.00
       9.279     0.887500       487769         8.89
       9.543     0.900000       494596        10.00
       9.847     0.912500       501572        11.43
      10.191     0.925000       508303        13.33
      10.599     0.937500       515243        16.00
      10.831     0.943750       518605        17.78
      11.095     0.950000       522047        20.00
      11.391     0.956250       525466        22.86
      11.735     0.962500       528900        26.67
      12.143     0.968750       532319        32.00
      12.375     0.971875       534056        35.56
      12.639     0.975000       535794        40.00
      12.935     0.978125       537474        45.71
      13.287     0.981250       539202        53.33
      13.703     0.984375       540917        64.00
      13.951     0.985938       541772        71.11
      14.207     0.987500       542622        80.00
      14.519     0.989062       543484        91.43
      14.887     0.990625       544342       106.67
      15.303     0.992188       545190       128.00
      15.575     0.992969       545631       142.22
      15.839     0.993750       546053       160.00
      16.127     0.994531       546478       182.86
      16.495     0.995313       546922       213.33
      16.895     0.996094       547335       256.00
      17.167     0.996484       547551       284.44
      17.487     0.996875       547766       320.00
      17.807     0.997266       547979       365.71
      18.223     0.997656       548200       426.67
      18.703     0.998047       548414       512.00
      18.991     0.998242       548518       568.89
      19.279     0.998437       548625       640.00
      19.647     0.998633       548732       731.43
      20.047     0.998828       548840       853.33
      20.607     0.999023       548947      1024.00
      20.895     0.999121       548999      1137.78
      21.199     0.999219       549054      1280.00
      21.551     0.999316       549106      1462.86
      21.967     0.999414       549162      1706.67
      22.383     0.999512       549213      2048.00
      22.623     0.999561       549240      2275.56
      22.847     0.999609       549267      2560.00
      23.151     0.999658       549294      2925.71
      23.679     0.999707       549321      3413.33
      24.239     0.999756       549347      4096.00
      24.431     0.999780       549361      4551.11
      24.735     0.999805       549374      5120.00
      25.087     0.999829       549388      5851.43
      25.535     0.999854       549401      6826.67
      26.271     0.999878       549414      8192.00
      26.639     0.999890       549421      9102.22
      27.183     0.999902       549428     10240.00
      27.695     0.999915       549435     11702.86
      28.543     0.999927       549441     13653.33
      29.375     0.999939       549448     16384.00
      29.711     0.999945       549451     18204.44
      30.111     0.999951       549455     20480.00
      30.687     0.999957       549458     23405.71
      31.023     0.999963       549461     27306.67
      32.687     0.999969       549465     32768.00
      32.927     0.999973       549466     36408.89
      33.503     0.999976       549468     40960.00
      34.975     0.999979       549470     46811.43
      36.223     0.999982       549471     54613.33
      37.119     0.999985       549473     65536.00
      37.311     0.999986       549474     72817.78
      38.495     0.999988       549475     81920.00
      44.287     0.999989       549476     93622.86
      44.287     0.999991       549476    109226.67
      44.735     0.999992       549477    131072.00
      46.239     0.999993       549478    145635.56
      46.239     0.999994       549478    163840.00
      46.303     0.999995       549479    187245.71
      46.303     0.999995       549479    218453.33
      46.303     0.999996       549479    262144.00
      47.391     0.999997       549480    291271.11
      47.391     0.999997       549480    327680.00
      47.391     0.999997       549480    374491.43
      47.391     0.999998       549480    436906.67
      47.391     0.999998       549480    524288.00
      51.743     0.999998       549481    582542.22
      51.743     1.000000       549481          inf
#[Mean    =        6.630, StdDeviation   =        2.295]
#[Max     =       51.712, Total count    =       549481]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599102 requests in 2.00m, 7.33GB read
Requests/sec:   4996.71  
Transfer/sec:     62.57MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42890 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36145 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42890 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 36145 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 2306.375ms, rate sampling interval: 8470ms
  Thread calibration: mean lat.: 1743.167ms, rate sampling interval: 6639ms
  Thread calibration: mean lat.: 1407.392ms, rate sampling interval: 6213ms
  Thread calibration: mean lat.: 1396.681ms, rate sampling interval: 5885ms
  Thread calibration: mean lat.: 1037.120ms, rate sampling interval: 4403ms
  Thread calibration: mean lat.: 1922.327ms, rate sampling interval: 9240ms
  Thread calibration: mean lat.: 1169.151ms, rate sampling interval: 5935ms
  Thread calibration: mean lat.: 1543.488ms, rate sampling interval: 5664ms
  Thread calibration: mean lat.: 1297.878ms, rate sampling interval: 6225ms
  Thread calibration: mean lat.: 1391.822ms, rate sampling interval: 6332ms
  Thread calibration: mean lat.: 2267.453ms, rate sampling interval: 8376ms
  Thread calibration: mean lat.: 920.259ms, rate sampling interval: 4065ms
  Thread calibration: mean lat.: 1250.506ms, rate sampling interval: 4681ms
  Thread calibration: mean lat.: 1692.172ms, rate sampling interval: 7475ms
  Thread calibration: mean lat.: 1329.155ms, rate sampling interval: 5451ms
  Thread calibration: mean lat.: 1008.510ms, rate sampling interval: 5853ms
  Thread calibration: mean lat.: 2014.373ms, rate sampling interval: 8327ms
  Thread calibration: mean lat.: 1490.968ms, rate sampling interval: 6324ms
  Thread calibration: mean lat.: 1263.089ms, rate sampling interval: 8015ms
  Thread calibration: mean lat.: 1270.926ms, rate sampling interval: 5844ms
  Thread calibration: mean lat.: 2155.044ms, rate sampling interval: 8847ms
  Thread calibration: mean lat.: 530.124ms, rate sampling interval: 2783ms
  Thread calibration: mean lat.: 1837.861ms, rate sampling interval: 7139ms
  Thread calibration: mean lat.: 1159.363ms, rate sampling interval: 5115ms
  Thread calibration: mean lat.: 901.012ms, rate sampling interval: 3790ms
  Thread calibration: mean lat.: 1109.308ms, rate sampling interval: 4599ms
  Thread calibration: mean lat.: 1372.593ms, rate sampling interval: 5328ms
  Thread calibration: mean lat.: 1269.437ms, rate sampling interval: 6524ms
  Thread calibration: mean lat.: 1165.931ms, rate sampling interval: 7639ms
  Thread calibration: mean lat.: 1257.434ms, rate sampling interval: 5033ms
  Thread calibration: mean lat.: 840.110ms, rate sampling interval: 2891ms
  Thread calibration: mean lat.: 948.445ms, rate sampling interval: 3186ms
  Thread calibration: mean lat.: 1346.060ms, rate sampling interval: 4833ms
  Thread calibration: mean lat.: 1364.654ms, rate sampling interval: 5197ms
  Thread calibration: mean lat.: 1513.208ms, rate sampling interval: 5685ms
  Thread calibration: mean lat.: 1297.986ms, rate sampling interval: 5922ms
  Thread calibration: mean lat.: 1958.048ms, rate sampling interval: 6946ms
  Thread calibration: mean lat.: 1589.377ms, rate sampling interval: 6803ms
  Thread calibration: mean lat.: 1537.179ms, rate sampling interval: 7172ms
  Thread calibration: mean lat.: 1329.518ms, rate sampling interval: 7086ms
  Thread calibration: mean lat.: 933.828ms, rate sampling interval: 5382ms
  Thread calibration: mean lat.: 1064.245ms, rate sampling interval: 5660ms
  Thread calibration: mean lat.: 816.200ms, rate sampling interval: 3643ms
  Thread calibration: mean lat.: 1494.007ms, rate sampling interval: 7430ms
  Thread calibration: mean lat.: 829.113ms, rate sampling interval: 3239ms
  Thread calibration: mean lat.: 1299.444ms, rate sampling interval: 5058ms
  Thread calibration: mean lat.: 2223.897ms, rate sampling interval: 8241ms
  Thread calibration: mean lat.: 1108.079ms, rate sampling interval: 5197ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    18.23s    13.98s    1.00m    70.18%
    Req/Sec   146.35     15.80   178.00     73.48%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   14.87s 
 75.000%   26.07s 
 90.000%   38.60s 
 99.000%    1.00m 
 99.900%    1.16m 
 99.990%    1.22m 
 99.999%    1.25m 
100.000%    1.25m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       7.855     0.000000            1         1.00
    3309.567     0.100000        75336         1.11
    5902.335     0.200000       150697         1.25
    8601.599     0.300000       226034         1.43
   11550.719     0.400000       301289         1.67
   14868.479     0.500000       376513         2.00
   16654.335     0.550000       414085         2.22
   18612.223     0.600000       451938         2.50
   20791.295     0.650000       489627         2.86
   23248.895     0.700000       527084         3.33
   26066.943     0.750000       564755         4.00
   27590.655     0.775000       583667         4.44
   29245.439     0.800000       602322         5.00
   31145.983     0.825000       621133         5.71
   33128.447     0.850000       640062         6.67
   35586.047     0.875000       658863         8.00
   36995.071     0.887500       668333         8.89
   38600.703     0.900000       677797        10.00
   40501.247     0.912500       687163        11.43
   42467.327     0.925000       696523        13.33
   44498.943     0.937500       705929        16.00
   45580.287     0.943750       710641        17.78
   46694.399     0.950000       715288        20.00
   48005.119     0.956250       720015        22.86
   49545.215     0.962500       724710        26.67
   51118.079     0.968750       729371        32.00
   52002.815     0.971875       731780        35.56
   52789.247     0.975000       734105        40.00
   53739.519     0.978125       736421        45.71
   54820.863     0.981250       738756        53.33
   56262.655     0.984375       741113        64.00
   57081.855     0.985938       742321        71.11
   58064.895     0.987500       743460        80.00
   59080.703     0.989062       744660        91.43
   60227.583     0.990625       745826       106.67
   61210.623     0.992188       747001       128.00
   61734.911     0.992969       747585       142.22
   62455.807     0.993750       748176       160.00
   63176.703     0.994531       748757       182.86
   63930.367     0.995313       749342       213.33
   64618.495     0.996094       749931       256.00
   64946.175     0.996484       750227       284.44
   65404.927     0.996875       750520       320.00
   65896.447     0.997266       750828       365.71
   66519.039     0.997656       751105       426.67
   67239.935     0.998047       751400       512.00
   67633.151     0.998242       751549       568.89
   68222.975     0.998437       751699       640.00
   68681.727     0.998633       751861       731.43
   69140.479     0.998828       752005       853.33
   69533.695     0.999023       752136      1024.00
   69861.375     0.999121       752225      1137.78
   70057.983     0.999219       752305      1280.00
   70189.055     0.999316       752363      1462.86
   70385.663     0.999414       752437      1706.67
   70713.343     0.999512       752508      2048.00
   70909.951     0.999561       752539      2275.56
   71106.559     0.999609       752583      2560.00
   71434.239     0.999658       752616      2925.71
   71761.919     0.999707       752656      3413.33
   72024.063     0.999756       752689      4096.00
   72155.135     0.999780       752704      4551.11
   72286.207     0.999805       752722      5120.00
   72548.351     0.999829       752744      5851.43
   72679.423     0.999854       752760      6826.67
   72876.031     0.999878       752778      8192.00
   73007.103     0.999890       752787      9102.22
   73203.711     0.999902       752800     10240.00
   73269.247     0.999915       752806     11702.86
   73531.391     0.999927       752815     13653.33
   73859.071     0.999939       752826     16384.00
   73924.607     0.999945       752831     18204.44
   73990.143     0.999951       752835     20480.00
   74121.215     0.999957       752842     23405.71
   74121.215     0.999963       752842     27306.67
   74252.287     0.999969       752848     32768.00
   74317.823     0.999973       752849     36408.89
   74383.359     0.999976       752852     40960.00
   74448.895     0.999979       752853     46811.43
   74579.967     0.999982       752858     54613.33
   74579.967     0.999985       752858     65536.00
   74645.503     0.999986       752860     72817.78
   74645.503     0.999988       752860     81920.00
   74711.039     0.999989       752864     93622.86
   74711.039     0.999991       752864    109226.67
   74711.039     0.999992       752864    131072.00
   74711.039     0.999993       752864    145635.56
   74776.575     0.999994       752868    163840.00
   74776.575     0.999995       752868    187245.71
   74776.575     0.999995       752868    218453.33
   74776.575     0.999996       752868    262144.00
   74776.575     0.999997       752868    291271.11
   74776.575     0.999997       752868    327680.00
   74776.575     0.999997       752868    374491.43
   74776.575     0.999998       752868    436906.67
   74776.575     0.999998       752868    524288.00
   74776.575     0.999998       752868    582542.22
   74776.575     0.999998       752868    655360.00
   74776.575     0.999999       752868    748982.86
   74842.111     0.999999       752869    873813.33
   74842.111     1.000000       752869          inf
#[Mean    =    18226.968, StdDeviation   =    13984.342]
#[Max     =    74776.576, Total count    =       752869]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  821654 requests in 2.00m, 10.05GB read
Requests/sec:   6851.39  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42382 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33757 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42382 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 33757 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130583 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
7c4e989bfe997616396be2aca933d20e518cb43e5f89bbbf05902d9c1ede17e4
bfd4197b4c6660d67fbfe28ebbdc22c1190a272db6c6aef6060e727a5e2cd8a5
25de8e4a9061904ca44dd59273dafb186fc1f448b8343871775d1359f11f3582
11e95a3c8a5140739d120da6b2bc141e25d99d8dbfe924f9e12c0a02fd0ac7e4
ab9522fcc1754ac5a9ac327bcd22306dd49be08b9ef758dea18c0165e02209fa
a2c7fe00eef1f9fe896f28e01e05253d488572d4fa33dcfb3708288d12a5602d
254c46f82925b37c54ffe50573520903dfe32bc00b473fc0b76c3c9bbcf5c0c0
5b06bd03115ee41f45200acbb3db6d76dc2a1e69ad6310c84f5e2ffc87a0e142
fe6755850e091906c5184e68d0b83a59a56ab1b76c0e83aa81560f5081b28394
f622371908b5761f2b748ecde0db255125f9035117f1e448733ea2cf27b6dfcd
8ba36e7ea6716b72cc4ef44a9cdebb1c65a594bb7e47bf999ca58d25041f97ed
728e2b8d0674df4e3b1aff6a12dc55b3f66a94f4068a32bc186cc6147204dda7
e11a776826c2a8df09efb2ae4bd4d1da55a83e5db52277c0fa31cc19c21a94f5
4806f54a6858a888967a3abb14dbd2d2912a0a5d2e75c7ae4a805dc0dfc28447
a0c8cbbe20bf7bb2ee29ef290db8aaec63518176e43200fbd43faa4c724e31c4
11e8ec97482bff88268dc3a2f56ff3455b8ca8c969c45fca882cb84e67e705f4
8e9d27ca0caa52c1b880166e9645578fb430e4bda8170beff80902eec480e8e9
b725f1b60e582a145db197678fcb558067ca0536826f1acc38b94b68b8a5101b
d40cc07388c883891aa6b9cf3039fa2d3a364385d4dad488d53bd1ad73fa8c3f
42e698eb4a69397f49086193963f38f32ff003ea6a4fe5124a6e7f9413628df6
dbfc726bd6fd9e1d21f67e828087655515b2ede67699caa4d6145b4e25c0d078
fd769a91d12979cf5bb906ab8984d81c04f033033de5f441ba390faa44955a11
b47db08deb6958e8a8bf27ab5eafd6c3a41eeae776375c77df4cec8c2d710cbf
f6b6d5161b25225e012db2d2dfbbed9868a40e1f16c058e96c2a78afcf18def2
27c92ff69d7d35cba48408fd0fcf06a922b93b55ceec16d313da58c819947fdc
6f59a14ddf14cbf2b11841548b1d4ff81fd182dccd1d9da7eede00f3722d6b1a
7a2367ad9f40edf2fcae59cda2caa25e2988702c4bf35103eb88c691f43613bf
e84f1aadb3b6010eb3f3ff19e535fe4c0ebc30733eefc7b479c13c00b6a4a9b5
cd27683d26fcc73a44b17398ebcc5d327b6159a2c43222f09e99007b65dcc515
7bd3ca77d4454c131a447019779e6b46799600580b4eca8bc997da622ab5a2c5
c076c0ce9e8ef24d04cc7b22d201e79c3fc168248906c9adebfc7b09c8eae308

Total reclaimed space: 4.592GB
python ./run-socialnetwork-test-numactl.py -n f -w compose-post,read-user-timeline,mixed-workload -r 1000,5000,10000 -d 120 -N 5 -m i -M 0,2 -t 48 -c 200
Network socialnetwork_default not found.
Log:  Exec: whoami
Log:  Result: root
Log:  Exec: date +%H-%M-%h-%d
Log:  Result: 18-34-Oct-11
Log:  setup test environment: create docker instances, redis cluster, establish network

Log:  Exec: python ./run-socialnetwork-one-config-numactl.py -r 0 -N 5 -d 120 -t 48 -c 200 -i ./docker-compose-sharding.yml -w compose-post,read-user-timeline,mixed-workload -n f -o /home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-2.log -b True -m i -M 0,2
Log:  Result: CMD: date +%H-%M-%h-%d

Result: 18-34-Oct-11


CMD: whoami

Result: root


CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: echo never > /sys/kernel/mm/transparent_hugepage/enabled

Result: suceed

CMD: cat /sys/kernel/mm/transparent_hugepage/enabled

Result: always madvise [never]


CMD: apt-get install -y cpufrequtils

Result: Reading package lists...
Building dependency tree...
Reading state information...
cpufrequtils is already the newest version (008-2).
0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.


CMD: cpufreq-set -g performance

Result: suceed

CMD: cpufreq-info -p

Result: 800000 4000000 performance


CMD: echo 0 > /proc/sys/kernel/numa_balancing

Result: suceed

CMD: cat /proc/sys/kernel/numa_balancing

Result: 0


Running args: {'build': 'True', 'rps': '0', 'node': '5', 'cpus': '1', 'duration': '120', 'threads': '48', 'connections': '200', 'input': './docker-compose-sharding.yml', 'workload': 'compose-post,read-user-timeline,mixed-workload', 'network': 'f', 'output': '/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-2.log', 'mode': 'i', 'memnode': '0,2'}


Docker config:  5 nodes, numactl False
CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: docker-compose -f ./docker-compose-run.yml up -d

Result: suceed

CMD: docker ps > /tmp/ps

Result: suceed

Install numactl tools on docker image: social-network-microservices-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_social-graph-service_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f social-network-microservices-numa-interleave-node-0-2



CMD: docker commit socialnetwork_social-graph-service_1 social-network-microservices-numa-interleave-node-0-2

Result: sha256:9881f77019d0eac8ed960896c3762a2ab2f0b1f3ccc2e531382bc394272fb0e7


Install numactl tools on docker image: openresty-thrift-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_nginx-thrift_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f openresty-thrift-numa-interleave-node-0-2



CMD: docker commit socialnetwork_nginx-thrift_1 openresty-thrift-numa-interleave-node-0-2

Result: sha256:f5abf2dd44176b39e5c92983cd396ecf7e9b01d0f18c85b2eddc5e9308ace7fb


Install numactl tools on docker image: media-frontend-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-frontend_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker image rm -f media-frontend-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-frontend_1 media-frontend-numa-interleave-node-0-2

Result: sha256:415fd9e5f3b4a5877dc714444a278d94f938af9cb583f3aee2b372a696edb51d


Install numactl tools on docker image: redis-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_social-graph-redis_5:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_social-graph-redis_5:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 702 Oct 12 01:34 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_social-graph-redis_5 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 redis-server "$@"


CMD: docker image rm -f redis-numa-interleave-node-0-2



CMD: docker commit socialnetwork_social-graph-redis_5 redis-numa-interleave-node-0-2

Result: sha256:fd4fcda59121afa6e002eea11f07cc3080e9cdc3c931dc2b66518cd0b01e652b


Install numactl tools on docker image: mongo-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-mongodb_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-mongodb_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 13K Oct 12 01:34 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-mongodb_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: # you should use numactl to start your mongod instances, including the config servers, mongos instances, and any clients.
# https://docs.mongodb.com/manual/administration/production-notes/#configuring-numa-on-linux
	numa='numactl --cpunodebind=0 --interleave=0,2'
	if $numa true &> /dev/null; then
		set -- $numa "$@"


CMD: docker image rm -f mongo-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-mongodb_1 mongo-numa-interleave-node-0-2

Result: sha256:cbc35303cc3dec5cdedef7bf804811fbb89ae292cee5614c67f30dda3dbda814


Install numactl tools on docker image: memcached-numa-interleave-node-0-2
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "apt-get update 2>&1 1>&/dev/null; apt-get install -y numactl procps 2>&1 1>&/dev/null"  

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "if test -f /usr/local/bin/docker-entrypoint.sh.orig; then echo 1; else echo 0; fi"  

Result: 0


orig file not exist, creating
CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cp /usr/local/bin/docker-entrypoint.sh /usr/local/bin/docker-entrypoint.sh.orig"  

Result: suceed

CMD: docker cp socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh /tmp/docker-entrypoint.sh

Result: suceed

CMD: chmod 755 /tmp/docker-entrypoint.sh.new

Result: suceed

CMD: docker cp /tmp/docker-entrypoint.sh.new socialnetwork_media-memcached_1:/usr/local/bin/docker-entrypoint.sh

Result: suceed

CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "ls -lh /usr/local/bin/docker-entrypoint.sh"  

Result: -rwxr-xr-x 1 root root 165 Oct 12 01:35 /usr/local/bin/docker-entrypoint.sh


CMD: docker exec -u root -it socialnetwork_media-memcached_1 bash -c "cat /usr/local/bin/docker-entrypoint.sh | grep numa"  

Result: set -- numactl --cpunodebind=0 --interleave=0,2 memcached "$@"


CMD: docker image rm -f memcached-numa-interleave-node-0-2



CMD: docker commit socialnetwork_media-memcached_1 memcached-numa-interleave-node-0-2

Result: sha256:7a72d89df1cfb6cbfa5a7b13fefbe8e7fa7c3662885e9d2459c56f97f1620ff4


CMD: docker-compose -f ./docker-compose-run.yml down

Result: suceed

CMD: yes|docker image prune

Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B


CMD: yes|docker volume prune

Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
3b0556fb3b7c43053d759f2d8f0b1a564cdb1e73d7654b3eaadbb463da75b673
0227edc1fe25110f8257078dd2c3ec0c5ed65769e3bc2e28db7a7c67bf1f9c17
e8b7fbeb8f4ceb3a3925d563547346031b6fd69aaa1a68741507740f059afbb8
942b3801edbc03f93ee16def178464ba70220c71dea6195f12305a82bd0f2bd9
0789a65ca4e2c77c144f9323f1b5a356fa72521d3cc7d06fc4ec4908d01d033b
7459aa71aafec735f20a4277a80d7ec8de796e3af0e1b69b631398e725ea6c69
de680434bbd5eaf3a194aa3e926afc4d1f19a74653dfef970bac2318d841fe47
3f946e8c940e387373908e030fe44786bb0d9d7737eda6138b94e57cfffa407a
265dd434ada094b974e4d5101081a918611bbe5261dc5c9fc875d9b3243227ef
3b0b8872787754503ebaed451aba2b0dd597293d1cd8966b928104ab4ee13605
7f720ed0a53c615b40f57a265c9bfec17904c4e45a60343bde9b4bba3baa2d48
49a894b7f6d5fe5c23c82fd9028735ba10473e71078e3f0f18176c47fd361623
fe2ce3454467c56d0b30044f43274f9991bf160dd6acb6f9e1fb446d9d51efce
b10bfadbbdc5d96faf22b8e4b5839ebbb621160dfda4135fb099d0d7baa12ea0
f209cb394fca2a5a7bcbb5e37bf39ca933fb427dd253a08f7521400184480ab8
29e090c8a48a6e7eb14b9262a75923214711680fdc201f852f1c0ece04345527
a67f5edcecbe6ce3f7072c06ea158a5c6c99920205e1e82de14388a7d36ad772
119fd7884e21a64a701bc13f9e313939a57e36d5a72de2e7c37060189f06428d
6a378060e272463fb762dce1b6bc8a49237a19f6d377ce21d95edd8a51b5232a
c9bf3a9c0ae86ce8ac5ff0c1c6e838f6e0487bd88ab216c91f79bb1b781b685b
99d8120f63fe51be8c65cadbf9b052fc71022bfa43aeb4c6bc55b6f3f3a32df6
9a7f526e0e0115a92b33492256e399772dc2e8dcf8649ec6bc99ea868eb27d84
7ee13029323484e883d59c074e80337ba1b61806ab1eddb30f0181a289ccaa4c
6bda9fd80061d3467393ca6045707df2e823c968a2dafae5aeba46b44cbdbc45
032f3e422d3178fe7a402909aa2c2b34f60d672135efee594e89aa948e046440
045ab08ff5eaf4a8607f74c6e898872cd11cad6010be3cde10a39b2f6009fa0e
ba5326bcb7d12a16f3bacd140b8a039e0d172cf32b7f49140db50a99ca68488e
55d0609ee3bd8f59b7e67ecf3c1db24c0cfc8823958b46c81fe17f552effd0f3
bed0b2691c7217fee92429c1c3ef04d7c048c9308316c158ef47c60e30bacb4d
9844eb25da9c07aa78bc5ef1075975a73d61702ccc2fe2a30dd3514221473062
00eb67874e22fdf093f607fd0b788de5d3922f5929c19ecc726d8780058807bf

Total reclaimed space: 1.889GB


******************************
Create yml file with new image
Docker config:  5 nodes, numactl True
CMD: docker-compose -f ./numactl-docker-compose-run.yml up -d

Result: suceed

******************************
/home/fan/cxl/DeathStarBench/logs//dsb-result_node5_threads48_conn200_compose-post,read-user-timeline,mixed-workload_network_facebook-mode-numa-interleave-node-0-2.log
Before construct socialNetwork

CMD: numactl -H

Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54018 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58390 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130387 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10


available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 54018 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 58390 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 130387 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Register users and construct social graph: facebook

CMD: python3 scripts/init_social_graph.py --graph=facebook

Result: Registering Users...
0
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
Succeeded: 4039
Adding follows...
200
400
600
800
1000
1200
1400
1600
1800
2000
2200
2400
2600
2800
3000
3200
3400
3600
3800
4000
4200
4400
4600
4800
5000
5200
5400
5600
5800
6000
6200
6400
6600
6800
7000
7200
7400
7600
7800
8000
8200
8400
8600
8800
9000
9200
9400
9600
9800
10000
10200
10400
10600
10800
11000
11200
11400
11600
11800
12000
12200
12400
12600
12800
13000
13200
13400
13600
13800
14000
14200
14400
14600
14800
15000
15200
15400
15600
15800
16000
16200
16400
16600
16800
17000
17200
17400
17600
17800
18000
18200
18400
18600
18800
19000
19200
19400
19600
19800
20000
20200
20400
20600
20800
21000
21200
21400
21600
21800
22000
22200
22400
22600
22800
23000
23200
23400
23600
23800
24000
24200
24400
24600
24800
25000
25200
25400
25600
25800
26000
26200
26400
26600
26800
27000
27200
27400
27600
27800
28000
28200
28400
28600
28800
29000
29200
29400
29600
29800
30000
30200
30400
30600
30800
31000
31200
31400
31600
31800
32000
32200
32400
32600
32800
33000
33200
33400
33600
33800
34000
34200
34400
34600
34800
35000
35200
35400
35600
35800
36000
36200
36400
36600
36800
37000
37200
37400
37600
37800
38000
38200
38400
38600
38800
39000
39200
39400
39600
39800
40000
40200
40400
40600
40800
41000
41200
41400
41600
41800
42000
42200
42400
42600
42800
43000
43200
43400
43600
43800
44000
44200
44400
44600
44800
45000
45200
45400
45600
45800
46000
46200
46400
46600
46800
47000
47200
47400
47600
47800
48000
48200
48400
48600
48800
49000
49200
49400
49600
49800
50000
50200
50400
50600
50800
51000
51200
51400
51600
51800
52000
52200
52400
52600
52800
53000
53200
53400
53600
53800
54000
54200
54400
54600
54800
55000
55200
55400
55600
55800
56000
56200
56400
56600
56800
57000
57200
57400
57600
57800
58000
58200
58400
58600
58800
59000
59200
59400
59600
59800
60000
60200
60400
60600
60800
61000
61200
61400
61600
61800
62000
62200
62400
62600
62800
63000
63200
63400
63600
63800
64000
64200
64400
64600
64800
65000
65200
65400
65600
65800
66000
66200
66400
66600
66800
67000
67200
67400
67600
67800
68000
68200
68400
68600
68800
69000
69200
69400
69600
69800
70000
70200
70400
70600
70800
71000
71200
71400
71600
71800
72000
72200
72400
72600
72800
73000
73200
73400
73600
73800
74000
74200
74400
74600
74800
75000
75200
75400
75600
75800
76000
76200
76400
76600
76800
77000
77200
77400
77600
77800
78000
78200
78400
78600
78800
79000
79200
79400
79600
79800
80000
80200
80400
80600
80800
81000
81200
81400
81600
81800
82000
82200
82400
82600
82800
83000
83200
83400
83600
83800
84000
84200
84400
84600
84800
85000
85200
85400
85600
85800
86000
86200
86400
86600
86800
87000
87200
87400
87600
87800
88000
88200
Succeeded: 176468


CMD: docker exec -u root -it socialnetwork_social-graph-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:440
cluster_stats_messages_pong_sent:431
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:872
cluster_stats_messages_ping_received:431
cluster_stats_messages_pong_received:441
cluster_stats_messages_received:872
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_home-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:2
cluster_stats_messages_ping_sent:442
cluster_stats_messages_pong_sent:450
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:893
cluster_stats_messages_ping_received:450
cluster_stats_messages_pong_received:443
cluster_stats_messages_received:893
total_cluster_links_buffer_limit_exceeded:0


CMD: docker exec -u root -it socialnetwork_user-timeline-redis_1 redis-cli cluster info

Result: cluster_state:ok
cluster_slots_assigned:16384
cluster_slots_ok:16384
cluster_slots_pfail:0
cluster_slots_fail:0
cluster_known_nodes:5
cluster_size:5
cluster_current_epoch:5
cluster_my_epoch:5
cluster_stats_messages_ping_sent:442
cluster_stats_messages_pong_sent:449
cluster_stats_messages_meet_sent:1
cluster_stats_messages_sent:892
cluster_stats_messages_ping_received:449
cluster_stats_messages_pong_received:443
cluster_stats_messages_received:892
total_cluster_links_buffer_limit_exceeded:0



Run the workload as below:

../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/build -R 0
CMD: mv ./numactl-docker-compose-run.yml /tmp/

Result: suceed
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.396ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.009ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.113ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 5.678ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.165ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.769ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.552ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.825ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.474ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.533ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.965ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.394ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.624ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.579ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.849ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.559ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.962ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.007ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.479ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.081ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.503ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.624ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.104ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.753ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.640ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.162ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.677ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.269ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 5.508ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.550ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.122ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.818ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.993ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.231ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.723ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.789ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.910ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.651ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.526ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.225ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.150ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 7.866ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.923ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.612ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.734ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 5.220ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 6.174ms, rate sampling interval: 13ms
  Thread calibration: mean lat.: 6.292ms, rate sampling interval: 13ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.06ms    1.19ms   8.82ms   82.38%
    Req/Sec    20.69     40.33   166.00     76.76%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.88ms
 75.000%    5.51ms
 90.000%    6.25ms
 99.000%    8.82ms
 99.900%   16.38ms
 99.990%   31.52ms
 99.999%   37.60ms
100.000%   37.92ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.189     0.000000            1         1.00
       3.961     0.100000        10628         1.11
       4.247     0.200000        21230         1.25
       4.471     0.300000        31795         1.43
       4.675     0.400000        42441         1.67
       4.879     0.500000        52928         2.00
       4.987     0.550000        58342         2.22
       5.099     0.600000        63674         2.50
       5.219     0.650000        68861         2.86
       5.359     0.700000        74184         3.33
       5.511     0.750000        79429         4.00
       5.595     0.775000        82073         4.44
       5.691     0.800000        84721         5.00
       5.795     0.825000        87366         5.71
       5.923     0.850000        89995         6.67
       6.071     0.875000        92647         8.00
       6.151     0.887500        93934         8.89
       6.251     0.900000        95267        10.00
       6.363     0.912500        96593        11.43
       6.495     0.925000        97908        13.33
       6.643     0.937500        99245        16.00
       6.731     0.943750        99883        17.78
       6.839     0.950000       100554        20.00
       6.963     0.956250       101219        22.86
       7.115     0.962500       101871        26.67
       7.299     0.968750       102530        32.00
       7.411     0.971875       102871        35.56
       7.539     0.975000       103200        40.00
       7.695     0.978125       103522        45.71
       7.891     0.981250       103853        53.33
       8.139     0.984375       104183        64.00
       8.295     0.985938       104349        71.11
       8.479     0.987500       104515        80.00
       8.695     0.989062       104684        91.43
       8.919     0.990625       104853       106.67
       9.199     0.992188       105012       128.00
       9.351     0.992969       105093       142.22
       9.575     0.993750       105176       160.00
       9.831     0.994531       105260       182.86
      10.079     0.995313       105340       213.33
      10.415     0.996094       105424       256.00
      10.663     0.996484       105465       284.44
      10.959     0.996875       105507       320.00
      11.399     0.997266       105547       365.71
      11.975     0.997656       105588       426.67
      12.983     0.998047       105630       512.00
      13.735     0.998242       105650       568.89
      14.487     0.998437       105671       640.00
      15.271     0.998633       105692       731.43
      15.903     0.998828       105712       853.33
      16.415     0.999023       105733      1024.00
      16.815     0.999121       105743      1137.78
      17.327     0.999219       105755      1280.00
      17.695     0.999316       105765      1462.86
      18.095     0.999414       105776      1706.67
      18.719     0.999512       105785      2048.00
      19.391     0.999561       105790      2275.56
      20.207     0.999609       105795      2560.00
      20.991     0.999658       105800      2925.71
      21.855     0.999707       105805      3413.33
      23.551     0.999756       105811      4096.00
      25.151     0.999780       105813      4551.11
      25.471     0.999805       105816      5120.00
      25.711     0.999829       105818      5851.43
      29.967     0.999854       105821      6826.67
      31.199     0.999878       105824      8192.00
      31.519     0.999890       105825      9102.22
      31.695     0.999902       105826     10240.00
      32.287     0.999915       105827     11702.86
      32.799     0.999927       105829     13653.33
      32.959     0.999939       105830     16384.00
      34.079     0.999945       105831     18204.44
      34.079     0.999951       105831     20480.00
      34.591     0.999957       105832     23405.71
      34.719     0.999963       105833     27306.67
      34.719     0.999969       105833     32768.00
      35.423     0.999973       105834     36408.89
      35.423     0.999976       105834     40960.00
      35.423     0.999979       105834     46811.43
      37.599     0.999982       105835     54613.33
      37.599     0.999985       105835     65536.00
      37.599     0.999986       105835     72817.78
      37.599     0.999988       105835     81920.00
      37.599     0.999989       105835     93622.86
      37.919     0.999991       105836    109226.67
      37.919     1.000000       105836          inf
#[Mean    =        5.057, StdDeviation   =        1.187]
#[Max     =       37.888, Total count    =       105836]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115372 requests in 2.00m, 23.66MB read
Requests/sec:    961.39  
Transfer/sec:    201.86KB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52787 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57363 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129495 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 52787 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 57363 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 129495 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 4.439ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.470ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.295ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.742ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.487ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.397ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.333ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.407ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.440ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.571ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.443ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.355ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.515ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.543ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.294ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.410ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.567ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.539ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.444ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.358ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.373ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.425ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.295ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.313ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.490ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.163ms, rate sampling interval: 10ms
  Thread calibration: mean lat.: 4.603ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.444ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.483ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.319ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.527ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.208ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.322ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.279ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.252ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.306ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.257ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.436ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.262ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.270ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.417ms, rate sampling interval: 12ms
  Thread calibration: mean lat.: 4.303ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.216ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.435ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.598ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.356ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.325ms, rate sampling interval: 11ms
  Thread calibration: mean lat.: 4.305ms, rate sampling interval: 11ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     5.66ms   11.33ms  52.70ms   98.18%
    Req/Sec   108.61     98.67   400.00     57.96%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    4.01ms
 75.000%    4.82ms
 90.000%    6.43ms
 99.000%   52.70ms
 99.900%  164.86ms
 99.990%  224.26ms
 99.999%  296.19ms
100.000%  352.26ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.183     0.000000            1         1.00
       3.231     0.100000        55277         1.11
       3.443     0.200000       110311         1.25
       3.625     0.300000       165218         1.43
       3.807     0.400000       220067         1.67
       4.011     0.500000       275201         2.00
       4.127     0.550000       302663         2.22
       4.263     0.600000       330260         2.50
       4.411     0.650000       357341         2.86
       4.591     0.700000       384881         3.33
       4.819     0.750000       412430         4.00
       4.959     0.775000       425886         4.44
       5.131     0.800000       439774         5.00
       5.339     0.825000       453335         5.71
       5.599     0.850000       467113         6.67
       5.947     0.875000       480828         8.00
       6.167     0.887500       487733         8.89
       6.427     0.900000       494601        10.00
       6.731     0.912500       501445        11.43
       7.095     0.925000       508273        13.33
       7.543     0.937500       515132        16.00
       7.815     0.943750       518572        17.78
       8.143     0.950000       522019        20.00
       8.559     0.956250       525489        22.86
       9.095     0.962500       528884        26.67
       9.895     0.968750       532327        32.00
      10.479     0.971875       534023        35.56
      11.423     0.975000       535744        40.00
      13.031     0.978125       537457        45.71
      15.975     0.981250       539174        53.33
      24.319     0.984375       540890        64.00
      30.479     0.985938       541748        71.11
      38.303     0.987500       542608        80.00
      47.199     0.989062       543465        91.43
      57.247     0.990625       544323       106.67
      69.631     0.992188       545183       128.00
      76.671     0.992969       545611       142.22
      83.967     0.993750       546041       160.00
      92.735     0.994531       546471       182.86
     101.247     0.995313       546899       213.33
     110.975     0.996094       547328       256.00
     116.223     0.996484       547545       284.44
     121.599     0.996875       547757       320.00
     127.295     0.997266       547972       365.71
     133.631     0.997656       548187       426.67
     140.159     0.998047       548403       512.00
     143.999     0.998242       548510       568.89
     148.607     0.998437       548617       640.00
     153.471     0.998633       548724       731.43
     159.999     0.998828       548831       853.33
     165.887     0.999023       548940      1024.00
     169.599     0.999121       548992      1137.78
     172.927     0.999219       549045      1280.00
     177.279     0.999316       549099      1462.86
     182.143     0.999414       549153      1706.67
     186.111     0.999512       549207      2048.00
     189.311     0.999561       549233      2275.56
     191.871     0.999609       549261      2560.00
     195.327     0.999658       549287      2925.71
     198.399     0.999707       549314      3413.33
     203.391     0.999756       549341      4096.00
     205.311     0.999780       549354      4551.11
     207.871     0.999805       549367      5120.00
     210.559     0.999829       549381      5851.43
     213.247     0.999854       549395      6826.67
     218.239     0.999878       549407      8192.00
     221.311     0.999890       549414      9102.22
     224.767     0.999902       549422     10240.00
     225.919     0.999915       549428     11702.86
     227.583     0.999927       549434     13653.33
     230.015     0.999939       549441     16384.00
     232.703     0.999945       549444     18204.44
     238.335     0.999951       549448     20480.00
     242.047     0.999957       549451     23405.71
     244.991     0.999963       549454     27306.67
     251.775     0.999969       549458     32768.00
     253.823     0.999973       549459     36408.89
     257.663     0.999976       549461     40960.00
     273.919     0.999979       549463     46811.43
     274.431     0.999982       549464     54613.33
     287.231     0.999985       549466     65536.00
     290.559     0.999986       549467     72817.78
     291.071     0.999988       549468     81920.00
     296.191     0.999989       549469     93622.86
     296.191     0.999991       549469    109226.67
     299.775     0.999992       549470    131072.00
     301.567     0.999993       549471    145635.56
     301.567     0.999994       549471    163840.00
     313.599     0.999995       549472    187245.71
     313.599     0.999995       549472    218453.33
     313.599     0.999996       549472    262144.00
     328.447     0.999997       549473    291271.11
     328.447     0.999997       549473    327680.00
     328.447     0.999997       549473    374491.43
     328.447     0.999998       549473    436906.67
     328.447     0.999998       549473    524288.00
     352.255     0.999998       549474    582542.22
     352.255     1.000000       549474          inf
#[Mean    =        5.662, StdDeviation   =       11.329]
#[Max     =      352.000, Total count    =       549474]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599233 requests in 2.00m, 122.87MB read
Requests/sec:   4997.06  
Transfer/sec:      1.02MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48219 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54312 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125628 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 48219 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 54312 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 125628 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/compose-post.lua http://localhost:8080/wrk2-api/post/compose  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/post/compose
  48 threads and 200 connections

  Thread calibration: mean lat.: 1691.240ms, rate sampling interval: 6393ms
  Thread calibration: mean lat.: 1772.675ms, rate sampling interval: 6549ms
  Thread calibration: mean lat.: 1612.550ms, rate sampling interval: 5947ms
  Thread calibration: mean lat.: 1738.154ms, rate sampling interval: 6352ms
  Thread calibration: mean lat.: 1671.162ms, rate sampling interval: 5980ms
  Thread calibration: mean lat.: 1639.933ms, rate sampling interval: 6148ms
  Thread calibration: mean lat.: 1672.182ms, rate sampling interval: 6287ms
  Thread calibration: mean lat.: 1574.541ms, rate sampling interval: 5935ms
  Thread calibration: mean lat.: 1670.660ms, rate sampling interval: 6238ms
  Thread calibration: mean lat.: 1510.727ms, rate sampling interval: 5599ms
  Thread calibration: mean lat.: 1655.701ms, rate sampling interval: 6451ms
  Thread calibration: mean lat.: 1555.156ms, rate sampling interval: 5873ms
  Thread calibration: mean lat.: 1430.805ms, rate sampling interval: 5660ms
  Thread calibration: mean lat.: 1594.122ms, rate sampling interval: 5906ms
  Thread calibration: mean lat.: 1620.492ms, rate sampling interval: 6143ms
  Thread calibration: mean lat.: 1305.773ms, rate sampling interval: 4702ms
  Thread calibration: mean lat.: 1638.833ms, rate sampling interval: 6189ms
  Thread calibration: mean lat.: 1520.218ms, rate sampling interval: 5701ms
  Thread calibration: mean lat.: 1639.101ms, rate sampling interval: 5824ms
  Thread calibration: mean lat.: 1674.492ms, rate sampling interval: 5988ms
  Thread calibration: mean lat.: 1682.997ms, rate sampling interval: 5902ms
  Thread calibration: mean lat.: 1764.935ms, rate sampling interval: 6471ms
  Thread calibration: mean lat.: 1726.736ms, rate sampling interval: 6688ms
  Thread calibration: mean lat.: 1645.823ms, rate sampling interval: 5988ms
  Thread calibration: mean lat.: 1522.213ms, rate sampling interval: 6021ms
  Thread calibration: mean lat.: 1629.696ms, rate sampling interval: 6037ms
  Thread calibration: mean lat.: 1531.779ms, rate sampling interval: 5799ms
  Thread calibration: mean lat.: 1802.875ms, rate sampling interval: 6463ms
  Thread calibration: mean lat.: 1961.138ms, rate sampling interval: 7143ms
  Thread calibration: mean lat.: 1787.793ms, rate sampling interval: 6393ms
  Thread calibration: mean lat.: 1754.052ms, rate sampling interval: 6352ms
  Thread calibration: mean lat.: 1729.433ms, rate sampling interval: 6184ms
  Thread calibration: mean lat.: 1750.694ms, rate sampling interval: 6172ms
  Thread calibration: mean lat.: 1640.650ms, rate sampling interval: 5754ms
  Thread calibration: mean lat.: 1859.662ms, rate sampling interval: 6508ms
  Thread calibration: mean lat.: 1909.758ms, rate sampling interval: 6610ms
  Thread calibration: mean lat.: 1667.344ms, rate sampling interval: 6262ms
  Thread calibration: mean lat.: 1976.208ms, rate sampling interval: 7372ms
  Thread calibration: mean lat.: 1803.036ms, rate sampling interval: 6615ms
  Thread calibration: mean lat.: 1620.630ms, rate sampling interval: 5738ms
  Thread calibration: mean lat.: 1721.000ms, rate sampling interval: 6176ms
  Thread calibration: mean lat.: 1777.327ms, rate sampling interval: 6291ms
  Thread calibration: mean lat.: 1959.821ms, rate sampling interval: 6938ms
  Thread calibration: mean lat.: 1826.365ms, rate sampling interval: 6635ms
  Thread calibration: mean lat.: 1766.907ms, rate sampling interval: 6402ms
  Thread calibration: mean lat.: 1690.294ms, rate sampling interval: 6197ms
  Thread calibration: mean lat.: 1659.341ms, rate sampling interval: 6037ms
  Thread calibration: mean lat.: 1425.289ms, rate sampling interval: 5517ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/post/compose 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    22.19s    10.85s   41.19s    58.46%
    Req/Sec   136.61      2.75   141.00     85.23%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   22.36s 
 75.000%   31.44s 
 90.000%   37.19s 
 99.000%   41.19s 
 99.900%   42.83s 
 99.990%   43.94s 
 99.999%   44.40s 
100.000%   44.47s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

    2310.143     0.000000            1         1.00
    7106.559     0.100000        72396         1.11
   11026.431     0.200000       144674         1.25
   14696.447     0.300000       216993         1.43
   18415.615     0.400000       289554         1.67
   22364.159     0.500000       361645         2.00
   24166.399     0.550000       397950         2.22
   25968.639     0.600000       433989         2.50
   27803.647     0.650000       470428         2.86
   29589.503     0.700000       506449         3.33
   31440.895     0.750000       542428         4.00
   32374.783     0.775000       560724         4.44
   33292.287     0.800000       578569         5.00
   34242.559     0.825000       596846         5.71
   35258.367     0.850000       614921         6.67
   36274.175     0.875000       633360         8.00
   36732.927     0.887500       642300         8.89
   37191.679     0.900000       651237        10.00
   37617.663     0.912500       660058        11.43
   38109.183     0.925000       669231        13.33
   38600.703     0.937500       678386        16.00
   38830.079     0.943750       682608        17.78
   39059.455     0.950000       687144        20.00
   39354.367     0.956250       692086        22.86
   39616.511     0.962500       696339        26.67
   39911.423     0.968750       700976        32.00
   40075.263     0.971875       703209        35.56
   40239.103     0.975000       705540        40.00
   40402.943     0.978125       707650        45.71
   40566.783     0.981250       709784        53.33
   40763.391     0.984375       712187        64.00
   40861.695     0.985938       713300        71.11
   40959.999     0.987500       714274        80.00
   41091.071     0.989062       715467        91.43
   41254.911     0.990625       716626       106.67
   41418.751     0.992188       717742       128.00
   41484.287     0.992969       718122       142.22
   41615.359     0.993750       718849       160.00
   41680.895     0.994531       719239       182.86
   41811.967     0.995313       719848       213.33
   41943.039     0.996094       720395       256.00
   42008.575     0.996484       720657       284.44
   42106.879     0.996875       720985       320.00
   42172.415     0.997266       721220       365.71
   42303.487     0.997656       721561       426.67
   42434.559     0.998047       721822       512.00
   42500.095     0.998242       721955       568.89
   42565.631     0.998437       722069       640.00
   42663.935     0.998633       722251       731.43
   42729.471     0.998828       722362       853.33
   42827.775     0.999023       722487      1024.00
   42893.311     0.999121       722567      1137.78
   42958.847     0.999219       722652      1280.00
   43024.383     0.999316       722706      1462.86
   43089.919     0.999414       722779      1706.67
   43188.223     0.999512       722856      2048.00
   43220.991     0.999561       722896      2275.56
   43253.759     0.999609       722926      2560.00
   43286.527     0.999658       722954      2925.71
   43319.295     0.999707       722981      3413.33
   43417.599     0.999756       723015      4096.00
   43515.903     0.999780       723044      4551.11
   43548.671     0.999805       723051      5120.00
   43614.207     0.999829       723076      5851.43
   43679.743     0.999854       723096      6826.67
   43712.511     0.999878       723106      8192.00
   43810.815     0.999890       723113      9102.22
   43974.655     0.999902       723121     10240.00
   44040.191     0.999915       723130     11702.86
   44138.495     0.999927       723139     13653.33
   44269.567     0.999939       723149     16384.00
   44302.335     0.999945       723158     18204.44
   44302.335     0.999951       723158     20480.00
   44335.103     0.999957       723165     23405.71
   44335.103     0.999963       723165     27306.67
   44367.871     0.999969       723181     32768.00
   44367.871     0.999973       723181     36408.89
   44367.871     0.999976       723181     40960.00
   44367.871     0.999979       723181     46811.43
   44367.871     0.999982       723181     54613.33
   44367.871     0.999985       723181     65536.00
   44400.639     0.999986       723184     72817.78
   44400.639     0.999988       723184     81920.00
   44400.639     0.999989       723184     93622.86
   44433.407     0.999991       723188    109226.67
   44433.407     0.999992       723188    131072.00
   44433.407     0.999993       723188    145635.56
   44433.407     0.999994       723188    163840.00
   44433.407     0.999995       723188    187245.71
   44433.407     0.999995       723188    218453.33
   44466.175     0.999996       723191    262144.00
   44466.175     1.000000       723191          inf
#[Mean    =    22192.280, StdDeviation   =    10845.407]
#[Max     =    44433.408, Total count    =       723191]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  788739 requests in 2.00m, 161.72MB read
Requests/sec:   6579.20  
Transfer/sec:      1.35MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44431 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50473 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122726 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 44431 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 50473 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122726 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 1000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.645ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.848ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.508ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.528ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.582ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.576ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.539ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.323ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.620ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.396ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.467ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.698ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.483ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.618ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.451ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.714ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.301ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.687ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.756ms, rate sampling interval: 16ms
  Thread calibration: mean lat.: 6.559ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.653ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.453ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.644ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.618ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.659ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.365ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.635ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.596ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.641ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.469ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.527ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.571ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.609ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.742ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.577ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.625ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.590ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.604ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.467ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.638ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.632ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.641ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.787ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.509ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.667ms, rate sampling interval: 15ms
  Thread calibration: mean lat.: 6.324ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.407ms, rate sampling interval: 14ms
  Thread calibration: mean lat.: 6.604ms, rate sampling interval: 15ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.24ms    2.74ms  16.90ms   66.59%
    Req/Sec    20.61     37.74   142.00     74.20%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.13ms
 75.000%   11.05ms
 90.000%   12.67ms
 99.000%   16.90ms
 99.900%   22.72ms
 99.990%   29.38ms
 99.999%   36.06ms
100.000%   39.29ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       3.247     0.000000            1         1.00
       6.003     0.100000        10592         1.11
       6.599     0.200000        21221         1.25
       7.255     0.300000        31765         1.43
       8.223     0.400000        42390         1.67
       9.127     0.500000        52995         2.00
       9.527     0.550000        58305         2.22
       9.895     0.600000        63529         2.50
      10.271     0.650000        68866         2.86
      10.647     0.700000        74134         3.33
      11.047     0.750000        79389         4.00
      11.263     0.775000        82036         4.44
      11.503     0.800000        84731         5.00
      11.751     0.825000        87345         5.71
      12.015     0.850000        89996         6.67
      12.311     0.875000        92610         8.00
      12.479     0.887500        93959         8.89
      12.671     0.900000        95313        10.00
      12.879     0.912500        96602        11.43
      13.119     0.925000        97907        13.33
      13.399     0.937500        99257        16.00
      13.559     0.943750        99896        17.78
      13.743     0.950000       100552        20.00
      13.959     0.956250       101213        22.86
      14.215     0.962500       101883        26.67
      14.511     0.968750       102533        32.00
      14.687     0.971875       102859        35.56
      14.919     0.975000       103201        40.00
      15.167     0.978125       103524        45.71
      15.503     0.981250       103858        53.33
      15.887     0.984375       104183        64.00
      16.127     0.985938       104347        71.11
      16.399     0.987500       104518        80.00
      16.687     0.989062       104685        91.43
      17.087     0.990625       104843       106.67
      17.567     0.992188       105009       128.00
      17.807     0.992969       105092       142.22
      18.095     0.993750       105177       160.00
      18.415     0.994531       105260       182.86
      18.783     0.995313       105340       213.33
      19.263     0.996094       105423       256.00
      19.519     0.996484       105463       284.44
      19.887     0.996875       105507       320.00
      20.191     0.997266       105551       365.71
      20.543     0.997656       105587       426.67
      21.087     0.998047       105629       512.00
      21.359     0.998242       105649       568.89
      21.631     0.998437       105671       640.00
      22.015     0.998633       105691       731.43
      22.319     0.998828       105711       853.33
      22.831     0.999023       105732      1024.00
      23.071     0.999121       105742      1137.78
      23.359     0.999219       105753      1280.00
      23.647     0.999316       105763      1462.86
      23.999     0.999414       105773      1706.67
      24.271     0.999512       105784      2048.00
      24.687     0.999561       105789      2275.56
      24.895     0.999609       105794      2560.00
      25.407     0.999658       105799      2925.71
      25.903     0.999707       105804      3413.33
      26.815     0.999756       105810      4096.00
      27.199     0.999780       105812      4551.11
      27.471     0.999805       105815      5120.00
      27.583     0.999829       105817      5851.43
      28.895     0.999854       105820      6826.67
      29.295     0.999878       105823      8192.00
      29.375     0.999890       105825      9102.22
      29.375     0.999902       105825     10240.00
      29.855     0.999915       105826     11702.86
      31.791     0.999927       105828     13653.33
      32.367     0.999939       105829     16384.00
      32.511     0.999945       105830     18204.44
      32.511     0.999951       105830     20480.00
      33.759     0.999957       105831     23405.71
      33.887     0.999963       105832     27306.67
      33.887     0.999969       105832     32768.00
      35.583     0.999973       105833     36408.89
      35.583     0.999976       105833     40960.00
      35.583     0.999979       105833     46811.43
      36.063     0.999982       105834     54613.33
      36.063     0.999985       105834     65536.00
      36.063     0.999986       105834     72817.78
      36.063     0.999988       105834     81920.00
      36.063     0.999989       105834     93622.86
      39.295     0.999991       105835    109226.67
      39.295     1.000000       105835          inf
#[Mean    =        9.240, StdDeviation   =        2.743]
#[Max     =       39.264, Total count    =       105835]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115376 requests in 2.00m, 1.56GB read
Requests/sec:    961.45  
Transfer/sec:     13.29MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43612 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48695 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122300 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43612 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48695 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122300 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 5000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 7.614ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.503ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.187ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.319ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.916ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 7.334ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.570ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.570ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.290ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 8.031ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 7.717ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.667ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.979ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.555ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.143ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.057ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.042ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.364ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.191ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.461ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.333ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.227ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.034ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.221ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 8.565ms, rate sampling interval: 26ms
  Thread calibration: mean lat.: 7.501ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.289ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.639ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.286ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.074ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.151ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.950ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.725ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.067ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.151ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.452ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.231ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.413ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.436ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.164ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.058ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.703ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 7.272ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.491ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.363ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 7.047ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.390ms, rate sampling interval: 21ms
  Thread calibration: mean lat.: 6.986ms, rate sampling interval: 19ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     7.32ms    2.48ms  16.28ms   81.10%
    Req/Sec   106.43     71.37   300.00     72.41%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.64ms
 75.000%    8.15ms
 90.000%   10.49ms
 99.000%   16.28ms
 99.900%   23.09ms
 99.990%   30.51ms
 99.999%   42.59ms
100.000%   52.90ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.801     0.000000            1         1.00
       5.107     0.100000        55293         1.11
       5.547     0.200000       110266         1.25
       5.903     0.300000       164937         1.43
       6.251     0.400000       219981         1.67
       6.635     0.500000       274846         2.00
       6.855     0.550000       302505         2.22
       7.099     0.600000       329946         2.50
       7.383     0.650000       357236         2.86
       7.731     0.700000       384652         3.33
       8.151     0.750000       412219         4.00
       8.415     0.775000       426248         4.44
       8.695     0.800000       439615         5.00
       9.039     0.825000       453449         5.71
       9.431     0.850000       467152         6.67
       9.911     0.875000       481012         8.00
      10.183     0.887500       487786         8.89
      10.487     0.900000       494585        10.00
      10.831     0.912500       501485        11.43
      11.207     0.925000       508331        13.33
      11.647     0.937500       515236        16.00
      11.903     0.943750       518676        17.78
      12.183     0.950000       522037        20.00
      12.511     0.956250       525522        22.86
      12.879     0.962500       528922        26.67
      13.335     0.968750       532376        32.00
      13.599     0.971875       534077        35.56
      13.895     0.975000       535793        40.00
      14.223     0.978125       537511        45.71
      14.615     0.981250       539216        53.33
      15.071     0.984375       540919        64.00
      15.367     0.985938       541798        71.11
      15.687     0.987500       542651        80.00
      16.039     0.989062       543506        91.43
      16.447     0.990625       544358       106.67
      16.959     0.992188       545231       128.00
      17.247     0.992969       545648       142.22
      17.583     0.993750       546068       160.00
      17.999     0.994531       546510       182.86
      18.415     0.995313       546929       213.33
      18.943     0.996094       547354       256.00
      19.231     0.996484       547568       284.44
      19.583     0.996875       547790       320.00
      19.951     0.997266       547999       365.71
      20.415     0.997656       548215       426.67
      20.975     0.998047       548431       512.00
      21.295     0.998242       548539       568.89
      21.663     0.998437       548641       640.00
      22.095     0.998633       548748       731.43
      22.575     0.998828       548859       853.33
      23.135     0.999023       548963      1024.00
      23.567     0.999121       549021      1137.78
      23.775     0.999219       549071      1280.00
      24.255     0.999316       549127      1462.86
      24.687     0.999414       549178      1706.67
      25.279     0.999512       549234      2048.00
      25.503     0.999561       549259      2275.56
      25.775     0.999609       549285      2560.00
      26.207     0.999658       549312      2925.71
      26.703     0.999707       549339      3413.33
      27.263     0.999756       549366      4096.00
      27.599     0.999780       549379      4551.11
      28.015     0.999805       549392      5120.00
      28.543     0.999829       549406      5851.43
      29.087     0.999854       549419      6826.67
      29.887     0.999878       549432      8192.00
      30.239     0.999890       549439      9102.22
      30.671     0.999902       549446     10240.00
      31.391     0.999915       549453     11702.86
      31.935     0.999927       549459     13653.33
      32.399     0.999939       549466     16384.00
      33.055     0.999945       549469     18204.44
      33.407     0.999951       549473     20480.00
      33.983     0.999957       549476     23405.71
      34.463     0.999963       549479     27306.67
      36.351     0.999969       549483     32768.00
      36.543     0.999973       549484     36408.89
      37.727     0.999976       549486     40960.00
      38.079     0.999979       549488     46811.43
      38.303     0.999982       549489     54613.33
      38.943     0.999985       549491     65536.00
      42.047     0.999986       549492     72817.78
      42.143     0.999988       549493     81920.00
      42.591     0.999989       549494     93622.86
      42.591     0.999991       549494    109226.67
      43.135     0.999992       549495    131072.00
      43.647     0.999993       549496    145635.56
      43.647     0.999994       549496    163840.00
      44.927     0.999995       549497    187245.71
      44.927     0.999995       549497    218453.33
      44.927     0.999996       549497    262144.00
      51.775     0.999997       549498    291271.11
      51.775     0.999997       549498    327680.00
      51.775     0.999997       549498    374491.43
      51.775     0.999998       549498    436906.67
      51.775     0.999998       549498    524288.00
      52.895     0.999998       549499    582542.22
      52.895     1.000000       549499          inf
#[Mean    =        7.317, StdDeviation   =        2.478]
#[Max     =       52.864, Total count    =       549499]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599234 requests in 2.00m, 8.09GB read
Requests/sec:   4996.23  
Transfer/sec:     69.05MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43601 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48537 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122318 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 43601 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 48537 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122318 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/read-user-timeline.lua http://localhost:8080/wrk2-api/user-timeline/read  -R 10000
Log:  Result: Running 2m test @ http://localhost:8080/wrk2-api/user-timeline/read
  48 threads and 200 connections

  Thread calibration: mean lat.: 92.190ms, rate sampling interval: 882ms
  Thread calibration: mean lat.: 59.315ms, rate sampling interval: 446ms
  Thread calibration: mean lat.: 112.916ms, rate sampling interval: 830ms
  Thread calibration: mean lat.: 65.971ms, rate sampling interval: 566ms
  Thread calibration: mean lat.: 92.530ms, rate sampling interval: 681ms
  Thread calibration: mean lat.: 75.689ms, rate sampling interval: 589ms
  Thread calibration: mean lat.: 62.239ms, rate sampling interval: 550ms
  Thread calibration: mean lat.: 85.442ms, rate sampling interval: 616ms
  Thread calibration: mean lat.: 90.797ms, rate sampling interval: 715ms
  Thread calibration: mean lat.: 85.168ms, rate sampling interval: 790ms
  Thread calibration: mean lat.: 65.297ms, rate sampling interval: 568ms
  Thread calibration: mean lat.: 62.804ms, rate sampling interval: 455ms
  Thread calibration: mean lat.: 106.895ms, rate sampling interval: 995ms
  Thread calibration: mean lat.: 82.724ms, rate sampling interval: 785ms
  Thread calibration: mean lat.: 52.996ms, rate sampling interval: 426ms
  Thread calibration: mean lat.: 64.478ms, rate sampling interval: 542ms
  Thread calibration: mean lat.: 69.079ms, rate sampling interval: 570ms
  Thread calibration: mean lat.: 55.818ms, rate sampling interval: 387ms
  Thread calibration: mean lat.: 74.435ms, rate sampling interval: 650ms
  Thread calibration: mean lat.: 78.979ms, rate sampling interval: 641ms
  Thread calibration: mean lat.: 48.763ms, rate sampling interval: 345ms
  Thread calibration: mean lat.: 98.803ms, rate sampling interval: 635ms
  Thread calibration: mean lat.: 76.420ms, rate sampling interval: 756ms
  Thread calibration: mean lat.: 56.061ms, rate sampling interval: 411ms
  Thread calibration: mean lat.: 84.358ms, rate sampling interval: 501ms
  Thread calibration: mean lat.: 62.539ms, rate sampling interval: 471ms
  Thread calibration: mean lat.: 78.770ms, rate sampling interval: 646ms
  Thread calibration: mean lat.: 73.419ms, rate sampling interval: 582ms
  Thread calibration: mean lat.: 76.833ms, rate sampling interval: 662ms
  Thread calibration: mean lat.: 75.262ms, rate sampling interval: 573ms
  Thread calibration: mean lat.: 66.176ms, rate sampling interval: 387ms
  Thread calibration: mean lat.: 86.056ms, rate sampling interval: 604ms
  Thread calibration: mean lat.: 96.462ms, rate sampling interval: 725ms
  Thread calibration: mean lat.: 100.464ms, rate sampling interval: 733ms
  Thread calibration: mean lat.: 74.955ms, rate sampling interval: 574ms
  Thread calibration: mean lat.: 106.051ms, rate sampling interval: 776ms
  Thread calibration: mean lat.: 138.142ms, rate sampling interval: 754ms
  Thread calibration: mean lat.: 47.101ms, rate sampling interval: 317ms
  Thread calibration: mean lat.: 104.212ms, rate sampling interval: 828ms
  Thread calibration: mean lat.: 78.487ms, rate sampling interval: 645ms
  Thread calibration: mean lat.: 70.048ms, rate sampling interval: 573ms
  Thread calibration: mean lat.: 110.418ms, rate sampling interval: 963ms
  Thread calibration: mean lat.: 86.023ms, rate sampling interval: 525ms
  Thread calibration: mean lat.: 65.813ms, rate sampling interval: 433ms
  Thread calibration: mean lat.: 71.613ms, rate sampling interval: 503ms
  Thread calibration: mean lat.: 66.013ms, rate sampling interval: 500ms
  Thread calibration: mean lat.: 72.236ms, rate sampling interval: 639ms
  Thread calibration: mean lat.: 102.528ms, rate sampling interval: 817ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080/wrk2-api/user-timeline/read 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency   323.00ms  957.72ms   5.12s    92.07%
    Req/Sec   208.60     19.52   259.00     72.64%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   10.30ms
 75.000%   23.02ms
 90.000%  871.42ms
 99.000%    5.12s 
 99.900%    6.10s 
 99.990%    6.83s 
 99.999%    6.93s 
100.000%    6.98s 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.975     0.000000            1         1.00
       6.063     0.100000       110222         1.11
       6.751     0.200000       220636         1.25
       7.511     0.300000       330869         1.43
       8.671     0.400000       441173         1.67
      10.295     0.500000       551334         2.00
      11.319     0.550000       606345         2.22
      12.559     0.600000       661191         2.50
      14.239     0.650000       716326         2.86
      16.975     0.700000       771484         3.33
      23.023     0.750000       826373         4.00
      32.335     0.775000       853919         4.44
      66.559     0.800000       881449         5.00
     155.007     0.825000       909016         5.71
     329.727     0.850000       936540         6.67
     552.959     0.875000       964093         8.00
     696.831     0.887500       977878         8.89
     871.423     0.900000       991646        10.00
    1092.607     0.912500      1005444        11.43
    1386.495     0.925000      1019182        13.33
    1782.783     0.937500      1032961        16.00
    2057.215     0.943750      1039863        17.78
    2390.015     0.950000      1046734        20.00
    2762.751     0.956250      1053612        22.86
    3145.727     0.962500      1060516        26.67
    3604.479     0.968750      1067386        32.00
    3803.135     0.971875      1070839        35.56
    4022.271     0.975000      1074282        40.00
    4231.167     0.978125      1077728        45.71
    4481.023     0.981250      1081162        53.33
    4718.591     0.984375      1084659        64.00
    4820.991     0.985938      1086353        71.11
    4931.583     0.987500      1088042        80.00
    5054.463     0.989062      1089801        91.43
    5169.151     0.990625      1091494       106.67
    5275.647     0.992188      1093217       128.00
    5320.703     0.992969      1094089       142.22
    5369.855     0.993750      1094983       160.00
    5435.391     0.994531      1095813       182.86
    5525.503     0.995313      1096662       213.33
    5611.519     0.996094      1097520       256.00
    5652.479     0.996484      1097970       284.44
    5693.439     0.996875      1098380       320.00
    5758.975     0.997266      1098817       365.71
    5816.319     0.997656      1099239       426.67
    5885.951     0.998047      1099661       512.00
    5931.007     0.998242      1099895       568.89
    5971.967     0.998437      1100093       640.00
    6025.215     0.998633      1100305       731.43
    6062.079     0.998828      1100533       853.33
    6103.039     0.999023      1100737      1024.00
    6127.615     0.999121      1100844      1137.78
    6152.191     0.999219      1100968      1280.00
    6189.055     0.999316      1101068      1462.86
    6291.455     0.999414      1101167      1706.67
    6414.335     0.999512      1101278      2048.00
    6455.295     0.999561      1101339      2275.56
    6475.775     0.999609      1101385      2560.00
    6508.543     0.999658      1101437      2925.71
    6561.791     0.999707      1101492      3413.33
    6615.039     0.999756      1101548      4096.00
    6635.519     0.999780      1101570      4551.11
    6668.287     0.999805      1101596      5120.00
    6733.823     0.999829      1101625      5851.43
    6758.399     0.999854      1101652      6826.67
    6799.359     0.999878      1101679      8192.00
    6815.743     0.999890      1101692      9102.22
    6832.127     0.999902      1101707     10240.00
    6844.415     0.999915      1101726     11702.86
    6852.607     0.999927      1101735     13653.33
    6860.799     0.999939      1101744     16384.00
    6864.895     0.999945      1101751     18204.44
    6873.087     0.999951      1101762     20480.00
    6877.183     0.999957      1101769     23405.71
    6881.279     0.999963      1101774     27306.67
    6889.471     0.999969      1101779     32768.00
    6893.567     0.999973      1101781     36408.89
    6897.663     0.999976      1101785     40960.00
    6901.759     0.999979      1101788     46811.43
    6909.951     0.999982      1101792     54613.33
    6914.047     0.999985      1101795     65536.00
    6918.143     0.999986      1101796     72817.78
    6922.239     0.999988      1101798     81920.00
    6930.431     0.999989      1101800     93622.86
    6934.527     0.999991      1101801    109226.67
    6938.623     0.999992      1101803    131072.00
    6946.815     0.999993      1101804    145635.56
    6955.007     0.999994      1101805    163840.00
    6959.103     0.999995      1101807    187245.71
    6959.103     0.999995      1101807    218453.33
    6959.103     0.999996      1101807    262144.00
    6967.295     0.999997      1101810    291271.11
    6967.295     0.999997      1101810    327680.00
    6967.295     0.999997      1101810    374491.43
    6967.295     0.999998      1101810    436906.67
    6967.295     0.999998      1101810    524288.00
    6967.295     0.999998      1101810    582542.22
    6967.295     0.999998      1101810    655360.00
    6967.295     0.999999      1101810    748982.86
    6967.295     0.999999      1101810    873813.33
    6967.295     0.999999      1101810   1048576.00
    6979.583     0.999999      1101811   1165084.44
    6979.583     1.000000      1101811          inf
#[Mean    =      323.002, StdDeviation   =      957.723]
#[Max     =     6975.488, Total count    =      1101811]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  1197032 requests in 2.00m, 16.16GB read
Requests/sec:   9984.45  
Transfer/sec:    138.00MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42322 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44417 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122353 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42322 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44417 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122353 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 1000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 8.969ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.056ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.183ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.005ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.866ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.458ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.069ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 8.880ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.470ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.960ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.304ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 8.902ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.295ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.262ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.443ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.796ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.235ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.445ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.207ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.523ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.299ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.260ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.127ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.153ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.399ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.575ms, rate sampling interval: 25ms
  Thread calibration: mean lat.: 9.274ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.080ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.041ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.365ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.075ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.168ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.330ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.341ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.084ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.181ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.108ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.434ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.812ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 9.482ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.285ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 8.923ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.507ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.318ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.124ms, rate sampling interval: 23ms
  Thread calibration: mean lat.: 9.527ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.271ms, rate sampling interval: 24ms
  Thread calibration: mean lat.: 9.203ms, rate sampling interval: 23ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     9.30ms    2.41ms  16.16ms   71.17%
    Req/Sec    20.29     29.68   125.00     91.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    9.15ms
 75.000%   10.70ms
 90.000%   12.28ms
 99.000%   16.16ms
 99.900%   21.45ms
 99.990%   26.64ms
 99.999%   33.92ms
100.000%   36.64ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.905     0.000000            1         1.00
       6.371     0.100000        10593         1.11
       7.339     0.200000        21178         1.25
       8.023     0.300000        31774         1.43
       8.607     0.400000        42459         1.67
       9.151     0.500000        52966         2.00
       9.431     0.550000        58348         2.22
       9.719     0.600000        63620         2.50
      10.015     0.650000        68864         2.86
      10.343     0.700000        74212         3.33
      10.703     0.750000        79441         4.00
      10.903     0.775000        82073         4.44
      11.127     0.800000        84709         5.00
      11.367     0.825000        87377         5.71
      11.623     0.850000        89979         6.67
      11.935     0.875000        92677         8.00
      12.103     0.887500        94005         8.89
      12.279     0.900000        95295        10.00
      12.487     0.912500        96595        11.43
      12.727     0.925000        97918        13.33
      13.007     0.937500        99250        16.00
      13.175     0.943750        99915        17.78
      13.351     0.950000       100567        20.00
      13.551     0.956250       101218        22.86
      13.799     0.962500       101885        26.67
      14.079     0.968750       102559        32.00
      14.239     0.971875       102870        35.56
      14.439     0.975000       103204        40.00
      14.679     0.978125       103537        45.71
      14.935     0.981250       103865        53.33
      15.255     0.984375       104200        64.00
      15.479     0.985938       104357        71.11
      15.695     0.987500       104531        80.00
      15.951     0.989062       104692        91.43
      16.311     0.990625       104856       106.67
      16.751     0.992188       105022       128.00
      16.975     0.992969       105108       142.22
      17.263     0.993750       105184       160.00
      17.535     0.994531       105268       182.86
      17.855     0.995313       105349       213.33
      18.271     0.996094       105435       256.00
      18.511     0.996484       105474       284.44
      18.767     0.996875       105518       320.00
      19.023     0.997266       105556       365.71
      19.327     0.997656       105599       426.67
      19.711     0.998047       105639       512.00
      19.967     0.998242       105660       568.89
      20.191     0.998437       105680       640.00
      20.511     0.998633       105701       731.43
      20.847     0.998828       105721       853.33
      21.519     0.999023       105742      1024.00
      21.791     0.999121       105752      1137.78
      22.175     0.999219       105763      1280.00
      22.495     0.999316       105773      1462.86
      23.007     0.999414       105783      1706.67
      23.327     0.999512       105794      2048.00
      23.615     0.999561       105799      2275.56
      23.887     0.999609       105804      2560.00
      24.063     0.999658       105809      2925.71
      24.543     0.999707       105814      3413.33
      24.767     0.999756       105820      4096.00
      24.959     0.999780       105823      4551.11
      25.279     0.999805       105825      5120.00
      25.855     0.999829       105827      5851.43
      25.999     0.999854       105830      6826.67
      26.479     0.999878       105833      8192.00
      26.639     0.999890       105834      9102.22
      26.735     0.999902       105835     10240.00
      27.087     0.999915       105836     11702.86
      27.311     0.999927       105838     13653.33
      27.359     0.999939       105839     16384.00
      27.471     0.999945       105840     18204.44
      27.471     0.999951       105840     20480.00
      27.983     0.999957       105841     23405.71
      28.255     0.999963       105842     27306.67
      28.255     0.999969       105842     32768.00
      29.391     0.999973       105843     36408.89
      29.391     0.999976       105843     40960.00
      29.391     0.999979       105843     46811.43
      33.919     0.999982       105844     54613.33
      33.919     0.999985       105844     65536.00
      33.919     0.999986       105844     72817.78
      33.919     0.999988       105844     81920.00
      33.919     0.999989       105844     93622.86
      36.639     0.999991       105845    109226.67
      36.639     1.000000       105845          inf
#[Mean    =        9.299, StdDeviation   =        2.415]
#[Max     =       36.608, Total count    =       105845]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  115385 requests in 2.00m, 1.41GB read
Requests/sec:    961.56  
Transfer/sec:     12.07MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42170 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44345 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122253 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42170 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 44345 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 122253 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 5000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 6.481ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.582ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.860ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 7.038ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.486ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.634ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.661ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.686ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 7.130ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.554ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.520ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.740ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.354ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 7.331ms, rate sampling interval: 22ms
  Thread calibration: mean lat.: 6.632ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.951ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.862ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.328ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.595ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.622ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.421ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.707ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.459ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.742ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.567ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.432ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.376ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.621ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.761ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.599ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.721ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.566ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.595ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.658ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.610ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.620ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.554ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.977ms, rate sampling interval: 20ms
  Thread calibration: mean lat.: 6.616ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.169ms, rate sampling interval: 17ms
  Thread calibration: mean lat.: 6.651ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.810ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.645ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.673ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.582ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.456ms, rate sampling interval: 18ms
  Thread calibration: mean lat.: 6.640ms, rate sampling interval: 19ms
  Thread calibration: mean lat.: 6.677ms, rate sampling interval: 18ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency     6.64ms    2.25ms  14.52ms   78.59%
    Req/Sec   106.68     76.05   315.00     71.95%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    6.11ms
 75.000%    7.51ms
 90.000%    9.49ms
 99.000%   14.52ms
 99.900%   20.05ms
 99.990%   27.52ms
 99.999%   46.97ms
100.000%   51.65ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       2.481     0.000000            1         1.00
       4.491     0.100000        55266         1.11
       4.947     0.200000       110151         1.25
       5.331     0.300000       165203         1.43
       5.707     0.400000       220106         1.67
       6.107     0.500000       274829         2.00
       6.327     0.550000       302374         2.22
       6.567     0.600000       329714         2.50
       6.835     0.650000       357297         2.86
       7.147     0.700000       384777         3.33
       7.515     0.750000       412127         4.00
       7.735     0.775000       426033         4.44
       7.979     0.800000       439685         5.00
       8.263     0.825000       453615         5.71
       8.591     0.850000       467083         6.67
       8.999     0.875000       480996         8.00
       9.231     0.887500       487816         8.89
       9.495     0.900000       494579        10.00
       9.799     0.912500       501568        11.43
      10.143     0.925000       508379        13.33
      10.551     0.937500       515221        16.00
      10.783     0.943750       518678        17.78
      11.039     0.950000       522084        20.00
      11.327     0.956250       525482        22.86
      11.655     0.962500       528916        26.67
      12.047     0.968750       532375        32.00
      12.271     0.971875       534090        35.56
      12.519     0.975000       535793        40.00
      12.799     0.978125       537485        45.71
      13.127     0.981250       539198        53.33
      13.519     0.984375       540942        64.00
      13.743     0.985938       541789        71.11
      14.015     0.987500       542656        80.00
      14.319     0.989062       543506        91.43
      14.647     0.990625       544355       106.67
      15.039     0.992188       545214       128.00
      15.295     0.992969       545642       142.22
      15.559     0.993750       546072       160.00
      15.871     0.994531       546511       182.86
      16.223     0.995313       546934       213.33
      16.639     0.996094       547366       256.00
      16.879     0.996484       547579       284.44
      17.167     0.996875       547790       320.00
      17.471     0.997266       548004       365.71
      17.791     0.997656       548212       426.67
      18.239     0.998047       548428       512.00
      18.511     0.998242       548535       568.89
      18.815     0.998437       548642       640.00
      19.167     0.998633       548749       731.43
      19.599     0.998828       548856       853.33
      20.095     0.999023       548964      1024.00
      20.399     0.999121       549019      1137.78
      20.799     0.999219       549070      1280.00
      21.247     0.999316       549125      1462.86
      21.631     0.999414       549180      1706.67
      22.175     0.999512       549231      2048.00
      22.575     0.999561       549260      2275.56
      22.895     0.999609       549285      2560.00
      23.295     0.999658       549313      2925.71
      23.935     0.999707       549339      3413.33
      24.559     0.999756       549365      4096.00
      25.039     0.999780       549379      4551.11
      25.407     0.999805       549393      5120.00
      25.855     0.999829       549406      5851.43
      26.303     0.999854       549419      6826.67
      26.831     0.999878       549432      8192.00
      27.103     0.999890       549439      9102.22
      27.567     0.999902       549446     10240.00
      28.559     0.999915       549453     11702.86
      28.783     0.999927       549459     13653.33
      29.487     0.999939       549466     16384.00
      30.127     0.999945       549469     18204.44
      30.895     0.999951       549473     20480.00
      31.599     0.999957       549476     23405.71
      32.543     0.999963       549479     27306.67
      33.759     0.999969       549483     32768.00
      34.015     0.999973       549484     36408.89
      35.839     0.999976       549486     40960.00
      36.191     0.999979       549488     46811.43
      36.575     0.999982       549489     54613.33
      43.103     0.999985       549491     65536.00
      45.951     0.999986       549492     72817.78
      46.655     0.999988       549493     81920.00
      46.975     0.999989       549494     93622.86
      46.975     0.999991       549494    109226.67
      47.039     0.999992       549495    131072.00
      47.135     0.999993       549496    145635.56
      47.135     0.999994       549496    163840.00
      50.815     0.999995       549497    187245.71
      50.815     0.999995       549497    218453.33
      50.815     0.999996       549497    262144.00
      51.647     0.999997       549499    291271.11
      51.647     1.000000       549499          inf
#[Mean    =        6.643, StdDeviation   =        2.249]
#[Max     =       51.616, Total count    =       549499]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  599123 requests in 2.00m, 7.34GB read
Requests/sec:   4995.75  
Transfer/sec:     62.66MB
after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42417 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45181 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121845 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42417 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 45181 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121845 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: ../wrk2/wrk -D exp -t 48 -c 200 -d 120 -L -s ./wrk2/scripts/social-network/mixed-workload.lua http://localhost:8080 -R 10000
Log:  Result: Running 2m test @ http://localhost:8080
  48 threads and 200 connections

  Thread calibration: mean lat.: 937.710ms, rate sampling interval: 4100ms
  Thread calibration: mean lat.: 2011.343ms, rate sampling interval: 8318ms
  Thread calibration: mean lat.: 757.986ms, rate sampling interval: 3164ms
  Thread calibration: mean lat.: 1205.781ms, rate sampling interval: 5447ms
  Thread calibration: mean lat.: 1160.767ms, rate sampling interval: 4280ms
  Thread calibration: mean lat.: 759.399ms, rate sampling interval: 4292ms
  Thread calibration: mean lat.: 1342.409ms, rate sampling interval: 7540ms
  Thread calibration: mean lat.: 1161.971ms, rate sampling interval: 6098ms
  Thread calibration: mean lat.: 2281.399ms, rate sampling interval: 8937ms
  Thread calibration: mean lat.: 989.056ms, rate sampling interval: 4440ms
  Thread calibration: mean lat.: 670.263ms, rate sampling interval: 3024ms
  Thread calibration: mean lat.: 1618.085ms, rate sampling interval: 7331ms
  Thread calibration: mean lat.: 1194.440ms, rate sampling interval: 4878ms
  Thread calibration: mean lat.: 389.286ms, rate sampling interval: 2381ms
  Thread calibration: mean lat.: 1778.184ms, rate sampling interval: 7757ms
  Thread calibration: mean lat.: 815.663ms, rate sampling interval: 3344ms
  Thread calibration: mean lat.: 1731.435ms, rate sampling interval: 8175ms
  Thread calibration: mean lat.: 1016.333ms, rate sampling interval: 7004ms
  Thread calibration: mean lat.: 1545.389ms, rate sampling interval: 7454ms
  Thread calibration: mean lat.: 699.769ms, rate sampling interval: 2600ms
  Thread calibration: mean lat.: 1374.131ms, rate sampling interval: 5619ms
  Thread calibration: mean lat.: 1022.145ms, rate sampling interval: 4300ms
  Thread calibration: mean lat.: 1504.991ms, rate sampling interval: 7454ms
  Thread calibration: mean lat.: 1276.788ms, rate sampling interval: 8347ms
  Thread calibration: mean lat.: 1378.891ms, rate sampling interval: 6295ms
  Thread calibration: mean lat.: 1571.545ms, rate sampling interval: 8257ms
  Thread calibration: mean lat.: 2170.574ms, rate sampling interval: 8495ms
  Thread calibration: mean lat.: 1760.072ms, rate sampling interval: 8929ms
  Thread calibration: mean lat.: 769.195ms, rate sampling interval: 3170ms
  Thread calibration: mean lat.: 1100.868ms, rate sampling interval: 5160ms
  Thread calibration: mean lat.: 1491.768ms, rate sampling interval: 7626ms
  Thread calibration: mean lat.: 722.646ms, rate sampling interval: 4114ms
  Thread calibration: mean lat.: 1451.145ms, rate sampling interval: 5414ms
  Thread calibration: mean lat.: 571.415ms, rate sampling interval: 2680ms
  Thread calibration: mean lat.: 553.981ms, rate sampling interval: 2615ms
  Thread calibration: mean lat.: 1174.177ms, rate sampling interval: 5767ms
  Thread calibration: mean lat.: 1466.109ms, rate sampling interval: 7618ms
  Thread calibration: mean lat.: 1297.790ms, rate sampling interval: 6828ms
  Thread calibration: mean lat.: 1650.338ms, rate sampling interval: 7749ms
  Thread calibration: mean lat.: 1406.274ms, rate sampling interval: 5259ms
  Thread calibration: mean lat.: 787.230ms, rate sampling interval: 4104ms
  Thread calibration: mean lat.: 722.511ms, rate sampling interval: 3762ms
  Thread calibration: mean lat.: 2003.773ms, rate sampling interval: 9707ms
  Thread calibration: mean lat.: 2279.646ms, rate sampling interval: 8871ms
  Thread calibration: mean lat.: 523.961ms, rate sampling interval: 2820ms
  Thread calibration: mean lat.: 1615.865ms, rate sampling interval: 6451ms
  Thread calibration: mean lat.: 1926.946ms, rate sampling interval: 8708ms
  Thread calibration: mean lat.: 1162.636ms, rate sampling interval: 7380ms

-----------------------------------------------------------------------
Test Results @ http://localhost:8080 
  Thread Stats   Avg      Stdev     99%   +/- Stdev
    Latency    16.27s    14.73s    1.07m    76.16%
    Req/Sec   153.11     21.65   195.00     67.87%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%   12.13s 
 75.000%   23.12s 
 90.000%   37.26s 
 99.000%    1.07m 
 99.900%    1.32m 
 99.990%    1.39m 
 99.999%    1.41m 
100.000%    1.42m 

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       7.459     0.000000            1         1.00
    1695.743     0.100000        76828         1.11
    3938.303     0.200000       153599         1.25
    6348.799     0.300000       230432         1.43
    9093.119     0.400000       307423         1.67
   12132.351     0.500000       384158         2.00
   13672.447     0.550000       422552         2.22
   15671.295     0.600000       460915         2.50
   17743.871     0.650000       499422         2.86
   20185.087     0.700000       537607         3.33
   23117.823     0.750000       576091         4.00
   24788.991     0.775000       595219         4.44
   26476.543     0.800000       614553         5.00
   28377.087     0.825000       633663         5.71
   30588.927     0.850000       652896         6.67
   33144.831     0.875000       671995         8.00
   34963.455     0.887500       681667         8.89
   37257.215     0.900000       691259        10.00
   39616.511     0.912500       700800        11.43
   42237.951     0.925000       710435        13.33
   45154.303     0.937500       720089        16.00
   46694.399     0.943750       724837        17.78
   48168.959     0.950000       729659        20.00
   49545.215     0.956250       734466        22.86
   51118.079     0.962500       739210        26.67
   52953.087     0.968750       744018        32.00
   54067.199     0.971875       746423        35.56
   55214.079     0.975000       748826        40.00
   56459.263     0.978125       751247        45.71
   57966.591     0.981250       753620        53.33
   59998.207     0.984375       756049        64.00
   61112.319     0.985938       757201        71.11
   62390.271     0.987500       758409        80.00
   63602.687     0.989062       759634        91.43
   64618.495     0.990625       760801       106.67
   66093.055     0.992188       762004       128.00
   66846.719     0.992969       762605       142.22
   67764.223     0.993750       763216       160.00
   69009.407     0.994531       763824       182.86
   70385.663     0.995313       764425       213.33
   71565.311     0.996094       765012       256.00
   72286.207     0.996484       765316       284.44
   73072.639     0.996875       765601       320.00
   74055.679     0.997266       765906       365.71
   75300.863     0.997656       766207       426.67
   76480.511     0.998047       766500       512.00
   77004.799     0.998242       766647       568.89
   77529.087     0.998437       766796       640.00
   78184.447     0.998633       766958       731.43
   78774.271     0.998828       767105       853.33
   79364.095     0.999023       767250      1024.00
   79691.775     0.999121       767320      1137.78
   80019.455     0.999219       767397      1280.00
   80412.671     0.999316       767470      1462.86
   80805.887     0.999414       767551      1706.67
   81264.639     0.999512       767625      2048.00
   81461.247     0.999561       767661      2275.56
   81723.391     0.999609       767702      2560.00
   81919.999     0.999658       767736      2925.71
   82182.143     0.999707       767769      3413.33
   82444.287     0.999756       767806      4096.00
   82640.895     0.999780       767825      4551.11
   82837.503     0.999805       767846      5120.00
   82968.575     0.999829       767863      5851.43
   83099.647     0.999854       767887      6826.67
   83230.719     0.999878       767906      8192.00
   83296.255     0.999890       767914      9102.22
   83361.791     0.999902       767920     10240.00
   83492.863     0.999915       767935     11702.86
   83558.399     0.999927       767940     13653.33
   83689.471     0.999939       767948     16384.00
   83755.007     0.999945       767954     18204.44
   83820.543     0.999951       767958     20480.00
   83886.079     0.999957       767961     23405.71
   83951.615     0.999963       767966     27306.67
   84017.151     0.999969       767970     32768.00
   84082.687     0.999973       767973     36408.89
   84148.223     0.999976       767975     40960.00
   84279.295     0.999979       767977     46811.43
   84410.367     0.999982       767979     54613.33
   84541.439     0.999985       767983     65536.00
   84541.439     0.999986       767983     72817.78
   84606.975     0.999988       767984     81920.00
   84672.511     0.999989       767986     93622.86
   84672.511     0.999991       767986    109226.67
   84803.583     0.999992       767988    131072.00
   84803.583     0.999993       767988    145635.56
   84869.119     0.999994       767989    163840.00
   84869.119     0.999995       767989    187245.71
   84934.655     0.999995       767991    218453.33
   84934.655     0.999996       767991    262144.00
   84934.655     0.999997       767991    291271.11
   84934.655     0.999997       767991    327680.00
   84934.655     0.999997       767991    374491.43
   85000.191     0.999998       767993    436906.67
   85000.191     1.000000       767993          inf
#[Mean    =    16268.214, StdDeviation   =    14732.549]
#[Max     =    84934.656, Total count    =       767993]
#[Buckets =           27, SubBuckets     =         2048]
-----------------------------------------------------------------------
  837593 requests in 2.00m, 10.25GB read
Requests/sec:   6985.52  

after running test

Log:  Exec: numactl -H
Log:  Result: available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42096 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42733 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121904 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
available: 3 nodes (0-2)
node 0 cpus: 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71
node 0 size: 64137 MB
node 0 free: 42096 MB
node 1 cpus: 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95
node 1 size: 64466 MB
node 1 free: 42733 MB
node 2 cpus:
node 2 size: 131072 MB
node 2 free: 121904 MB
node distances:
node   0   1   2 
  0:  10  21  14 
  1:  21  10  24 
  2:  14  24  10
Log:  Exec: docker-compose -f ./docker-compose-sharding.yml down
Log:  Result: suceed

Log:  Exec: yes|docker image prune
Log:  Result: WARNING! This will remove all dangling images.
Are you sure you want to continue? [y/N] Total reclaimed space: 0B
Log:  Exec: yes|docker volume prune
Log:  Result: WARNING! This will remove all local volumes not used by at least one container.
Are you sure you want to continue? [y/N] Deleted Volumes:
1e5929a8b7eaefcacfde7051ce3e3bb00c1f26ad50b52f054ebb05f1d2f1247e
040bf8931da54d12ea5b7ccb6a068fbe779e37a6fbadf7bf9027f2a2aa96603d
61146708e078681338e017494f3bcd795bf3ef40c05564acc6b029ec107ecb64
b7397f28471ef9d24a0ab91c6afcf45a6c5dfb1ded7f2464a9838c0659f5ee60
26764f8b6fb199b6cdcfcc6483efb0c9ab19f8a218affd56f8daa5056c724612
89fcd37d8960ca76845455952107b841c49949c938ce74f7170678bf5e6339fa
a720dc3c83b22a0b8d9de4b495f9ed9c7dba0826ddef452fa2ddc02e87c293b7
771b2e0cfb18d82e49e591b668e28efeddd4e58b3f945a059634ebe0142d5d69
74439707c5aa8c6ab3907bc8b0aab6dadd6dc8f92fac859f476b67b4792577c1
161219be249fda3f5983ff30d1e44ddfd6dbe57c81bed97a13fb111ea57126e7
1352ff0e49ab45ac0ee6f43ff1f161220b91e72b60fbc0a668ed572ee2105ffe
b6c3a74f88e5a69ac5661964297c29793d7c9790efc015d902373f8112570045
22f5610f7beb818b9c0142db5f8360940666b121a82d67ba90ef67ade6f0e313
58e5bb14bd2e5a2ba30a8129bfed74388e309c881837bf5f77d0808a7fd219ab
a07d69f8ceaae9efbad9599fd71b333633cf875c2ca92cad7375c77befffcccb
47d63fc42e1c1026aad35a50ca8924e2c01382a0afd182f6bb9a9a154c8f99c3
063295cca8cb1d81995fb5c878db86c60063c21d2b41f486daa122fa2b431622
d4ded49ca18f21f9910ea70b782223c4d0398e089eac821b674c155567025bcb
d43b887b1f0f2a38a1de8af3430f49dfbd613c42711b00734520b23ef6cdfc87
e6830756ba9586153ed86bb8b7735d784a05b2b24a3e2ddccd10256502e10681
72b3e81b27e8fdcaa44be2c015f98adc46c238d88aa81de0fc3d8fbb1a2b9ffe
0dfa75cce1f046a00b05217c6ec94fb3d6162694b8abc8089f2e224a5aa7ec91
94ec20f0d6f68b251e638fdc22265aa0eff4804f28ec45c421abf3c90f5e356e
8b2999ccdd1c4659b02ab9f52e6098c31e5e54f27f30ccc9484a490a58f9fe89
a0ef5359eeb77d8ffabe8958955f30b0ba9d9fa9768af35cd613cb88d2bf6abc
82eaa662dd9bc140bcaadc996e53ca3be3228418d2730d28bbefe4d0006647e9
6a22279423ff6d4167356dabf1ba50ea4aea9b1371f463c65360a8c0f29b5493
b3c580b140dd6179141b18459a9eea42ca7de6826fea9f5e92ee6eba37cc20e5
da68df8ccbd24f24a0e5adfa0fbdbac668e6710cbdcbcca96e0e9ba04939632a
40641a09848851747bde2d6dda71a4c4d0148bfa9aff0575adaa68f37eff4a13
cc55cddb98b021965ea045900332863d0f57fe7f78de723d28be4d2be4a6934f

Total reclaimed space: 4.591GB
